"use strict";(self.webpackChunkTP_CLINICA=self.webpackChunkTP_CLINICA||[]).push([[179],{2313:(Ut,$e,U)=>{U.d($e,{nm:()=>ur});var p=U(4976),Z=(U(4650),U(3692),U(259),U(5861)),Ee=U(6881),Ce=U(4859),Me=U(2090),pe=U(1877);const ae=new Map,se={activated:!1,tokenObservers:[]},oe={initialized:!1,enabled:!1};function Fe(Pe){return ae.get(Pe)||Object.assign({},se)}function qe(){return oe}const yt="https://content-firebaseappcheck.googleapis.com/v1",st="exchangeDebugToken",It={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class we{constructor(Ae,Ie,_t,Rt,Tn){if(this.operation=Ae,this.retryPolicy=Ie,this.getWaitDuration=_t,this.lowerBound=Rt,this.upperBound=Tn,this.pending=null,this.nextErrorWaitInterval=Rt,Rt>Tn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Ae){var Ie=this;return(0,Z.Z)(function*(){Ie.stop();try{Ie.pending=new Me.BH,yield function ot(Pe){return new Promise(Ae=>{setTimeout(Ae,Pe)})}(Ie.getNextRun(Ae)),Ie.pending.resolve(),yield Ie.pending.promise,Ie.pending=new Me.BH,yield Ie.operation(),Ie.pending.resolve(),yield Ie.pending.promise,Ie.process(!0).catch(()=>{})}catch(_t){Ie.retryPolicy(_t)?Ie.process(!1).catch(()=>{}):Ie.stop()}})()}getNextRun(Ae){if(Ae)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Ie=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Ie}}}const gt=new Me.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Dt(Pe){if(!Fe(Pe).activated)throw gt.create("use-before-activation",{appName:Pe.name})}function In(Pe,Ae){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,Z.Z)(function*({url:Pe,body:Ae},Ie){const _t={"Content-Type":"application/json"},Rt=Ie.getImmediate({optional:!0});if(Rt){const Nr=yield Rt.getHeartbeatsHeader();Nr&&(_t["X-Firebase-Client"]=Nr)}const Tn={method:"POST",body:JSON.stringify(Ae),headers:_t};let Bn,Cn;try{Bn=yield fetch(Pe,Tn)}catch(Nr){throw gt.create("fetch-network-error",{originalErrorMessage:Nr?.message})}if(200!==Bn.status)throw gt.create("fetch-status-error",{httpStatus:Bn.status});try{Cn=yield Bn.json()}catch(Nr){throw gt.create("fetch-parse-error",{originalErrorMessage:Nr?.message})}const Zn=Cn.ttl.match(/^([\d.]+)(s)$/);if(!Zn||!Zn[2]||isNaN(Number(Zn[1])))throw gt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Cn.ttl}`});const ni=1e3*Number(Zn[1]),_i=Date.now();return{token:Cn.token,expireTimeMillis:_i+ni,issuedAtTimeMillis:_i}})).apply(this,arguments)}function Ve(Pe,Ae){const{projectId:Ie,appId:_t,apiKey:Rt}=Pe.options;return{url:`${yt}/projects/${Ie}/apps/${_t}:${st}?key=${Rt}`,body:{debug_token:Ae}}}const tt="firebase-app-check-database",ut=1,mt="firebase-app-check-store";let ft=null;function xe(Pe,Ae){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,Z.Z)(function*(Pe,Ae){const _t=(yield function Ft(){return ft||(ft=new Promise((Pe,Ae)=>{try{const Ie=indexedDB.open(tt,ut);Ie.onsuccess=_t=>{Pe(_t.target.result)},Ie.onerror=_t=>{var Rt;Ae(gt.create("storage-open",{originalErrorMessage:null===(Rt=_t.target.error)||void 0===Rt?void 0:Rt.message}))},Ie.onupgradeneeded=_t=>{0===_t.oldVersion&&_t.target.result.createObjectStore(mt,{keyPath:"compositeKey"})}}catch(Ie){Ae(gt.create("storage-open",{originalErrorMessage:Ie?.message}))}}),ft)}()).transaction(mt,"readwrite"),Tn=_t.objectStore(mt).put({compositeKey:Pe,value:Ae});return new Promise((Bn,Cn)=>{Tn.onsuccess=Zn=>{Bn()},_t.onerror=Zn=>{var ni;Cn(gt.create("storage-set",{originalErrorMessage:null===(ni=Zn.target.error)||void 0===ni?void 0:ni.message}))}})})).apply(this,arguments)}const Vn=new pe.Yd("@firebase/app-check");function gi(Pe,Ae){return(0,Me.hl)()?function jt(Pe,Ae){return xe(function On(Pe){return`${Pe.options.appId}-${Pe.name}`}(Pe),Ae)}(Pe,Ae).catch(Ie=>{Vn.warn(`Failed to write token to IndexedDB. Error: ${Ie}`)}):Promise.resolve()}function Rr(){return qe().enabled}function Kr(){return xr.apply(this,arguments)}function xr(){return(xr=(0,Z.Z)(function*(){const Pe=qe();if(Pe.enabled&&Pe.token)return Pe.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const $i={error:"UNKNOWN_ERROR"};function mr(Pe){return Me.US.encodeString(JSON.stringify(Pe),!1)}function En(Pe){return nn.apply(this,arguments)}function nn(){return(nn=(0,Z.Z)(function*(Pe,Ae=!1){const Ie=Pe.app;Dt(Ie);const _t=Fe(Ie);let Tn,Rt=_t.token;if(Rt&&!ir(Rt)&&(_t.token=void 0,Rt=void 0),!Rt){const Zn=yield _t.cachedTokenPromise;Zn&&(ir(Zn)?Rt=Zn:yield gi(Ie,void 0))}if(!Ae&&Rt&&ir(Rt))return{token:Rt.token};let Cn,Bn=!1;if(Rr()){_t.exchangeTokenPromise||(_t.exchangeTokenPromise=In(Ve(Ie,yield Kr()),Pe.heartbeatServiceProvider).finally(()=>{_t.exchangeTokenPromise=void 0}),Bn=!0);const Zn=yield _t.exchangeTokenPromise;return yield gi(Ie,Zn),_t.token=Zn,{token:Zn.token}}try{_t.exchangeTokenPromise||(_t.exchangeTokenPromise=_t.provider.getToken().finally(()=>{_t.exchangeTokenPromise=void 0}),Bn=!0),Rt=yield Fe(Ie).exchangeTokenPromise}catch(Zn){"appCheck/throttled"===Zn.code?Vn.warn(Zn.message):Vn.error(Zn),Tn=Zn}return Rt?Tn?Cn=ir(Rt)?{token:Rt.token,internalError:Tn}:Zt(Tn):(Cn={token:Rt.token},_t.token=Rt,yield gi(Ie,Rt)):Cn=Zt(Tn),Bn&&function ui(Pe,Ae){const Ie=Fe(Pe).tokenObservers;for(const _t of Ie)try{"EXTERNAL"===_t.type&&null!=Ae.error?_t.error(Ae.error):_t.next(Ae)}catch{}}(Ie,Cn),Cn})).apply(this,arguments)}function bn(Pe){return ki.apply(this,arguments)}function ki(){return(ki=(0,Z.Z)(function*(Pe){const Ae=Pe.app;Dt(Ae);const{provider:Ie}=Fe(Ae);if(Rr()){const _t=yield Kr(),{token:Rt}=yield In(Ve(Ae,_t),Pe.heartbeatServiceProvider);return{token:Rt}}{const{token:_t}=yield Ie.getToken();return{token:_t}}})).apply(this,arguments)}function _r(Pe,Ae){const Ie=Fe(Pe),_t=Ie.tokenObservers.filter(Rt=>Rt.next!==Ae);0===_t.length&&Ie.tokenRefresher&&Ie.tokenRefresher.isRunning()&&Ie.tokenRefresher.stop(),Ie.tokenObservers=_t}function $r(Pe){const{app:Ae}=Pe,Ie=Fe(Ae);let _t=Ie.tokenRefresher;_t||(_t=function Fr(Pe){const{app:Ae}=Pe;return new we((0,Z.Z)(function*(){let _t;if(_t=Fe(Ae).token?yield En(Pe,!0):yield En(Pe),_t.error)throw _t.error;if(_t.internalError)throw _t.internalError}),()=>!0,()=>{const Ie=Fe(Ae);if(Ie.token){let _t=Ie.token.issuedAtTimeMillis+.5*(Ie.token.expireTimeMillis-Ie.token.issuedAtTimeMillis)+3e5;return _t=Math.min(_t,Ie.token.expireTimeMillis-3e5),Math.max(0,_t-Date.now())}return 0},It.RETRIAL_MIN_WAIT,It.RETRIAL_MAX_WAIT)}(Pe),Ie.tokenRefresher=_t),!_t.isRunning()&&Ie.isTokenAutoRefreshEnabled&&_t.start()}function ir(Pe){return Pe.expireTimeMillis-Date.now()>0}function Zt(Pe){return{token:mr($i),error:Pe}}class Dn{constructor(Ae,Ie){this.app=Ae,this.heartbeatServiceProvider=Ie}_delete(){const{tokenObservers:Ae}=Fe(this.app);for(const Ie of Ae)_r(this.app,Ie.next);return Promise.resolve()}}const tn="app-check-internal";!function xn(){(0,Ee._registerComponent)(new Ce.wA("app-check",Pe=>function Ar(Pe,Ae){return new Dn(Pe,Ae)}(Pe.getProvider("app").getImmediate(),Pe.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Pe,Ae,Ie)=>{Pe.getProvider(tn).initialize()})),(0,Ee._registerComponent)(new Ce.wA(tn,Pe=>function Vt(Pe){return{getToken:Ae=>En(Pe,Ae),getLimitedUseToken:()=>bn(Pe),addTokenListener:Ae=>function mi(Pe,Ae,Ie,_t){const{app:Rt}=Pe,Tn=Fe(Rt);if(Tn.tokenObservers=[...Tn.tokenObservers,{next:Ie,error:_t,type:Ae}],Tn.token&&ir(Tn.token)){const Cn=Tn.token;Promise.resolve().then(()=>{Ie({token:Cn.token}),$r(Pe)}).catch(()=>{})}Tn.cachedTokenPromise.then(()=>$r(Pe))}(Pe,"INTERNAL",Ae),removeTokenListener:Ae=>_r(Pe.app,Ae)}}(Pe.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ee.registerVersion)("@firebase/app-check","0.8.0")}();class ur{constructor(){return(0,p.vb)("app-check")}}typeof window<"u"&&window},3692:(Ut,$e,U)=>{U.d($e,{Ot:()=>re,ZF:()=>Le,hX:()=>Fe,z6:()=>Z});var p=U(259),F=U(4650),$=U(4976);class re{constructor(we){return we}}class Z{constructor(){return(0,p.C6)()}}const Me=new F.OlP("angularfire2._apps"),pe={provide:re,useFactory:function Ce(Ue){return Ue&&1===Ue.length?Ue[0]:new re((0,p.Mq)())},deps:[[new F.FiY,Me]]},ae={provide:Z,deps:[[new F.FiY,Me]]};function se(Ue){return(we,ot)=>{const Tt=we.runOutsideAngular(()=>Ue(ot));return new re(Tt)}}let oe=(()=>{class Ue{constructor(ot){(0,p.KN)("angularfire",$.q4.full,"core"),(0,p.KN)("angularfire",$.q4.full,"app"),(0,p.KN)("angular",F.q4F.full,ot.toString())}}return Ue.\u0275fac=function(ot){return new(ot||Ue)(F.LFG(F.Lbi))},Ue.\u0275mod=F.oAB({type:Ue}),Ue.\u0275inj=F.cJS({providers:[pe,ae]}),Ue})();function Fe(Ue,...we){return{ngModule:oe,providers:[{provide:Me,useFactory:se(Ue),multi:!0,deps:[F.R0b,F.zs3,$.HU,...we]}]}}const Le=(0,$.u3)(p.ZF,!0)},1205:(Ut,$e,U)=>{U.d($e,{zQ:()=>Ci,ww:()=>et});var p=U(4650),F=U(7579),$=U(9646),re=U(9751),Z=U(8996),Ee=U(6451),Ce=U(5363),Me=U(3900),pe=U(4004),ae=U(6063);class se extends F.x{constructor(tt=1/0,ut=1/0,mt=ae.l){super(),this._bufferSize=tt,this._windowTime=ut,this._timestampProvider=mt,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ut===1/0,this._bufferSize=Math.max(1,tt),this._windowTime=Math.max(1,ut)}next(tt){const{isStopped:ut,_buffer:mt,_infiniteTimeWindow:wt,_timestampProvider:ft,_windowTime:Ft}=this;ut||(mt.push(tt),!wt&&mt.push(ft.now()+Ft)),this._trimBuffer(),super.next(tt)}_subscribe(tt){this._throwIfClosed(),this._trimBuffer();const ut=this._innerSubscribe(tt),{_infiniteTimeWindow:mt,_buffer:wt}=this,ft=wt.slice();for(let Ft=0;Ft<ft.length&&!tt.closed;Ft+=mt?1:2)tt.next(ft[Ft]);return this._checkFinalizedStatuses(tt),ut}_trimBuffer(){const{_bufferSize:tt,_timestampProvider:ut,_buffer:mt,_infiniteTimeWindow:wt}=this,ft=(wt?1:2)*tt;if(tt<1/0&&ft<mt.length&&mt.splice(0,mt.length-ft),!wt){const Ft=ut.now();let Kn=0;for(let jt=1;jt<mt.length&&mt[jt]<=Ft;jt+=2)Kn=jt;Kn&&mt.splice(0,Kn+1)}}}var oe=U(3099);function Fe(Ve,tt,ut){let mt,wt=!1;return Ve&&"object"==typeof Ve?({bufferSize:mt=1/0,windowTime:tt=1/0,refCount:wt=!1,scheduler:ut}=Ve):mt=Ve??1/0,(0,oe.B)({connector:()=>new se(mt,tt,ut),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:wt})}var fe=U(590),qe=U(576);function yt(Ve,tt){return(0,qe.m)(tt)?(0,Me.w)(()=>Ve,tt):(0,Me.w)(()=>Ve)}var Le=U(9468),Be=U(9300),st=U(4976),It=U(2011),Ue=U(6895),we=U(2313),ot=U(9260);const gt=new p.OlP("angularfire2.auth.use-emulator"),He=new p.OlP("angularfire2.auth.settings"),Dt=new p.OlP("angularfire2.auth.tenant-id"),on=new p.OlP("angularfire2.auth.langugage-code"),St=new p.OlP("angularfire2.auth.use-device-language"),In=new p.OlP("angularfire.auth.persistence");let Ci=(()=>{class Ve{constructor(ut,mt,wt,ft,Ft,Kn,jt,ze,ct,xe,Ze,qt){const _n=new F.x,On=(0,$.of)(void 0).pipe((0,Ce.Q)(Ft.outsideAngular),(0,Me.w)(()=>ft.runOutsideAngular(()=>U.e(568).then(U.bind(U,9568)))),(0,pe.U)(()=>(0,It.on)(ut,ft,mt)),(0,pe.U)(Vn=>((Ve,tt,ut,mt,wt,ft,Ft,Kn)=>(0,It.cc)(`${Ve.name}.auth`,"AngularFireAuth",Ve.name,()=>{const jt=tt.runOutsideAngular(()=>Ve.auth());if(ut&&jt.useEmulator(...ut),mt&&(jt.tenantId=mt),jt.languageCode=wt,ft&&jt.useDeviceLanguage(),Ft)for(const[ze,ct]of Object.entries(Ft))jt.settings[ze]=ct;return Kn&&jt.setPersistence(Kn),jt},[ut,mt,wt,ft,Ft,Kn]))(Vn,ft,Kn,ze,ct,xe,jt,Ze)),Fe({bufferSize:1,refCount:!1}));if((0,Ue.PM)(wt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,$.of)(null);else{On.pipe((0,fe.P)()).subscribe();const cn=On.pipe((0,Me.w)(Nn=>Nn.getRedirectResult().then(zt=>zt,()=>null)),st.iC,Fe({bufferSize:1,refCount:!1})),Br=On.pipe((0,Me.w)(Nn=>new re.y(zt=>({unsubscribe:ft.runOutsideAngular(()=>Nn.onAuthStateChanged(Rr=>zt.next(Rr),Rr=>zt.error(Rr),()=>zt.complete()))})))),gi=On.pipe((0,Me.w)(Nn=>new re.y(zt=>({unsubscribe:ft.runOutsideAngular(()=>Nn.onIdTokenChanged(Rr=>zt.next(Rr),Rr=>zt.error(Rr),()=>zt.complete()))}))));this.authState=cn.pipe(yt(Br),(0,Le.R)(Ft.outsideAngular),(0,Ce.Q)(Ft.insideAngular)),this.user=cn.pipe(yt(gi),(0,Le.R)(Ft.outsideAngular),(0,Ce.Q)(Ft.insideAngular)),this.idToken=this.user.pipe((0,Me.w)(Nn=>Nn?(0,Z.D)(Nn.getIdToken()):(0,$.of)(null))),this.idTokenResult=this.user.pipe((0,Me.w)(Nn=>Nn?(0,Z.D)(Nn.getIdTokenResult()):(0,$.of)(null))),this.credential=(0,Ee.T)(cn,_n,this.authState.pipe((0,Be.h)(Nn=>!Nn))).pipe((0,pe.U)(Nn=>Nn?.user?Nn:null),(0,Le.R)(Ft.outsideAngular),(0,Ce.Q)(Ft.insideAngular))}return(0,It.pX)(this,On,ft,{spy:{apply:(Vn,cn,Br)=>{(Vn.startsWith("signIn")||Vn.startsWith("createUser"))&&Br.then(gi=>_n.next(gi))}}})}}return Ve.\u0275fac=function(ut){return new(ut||Ve)(p.LFG(It.Dh),p.LFG(It.xv,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(st.HU),p.LFG(gt,8),p.LFG(He,8),p.LFG(Dt,8),p.LFG(on,8),p.LFG(St,8),p.LFG(In,8),p.LFG(we.nm,8))},Ve.\u0275prov=p.Yz7({token:Ve,factory:Ve.\u0275fac,providedIn:"any"}),Ve})(),et=(()=>{class Ve{constructor(){ot.Z.registerVersion("angularfire",st.q4.full,"auth-compat")}}return Ve.\u0275fac=function(ut){return new(ut||Ve)},Ve.\u0275mod=p.oAB({type:Ve}),Ve.\u0275inj=p.cJS({providers:[Ci]}),Ve})()},2011:(Ut,$e,U)=>{U.d($e,{Dh:()=>Me,GT:()=>Ee,cc:()=>fe,hO:()=>Fe,on:()=>ae,pX:()=>Z,xv:()=>pe});var p=U(4650),F=U(9260),$=U(4976);Ut=U.hmd(Ut);const re=["ngOnDestroy"],Z=(Be,st,It,Ue={})=>new Proxy(Be,{get:(we,ot)=>It.runOutsideAngular(()=>{var Tt;if(Be[ot])return!(null===(Tt=Ue?.spy)||void 0===Tt)&&Tt.get&&Ue.spy.get(ot,Be[ot]),Be[ot];if(re.indexOf(ot)>-1)return()=>{};const gt=st.toPromise().then(He=>{const Dt=He&&He[ot];return"function"==typeof Dt?Dt.bind(He):Dt&&Dt.then?Dt.then(on=>It.run(()=>on)):It.run(()=>Dt)});return new Proxy(()=>{},{get:(He,Dt)=>gt[Dt],apply:(He,Dt,on)=>gt.then(St=>{var In;const Ht=St&&St(...on);return!(null===(In=Ue?.spy)||void 0===In)&&In.apply&&Ue.spy.apply(ot,on,Ht),Ht})})})}),Ee=(Be,st)=>{st.forEach(It=>{Object.getOwnPropertyNames(It.prototype||It).forEach(Ue=>{Object.defineProperty(Be.prototype,Ue,Object.getOwnPropertyDescriptor(It.prototype||It,Ue))})})};class Ce{constructor(st){return st}}const Me=new p.OlP("angularfire2.app.options"),pe=new p.OlP("angularfire2.app.name");function ae(Be,st,It){const we="object"==typeof It&&It||{};we.name=we.name||"string"==typeof It&&It||"[DEFAULT]";const Tt=F.Z.apps.filter(gt=>gt&&gt.name===we.name)[0]||st.runOutsideAngular(()=>F.Z.initializeApp(Be,we));try{JSON.stringify(Be)!==JSON.stringify(Tt.options)&&se("error",`${Tt.name} Firebase App already initialized with different options${Ut.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ce(Tt)}const se=(Be,...st)=>{(0,p.X6Q)()&&typeof console<"u"&&console[Be](...st)},oe={provide:Ce,useFactory:ae,deps:[Me,p.R0b,[new p.FiY,pe]]};let Fe=(()=>{class Be{constructor(It){F.Z.registerVersion("angularfire",$.q4.full,"core"),F.Z.registerVersion("angularfire",$.q4.full,"app-compat"),F.Z.registerVersion("angular",p.q4F.full,It.toString())}static initializeApp(It,Ue){return{ngModule:Be,providers:[{provide:Me,useValue:It},{provide:pe,useValue:Ue}]}}}return Be.\u0275fac=function(It){return new(It||Be)(p.LFG(p.Lbi))},Be.\u0275mod=p.oAB({type:Be}),Be.\u0275inj=p.cJS({providers:[oe]}),Be})();function fe(Be,st,It,Ue,we){const[,ot,Tt]=globalThis.\u0275AngularfireInstanceCache.find(gt=>gt[0]===Be)||[];if(ot)return function qe(Be,st){try{return Be.toString()===st.toString()}catch{return Be===st}}(we,Tt)||(Le("error",`${st} was already initialized on the ${It} Firebase App with different settings.${yt?" You may need to reload as Firebase is not HMR aware.":""}`),Le("warn",{is:we,was:Tt})),ot;{const gt=Ue();return globalThis.\u0275AngularfireInstanceCache.push([Be,gt,we]),gt}}const yt=!!Ut.hot,Le=(Be,...st)=>{(0,p.X6Q)()&&typeof console<"u"&&console[Be](...st)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},3132:(Ut,$e,U)=>{U.d($e,{gg:()=>ql,Um:()=>om,hJ:()=>Gv,BS:()=>um,oe:()=>K0,JU:()=>Y0,PL:()=>lm,ad:()=>cm,Xo:()=>Hf,Cm:()=>am,IO:()=>dm,pl:()=>_d,r7:()=>_w,ar:()=>oE});var p=U(4976),F=U(4650),$=U(3692),re=U(259);U(4322);class Me{constructor(){return(0,p.vb)("auth")}}var Pt,ir=U(2313),Zt=U(5861),Dn=U(6881),Ar=U(4859),Vt=U(1877),zn=U(2090),Dr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},tr={},qr=qr||{},un=Dr||self;function Pr(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function ye(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var De="closure_uid_"+(1e9*Math.random()>>>0),lt=0;function Ge(r,e,t){return r.call.apply(r.bind,arguments)}function xt(r,e,t){if(!r)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,s),r.apply(e,a)}}return function(){return r.apply(e,arguments)}}function ve(r,e,t){return(ve=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ge:xt).apply(null,arguments)}function _e(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),r.apply(this,s)}}function ie(r,e){function t(){}t.prototype=e.prototype,r.$=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.ac=function(s,a,c){for(var f=Array(arguments.length-2),b=2;b<arguments.length;b++)f[b-2]=arguments[b];return e.prototype[a].apply(s,f)}}function Te(){this.s=this.s,this.o=this.o}Te.prototype.s=!1,Te.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function he(r){Object.prototype.hasOwnProperty.call(r,De)&&r[De]||(r[De]=++lt)}(this)},Te.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const At=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1};function dn(r){const e=r.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=r[s];return t}return[]}function qn(r,e){for(let t=1;t<arguments.length;t++){const s=arguments[t];if(Pr(s)){const a=r.length||0,c=s.length||0;r.length=a+c;for(let f=0;f<c;f++)r[a+f]=s[f]}else r.push(s)}}function Un(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}Un.prototype.h=function(){this.defaultPrevented=!0};var Fi=function(){if(!un.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{un.addEventListener("test",()=>{},e),un.removeEventListener("test",()=>{},e)}catch{}return r}();function rt(r){return/^[\s\xa0]*$/.test(r)}function je(){var r=un.navigator;return r&&(r=r.userAgent)?r:""}function Ct(r){return-1!=je().indexOf(r)}function tn(r){return tn[" "](r),r}tn[" "]=function(){};var vi,r,An=Ct("Opera"),an=Ct("Trident")||Ct("MSIE"),ur=Ct("Edge"),Hn=ur||an,hr=Ct("Gecko")&&!(-1!=je().toLowerCase().indexOf("webkit")&&!Ct("Edge"))&&!(Ct("Trident")||Ct("MSIE"))&&!Ct("Edge"),yi=-1!=je().toLowerCase().indexOf("webkit")&&!Ct("Edge");function ds(){var r=un.document;return r?r.documentMode:void 0}e:{var Zr="",Cr=(r=je(),hr?/rv:([^\);]+)(\)|;)/.exec(r):ur?/Edge\/([\d\.]+)/.exec(r):an?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):yi?/WebKit\/(\S+)/.exec(r):An?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(Cr&&(Zr=Cr?Cr[1]:""),an){var Gt=ds();if(null!=Gt&&Gt>parseFloat(Zr)){vi=String(Gt);break e}}vi=Zr}var sr=un.document&&an&&(ds()||parseInt(vi,10))||void 0;function li(r,e){if(Un.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,s=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(hr){e:{try{tn(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:Yr[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&li.$.h.call(this)}}ie(li,Un);var Yr={2:"touch",3:"pen",4:"mouse"};li.prototype.h=function(){li.$.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var Hi="closure_listenable_"+(1e6*Math.random()|0),Or=0;function Pe(r,e,t,s,a){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.la=a,this.key=++Or,this.fa=this.ia=!1}function Ae(r){r.fa=!0,r.listener=null,r.proxy=null,r.src=null,r.la=null}function Ie(r,e,t){for(const s in r)e.call(t,r[s],s,r)}function Rt(r){const e={};for(const t in r)e[t]=r[t];return e}const Tn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Bn(r,e){let t,s;for(let a=1;a<arguments.length;a++){for(t in s=arguments[a],s)r[t]=s[t];for(let c=0;c<Tn.length;c++)t=Tn[c],Object.prototype.hasOwnProperty.call(s,t)&&(r[t]=s[t])}}function Cn(r){this.src=r,this.g={},this.h=0}function Zn(r,e){var t=e.type;if(t in r.g){var c,s=r.g[t],a=At(s,e);(c=0<=a)&&Array.prototype.splice.call(s,a,1),c&&(Ae(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function ni(r,e,t,s){for(var a=0;a<r.length;++a){var c=r[a];if(!c.fa&&c.listener==e&&c.capture==!!t&&c.la==s)return a}return-1}Cn.prototype.add=function(r,e,t,s,a){var c=r.toString();(r=this.g[c])||(r=this.g[c]=[],this.h++);var f=ni(r,e,s,a);return-1<f?(e=r[f],t||(e.ia=!1)):((e=new Pe(e,this.src,c,!!s,a)).ia=t,r.push(e)),e};var _i="closure_lm_"+(1e6*Math.random()|0),Nr={};function ci(r,e,t,s,a){if(s&&s.once)return qs(r,e,t,s,a);if(Array.isArray(e)){for(var c=0;c<e.length;c++)ci(r,e[c],t,s,a);return null}return t=Ei(t),r&&r[Hi]?r.O(e,t,ye(s)?!!s.capture:!!s,a):Er(r,e,t,!1,s,a)}function Er(r,e,t,s,a,c){if(!e)throw Error("Invalid event type");var f=ye(a)?!!a.capture:!!a,b=Qr(r);if(b||(r[_i]=b=new Cn(r)),(t=b.add(e,t,s,f,c)).proxy)return t;if(s=function ts(){const e=lo;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=s,s.src=r,s.listener=t,r.addEventListener)Fi||(a=f),void 0===a&&(a=!1),r.addEventListener(e.toString(),s,a);else if(r.attachEvent)r.attachEvent(hs(e.toString()),s);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(s)}return t}function qs(r,e,t,s,a){if(Array.isArray(e)){for(var c=0;c<e.length;c++)qs(r,e[c],t,s,a);return null}return t=Ei(t),r&&r[Hi]?r.P(e,t,ye(s)?!!s.capture:!!s,a):Er(r,e,t,!0,s,a)}function Fs(r,e,t,s,a){if(Array.isArray(e))for(var c=0;c<e.length;c++)Fs(r,e[c],t,s,a);else s=ye(s)?!!s.capture:!!s,t=Ei(t),r&&r[Hi]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=ni(c=r.g[e],t,s,a))&&(Ae(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete r.g[e],r.h--))):r&&(r=Qr(r))&&(e=r.g[e.toString()],r=-1,e&&(r=ni(e,t,s,a)),(t=-1<r?e[r]:null)&&Zs(t))}function Zs(r){if("number"!=typeof r&&r&&!r.fa){var e=r.src;if(e&&e[Hi])Zn(e.i,r);else{var t=r.type,s=r.proxy;e.removeEventListener?e.removeEventListener(t,s,r.capture):e.detachEvent?e.detachEvent(hs(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=Qr(e))?(Zn(t,r),0==t.h&&(t.src=null,e[_i]=null)):Ae(r)}}}function hs(r){return r in Nr?Nr[r]:Nr[r]="on"+r}function lo(r,e){if(r.fa)r=!0;else{e=new li(e,this);var t=r.listener,s=r.la||r.src;r.ia&&Zs(r),r=t.call(s,e)}return r}function Qr(r){return(r=r[_i])instanceof Cn?r:null}var jo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ei(r){return"function"==typeof r?r:(r[jo]||(r[jo]=function(e){return r.handleEvent(e)}),r[jo])}function yr(){Te.call(this),this.i=new Cn(this),this.S=this,this.J=null}function Hr(r,e){var t,s=r.J;if(s)for(t=[];s;s=s.J)t.push(s);if(r=r.S,s=e.type||e,"string"==typeof e)e=new Un(e,r);else if(e instanceof Un)e.target=e.target||r;else{var a=e;Bn(e=new Un(s,r),a)}if(a=!0,t)for(var c=t.length-1;0<=c;c--){var f=e.g=t[c];a=Ys(f,s,!0,e)&&a}if(a=Ys(f=e.g=r,s,!0,e)&&a,a=Ys(f,s,!1,e)&&a,t)for(c=0;c<t.length;c++)a=Ys(f=e.g=t[c],s,!1,e)&&a}function Ys(r,e,t,s){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,c=0;c<e.length;++c){var f=e[c];if(f&&!f.fa&&f.capture==t){var b=f.listener,V=f.la||f.src;f.ia&&Zn(r.i,f),a=!1!==b.call(V,s)&&a}}return a&&!s.defaultPrevented}ie(yr,Te),yr.prototype[Hi]=!0,yr.prototype.removeEventListener=function(r,e,t,s){Fs(this,r,e,t,s)},yr.prototype.N=function(){if(yr.$.N.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],s=0;s<t.length;s++)Ae(t[s]);delete r.g[e],r.h--}}this.J=null},yr.prototype.O=function(r,e,t,s){return this.i.add(String(r),e,!1,t,s)},yr.prototype.P=function(r,e,t,s){return this.i.add(String(r),e,!0,t,s)};var co=un.JSON.stringify;function zi(){var r=Xo;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var Jo=new class Ai{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Mi,r=>r.reset());class Mi{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function pa(r){var e=1;r=r.split(":");const t=[];for(;0<e&&r.length;)t.push(r.shift()),e--;return r.length&&t.push(r.join(":")),t}function Ts(r){un.setTimeout(()=>{throw r},0)}let ns,ho=!1,Xo=new class Ls{constructor(){this.h=this.g=null}add(e,t){const s=Jo.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}},$o=()=>{const r=un.Promise.resolve(void 0);ns=()=>{r.then(bs)}};var bs=()=>{for(var r;r=zi();){try{r.h.call(r.g)}catch(t){Ts(t)}var e=Jo;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}ho=!1};function Ss(r,e){yr.call(this),this.h=r||1,this.g=e||un,this.j=ve(this.qb,this),this.l=Date.now()}function Ho(r){r.ga=!1,r.T&&(r.g.clearTimeout(r.T),r.T=null)}function Ri(r,e,t){if("function"==typeof r)t&&(r=ve(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=ve(r.handleEvent,r)}return 2147483647<Number(e)?-1:un.setTimeout(r,e||0)}function Qs(r){r.g=Ri(()=>{r.g=null,r.i&&(r.i=!1,Qs(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}ie(Ss,yr),(Pt=Ss.prototype).ga=!1,Pt.T=null,Pt.qb=function(){if(this.ga){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-r):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Hr(this,"tick"),this.ga&&(Ho(this),this.start()))}},Pt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Pt.N=function(){Ss.$.N.call(this),Ho(this),delete this.g};class ga extends Te{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Qs(this)}N(){super.N(),this.g&&(un.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yi(r){Te.call(this),this.h=r,this.g={}}ie(Yi,Te);var ea=[];function Js(r,e,t,s){Array.isArray(t)||(t&&(ea[0]=t.toString()),t=ea);for(var a=0;a<t.length;a++){var c=ci(e,t[a],s||r.handleEvent,!1,r.h||r);if(!c)break;r.g[c.key]=c}}function Xs(r){Ie(r.g,function(e,t){this.g.hasOwnProperty(t)&&Zs(e)},r),r.g={}}function Ti(){this.g=!0}function fs(r,e,t,s){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Fa(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var s=t[r];if(!(2>s.length)){var a=s[1];if(Array.isArray(a)&&!(1>a.length)){var c=a[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var f=1;f<a.length;f++)a[f]=""}}}return co(t)}catch{return e}}(r,t)+(s?" "+s:"")})}Yi.prototype.N=function(){Yi.$.N.call(this),Xs(this)},Yi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ti.prototype.Ea=function(){this.g=!1},Ti.prototype.info=function(){};var Bi={},po=null;function eo(){return po=po||new yr}function Ao(r){Un.call(this,Bi.Ta,r)}function Gi(r){const e=eo();Hr(e,new Ao(e))}function As(r,e){Un.call(this,Bi.STAT_EVENT,r),this.stat=e}function Yn(r){const e=eo();Hr(e,new As(e,r))}function Mo(r,e){Un.call(this,Bi.Ua,r),this.size=e}function ps(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return un.setTimeout(function(){r()},e)}Bi.Ta="serverreachability",ie(Ao,Un),Bi.STAT_EVENT="statevent",ie(As,Un),Bi.Ua="timingevent",ie(Mo,Un);var zr={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},to={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Us(){}function nu(){}Us.prototype.h=null;var Ro,gs={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function bi(){Un.call(this,"d")}function di(){Un.call(this,"c")}function Lr(){}function wi(r,e,t,s){this.l=r,this.j=e,this.m=t,this.W=s||1,this.U=new Yi(this),this.P=Ms,this.V=new Ss(r=Hn?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Wi}function Wi(){this.i=null,this.g="",this.h=!1}ie(bi,Un),ie(di,Un),ie(Lr,Us),Lr.prototype.g=function(){return new XMLHttpRequest},Lr.prototype.i=function(){return{}},Ro=new Lr;var Ms=45e3,go={},kn={};function Bs(r,e,t){r.L=1,r.v=ji(no(e)),r.s=t,r.S=!0,B(r,null)}function B(r,e){r.G=Date.now(),Qe(r),r.A=no(r.v);var t=r.A,s=r.W;Array.isArray(s)||(s=[String(s)]),ra(t.i,"t",s),r.C=0,t=r.l.J,r.h=new Wi,r.g=wu(r.l,t?e:null,!r.s),0<r.O&&(r.M=new ga(ve(r.Pa,r,r.g),r.O)),Js(r.U,r.g,"readystatechange",r.nb),e=r.I?Rt(r.I):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ha(r.A,r.u,r.s,e)):(r.u="GET",r.g.ha(r.A,r.u,null,e)),Gi(),function Vs(r,e,t,s,a,c){r.info(function(){if(r.g)if(c)for(var f="",b=c.split("&"),V=0;V<b.length;V++){var z=b[V].split("=");if(1<z.length){var te=z[0];z=z[1];var me=te.split("_");f=2<=me.length&&"type"==me[1]?f+(te+"=")+z+"&":f+(te+"=redacted&")}}else f=null;else f=c;return"XMLHTTP REQ ("+s+") [attempt "+a+"]: "+e+"\n"+t+"\n"+f})}(r.j,r.u,r.A,r.m,r.W,r.s)}function L(r){return!!r.g&&"GET"==r.u&&2!=r.L&&r.l.Ha}function O(r,e,t){let a,s=!0;for(;!r.J&&r.C<t.length;){if(a=J(r,t),a==kn){4==e&&(r.o=4,Yn(14),s=!1),fs(r.j,r.m,null,"[Incomplete Response]");break}if(a==go){r.o=4,Yn(15),fs(r.j,r.m,t,"[Invalid Chunk]"),s=!1;break}fs(r.j,r.m,a,null),mo(r,a)}L(r)&&a!=kn&&a!=go&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,Yn(16),s=!1),r.i=r.i&&s,s?0<t.length&&!r.ba&&(r.ba=!0,(e=r.l).g==r&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),ou(e),e.M=!0,Yn(11))):(fs(r.j,r.m,t,"[Invalid Chunked Response]"),gn(r),Ke(r))}function J(r,e){var t=r.C,s=e.indexOf("\n",t);return-1==s?kn:(t=Number(e.substring(t,s)),isNaN(t)?go:(s+=1)+t>e.length?kn:(e=e.slice(s,s+t),r.C=s+t,e))}function Qe(r){r.Y=Date.now()+r.P,hn(r,r.P)}function hn(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=ps(ve(r.lb,r),e)}function Jr(r){r.B&&(un.clearTimeout(r.B),r.B=null)}function Ke(r){0==r.l.H||r.J||xi(r.l,r)}function gn(r){Jr(r);var e=r.M;e&&"function"==typeof e.sa&&e.sa(),r.M=null,Ho(r.V),Xs(r.U),r.g&&(e=r.g,r.g=null,e.abort(),e.sa())}function mo(r,e){try{var t=r.l;if(0!=t.H&&(t.g==r||Go(t.i,r)))if(!r.K&&Go(t.i,r)&&3==t.H){try{var s=t.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var a=s;if(0==a[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<r.G))break e;_u(t),Vi(t)}ol(t),Yn(18)}}else t.Fa=a[1],0<t.Fa-t.V&&37500>a[2]&&t.G&&0==t.A&&!t.v&&(t.v=ps(ve(t.ib,t),6e3));if(1>=Ma(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Zo(t,11)}else if((r.K||t.g==r)&&_u(t),!rt(e))for(a=t.Ja.g.parse(e),e=0;e<a.length;e++){let z=a[e];if(t.V=z[0],z=z[1],2==t.H)if("c"==z[0]){t.K=z[1],t.pa=z[2];const te=z[3];null!=te&&(t.ra=te,t.l.info("VER="+t.ra));const me=z[4];null!=me&&(t.Ga=me,t.l.info("SVER="+t.Ga));const Ye=z[5];null!=Ye&&"number"==typeof Ye&&0<Ye&&(t.L=s=1.5*Ye,t.l.info("backChannelRequestTimeoutMs_="+s)),s=t;const Et=r.g;if(Et){const Bt=Et.g?Et.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bt){var c=s.i;c.g||-1==Bt.indexOf("spdy")&&-1==Bt.indexOf("quic")&&-1==Bt.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&(Ii(c,c.h),c.h=null))}if(s.F){const mn=Et.g?Et.g.getResponseHeader("X-HTTP-Session-Id"):null;mn&&(s.Da=mn,Qn(s.I,s.F,mn))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-r.G,t.l.info("Handshake RTT: "+t.S+"ms"));var f=r;if((s=t).wa=aa(s,s.J?s.pa:null,s.Y),f.K){ss(s.i,f);var b=f,V=s.L;V&&b.setTimeout(V),b.B&&(Jr(b),Qe(b)),s.g=f}else Es(s);0<t.j.length&&_a(t)}else"stop"!=z[0]&&"close"!=z[0]||Zo(t,7);else 3==t.H&&("stop"==z[0]||"close"==z[0]?"stop"==z[0]?Zo(t,7):qi(t):"noop"!=z[0]&&t.h&&t.h.Aa(z),t.A=0)}Gi()}catch{}}function La(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(Pr(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var t=function hi(r){if(r.ta&&"function"==typeof r.ta)return r.ta();if(!r.Z||"function"!=typeof r.Z){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(Pr(r)||"string"==typeof r){var e=[];r=r.length;for(var t=0;t<r;t++)e.push(t);return e}e=[],t=0;for(const s in r)e[t++]=s;return e}}}(r),s=function ma(r){if(r.Z&&"function"==typeof r.Z)return r.Z();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(Pr(r)){for(var e=[],t=r.length,s=0;s<t;s++)e.push(r[s]);return e}for(s in e=[],t=0,r)e[t++]=r[s];return e}(r),a=s.length,c=0;c<a;c++)e.call(void 0,s[c],t&&t[c],r)}(Pt=wi.prototype).setTimeout=function(r){this.P=r},Pt.nb=function(r){r=r.target;const e=this.M;e&&3==nr(r)?e.l():this.Pa(r)},Pt.Pa=function(r){try{if(r==this.g)e:{const te=nr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>te)&&(3!=te||Hn||this.g&&(this.h.h||this.g.ja()||ii(this.g)))){this.J||4!=te||7==e||Gi(),Jr(this);var t=this.g.da();this.ca=t;t:if(L(this)){var s=ii(this.g);r="";var a=s.length,c=4==nr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){gn(this),Ke(this);var f="";break t}this.h.i=new un.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,r+=this.h.i.decode(s[e],{stream:c&&e==a-1});s.splice(0,a),this.h.g+=r,this.C=0,f=this.h.g}else f=this.g.ja();if(this.i=200==t,function ta(r,e,t,s,a,c,f){r.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+c+" "+f})}(this.j,this.u,this.A,this.m,this.W,te,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var b,V=this.g;if((b=V.g?V.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rt(b)){var z=b;break t}}z=null}if(!(t=z)){this.i=!1,this.o=3,Yn(12),gn(this),Ke(this);break e}fs(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,mo(this,t)}this.S?(O(this,te,f),Hn&&this.i&&3==te&&(Js(this.U,this.V,"tick",this.mb),this.V.start())):(fs(this.j,this.m,f,null),mo(this,f)),4==te&&gn(this),this.i&&!this.J&&(4==te?xi(this.l,this):(this.i=!1,Qe(this)))}else(function Sr(r){const e={};r=(r.g&&2<=nr(r)&&r.g.getAllResponseHeaders()||"").split("\r\n");for(let s=0;s<r.length;s++){if(rt(r[s]))continue;var t=pa(r[s]);const a=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const c=e[a]||[];e[a]=c,c.push(t)}!function _t(r,e){for(const t in r)e.call(void 0,r[t],t,r)}(e,function(s){return s.join(", ")})})(this.g),400==t&&0<f.indexOf("Unknown SID")?(this.o=3,Yn(12)):(this.o=0,Yn(13)),gn(this),Ke(this)}}}catch{}},Pt.mb=function(){if(this.g){var r=nr(this.g),e=this.g.ja();this.C<e.length&&(Jr(this),O(this,r,e),this.i&&4!=r&&Qe(this))}},Pt.cancel=function(){this.J=!0,gn(this)},Pt.lb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function fo(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Gi(),Yn(17)),gn(this),this.o=2,Ke(this)):hn(this,this.Y-r)};var xo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yo(r){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof yo){this.h=r.h,vo(this,r.j),this.s=r.s,this.g=r.g,rs(this,r.m),this.l=r.l;var e=r.i,t=new Oo;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),ms(this,t),this.o=r.o}else r&&(e=String(r).match(xo))?(this.h=!1,vo(this,e[1]||"",!0),this.s=Rs(e[2]||""),this.g=Rs(e[3]||"",!0),rs(this,e[4]),this.l=Rs(e[5]||"",!0),ms(this,e[6]||"",!0),this.o=Rs(e[7]||"")):(this.h=!1,this.i=new Oo(null,this.h))}function no(r){return new yo(r)}function vo(r,e,t){r.j=t?Rs(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function rs(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function ms(r,e,t){e instanceof Oo?(r.i=e,function ya(r,e){e&&!r.j&&(is(r),r.i=null,r.g.forEach(function(t,s){var a=s.toLowerCase();s!=a&&(Sa(this,s),ra(this,a,t))},r)),r.j=e}(r.i,r.h)):(t||(e=ys(e,vu)),r.i=new Oo(e,r.h))}function Qn(r,e,t){r.i.set(e,t)}function ji(r){return Qn(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function Rs(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function ys(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,js),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function js(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}yo.prototype.toString=function(){var r=[],e=this.j;e&&r.push(ys(e,na,!0),":");var t=this.g;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(ys(e,na,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&r.push("/"),r.push(ys(t,"/"==t.charAt(0)?ru:Po,!0))),(t=this.i.toString())&&r.push("?",t),(t=this.o)&&r.push("#",ys(t,fi)),r.join("")};var na=/[#\/\?@]/g,Po=/[#\?:]/g,ru=/[#\?]/g,vu=/[#\?@]/g,fi=/#/g;function Oo(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function is(r){r.g||(r.g=new Map,r.h=0,r.i&&function Qi(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var s=r[t].indexOf("="),a=null;if(0<=s){var c=r[t].substring(0,s);a=r[t].substring(s+1)}else c=r[t];e(c,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Sa(r,e){is(r),e=xs(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function zo(r,e){return is(r),e=xs(r,e),r.g.has(e)}function ra(r,e,t){Sa(r,e),0<t.length&&(r.i=null,r.g.set(xs(r,e),dn(t)),r.h+=t.length)}function xs(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function Aa(r){this.l=r||sa,r=un.PerformanceNavigationTiming?0<(r=un.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(un.g&&un.g.Ka&&un.g.Ka()&&un.g.Ka().ec),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Pt=Oo.prototype).add=function(r,e){is(this),this.i=null,r=xs(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},Pt.forEach=function(r,e){is(this),this.g.forEach(function(t,s){t.forEach(function(a){r.call(e,a,s,this)},this)},this)},Pt.ta=function(){is(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let s=0;s<e.length;s++){const a=r[s];for(let c=0;c<a.length;c++)t.push(e[s])}return t},Pt.Z=function(r){is(this);let e=[];if("string"==typeof r)zo(this,r)&&(e=e.concat(this.g.get(xs(this,r))));else{r=Array.from(this.g.values());for(let t=0;t<r.length;t++)e=e.concat(r[t])}return e},Pt.set=function(r,e){return is(this),this.i=null,zo(this,r=xs(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},Pt.get=function(r,e){return r&&0<(r=this.Z(r)).length?String(r[0]):e},Pt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var s=e[t];const c=encodeURIComponent(String(s)),f=this.Z(s);for(s=0;s<f.length;s++){var a=c;""!==f[s]&&(a+="="+encodeURIComponent(String(f[s]))),r.push(a)}}return this.i=r.join("&")};var sa=10;function Va(r){return!!r.h||!!r.g&&r.g.size>=r.j}function Ma(r){return r.h?1:r.g?r.g.size:0}function Go(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function Ii(r,e){r.g?r.g.add(e):r.h=e}function ss(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function Tr(r){if(null!=r.h)return r.i.concat(r.h.F);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.F);return e}return dn(r.i)}Aa.prototype.cancel=function(){if(this.i=Tr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}};var Ua=class{stringify(r){return un.JSON.stringify(r,void 0)}parse(r){return un.JSON.parse(r,void 0)}};function oa(){this.g=new Ua}function Ba(r,e,t){const s=t||"";try{La(r,function(a,c){let f=a;ye(a)&&(f=co(a)),e.push(s+c+"="+encodeURIComponent(f))})}catch(a){throw e.push(s+"type="+encodeURIComponent("_badmap")),a}}function No(r,e,t,s,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(s)}catch{}}function Wo(r){this.l=r.fc||null,this.j=r.ob||!1}function ro(r,e){yr.call(this),this.F=r,this.u=e,this.m=void 0,this.readyState=vs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ie(Wo,Us),Wo.prototype.g=function(){return new ro(this.l,this.j)},Wo.prototype.i=function(r){return function(){return r}}({}),ie(ro,yr);var vs=0;function iu(r){r.j.read().then(r.Xa.bind(r)).catch(r.ka.bind(r))}function M(r){r.readyState=4,r.l=null,r.j=null,r.A=null,H(r)}function H(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(Pt=ro.prototype).open=function(r,e){if(this.readyState!=vs)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,H(this)},Pt.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.F||un).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Pt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,M(this)),this.readyState=vs},Pt.$a=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,H(this)),this.g&&(this.readyState=3,H(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof un.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;iu(this)}else r.text().then(this.Za.bind(this),this.ka.bind(this))},Pt.Xa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?M(this):H(this),3==this.readyState&&iu(this)}},Pt.Za=function(r){this.g&&(this.response=this.responseText=r,M(this))},Pt.Ya=function(r){this.g&&(this.response=r,M(this))},Pt.ka=function(){this.g&&M(this)},Pt.setRequestHeader=function(r,e){this.v.append(r,e)},Pt.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},Pt.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(ro.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var k=un.JSON.parse;function Y(r){yr.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=de,this.L=this.M=!1}ie(Y,yr);var de="",it=/^https?$/i,vt=["POST","PUT"];function br(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,lr(r),$n(r)}function lr(r){r.F||(r.F=!0,Hr(r,"complete"),Hr(r,"error"))}function cr(r){if(r.h&&typeof qr<"u"&&(!r.C[1]||4!=nr(r)||2!=r.da()))if(r.v&&4==nr(r))Ri(r.La,0,r);else if(Hr(r,"readystatechange"),4==nr(r)){r.h=!1;try{const f=r.da();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===f){var a=String(r.I).match(xo)[1]||null;!a&&un.self&&un.self.location&&(a=un.self.location.protocol.slice(0,-1)),s=!it.test(a?a.toLowerCase():"")}t=s}if(t)Hr(r,"complete"),Hr(r,"success");else{r.m=6;try{var c=2<nr(r)?r.g.statusText:""}catch{c=""}r.j=c+" ["+r.da()+"]",lr(r)}}finally{$n(r)}}}function $n(r,e){if(r.g){ri(r);const t=r.g,s=r.C[0]?()=>{}:null;r.g=null,r.C=null,e||Hr(r,"ready");try{t.onreadystatechange=s}catch{}}}function ri(r){r.g&&r.L&&(r.g.ontimeout=null),r.A&&(un.clearTimeout(r.A),r.A=null)}function nr(r){return r.g?r.g.readyState:0}function ii(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.K){case de:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function Ki(r){let e="";return Ie(r,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}function _s(r,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=Ki(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):Qn(r,e,t))}function Xr(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function Ji(r){this.Ga=0,this.j=[],this.l=new Ti,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Xr("failFast",!1,r),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Xr("baseRetryDelayMs",5e3,r),this.hb=Xr("retryDelaySeedMs",1e4,r),this.eb=Xr("forwardChannelMaxRetries",2,r),this.xa=Xr("forwardChannelRequestTimeoutMs",2e4,r),this.va=r&&r.xmlHttpFactory||void 0,this.Ha=r&&r.dc||!1,this.L=void 0,this.J=r&&r.supportsCrossDomainXhr||!1,this.K="",this.i=new Aa(r&&r.concurrentRequestLimit),this.Ja=new oa,this.P=r&&r.fastHandshake||!1,this.O=r&&r.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=r&&r.bc||!1,r&&r.Ea&&this.l.Ea(),r&&r.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&r&&r.detectBufferingProxy||!1,this.qa=void 0,r&&r.longPollingTimeout&&0<r.longPollingTimeout&&(this.qa=r.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function qi(r){if(va(r),3==r.H){var e=r.W++,t=no(r.I);if(Qn(t,"SID",r.K),Qn(t,"RID",e),Qn(t,"TYPE","terminate"),Ps(r,t),(e=new wi(r,r.l,e)).L=2,e.v=ji(no(t)),t=!1,un.navigator&&un.navigator.sendBeacon)try{t=un.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&un.Image&&((new Image).src=e.v,t=!0),t||(e.g=wu(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Qe(e)}Eu(r)}function Vi(r){r.g&&(ou(r),r.g.cancel(),r.g=null)}function va(r){Vi(r),r.u&&(un.clearTimeout(r.u),r.u=null),_u(r),r.i.cancel(),r.m&&("number"==typeof r.m&&un.clearTimeout(r.m),r.m=null)}function _a(r){if(!Va(r.i)&&!r.m){r.m=!0;var e=r.Na;ns||$o(),ho||(ns(),ho=!0),Xo.add(e,r),r.C=0}}function Ea(r,e){var t;t=e?e.m:r.W++;const s=no(r.I);Qn(s,"SID",r.K),Qn(s,"RID",t),Qn(s,"AID",r.V),Ps(r,s),r.o&&r.s&&_s(s,r.o,r.s),t=new wi(r,r.l,t,r.C+1),null===r.o&&(t.I=r.s),e&&(r.j=e.F.concat(r.j)),e=su(r,t,1e3),t.setTimeout(Math.round(.5*r.xa)+Math.round(.5*r.xa*Math.random())),Ii(r.i,t),Bs(t,s,e)}function Ps(r,e){r.na&&Ie(r.na,function(t,s){Qn(e,s,t)}),r.h&&La({},function(t,s){Qn(e,s,t)})}function su(r,e,t){t=Math.min(r.j.length,t);var s=r.h?ve(r.h.Va,r.h,r):null;e:{var a=r.j;let c=-1;for(;;){const f=["count="+t];-1==c?0<t?(c=a[0].g,f.push("ofs="+c)):c=0:f.push("ofs="+c);let b=!0;for(let V=0;V<t;V++){let z=a[V].g;const te=a[V].map;if(z-=c,0>z)c=Math.max(0,a[V].g-100),b=!1;else try{Ba(te,f,"req"+z+"_")}catch{s&&s(te)}}if(b){s=f.join("&");break e}}}return r=r.j.splice(0,t),e.F=r,s}function Es(r){if(!r.g&&!r.u){r.ba=1;var e=r.Ma;ns||$o(),ho||(ns(),ho=!0),Xo.add(e,r),r.A=0}}function ol(r){return!(r.g||r.u||3<=r.A||(r.ba++,r.u=ps(ve(r.Ma,r),qo(r,r.A)),r.A++,0))}function ou(r){null!=r.B&&(un.clearTimeout(r.B),r.B=null)}function Ko(r){r.g=new wi(r,r.l,"rpc",r.ba),null===r.o&&(r.g.I=r.s),r.g.O=0;var e=no(r.wa);Qn(e,"RID","rpc"),Qn(e,"SID",r.K),Qn(e,"AID",r.V),Qn(e,"CI",r.G?"0":"1"),!r.G&&r.qa&&Qn(e,"TO",r.qa),Qn(e,"TYPE","xmlhttp"),Ps(r,e),r.o&&r.s&&_s(e,r.o,r.s),r.L&&r.g.setTimeout(r.L);var t=r.g;r=r.pa,t.L=1,t.v=ji(no(e)),t.s=null,t.S=!0,B(t,r)}function _u(r){null!=r.v&&(un.clearTimeout(r.v),r.v=null)}function xi(r,e){var t=null;if(r.g==e){_u(r),ou(r),r.g=null;var s=2}else{if(!Go(r.i,e))return;t=e.F,ss(r.i,e),s=1}if(0!=r.H)if(e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.G;var a=r.C;Hr(s=eo(),new Mo(s,t)),_a(r)}else Es(r);else if(3==(a=e.o)||0==a&&0<e.ca||!(1==s&&function Vu(r,e){return!(Ma(r.i)>=r.i.j-(r.m?1:0)||(r.m?(r.j=e.F.concat(r.j),0):1==r.H||2==r.H||r.C>=(r.cb?0:r.eb)||(r.m=ps(ve(r.Na,r,e),qo(r,r.C)),r.C++,0)))}(r,e)||2==s&&ol(r)))switch(t&&0<t.length&&(e=r.i,e.i=e.i.concat(t)),a){case 1:Zo(r,5);break;case 4:Zo(r,10);break;case 3:Zo(r,6);break;default:Zo(r,2)}}function qo(r,e){let t=r.ab+Math.floor(Math.random()*r.hb);return r.isActive()||(t*=2),t*e}function Zo(r,e){if(r.l.info("Error code "+e),2==e){var t=null;r.h&&(t=null);var s=ve(r.pb,r);t||(t=new yo("//www.google.com/images/cleardot.gif"),un.location&&"http"==un.location.protocol||vo(t,"https"),ji(t)),function Lu(r,e){const t=new Ti;if(un.Image){const s=new Image;s.onload=_e(No,t,s,"TestLoadImage: loaded",!0,e),s.onerror=_e(No,t,s,"TestLoadImage: error",!1,e),s.onabort=_e(No,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=_e(No,t,s,"TestLoadImage: timeout",!1,e),un.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=r}else e(!1)}(t.toString(),s)}else Yn(2);r.H=0,r.h&&r.h.za(e),Eu(r),va(r)}function Eu(r){if(r.H=0,r.ma=[],r.h){const e=Tr(r.i);(0!=e.length||0!=r.j.length)&&(qn(r.ma,e),qn(r.ma,r.j),r.i.i.length=0,dn(r.j),r.j.length=0),r.h.ya()}}function aa(r,e,t){var s=t instanceof yo?no(t):new yo(t);if(""!=s.g)e&&(s.g=e+"."+s.g),rs(s,s.m);else{var a=un.location;s=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var c=new yo(null);s&&vo(c,s),e&&(c.g=e),a&&rs(c,a),t&&(c.l=t),s=c}return e=r.Da,(t=r.F)&&e&&Qn(s,t,e),Qn(s,"VER",r.ra),Ps(r,s),s}function wu(r,e,t){if(e&&!r.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Y(t&&r.Ha&&!r.va?new Wo({ob:!0}):r.va)).Oa(r.J),e}function au(){}function Si(){if(an&&!(10<=Number(sr)))throw Error("Environmental error: no available transport.")}function os(r,e){yr.call(this),this.g=new Ji(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(r?r["X-WebChannel-Client-Profile"]=e.Ca:r={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=r,(r=e&&e.cc)&&!rt(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!rt(e)&&(this.g.F=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new ws(this)}function ar(r){bi.call(this),r.__headers__&&(this.headers=r.__headers__,this.statusCode=r.__status__,delete r.__headers__,delete r.__status__);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function ja(){di.call(this),this.status=1}function ws(r){this.g=r}function as(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function wa(r,e,t){t||(t=0);var s=Array(16);if("string"==typeof e)for(var a=0;16>a;++a)s[a]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(a=0;16>a;++a)s[a]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var c=r.g[3],f=(e=r.g[0])+(c^(t=r.g[1])&((a=r.g[2])^c))+s[0]+3614090360&4294967295;f=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=t+(f<<7&4294967295|f>>>25))+((f=c+(a^e&(t^a))+s[1]+3905402710&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^c&(e^t))+s[2]+606105819&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(c^e))+s[3]+3250441966&4294967295)<<22&4294967295|f>>>10))+((f=e+(c^t&(a^c))+s[4]+4118548399&4294967295)<<7&4294967295|f>>>25))+((f=c+(a^e&(t^a))+s[5]+1200080426&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^c&(e^t))+s[6]+2821735955&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(c^e))+s[7]+4249261313&4294967295)<<22&4294967295|f>>>10))+((f=e+(c^t&(a^c))+s[8]+1770035416&4294967295)<<7&4294967295|f>>>25))+((f=c+(a^e&(t^a))+s[9]+2336552879&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^c&(e^t))+s[10]+4294925233&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(c^e))+s[11]+2304563134&4294967295)<<22&4294967295|f>>>10))+((f=e+(c^t&(a^c))+s[12]+1804603682&4294967295)<<7&4294967295|f>>>25))+((f=c+(a^e&(t^a))+s[13]+4254626195&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^c&(e^t))+s[14]+2792965006&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(c^e))+s[15]+1236535329&4294967295)<<22&4294967295|f>>>10))+((f=e+(a^c&(t^a))+s[1]+4129170786&4294967295)<<5&4294967295|f>>>27))+((f=c+(t^a&(e^t))+s[6]+3225465664&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(c^e))+s[11]+643717713&4294967295)<<14&4294967295|f>>>18))+((f=t+(c^e&(a^c))+s[0]+3921069994&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^c&(t^a))+s[5]+3593408605&4294967295)<<5&4294967295|f>>>27))+((f=c+(t^a&(e^t))+s[10]+38016083&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(c^e))+s[15]+3634488961&4294967295)<<14&4294967295|f>>>18))+((f=t+(c^e&(a^c))+s[4]+3889429448&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^c&(t^a))+s[9]+568446438&4294967295)<<5&4294967295|f>>>27))+((f=c+(t^a&(e^t))+s[14]+3275163606&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(c^e))+s[3]+4107603335&4294967295)<<14&4294967295|f>>>18))+((f=t+(c^e&(a^c))+s[8]+1163531501&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^c&(t^a))+s[13]+2850285829&4294967295)<<5&4294967295|f>>>27))+((f=c+(t^a&(e^t))+s[2]+4243563512&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(c^e))+s[7]+1735328473&4294967295)<<14&4294967295|f>>>18))+((f=t+(c^e&(a^c))+s[12]+2368359562&4294967295)<<20&4294967295|f>>>12))+((f=e+(t^a^c)+s[5]+4294588738&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^t^a)+s[8]+2272392833&4294967295)<<11&4294967295|f>>>21))+((f=a+(c^e^t)+s[11]+1839030562&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^c^e)+s[14]+4259657740&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^c)+s[1]+2763975236&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^t^a)+s[4]+1272893353&4294967295)<<11&4294967295|f>>>21))+((f=a+(c^e^t)+s[7]+4139469664&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^c^e)+s[10]+3200236656&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^c)+s[13]+681279174&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^t^a)+s[0]+3936430074&4294967295)<<11&4294967295|f>>>21))+((f=a+(c^e^t)+s[3]+3572445317&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^c^e)+s[6]+76029189&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^c)+s[9]+3654602809&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^t^a)+s[12]+3873151461&4294967295)<<11&4294967295|f>>>21))+((f=a+(c^e^t)+s[15]+530742520&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^c^e)+s[2]+3299628645&4294967295)<<23&4294967295|f>>>9))+((f=e+(a^(t|~c))+s[0]+4096336452&4294967295)<<6&4294967295|f>>>26))+((f=c+(t^(e|~a))+s[7]+1126891415&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(c|~t))+s[14]+2878612391&4294967295)<<15&4294967295|f>>>17))+((f=t+(c^(a|~e))+s[5]+4237533241&4294967295)<<21&4294967295|f>>>11))+((f=e+(a^(t|~c))+s[12]+1700485571&4294967295)<<6&4294967295|f>>>26))+((f=c+(t^(e|~a))+s[3]+2399980690&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(c|~t))+s[10]+4293915773&4294967295)<<15&4294967295|f>>>17))+((f=t+(c^(a|~e))+s[1]+2240044497&4294967295)<<21&4294967295|f>>>11))+((f=e+(a^(t|~c))+s[8]+1873313359&4294967295)<<6&4294967295|f>>>26))+((f=c+(t^(e|~a))+s[15]+4264355552&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(c|~t))+s[6]+2734768916&4294967295)<<15&4294967295|f>>>17))+((f=t+(c^(a|~e))+s[13]+1309151649&4294967295)<<21&4294967295|f>>>11))+((c=(e=t+((f=e+(a^(t|~c))+s[4]+4149444226&4294967295)<<6&4294967295|f>>>26))+((f=c+(t^(e|~a))+s[11]+3174756917&4294967295)<<10&4294967295|f>>>22))^((a=c+((f=a+(e^(c|~t))+s[2]+718787259&4294967295)<<15&4294967295|f>>>17))|~e))+s[9]+3951481745&4294967295,r.g[0]=r.g[0]+e&4294967295,r.g[1]=r.g[1]+(a+(f<<21&4294967295|f>>>11))&4294967295,r.g[2]=r.g[2]+a&4294967295,r.g[3]=r.g[3]+c&4294967295}function Mr(r,e){this.h=e;for(var t=[],s=!0,a=r.length-1;0<=a;a--){var c=0|r[a];s&&c==e||(t[a]=c,s=!1)}this.g=t}(Pt=Y.prototype).Oa=function(r){this.M=r},Pt.ha=function(r,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+r);e=e?e.toUpperCase():"GET",this.I=r,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ro.g(),this.C=function Li(r){return r.h||(r.h=r.i())}(this.u?this.u:Ro),this.g.onreadystatechange=ve(this.La,this);try{this.G=!0,this.g.open(e,String(r),!0),this.G=!1}catch(c){return void br(this,c)}if(r=t||"",t=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var a in s)t.set(a,s[a]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const c of s.keys())t.set(c,s.get(c))}s=Array.from(t.keys()).find(c=>"content-type"==c.toLowerCase()),a=un.FormData&&r instanceof un.FormData,!(0<=At(vt,e))||s||a||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,f]of t)this.g.setRequestHeader(c,f);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ri(this),0<this.B&&((this.L=function vn(r){return an&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ve(this.ua,this)):this.A=Ri(this.ua,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(c){br(this,c)}},Pt.ua=function(){typeof qr<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Hr(this,"timeout"),this.abort(8))},Pt.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,Hr(this,"complete"),Hr(this,"abort"),$n(this))},Pt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$n(this,!0)),Y.$.N.call(this)},Pt.La=function(){this.s||(this.G||this.v||this.l?cr(this):this.kb())},Pt.kb=function(){cr(this)},Pt.isActive=function(){return!!this.g},Pt.da=function(){try{return 2<nr(this)?this.g.status:-1}catch{return-1}},Pt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Pt.Wa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),k(e)}},Pt.Ia=function(){return this.m},Pt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Pt=Ji.prototype).ra=8,Pt.H=1,Pt.Na=function(r){if(this.m)if(this.m=null,1==this.H){if(!r){this.W=Math.floor(1e5*Math.random()),r=this.W++;const a=new wi(this,this.l,r);let c=this.s;if(this.U&&(c?(c=Rt(c),Bn(c,this.U)):c=this.U),null!==this.o||this.O||(a.I=c,c=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var s=this.j[t];if(void 0===(s="__data__"in s.map&&"string"==typeof(s=s.map.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=su(this,a,e),Qn(t=no(this.I),"RID",r),Qn(t,"CVER",22),this.F&&Qn(t,"X-HTTP-Session-Id",this.F),Ps(this,t),c&&(this.O?e="headers="+encodeURIComponent(String(Ki(c)))+"&"+e:this.o&&_s(t,this.o,c)),Ii(this.i,a),this.bb&&Qn(t,"TYPE","init"),this.P?(Qn(t,"$req",e),Qn(t,"SID","null"),a.aa=!0,Bs(a,t,null)):Bs(a,t,e),this.H=2}}else 3==this.H&&(r?Ea(this,r):0==this.j.length||Va(this.i)||Ea(this))},Pt.Ma=function(){if(this.u=null,Ko(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var r=2*this.S;this.l.info("BP detection timer enabled: "+r),this.B=ps(ve(this.jb,this),r)}},Pt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Yn(10),Vi(this),Ko(this))},Pt.ib=function(){null!=this.v&&(this.v=null,Vi(this),ol(this),Yn(19))},Pt.pb=function(r){r?(this.l.info("Successfully pinged google.com"),Yn(2)):(this.l.info("Failed to ping google.com"),Yn(1))},Pt.isActive=function(){return!!this.h&&this.h.isActive(this)},(Pt=au.prototype).Ba=function(){},Pt.Aa=function(){},Pt.za=function(){},Pt.ya=function(){},Pt.isActive=function(){return!0},Pt.Va=function(){},Si.prototype.g=function(r,e){return new os(r,e)},ie(os,yr),os.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var r=this.g,e=this.l,t=this.h||void 0;Yn(0),r.Y=e,r.na=t||{},r.G=r.aa,r.I=aa(r,null,r.Y),_a(r)},os.prototype.close=function(){qi(this.g)},os.prototype.u=function(r){var e=this.g;if("string"==typeof r){var t={};t.__data__=r,r=t}else this.v&&((t={}).__data__=co(r),r=t);e.j.push(new class{constructor(r,e){this.g=r,this.map=e}}(e.fb++,r)),3==e.H&&_a(e)},os.prototype.N=function(){this.g.h=null,delete this.j,qi(this.g),delete this.g,os.$.N.call(this)},ie(ar,bi),ie(ja,di),ie(ws,au),ws.prototype.Ba=function(){Hr(this.g,"a")},ws.prototype.Aa=function(r){Hr(this.g,new ar(r))},ws.prototype.za=function(r){Hr(this.g,new ja)},ws.prototype.ya=function(){Hr(this.g,"b")},ie(as,function Ra(){this.blockSize=-1}),as.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},as.prototype.j=function(r,e){void 0===e&&(e=r.length);for(var t=e-this.blockSize,s=this.m,a=this.h,c=0;c<e;){if(0==a)for(;c<=t;)wa(this,r,c),c+=this.blockSize;if("string"==typeof r){for(;c<e;)if(s[a++]=r.charCodeAt(c++),a==this.blockSize){wa(this,s),a=0;break}}else for(;c<e;)if(s[a++]=r[c++],a==this.blockSize){wa(this,s),a=0;break}}this.h=a,this.i+=e},as.prototype.l=function(){var r=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);r[0]=128;for(var e=1;e<r.length-8;++e)r[e]=0;var t=8*this.i;for(e=r.length-8;e<r.length;++e)r[e]=255&t,t/=256;for(this.j(r),r=Array(16),e=t=0;4>e;++e)for(var s=0;32>s;s+=8)r[t++]=this.g[e]>>>s&255;return r};var xa={};function Iu(r){return-128<=r&&128>r?function xn(r,e){var t=xa;return Object.prototype.hasOwnProperty.call(t,r)?t[r]:t[r]=e(r)}(r,function(e){return new Mr([0|e],0>e?-1:0)}):new Mr([0|r],0>r?-1:0)}function us(r){if(isNaN(r)||!isFinite(r))return _o;if(0>r)return Xi(us(-r));for(var e=[],t=1,s=0;r>=t;s++)e[s]=r/t|0,t*=si;return new Mr(e,0)}var si=4294967296,_o=Iu(0),Eo=Iu(1),uu=Iu(16777216);function io(r){if(0!=r.h)return!1;for(var e=0;e<r.g.length;e++)if(0!=r.g[e])return!1;return!0}function pi(r){return-1==r.h}function Xi(r){for(var e=r.g.length,t=[],s=0;s<e;s++)t[s]=~r.g[s];return new Mr(t,~r.h).add(Eo)}function Du(r,e){return r.add(Xi(e))}function Vr(r,e){for(;(65535&r[e])!=r[e];)r[e+1]+=r[e]>>>16,r[e]&=65535,e++}function $a(r,e){this.g=r,this.h=e}function Pa(r,e){if(io(e))throw Error("division by zero");if(io(r))return new $a(_o,_o);if(pi(r))return e=Pa(Xi(r),e),new $a(Xi(e.g),Xi(e.h));if(pi(e))return e=Pa(r,Xi(e)),new $a(Xi(e.g),e.h);if(30<r.g.length){if(pi(r)||pi(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Eo,s=e;0>=s.X(r);)t=Uu(t),s=Uu(s);var a=ua(t,1),c=ua(s,1);for(s=ua(s,2),t=ua(t,2);!io(s);){var f=c.add(s);0>=f.X(r)&&(a=a.add(t),c=f),s=ua(s,1),t=ua(t,1)}return e=Du(r,a.R(e)),new $a(a,e)}for(a=_o;0<=r.X(e);){for(t=Math.max(1,Math.floor(r.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,s-48),f=(c=us(t)).R(e);pi(f)||0<f.X(r);)f=(c=us(t-=s)).R(e);io(c)&&(c=Eo),a=a.add(c),r=Du(r,f)}return new $a(a,r)}function Uu(r){for(var e=r.g.length+1,t=[],s=0;s<e;s++)t[s]=r.D(s)<<1|r.D(s-1)>>>31;return new Mr(t,r.h)}function ua(r,e){var t=e>>5;e%=32;for(var s=r.g.length-t,a=[],c=0;c<s;c++)a[c]=0<e?r.D(c+t)>>>e|r.D(c+t+1)<<32-e:r.D(c+t);return new Mr(a,r.h)}(Pt=Mr.prototype).ea=function(){if(pi(this))return-Xi(this).ea();for(var r=0,e=1,t=0;t<this.g.length;t++){var s=this.D(t);r+=(0<=s?s:si+s)*e,e*=si}return r},Pt.toString=function(r){if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if(io(this))return"0";if(pi(this))return"-"+Xi(this).toString(r);for(var e=us(Math.pow(r,6)),t=this,s="";;){var a=Pa(t,e).g,c=((0<(t=Du(t,a.R(e))).g.length?t.g[0]:t.h)>>>0).toString(r);if(io(t=a))return c+s;for(;6>c.length;)c="0"+c;s=c+s}},Pt.D=function(r){return 0>r?0:r<this.g.length?this.g[r]:this.h},Pt.X=function(r){return pi(r=Du(this,r))?-1:io(r)?0:1},Pt.abs=function(){return pi(this)?Xi(this):this},Pt.add=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0,a=0;a<=e;a++){var c=s+(65535&this.D(a))+(65535&r.D(a)),f=(c>>>16)+(this.D(a)>>>16)+(r.D(a)>>>16);s=f>>>16,t[a]=(f&=65535)<<16|(c&=65535)}return new Mr(t,-2147483648&t[t.length-1]?-1:0)},Pt.R=function(r){if(io(this)||io(r))return _o;if(pi(this))return pi(r)?Xi(this).R(Xi(r)):Xi(Xi(this).R(r));if(pi(r))return Xi(this.R(Xi(r)));if(0>this.X(uu)&&0>r.X(uu))return us(this.ea()*r.ea());for(var e=this.g.length+r.g.length,t=[],s=0;s<2*e;s++)t[s]=0;for(s=0;s<this.g.length;s++)for(var a=0;a<r.g.length;a++){var c=this.D(s)>>>16,f=65535&this.D(s),b=r.D(a)>>>16,V=65535&r.D(a);t[2*s+2*a]+=f*V,Vr(t,2*s+2*a),t[2*s+2*a+1]+=c*V,Vr(t,2*s+2*a+1),t[2*s+2*a+1]+=f*b,Vr(t,2*s+2*a+1),t[2*s+2*a+2]+=c*b,Vr(t,2*s+2*a+2)}for(s=0;s<e;s++)t[s]=t[2*s+1]<<16|t[2*s];for(s=e;s<2*e;s++)t[s]=0;return new Mr(t,0)},Pt.gb=function(r){return Pa(this,r).h},Pt.and=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)&r.D(s);return new Mr(t,this.h&r.h)},Pt.or=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)|r.D(s);return new Mr(t,this.h|r.h)},Pt.xor=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)^r.D(s);return new Mr(t,this.h^r.h)},Si.prototype.createWebChannel=Si.prototype.g,os.prototype.send=os.prototype.u,os.prototype.open=os.prototype.m,os.prototype.close=os.prototype.close,zr.NO_ERROR=0,zr.TIMEOUT=8,zr.HTTP_ERROR=6,to.COMPLETE="complete",nu.EventType=gs,gs.OPEN="a",gs.CLOSE="b",gs.ERROR="c",gs.MESSAGE="d",yr.prototype.listen=yr.prototype.O,Y.prototype.listenOnce=Y.prototype.P,Y.prototype.getLastError=Y.prototype.Sa,Y.prototype.getLastErrorCode=Y.prototype.Ia,Y.prototype.getStatus=Y.prototype.da,Y.prototype.getResponseJson=Y.prototype.Wa,Y.prototype.getResponseText=Y.prototype.ja,Y.prototype.send=Y.prototype.ha,Y.prototype.setWithCredentials=Y.prototype.Oa,as.prototype.digest=as.prototype.l,as.prototype.reset=as.prototype.reset,as.prototype.update=as.prototype.j,Mr.prototype.add=Mr.prototype.add,Mr.prototype.multiply=Mr.prototype.R,Mr.prototype.modulo=Mr.prototype.gb,Mr.prototype.compare=Mr.prototype.X,Mr.prototype.toNumber=Mr.prototype.ea,Mr.prototype.toString=Mr.prototype.toString,Mr.prototype.getBits=Mr.prototype.D,Mr.fromNumber=us,Mr.fromString=function ei(r,e){if(0==r.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==r.charAt(0))return Xi(ei(r.substring(1),e));if(0<=r.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=us(Math.pow(e,8)),s=_o,a=0;a<r.length;a+=8){var c=Math.min(8,r.length-a),f=parseInt(r.substring(a,a+c),e);8>c?(c=us(Math.pow(e,c)),s=s.R(c).add(us(f))):s=(s=s.R(t)).add(us(f))}return s};var Bu=tr.createWebChannelTransport=function(){return new Si},_l=tr.getStatEventTarget=function(){return eo()},ju=tr.ErrorCode=zr,la=tr.EventType=to,P=tr.Event=Bi,g=tr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},y=tr.FetchXmlHttpFactory=Wo,A=tr.WebChannel=nu,j=tr.XhrIo=Y,Q=tr.Md5=as,le=tr.Integer=Mr;const ge="@firebase/firestore";class be{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}be.UNAUTHENTICATED=new be(null),be.GOOGLE_CREDENTIALS=new be("google-credentials-uid"),be.FIRST_PARTY=new be("first-party-uid"),be.MOCK_USER=new be("mock-user");let nt="9.22.1";const Ot=new Vt.Yd("@firebase/firestore");function Yt(){return Ot.logLevel}function We(r,...e){if(Ot.logLevel<=Vt.in.DEBUG){const t=e.map(or);Ot.debug(`Firestore (${nt}): ${r}`,...t)}}function kt(r,...e){if(Ot.logLevel<=Vt.in.ERROR){const t=e.map(or);Ot.error(`Firestore (${nt}): ${r}`,...t)}}function rn(r,...e){if(Ot.logLevel<=Vt.in.WARN){const t=e.map(or);Ot.warn(`Firestore (${nt}): ${r}`,...t)}}function or(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function Mt(r="Unexpected state"){const e=`FIRESTORE (${nt}) INTERNAL ASSERTION FAILED: `+r;throw kt(e),new Error(e)}function _(r,e){r||Mt()}function v(r,e){return r}const w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class R extends zn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class q{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class ee{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Re{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(be.UNAUTHENTICATED))}shutdown(){}}class at{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class $t{constructor(e){this.t=e,this.currentUser=be.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let a=this.i;const c=z=>this.i!==a?(a=this.i,t(z)):Promise.resolve();let f=new q;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new q,e.enqueueRetryable(()=>c(this.currentUser))};const b=()=>{const z=f;e.enqueueRetryable((0,Zt.Z)(function*(){yield z.promise,yield c(s.currentUser)}))},V=z=>{We("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=z,this.auth.addAuthTokenListener(this.o),b()};this.t.onInit(z=>V(z)),setTimeout(()=>{if(!this.auth){const z=this.t.getImmediate({optional:!0});z?V(z):(We("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new q)}},0),b()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(We("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(_("string"==typeof s.accessToken),new ee(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return _(null===e||"string"==typeof e),new be(e)}}class Qt{constructor(e,t,s){this.h=e,this.l=t,this.m=s,this.type="FirstParty",this.user=be.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class jn{constructor(e,t,s){this.h=e,this.l=t,this.m=s}getToken(){return Promise.resolve(new Qt(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(be.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Pi{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Os{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const s=c=>{null!=c.error&&We("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.T;return this.T=c.token,We("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const a=c=>{We("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.I.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.I.getImmediate({optional:!0});c?a(c):We("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(_("string"==typeof t.token),this.T=t.token,new Pi(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Sn(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}class fn{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=Sn(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<t&&(s+=e.charAt(a[c]%e.length))}return s}}function Xt(r,e){return r<e?-1:r>e?1:0}function oi(r,e,t){return r.length===e.length&&r.every((s,a)=>t(s,e[a]))}class vr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new R(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new R(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new R(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new R(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return vr.fromMillis(Date.now())}static fromDate(e){return vr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new vr(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Xt(this.nanoseconds,e.nanoseconds):Xt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class pn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new pn(e)}static min(){return new pn(new vr(0,0))}static max(){return new pn(new vr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Gr{constructor(e,t,s){void 0===t?t=0:t>e.length&&Mt(),void 0===s?s=e.length-t:s>e.length-t&&Mt(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===Gr.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Gr?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const c=e.get(a),f=t.get(a);if(c<f)return-1;if(c>f)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class wr extends Gr{construct(e,t,s){return new wr(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new R(w.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new wr(t)}static emptyPath(){return new wr([])}}const Zl=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fr extends Gr{construct(e,t,s){return new fr(e,t,s)}static isValidIdentifier(e){return Zl.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new fr(["__name__"])}static fromServerFormat(e){const t=[];let s="",a=0;const c=()=>{if(0===s.length)throw new R(w.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let f=!1;for(;a<e.length;){const b=e[a];if("\\"===b){if(a+1===e.length)throw new R(w.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const V=e[a+1];if("\\"!==V&&"."!==V&&"`"!==V)throw new R(w.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=V,a+=2}else"`"===b?(f=!f,a++):"."!==b||f?(s+=b,a++):(c(),a++)}if(c(),f)throw new R(w.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fr(t)}static emptyPath(){return new fr([])}}class Wt{constructor(e){this.path=e}static fromPath(e){return new Wt(wr.fromString(e))}static fromName(e){return new Wt(wr.fromString(e).popFirst(5))}static empty(){return new Wt(wr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===wr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return wr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Wt(new wr(e.slice()))}}function Dd(r){return new Hs(r.readTime,r.key,-1)}class Hs{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Hs(pn.min(),Wt.empty(),-1)}static max(){return new Hs(pn.max(),Wt.empty(),-1)}}function wl(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=Wt.comparator(r.documentKey,e.documentKey),0!==t?t:Xt(r.largestBatchId,e.largestBatchId))}const $u="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Yl{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ca(r){return Il.apply(this,arguments)}function Il(){return Il=(0,Zt.Z)(function*(r){if(r.code!==w.FAILED_PRECONDITION||r.message!==$u)throw r;We("LocalStore","Unexpectedly lost primary lease")}),Il.apply(this,arguments)}class Je{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Mt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Je((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(t,c).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Je?t:Je.resolve(t)}catch(t){return Je.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Je.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Je.reject(t)}static resolve(e){return new Je((t,s)=>{t(e)})}static reject(e){return new Je((t,s)=>{s(e)})}static waitFor(e){return new Je((t,s)=>{let a=0,c=0,f=!1;e.forEach(b=>{++a,b.next(()=>{++c,f&&c===a&&t()},V=>s(V))}),f=!0,c===a&&t()})}static or(e){let t=Je.resolve(!1);for(const s of e)t=t.next(a=>a?Je.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,c)=>{s.push(t.call(this,a,c))}),this.waitFor(s)}static mapArray(e,t){return new Je((s,a)=>{const c=e.length,f=new Array(c);let b=0;for(let V=0;V<c;V++){const z=V;t(e[z]).next(te=>{f[z]=te,++b,b===c&&s(f)},te=>a(te))}})}static doWhile(e,t){return new Je((s,a)=>{const c=()=>{!0===e()?t().next(()=>{c()},a):s()};c()})}}function Da(r){return"IndexedDbTransactionError"===r.name}let so=(()=>{class r{constructor(t,s){this.previousValue=t,s&&(s.sequenceNumberHandler=a=>this.ot(a),this.ut=a=>s.writeSequenceNumber(a))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return r.ct=-1,r})();function ko(r){return null==r}function lu(r){return 0===r&&1/r==-1/0}function Uc(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Au(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function ul(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class Di{constructor(e,t){this.comparator=e,this.root=t||ls.EMPTY}insert(e,t){return new Di(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ls.BLACK,null,null))}remove(e){return new Di(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ls.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(0===a)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bl(this.root,e,this.comparator,!1)}getReverseIterator(){return new bl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bl(this.root,e,this.comparator,!0)}}class bl{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?s(e.key,t):1,t&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ls{constructor(e,t,s,a,c){this.key=e,this.value=t,this.color=s??ls.RED,this.left=a??ls.EMPTY,this.right=c??ls.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,c){return new ls(e??this.key,t??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,t,s),null):0===c?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return ls.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return ls.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ls.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ls.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Mt();const e=this.left.check();if(e!==this.right.check())throw Mt();return e+(this.isRed()?0:1)}}ls.EMPTY=null,ls.RED=!0,ls.BLACK=!1,ls.EMPTY=new class{constructor(){this.size=0}get key(){throw Mt()}get value(){throw Mt()}get color(){throw Mt()}get left(){throw Mt()}get right(){throw Mt()}copy(r,e,t,s,a){return this}insert(r,e,t){return new ls(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Oi{constructor(e){this.comparator=e,this.data=new Di(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Cd(this.data.getIterator())}getIteratorFrom(e){return new Cd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Oi)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=s.getNext().key;if(0!==this.comparator(a,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Oi(this.comparator);return t.data=e,t}}class Cd{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Lo{constructor(e){this.fields=e,e.sort(fr.comparator)}static empty(){return new Lo([])}unionWith(e){let t=new Oi(fr.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Lo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return oi(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class Td extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Gs{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Td("Invalid base64 string: "+a):a}}(e);return new Gs(t)}static fromUint8Array(e){const t=function(s){let a="";for(let c=0;c<s.length;++c)a+=String.fromCharCode(s[c]);return a}(e);return new Gs(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gs.EMPTY_BYTE_STRING=new Gs("");const D=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function d(r){if(_(!!r),"string"==typeof r){let e=0;const t=D.exec(r);if(_(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:m(r.seconds),nanos:m(r.nanos)}}function m(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function T(r){return"string"==typeof r?Gs.fromBase64String(r):Gs.fromUint8Array(r)}function K(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=r?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function ne(r){const e=r.mapValue.fields.__previous_value__;return K(e)?ne(e):e}function Oe(r){const e=d(r.mapValue.fields.__local_write_time__.timestampValue);return new vr(e.seconds,e.nanos)}class ht{constructor(e,t,s,a,c,f,b,V,z){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=b,this.longPollingOptions=V,this.useFetchStreams=z}}class Lt{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Lt("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Lt&&e.projectId===this.projectId&&e.database===this.database}}const en={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Gn(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?K(r)?4:jc(r)?9007199254740991:10:Mt()}function Zi(r,e){if(r===e)return!0;const t=Gn(r);if(t!==Gn(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Oe(r).isEqual(Oe(e));case 3:return function(s,a){if("string"==typeof s.timestampValue&&"string"==typeof a.timestampValue&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const c=d(s.timestampValue),f=d(a.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return a=e,T(r.bytesValue).isEqual(T(a.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(s,a){return m(s.geoPointValue.latitude)===m(a.geoPointValue.latitude)&&m(s.geoPointValue.longitude)===m(a.geoPointValue.longitude)}(r,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return m(s.integerValue)===m(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const c=m(s.doubleValue),f=m(a.doubleValue);return c===f?lu(c)===lu(f):isNaN(c)&&isNaN(f)}return!1}(r,e);case 9:return oi(r.arrayValue.values||[],e.arrayValue.values||[],Zi);case 10:return function(s,a){const c=s.mapValue.fields||{},f=a.mapValue.fields||{};if(Uc(c)!==Uc(f))return!1;for(const b in c)if(c.hasOwnProperty(b)&&(void 0===f[b]||!Zi(c[b],f[b])))return!1;return!0}(r,e);default:return Mt()}var a}function Ca(r,e){return void 0!==(r.values||[]).find(t=>Zi(t,e))}function Wa(r,e){if(r===e)return 0;const t=Gn(r),s=Gn(e);if(t!==s)return Xt(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Xt(r.booleanValue,e.booleanValue);case 2:return function(a,c){const f=m(a.integerValue||a.doubleValue),b=m(c.integerValue||c.doubleValue);return f<b?-1:f>b?1:f===b?0:isNaN(f)?isNaN(b)?0:-1:1}(r,e);case 3:return Dh(r.timestampValue,e.timestampValue);case 4:return Dh(Oe(r),Oe(e));case 5:return Xt(r.stringValue,e.stringValue);case 6:return function(a,c){const f=T(a),b=T(c);return f.compareTo(b)}(r.bytesValue,e.bytesValue);case 7:return function(a,c){const f=a.split("/"),b=c.split("/");for(let V=0;V<f.length&&V<b.length;V++){const z=Xt(f[V],b[V]);if(0!==z)return z}return Xt(f.length,b.length)}(r.referenceValue,e.referenceValue);case 8:return function(a,c){const f=Xt(m(a.latitude),m(c.latitude));return 0!==f?f:Xt(m(a.longitude),m(c.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(a,c){const f=a.values||[],b=c.values||[];for(let V=0;V<f.length&&V<b.length;++V){const z=Wa(f[V],b[V]);if(z)return z}return Xt(f.length,b.length)}(r.arrayValue,e.arrayValue);case 10:return function(a,c){if(a===en.mapValue&&c===en.mapValue)return 0;if(a===en.mapValue)return 1;if(c===en.mapValue)return-1;const f=a.fields||{},b=Object.keys(f),V=c.fields||{},z=Object.keys(V);b.sort(),z.sort();for(let te=0;te<b.length&&te<z.length;++te){const me=Xt(b[te],z[te]);if(0!==me)return me;const Ye=Wa(f[b[te]],V[z[te]]);if(0!==Ye)return Ye}return Xt(b.length,z.length)}(r.mapValue,e.mapValue);default:throw Mt()}}function Dh(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return Xt(r,e);const t=d(r),s=d(e),a=Xt(t.seconds,s.seconds);return 0!==a?a:Xt(t.nanos,s.nanos)}function Ka(r){return Bc(r)}function Bc(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(s){const a=d(s);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?T(r.bytesValue).toBase64():"referenceValue"in r?Wt.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(s){let a="[",c=!0;for(const f of s.values||[])c?c=!1:a+=",",a+=Bc(f);return a+"]"}(r.arrayValue):"mapValue"in r?function(s){const a=Object.keys(s.fields||{}).sort();let c="{",f=!0;for(const b of a)f?f=!1:c+=",",c+=`${b}:${Bc(s.fields[b])}`;return c+"}"}(r.mapValue):Mt();var e}function fu(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function tc(r){return!!r&&"integerValue"in r}function zu(r){return!!r&&"arrayValue"in r}function nc(r){return!!r&&"nullValue"in r}function Ml(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ll(r){return!!r&&"mapValue"in r}function Gu(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Au(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Gu(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Gu(r.arrayValue.values[t]);return e}return Object.assign({},r)}function jc(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}class Vo{constructor(e){this.value=e}static empty(){return new Vo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!ll(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gu(t)}setAll(e){let t=fr.emptyPath(),s={},a=[];e.forEach((f,b)=>{if(!t.isImmediateParentOf(b)){const V=this.getFieldsMap(t);this.applyChanges(V,s,a),s={},a=[],t=b.popLast()}f?s[b.lastSegment()]=Gu(f):a.push(b.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,s,a)}delete(e){const t=this.field(e.popLast());ll(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Zi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];ll(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){Au(t,(a,c)=>e[a]=c);for(const a of s)delete e[a]}clone(){return new Vo(Gu(this.value))}}function pm(r){const e=[];return Au(r.fields,(t,s)=>{const a=new fr([t]);if(ll(s)){const c=pm(s.mapValue).fields;if(0===c.length)e.push(a);else for(const f of c)e.push(a.child(f))}else e.push(a)}),new Lo(e)}class es{constructor(e,t,s,a,c,f,b){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=c,this.data=f,this.documentState=b}static newInvalidDocument(e){return new es(e,0,pn.min(),pn.min(),pn.min(),Vo.empty(),0)}static newFoundDocument(e,t,s,a){return new es(e,1,t,pn.min(),s,a,0)}static newNoDocument(e,t){return new es(e,2,t,pn.min(),pn.min(),Vo.empty(),0)}static newUnknownDocument(e,t){return new es(e,3,t,pn.min(),pn.min(),Vo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(pn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof es&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new es(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Rl{constructor(e,t){this.position=e,this.inclusive=t}}function Kf(r,e,t){let s=0;for(let a=0;a<r.position.length;a++){const c=e[a],f=r.position[a];if(s=c.field.isKeyField()?Wt.comparator(Wt.fromName(f.referenceValue),t.key):Wa(f,t.data.field(c.field)),"desc"===c.dir&&(s*=-1),0!==s)break}return s}function qf(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Zi(r.position[t],e.position[t]))return!1;return!0}class cl{constructor(e,t="asc"){this.field=e,this.dir=t}}function Zf(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class rc{}class Wr extends rc{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,s):new mm(e,t,s):"array-contains"===t?new e_(e,s):"in"===t?new _m(e,s):"not-in"===t?new t_(e,s):"array-contains-any"===t?new n_(e,s):new Wr(e,t,s)}static createKeyFieldInFilter(e,t,s){return"in"===t?new ym(e,s):new ic(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Wa(t,this.value)):null!==t&&Gn(this.value)===Gn(t)&&this.matchesComparison(Wa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Mt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ni extends rc{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Ni(e,t)}matches(e){return bd(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function bd(r){return"and"===r.op}function Sd(r){return function gm(r){for(const e of r.filters)if(e instanceof Ni)return!1;return!0}(r)&&bd(r)}function Ch(r){if(r instanceof Wr)return r.field.canonicalString()+r.op.toString()+Ka(r.value);if(Sd(r))return r.filters.map(e=>Ch(e)).join(",");{const e=r.filters.map(t=>Ch(t)).join(",");return`${r.op}(${e})`}}function Ad(r,e){return r instanceof Wr?(t=r,(s=e)instanceof Wr&&t.op===s.op&&t.field.isEqual(s.field)&&Zi(t.value,s.value)):r instanceof Ni?function(t,s){return s instanceof Ni&&t.op===s.op&&t.filters.length===s.filters.length&&t.filters.reduce((a,c,f)=>a&&Ad(c,s.filters[f]),!0)}(r,e):void Mt();var t,s}function Qf(r){return r instanceof Wr?`${(e=r).field.canonicalString()} ${e.op} ${Ka(e.value)}`:r instanceof Ni?function(e){return e.op.toString()+" {"+e.getFilters().map(Qf).join(" ,")+"}"}(r):"Filter";var e}class mm extends Wr{constructor(e,t,s){super(e,t,s),this.key=Wt.fromName(s.referenceValue)}matches(e){const t=Wt.comparator(e.key,this.key);return this.matchesComparison(t)}}class ym extends Wr{constructor(e,t){super(e,"in",t),this.keys=vm(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ic extends Wr{constructor(e,t){super(e,"not-in",t),this.keys=vm(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function vm(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>Wt.fromName(s.referenceValue))}class e_ extends Wr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return zu(t)&&Ca(t.arrayValue,this.value)}}class _m extends Wr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ca(this.value.arrayValue,t)}}class t_ extends Wr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ca(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ca(this.value.arrayValue,t)}}class n_ extends Wr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!zu(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Ca(this.value.arrayValue,s))}}class dl{constructor(e,t=null,s=[],a=[],c=null,f=null,b=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=f,this.endAt=b,this.dt=null}}function xl(r,e=null,t=[],s=[],a=null,c=null,f=null){return new dl(r,e,t,s,a,c,f)}function sc(r){const e=v(r);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Ch(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(a=s).field.canonicalString()+a.dir;var a}).join(","),ko(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Ka(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Ka(s)).join(",")),e.dt=t}return e.dt}function Md(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!Zf(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Ad(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!qf(r.startAt,e.startAt)&&qf(r.endAt,e.endAt)}function bh(r){return Wt.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}class Wu{constructor(e,t=null,s=[],a=[],c=null,f="F",b=null,V=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=f,this.startAt=b,this.endAt=V,this.wt=null,this._t=null}}function Hc(r){return new Wu(r)}function Dm(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function Jf(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function oc(r){for(const e of r.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Mu(r){return null!==r.collectionGroup}function Ru(r){const e=v(r);if(null===e.wt){e.wt=[];const t=oc(e),s=Jf(e);if(null!==t&&null===s)t.isKeyField()||e.wt.push(new cl(t)),e.wt.push(new cl(fr.keyField(),"asc"));else{let a=!1;for(const c of e.explicitOrderBy)e.wt.push(c),c.field.isKeyField()&&(a=!0);if(!a){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new cl(fr.keyField(),c))}}}return e.wt}function ha(r){const e=v(r);if(!e._t)if("F"===e.limitType)e._t=xl(e.path,e.collectionGroup,Ru(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const c of Ru(e))t.push(new cl(c.field,"desc"===c.dir?"asc":"desc"));const s=e.endAt?new Rl(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new Rl(e.startAt.position,e.startAt.inclusive):null;e._t=xl(e.path,e.collectionGroup,t,e.filters,e.limit,s,a)}return e._t}function Ah(r,e){e.getFirstInequalityField(),oc(r);const t=r.filters.concat([e]);return new Wu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Rd(r,e,t){return new Wu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Mh(r,e){return Md(ha(r),ha(e))&&r.limitType===e.limitType}function r_(r){return`${sc(ha(r))}|lt:${r.limitType}`}function Cm(r){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(s=>Qf(s)).join(", ")}]`),ko(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(s=>{return`${(a=s).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Ka(s)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Ka(s)).join(",")),`Target(${t})`}(ha(r))}; limitType=${r.limitType})`}function ac(r,e){return e.isFoundDocument()&&function(t,s){const a=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):Wt.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(r,e)&&function(t,s){for(const a of Ru(t))if(!a.field.isKeyField()&&null===s.data.field(a.field))return!1;return!0}(r,e)&&function(t,s){for(const a of t.filters)if(!a.matches(s))return!1;return!0}(r,e)&&(s=e,!((t=r).startAt&&!function(a,c,f){const b=Kf(a,c,f);return a.inclusive?b<=0:b<0}(t.startAt,Ru(t),s)||t.endAt&&!function(a,c,f){const b=Kf(a,c,f);return a.inclusive?b>=0:b>0}(t.endAt,Ru(t),s)));var t,s}function i_(r){return(e,t)=>{let s=!1;for(const a of Ru(r)){const c=EE(a,e,t);if(0!==c)return c;s=s||a.field.isKeyField()}return 0}}function EE(r,e,t){const s=r.field.isKeyField()?Wt.comparator(e.key,t.key):function(a,c,f){const b=c.data.field(a),V=f.data.field(a);return null!==b&&null!==V?Wa(b,V):Mt()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Mt()}}class Ku{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[a,c]of s)if(this.equalsFn(a,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(void 0===a)return this.inner[s]=[[e,t]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return 1===s.length?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Au(this.inner,(t,s)=>{for(const[a,c]of s)e(a,c)})}isEmpty(){return ul(this.inner)}size(){return this.innerSize}}const s_=new Di(Wt.comparator);function Na(){return s_}const Tm=new Di(Wt.comparator);function xd(...r){let e=Tm;for(const t of r)e=e.insert(t.key,t);return e}function Xf(r){let e=Tm;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function qa(){return uc()}function ep(){return uc()}function uc(){return new Ku(r=>r.toString(),(r,e)=>r.isEqual(e))}const o_=new Di(Wt.comparator),Ws=new Oi(Wt.comparator);function pr(...r){let e=Ws;for(const t of r)e=e.add(t);return e}const a_=new Oi(Xt);function tp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lu(e)?"-0":e}}function bm(r){return{integerValue:""+r}}function Sm(r,e){return function cu(r){return"number"==typeof r&&Number.isInteger(r)&&!lu(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}(e)?bm(e):tp(r,e)}class xh{constructor(){this._=void 0}}function u_(r,e,t){return r instanceof Od?function(s,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&K(a)&&(a=ne(a)),a&&(c.fields.__previous_value__=a),{mapValue:c}}(t,e):r instanceof xu?Ph(r,e):r instanceof Pl?np(r,e):function(s,a){const c=l_(s,a),f=Mm(c)+Mm(s.gt);return tc(c)&&tc(s.gt)?bm(f):tp(s.serializer,f)}(r,e)}function Am(r,e,t){return r instanceof xu?Ph(r,e):r instanceof Pl?np(r,e):t}function l_(r,e){return r instanceof lc?tc(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class Od extends xh{}class xu extends xh{constructor(e){super(),this.elements=e}}function Ph(r,e){const t=Rm(e);for(const s of r.elements)t.some(a=>Zi(a,s))||t.push(s);return{arrayValue:{values:t}}}class Pl extends xh{constructor(e){super(),this.elements=e}}function np(r,e){let t=Rm(e);for(const s of r.elements)t=t.filter(a=>!Zi(a,s));return{arrayValue:{values:t}}}class lc extends xh{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Mm(r){return m(r.integerValue||r.doubleValue)}function Rm(r){return zu(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class rp{constructor(e,t){this.version=e,this.transformResults=t}}class Cs{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Cs}static exists(e){return new Cs(void 0,e)}static updateTime(e){return new Cs(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gc(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class Oh{}function Nh(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new gu(r.key,Cs.none()):new Ol(r.key,r.data,Cs.none());{const t=r.data,s=Vo.empty();let a=new Oi(fr.comparator);for(let c of e.fields)if(!a.has(c)){let f=t.field(c);null===f&&c.length>1&&(c=c.popLast(),f=t.field(c)),null===f?s.delete(c):s.set(c,f),a=a.add(c)}return new pu(r.key,s,new Lo(a.toArray()),Cs.none())}}function Pm(r,e,t){r instanceof Ol?function(s,a,c){const f=s.value.clone(),b=kh(s.fieldTransforms,a,c.transformResults);f.setAll(b),a.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(r,e,t):r instanceof pu?function(s,a,c){if(!Gc(s.precondition,a))return void a.convertToUnknownDocument(c.version);const f=kh(s.fieldTransforms,a,c.transformResults),b=a.data;b.setAll(Nm(s)),b.setAll(f),a.convertToFoundDocument(c.version,b).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Wc(r,e,t,s){return r instanceof Ol?function(a,c,f,b){if(!Gc(a.precondition,c))return f;const V=a.value.clone(),z=Nd(a.fieldTransforms,b,c);return V.setAll(z),c.convertToFoundDocument(c.version,V).setHasLocalMutations(),null}(r,e,t,s):r instanceof pu?function(a,c,f,b){if(!Gc(a.precondition,c))return f;const V=Nd(a.fieldTransforms,b,c),z=c.data;return z.setAll(Nm(a)),z.setAll(V),c.convertToFoundDocument(c.version,z).setHasLocalMutations(),null===f?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(te=>te.field))}(r,e,t,s):(f=t,Gc(r.precondition,c=e)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f);var c,f}function cc(r,e){let t=null;for(const s of r.fieldTransforms){const a=e.data.field(s.field),c=l_(s.transform,a||null);null!=c&&(null===t&&(t=Vo.empty()),t.set(s.field,c))}return t||null}function Om(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===s||t&&s&&oi(t,s,(a,c)=>function xm(r,e){return r.field.isEqual(e.field)&&(s=e.transform,(t=r.transform)instanceof xu&&s instanceof xu||t instanceof Pl&&s instanceof Pl?oi(t.elements,s.elements,Zi):t instanceof lc&&s instanceof lc?Zi(t.gt,s.gt):t instanceof Od&&s instanceof Od);var t,s}(a,c))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,s}class Ol extends Oh{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class pu extends Oh{constructor(e,t,s,a,c=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Nm(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function kh(r,e,t){const s=new Map;_(r.length===t.length);for(let a=0;a<t.length;a++){const c=r[a],f=c.transform,b=e.data.field(c.field);s.set(c.field,Am(f,b,t[a]))}return s}function Nd(r,e,t){const s=new Map;for(const a of r){const c=a.transform,f=t.data.field(a.field);s.set(a.field,u_(c,f,e))}return s}class gu extends Oh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Fh extends Oh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class kd{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&Pm(c,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Wc(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Wc(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=ep();return this.mutations.forEach(a=>{const c=e.get(a.key),f=c.overlayedDocument;let b=this.applyToLocalView(f,c.mutatedFields);b=t.has(a.key)?null:b;const V=Nh(f,b);null!==V&&s.set(a.key,V),f.isValidDocument()||f.convertToNoDocument(pn.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),pr())}isEqual(e){return this.batchId===e.batchId&&oi(this.mutations,e.mutations,(t,s)=>Om(t,s))&&oi(this.baseMutations,e.baseMutations,(t,s)=>Om(t,s))}}class ip{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){_(e.mutations.length===s.length);let a=o_;const c=e.mutations;for(let f=0;f<c.length;f++)a=a.insert(c[f].key,s[f].version);return new ip(e,t,s,a)}}class sp{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Kc{constructor(e,t){this.count=e,this.unchangedNames=t}}var ao,ti;function Lh(r){if(void 0===r)return kt("GRPC error has no .code"),w.UNKNOWN;switch(r){case ao.OK:return w.OK;case ao.CANCELLED:return w.CANCELLED;case ao.UNKNOWN:return w.UNKNOWN;case ao.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case ao.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case ao.INTERNAL:return w.INTERNAL;case ao.UNAVAILABLE:return w.UNAVAILABLE;case ao.UNAUTHENTICATED:return w.UNAUTHENTICATED;case ao.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case ao.NOT_FOUND:return w.NOT_FOUND;case ao.ALREADY_EXISTS:return w.ALREADY_EXISTS;case ao.PERMISSION_DENIED:return w.PERMISSION_DENIED;case ao.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case ao.ABORTED:return w.ABORTED;case ao.OUT_OF_RANGE:return w.OUT_OF_RANGE;case ao.UNIMPLEMENTED:return w.UNIMPLEMENTED;case ao.DATA_LOSS:return w.DATA_LOSS;default:return Mt()}}(ti=ao||(ao={}))[ti.OK=0]="OK",ti[ti.CANCELLED=1]="CANCELLED",ti[ti.UNKNOWN=2]="UNKNOWN",ti[ti.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ti[ti.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ti[ti.NOT_FOUND=5]="NOT_FOUND",ti[ti.ALREADY_EXISTS=6]="ALREADY_EXISTS",ti[ti.PERMISSION_DENIED=7]="PERMISSION_DENIED",ti[ti.UNAUTHENTICATED=16]="UNAUTHENTICATED",ti[ti.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ti[ti.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ti[ti.ABORTED=10]="ABORTED",ti[ti.OUT_OF_RANGE=11]="OUT_OF_RANGE",ti[ti.UNIMPLEMENTED=12]="UNIMPLEMENTED",ti[ti.INTERNAL=13]="INTERNAL",ti[ti.UNAVAILABLE=14]="UNAVAILABLE",ti[ti.DATA_LOSS=15]="DATA_LOSS";class op{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Fd}static getOrCreateInstance(){return null===Fd&&(Fd=new op),Fd}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Fd=null;const Vm=new le([4294967295,4294967295],0);function c_(r){const e=function Lm(){return new TextEncoder}().encode(r),t=new Q;return t.update(e),new Uint8Array(t.digest())}function Um(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new le([t,s],0),new le([a,c],0)]}class dc{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Ld(`Invalid padding: ${t}`);if(s<0)throw new Ld(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new Ld(`Invalid hash count: ${s}`);if(0===e.length&&0!==t)throw new Ld(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=le.fromNumber(this.It)}Et(e,t,s){let a=e.add(t.multiply(le.fromNumber(s)));return 1===a.compare(Vm)&&(a=new le([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=c_(e),[s,a]=Um(t);for(let c=0;c<this.hashCount;c++){const f=this.Et(s,a,c);if(!this.At(f))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new dc(c,a,t);return s.forEach(b=>f.insert(b)),f}insert(e){if(0===this.It)return;const t=c_(e),[s,a]=Um(t);for(let c=0;c<this.hashCount;c++){const f=this.Et(s,a,c);this.Rt(f)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Ld extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class qu{constructor(e,t,s,a,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,hl.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new qu(pn.min(),a,new Di(Xt),Na(),pr())}}class hl{constructor(e,t,s,a,c){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new hl(s,t,pr(),pr(),pr())}}class Vh{constructor(e,t,s,a){this.Pt=e,this.removedTargetIds=t,this.key=s,this.bt=a}}class ap{constructor(e,t){this.targetId=e,this.Vt=t}}class Bm{constructor(e,t,s=Gs.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class jm{constructor(){this.St=0,this.Dt=lp(),this.Ct=Gs.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=pr(),t=pr(),s=pr();return this.Dt.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:Mt()}}),new hl(this.Ct,this.xt,e,t,s)}Ft(){this.Nt=!1,this.Dt=lp()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class d_{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Na(),this.zt=up(),this.Wt=new Di(Xt)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const s=this.Zt(t);switch(e.state){case 0:this.te(t)&&s.$t(e.resumeToken);break;case 1:s.Ut(),s.kt||s.Ft(),s.$t(e.resumeToken);break;case 2:s.Ut(),s.kt||this.removeTarget(t);break;case 3:this.te(t)&&(s.Kt(),s.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),s.$t(e.resumeToken));break;default:Mt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((s,a)=>{this.te(a)&&t(a)})}ne(e){var t;const s=e.targetId,a=e.Vt.count,c=this.se(s);if(c){const f=c.target;if(bh(f))if(0===a){const b=new Wt(f.path);this.Yt(s,b,es.newNoDocument(b,pn.min()))}else _(1===a);else{const b=this.ie(s);if(b!==a){const V=this.re(e,b);0!==V&&(this.ee(s),this.Wt=this.Wt.insert(s,2===V?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=op.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(z,te,me){var Ye,Et,Bt,mn,wn,Ir;const ai={localCacheCount:te,existenceFilterCount:me.count},kr=me.unchangedNames;return kr&&(ai.bloomFilter={applied:0===z,hashCount:null!==(Ye=kr?.hashCount)&&void 0!==Ye?Ye:0,bitmapLength:null!==(mn=null===(Bt=null===(Et=kr?.bits)||void 0===Et?void 0:Et.bitmap)||void 0===Bt?void 0:Bt.length)&&void 0!==mn?mn:0,padding:null!==(Ir=null===(wn=kr?.bits)||void 0===wn?void 0:wn.padding)&&void 0!==Ir?Ir:0}),ai}(V,b,e.Vt))}}}}re(e,t){const{unchangedNames:s,count:a}=e.Vt;if(!s||!s.bits)return 1;const{bits:{bitmap:c="",padding:f=0},hashCount:b=0}=s;let V,z;try{V=T(c).toUint8Array()}catch(te){if(te instanceof Td)return rn("Decoding the base64 bloom filter in existence filter failed ("+te.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw te}try{z=new dc(V,f,b)}catch(te){return rn(te instanceof Ld?"BloomFilter error: ":"Applying bloom filter failed: ",te),1}return 0===z.It?1:a!==t-this.oe(e.targetId,z)?2:0}oe(e,t){const s=this.Gt.getRemoteKeysForTarget(e);let a=0;return s.forEach(c=>{const f=this.Gt.ue(),b=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;t.vt(b)||(this.Yt(e,c,null),a++)}),a}ce(e){const t=new Map;this.Qt.forEach((c,f)=>{const b=this.se(f);if(b){if(c.current&&bh(b.target)){const V=new Wt(b.target.path);null!==this.jt.get(V)||this.ae(f,V)||this.Yt(f,V,es.newNoDocument(V,e))}c.Mt&&(t.set(f,c.Ot()),c.Ft())}});let s=pr();this.zt.forEach((c,f)=>{let b=!0;f.forEachWhile(V=>{const z=this.se(V);return!z||"TargetPurposeLimboResolution"===z.purpose||(b=!1,!1)}),b&&(s=s.add(c))}),this.jt.forEach((c,f)=>f.setReadTime(e));const a=new qu(e,t,this.Wt,this.jt,s);return this.jt=Na(),this.zt=up(),this.Wt=new Di(Xt),a}Jt(e,t){if(!this.te(e))return;const s=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,s),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,s){if(!this.te(e))return;const a=this.Zt(e);this.ae(e,t)?a.Bt(t,1):a.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),s&&(this.jt=this.jt.insert(t,s))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new jm,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Oi(Xt),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||We("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new jm),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function up(){return new Di(Wt.comparator)}function lp(){return new Di(Wt.comparator)}const cp={asc:"ASCENDING",desc:"DESCENDING"},dp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},h_={and:"AND",or:"OR"};class hp{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function hc(r,e){return r.useProto3Json||ko(e)?e:{value:e}}function qc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $m(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function f_(r,e){return qc(r,e.toTimestamp())}function Ks(r){return _(!!r),pn.fromTimestamp(function(e){const t=d(e);return new vr(t.seconds,t.nanos)}(r))}function fp(r,e){return(t=r,new wr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Hm(r){const e=wr.fromString(r);return _(Zm(e)),e}function Vd(r,e){return fp(r.databaseId,e.path)}function Ta(r,e){const t=Hm(e);if(t.get(1)!==r.databaseId.projectId)throw new R(w.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new R(w.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Wt(p_(t))}function Pu(r,e){return fp(r.databaseId,e)}function Ud(r){return new wr(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function p_(r){return _(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function g_(r,e,t){return{name:Vd(r,e),fields:t.value.mapValue.fields}}function Km(r,e){return{documents:[Pu(r,e.path)]}}function mp(r,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=Pu(r,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Pu(r,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const a=function(V){if(0!==V.length)return qm(Ni.create(V,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const c=function(V){if(0!==V.length)return V.map(z=>{return{field:Nl((te=z).field),direction:y_(te.dir)};var te})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=hc(r,e.limit);var b,V;return null!==f&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt={before:(b=e.startAt).inclusive,values:b.position}),e.endAt&&(t.structuredQuery.endAt={before:!(V=e.endAt).inclusive,values:V.position}),t}function mu(r){let e=function zm(r){const e=Hm(r);return 4===e.length?wr.emptyPath():p_(e)}(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){_(1===s);const te=t.from[0];te.allDescendants?a=te.collectionId:e=e.child(te.collectionId)}let c=[];t.where&&(c=function(te){const me=yp(te);return me instanceof Ni&&Sd(me)?me.getFilters():[me]}(t.where));let f=[];t.orderBy&&(f=t.orderBy.map(te=>{return new cl(fc((me=te).field),function(Ye){switch(Ye){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(me.direction));var me}));let b=null;t.limit&&(b=function(te){let me;return me="object"==typeof te?te.value:te,ko(me)?null:me}(t.limit));let V=null;var te;t.startAt&&(V=new Rl((te=t.startAt).values||[],!!te.before));let z=null;return t.endAt&&(z=function(te){return new Rl(te.values||[],!te.before)}(t.endAt)),function Im(r,e,t,s,a,c,f,b){return new Wu(r,e,t,s,a,c,f,b)}(e,a,f,c,b,"F",V,z)}function yp(r){return void 0!==r.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=fc(e.unaryFilter.field);return Wr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const s=fc(e.unaryFilter.field);return Wr.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=fc(e.unaryFilter.field);return Wr.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=fc(e.unaryFilter.field);return Wr.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Mt()}}(r):void 0!==r.fieldFilter?Wr.create(fc((e=r).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Mt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==r.compositeFilter?function(e){return Ni.create(e.compositeFilter.filters.map(t=>yp(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Mt()}}(e.compositeFilter.op))}(r):Mt();var e}function y_(r){return cp[r]}function v_(r){return dp[r]}function __(r){return h_[r]}function Nl(r){return{fieldPath:r.canonicalString()}}function fc(r){return fr.fromServerFormat(r.fieldPath)}function qm(r){return r instanceof Wr?function(e){if("=="===e.op){if(Ml(e.value))return{unaryFilter:{field:Nl(e.field),op:"IS_NAN"}};if(nc(e.value))return{unaryFilter:{field:Nl(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ml(e.value))return{unaryFilter:{field:Nl(e.field),op:"IS_NOT_NAN"}};if(nc(e.value))return{unaryFilter:{field:Nl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nl(e.field),op:v_(e.op),value:e.value}}}(r):r instanceof Ni?function(e){const t=e.getFilters().map(s=>qm(s));return 1===t.length?t[0]:{compositeFilter:{op:__(e.op),filters:t}}}(r):Mt()}function E_(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Zm(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}class Wn{constructor(e,t,s,a,c=pn.min(),f=pn.min(),b=Gs.EMPTY_BYTE_STRING,V=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=b,this.expectedCount=V}withSequenceNumber(e){return new Wn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Wn(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class vp{constructor(e){this.fe=e}}function Ep(r){const e=mu({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?Rd(e,e.limit,"L"):e}class Jc{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(m(e.integerValue));else if("doubleValue"in e){const s=m(e.doubleValue);isNaN(s)?this.ye(t,13):(this.ye(t,15),lu(s)?t.pe(0):t.pe(s))}else if("timestampValue"in e){const s=e.timestampValue;this.ye(t,20),"string"==typeof s?t.Ie(s):(t.Ie(`${s.seconds||""}`),t.pe(s.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(T(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.ye(t,45),t.pe(s.latitude||0),t.pe(s.longitude||0)}else"mapValue"in e?jc(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Mt()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const s=e.fields||{};this.ye(t,55);for(const a of Object.keys(s))this.Te(a,t),this.me(s[a],t)}Pe(e,t){const s=e.values||[];this.ye(t,50);for(const a of s)this.me(a,t)}ve(e,t){this.ye(t,37),Wt.fromName(e).path.forEach(s=>{this.ye(t,60),this.be(s,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Jc.Ve=new Jc;class iy{constructor(){this.rn=new Hh}addToCollectionParentIndex(e,t){return this.rn.add(t),Je.resolve()}getCollectionParents(e,t){return Je.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Je.resolve()}deleteFieldIndex(e,t){return Je.resolve()}getDocumentsMatchingTarget(e,t){return Je.resolve(null)}getIndexType(e,t){return Je.resolve(0)}getFieldIndexes(e,t){return Je.resolve([])}getNextCollectionGroupToUpdate(e){return Je.resolve(null)}getMinOffset(e,t){return Je.resolve(Hs.min())}getMinOffsetFromCollectionGroup(e,t){return Je.resolve(Hs.min())}updateCollectionGroup(e,t,s){return Je.resolve()}updateIndexEntries(e,t){return Je.resolve()}}class Hh{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new Oi(wr.comparator),c=!a.has(s);return this.index[t]=a.add(s),c}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Oi(wr.comparator)).toArray()}}new Uint8Array(0);class Qo{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new Qo(e,Qo.DEFAULT_COLLECTION_PERCENTILE,Qo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Qo.DEFAULT_COLLECTION_PERCENTILE=10,Qo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qo.DEFAULT=new Qo(41943040,Qo.DEFAULT_COLLECTION_PERCENTILE,Qo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qo.DISABLED=new Qo(-1,0,0);class Ju{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Ju(0)}static Mn(){return new Ju(-1)}}class ly{constructor(){this.changes=new Ku(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,es.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?Je.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class b_{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class hy{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(null!==s&&Wc(s.mutation,a,Lo.empty(),vr.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,pr()).next(()=>s))}getLocalViewOfDocuments(e,t,s=pr()){const a=qa();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,s).next(c=>{let f=xd();return c.forEach((b,V)=>{f=f.insert(b,V.overlayedDocument)}),f}))}getOverlayedDocuments(e,t){const s=qa();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,pr()))}populateOverlays(e,t,s){const a=[];return s.forEach(c=>{t.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((f,b)=>{t.set(f,b)})})}computeViews(e,t,s,a){let c=Na();const f=uc(),b=uc();return t.forEach((V,z)=>{const te=s.get(z.key);a.has(z.key)&&(void 0===te||te.mutation instanceof pu)?c=c.insert(z.key,z):void 0!==te?(f.set(z.key,te.mutation.getFieldMask()),Wc(te.mutation,z,te.mutation.getFieldMask(),vr.now())):f.set(z.key,Lo.empty())}),this.recalculateAndSaveOverlays(e,c).next(V=>(V.forEach((z,te)=>f.set(z,te)),t.forEach((z,te)=>{var me;return b.set(z,new b_(te,null!==(me=f.get(z))&&void 0!==me?me:null))}),b))}recalculateAndSaveOverlays(e,t){const s=uc();let a=new Di((f,b)=>f-b),c=pr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(f=>{for(const b of f)b.keys().forEach(V=>{const z=t.get(V);if(null===z)return;let te=s.get(V)||Lo.empty();te=b.applyToLocalView(z,te),s.set(V,te);const me=(a.get(b.batchId)||pr()).add(V);a=a.insert(b.batchId,me)})}).next(()=>{const f=[],b=a.getReverseIterator();for(;b.hasNext();){const V=b.getNext(),z=V.key,te=V.value,me=ep();te.forEach(Ye=>{if(!c.has(Ye)){const Et=Nh(t.get(Ye),s.get(Ye));null!==Et&&me.set(Ye,Et),c=c.add(Ye)}}),f.push(this.documentOverlayCache.saveOverlays(e,z,me))}return Je.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return Wt.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Mu(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var a}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next(c=>{const f=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-c.size):Je.resolve(qa());let b=-1,V=c;return f.next(z=>Je.forEach(z,(te,me)=>(b<me.largestBatchId&&(b=me.largestBatchId),c.get(te)?Je.resolve():this.remoteDocumentCache.getEntry(e,te).next(Ye=>{V=V.insert(te,Ye)}))).next(()=>this.populateOverlays(e,z,c)).next(()=>this.computeViews(e,V,z,pr())).next(te=>({batchId:b,changes:Xf(te)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Wt(t)).next(s=>{let a=xd();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const a=t.collectionGroup;let c=xd();return this.indexManager.getCollectionParents(e,a).next(f=>Je.forEach(f,b=>{const V=(z=t,te=b.child(a),new Wu(te,null,z.explicitOrderBy.slice(),z.filters.slice(),z.limit,z.limitType,z.startAt,z.endAt));var z,te;return this.getDocumentsMatchingCollectionQuery(e,V,s).next(z=>{z.forEach((te,me)=>{c=c.insert(te,me)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,a))).next(c=>{a.forEach((b,V)=>{const z=V.getKey();null===c.get(z)&&(c=c.insert(z,es.newInvalidDocument(z)))});let f=xd();return c.forEach((b,V)=>{const z=a.get(b);void 0!==z&&Wc(z.mutation,V,Lo.empty(),vr.now()),ac(t,V)&&(f=f.insert(b,V))}),f})}}class S_{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Je.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var s;return this.cs.set(t.id,{id:(s=t).id,version:s.version,createTime:Ks(s.createTime)}),Je.resolve()}getNamedQuery(e,t){return Je.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(s=t).name,query:Ep(s.bundledQuery),readTime:Ks(s.readTime)}),Je.resolve();var s}}class fy{constructor(){this.overlays=new Di(Wt.comparator),this.ls=new Map}getOverlay(e,t){return Je.resolve(this.overlays.get(t))}getOverlays(e,t){const s=qa();return Je.forEach(t,a=>this.getOverlay(e,a).next(c=>{null!==c&&s.set(a,c)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((a,c)=>{this.we(e,t,c)}),Je.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.ls.get(s);return void 0!==a&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.ls.delete(s)),Je.resolve()}getOverlaysForCollection(e,t,s){const a=qa(),c=t.length+1,f=new Wt(t.child("")),b=this.overlays.getIteratorFrom(f);for(;b.hasNext();){const V=b.getNext().value,z=V.getKey();if(!t.isPrefixOf(z.path))break;z.path.length===c&&V.largestBatchId>s&&a.set(V.getKey(),V)}return Je.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let c=new Di((z,te)=>z-te);const f=this.overlays.getIterator();for(;f.hasNext();){const z=f.getNext().value;if(z.getKey().getCollectionGroup()===t&&z.largestBatchId>s){let te=c.get(z.largestBatchId);null===te&&(te=qa(),c=c.insert(z.largestBatchId,te)),te.set(z.getKey(),z)}}const b=qa(),V=c.getIterator();for(;V.hasNext()&&(V.getNext().value.forEach((z,te)=>b.set(z,te)),!(b.size()>=a)););return Je.resolve(b)}we(e,t,s){const a=this.overlays.get(s.key);if(null!==a){const f=this.ls.get(a.largestBatchId).delete(s.key);this.ls.set(a.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new sp(t,s));let c=this.ls.get(t);void 0===c&&(c=pr(),this.ls.set(t,c)),this.ls.set(t,c.add(s.key))}}class kp{constructor(){this.fs=new Oi(Uo.ds),this.ws=new Oi(Uo._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const s=new Uo(e,t);this.fs=this.fs.add(s),this.ws=this.ws.add(s)}gs(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.ys(new Uo(e,t))}ps(e,t){e.forEach(s=>this.removeReference(s,t))}Is(e){const t=new Wt(new wr([])),s=new Uo(t,e),a=new Uo(t,e+1),c=[];return this.ws.forEachInRange([s,a],f=>{this.ys(f),c.push(f.key)}),c}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Wt(new wr([])),s=new Uo(t,e),a=new Uo(t,e+1);let c=pr();return this.ws.forEachInRange([s,a],f=>{c=c.add(f.key)}),c}containsKey(e){const t=new Uo(e,0),s=this.fs.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class Uo{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Wt.comparator(e.key,t.key)||Xt(e.As,t.As)}static _s(e,t){return Xt(e.As,t.As)||Wt.comparator(e.key,t.key)}}class Fp{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Oi(Uo.ds)}checkEmpty(e){return Je.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,a){const c=this.vs;this.vs++;const f=new kd(c,t,s,a);this.mutationQueue.push(f);for(const b of a)this.Rs=this.Rs.add(new Uo(b.key,c)),this.indexManager.addToCollectionParentIndex(e,b.key.path.popLast());return Je.resolve(f)}lookupMutationBatch(e,t){return Je.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.bs(t+1),c=a<0?0:a;return Je.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Je.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Je.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Uo(t,0),a=new Uo(t,Number.POSITIVE_INFINITY),c=[];return this.Rs.forEachInRange([s,a],f=>{const b=this.Ps(f.As);c.push(b)}),Je.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Oi(Xt);return t.forEach(a=>{const c=new Uo(a,0),f=new Uo(a,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([c,f],b=>{s=s.add(b.As)})}),Je.resolve(this.Vs(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let c=s;Wt.isDocumentKey(c)||(c=c.child(""));const f=new Uo(new Wt(c),0);let b=new Oi(Xt);return this.Rs.forEachWhile(V=>{const z=V.key.path;return!!s.isPrefixOf(z)&&(z.length===a&&(b=b.add(V.As)),!0)},f),Je.resolve(this.Vs(b))}Vs(e){const t=[];return e.forEach(s=>{const a=this.Ps(s);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){_(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let s=this.Rs;return Je.forEach(t.mutations,a=>{const c=new Uo(a.key,t.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Rs=s})}Cn(e){}containsKey(e,t){const s=new Uo(t,0),a=this.Rs.firstAfterOrEqual(s);return Je.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return Je.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class A_{constructor(e){this.Ds=e,this.docs=new Di(Wt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),c=a?a.size:0,f=this.Ds(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Je.resolve(s?s.document.mutableCopy():es.newInvalidDocument(t))}getEntries(e,t){let s=Na();return t.forEach(a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():es.newInvalidDocument(a))}),Je.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let c=Na();const f=t.path,b=new Wt(f.child("")),V=this.docs.getIteratorFrom(b);for(;V.hasNext();){const{key:z,value:{document:te}}=V.getNext();if(!f.isPrefixOf(z.path))break;z.path.length>f.length+1||wl(Dd(te),s)<=0||(a.has(te.key)||ac(t,te))&&(c=c.insert(te.key,te.mutableCopy()))}return Je.resolve(c)}getAllFromCollectionGroup(e,t,s,a){Mt()}Cs(e,t){return Je.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new M_(this)}getSize(e){return Je.resolve(this.size)}}class M_ extends ly{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?t.push(this.os.addEntry(e,a)):this.os.removeEntry(s)}),Je.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class R_{constructor(e){this.persistence=e,this.xs=new Ku(t=>sc(t),Md),this.lastRemoteSnapshotVersion=pn.min(),this.highestTargetId=0,this.Ns=0,this.ks=new kp,this.targetCount=0,this.Ms=Ju.kn()}forEachTarget(e,t){return this.xs.forEach((s,a)=>t(a)),Je.resolve()}getLastRemoteSnapshotVersion(e){return Je.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Je.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Je.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.Ns&&(this.Ns=t),Je.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Ju(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Je.resolve()}updateTargetData(e,t){return this.Fn(t),Je.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Je.resolve()}removeTargets(e,t,s){let a=0;const c=[];return this.xs.forEach((f,b)=>{b.sequenceNumber<=t&&null===s.get(b.targetId)&&(this.xs.delete(f),c.push(this.removeMatchingKeysForTargetId(e,b.targetId)),a++)}),Je.waitFor(c).next(()=>a)}getTargetCount(e){return Je.resolve(this.targetCount)}getTargetData(e,t){const s=this.xs.get(t)||null;return Je.resolve(s)}addMatchingKeys(e,t,s){return this.ks.gs(t,s),Je.resolve()}removeMatchingKeys(e,t,s){this.ks.ps(t,s);const a=this.persistence.referenceDelegate,c=[];return a&&t.forEach(f=>{c.push(a.markPotentiallyOrphaned(e,f))}),Je.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Je.resolve()}getMatchingKeysForTargetId(e,t){const s=this.ks.Es(t);return Je.resolve(s)}containsKey(e,t){return Je.resolve(this.ks.containsKey(t))}}class Lp{constructor(e,t){this.$s={},this.overlays={},this.Os=new so(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new R_(this),this.indexManager=new iy,this.remoteDocumentCache=new A_(s=>this.referenceDelegate.Ls(s)),this.serializer=new vp(t),this.qs=new S_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new fy,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.$s[e.toKey()];return s||(s=new Fp(t,this.referenceDelegate),this.$s[e.toKey()]=s),s}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,s){We("MemoryPersistence","Starting transaction:",e);const a=new x_(this.Os.next());return this.referenceDelegate.Us(),s(a).next(c=>this.referenceDelegate.Ks(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Gs(e,t){return Je.or(Object.values(this.$s).map(s=>()=>s.containsKey(e,t)))}}class x_ extends Yl{constructor(e){super(),this.currentSequenceNumber=e}}class Ya{constructor(e){this.persistence=e,this.Qs=new kp,this.js=null}static zs(e){return new Ya(e)}get Ws(){if(this.js)return this.js;throw Mt()}addReference(e,t,s){return this.Qs.addReference(s,t),this.Ws.delete(s.toString()),Je.resolve()}removeReference(e,t,s){return this.Qs.removeReference(s,t),this.Ws.add(s.toString()),Je.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Je.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(a=>this.Ws.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(c=>this.Ws.add(c.toString()))}).next(()=>s.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Je.forEach(this.Ws,s=>{const a=Wt.fromPath(s);return this.Hs(e,a).next(c=>{c||t.removeEntry(a,pn.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(s=>{s?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return Je.or([()=>Je.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class Up{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Fi=s,this.Bi=a}static Li(e,t){let s=pr(),a=pr();for(const c of t.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new Up(e,t.fromCache,s,a)}}class gy{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,s,a){return this.Ki(e,t).next(c=>c||this.Gi(e,t,a,s)).next(c=>c||this.Qi(e,t))}Ki(e,t){if(Dm(t))return Je.resolve(null);let s=ha(t);return this.indexManager.getIndexType(e,s).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=Rd(t,null,"F"),s=ha(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const f=pr(...c);return this.Ui.getDocuments(e,f).next(b=>this.indexManager.getMinOffset(e,s).next(V=>{const z=this.ji(t,b);return this.zi(t,z,f,V.readTime)?this.Ki(e,Rd(t,null,"F")):this.Wi(e,z,t,V)}))})))}Gi(e,t,s,a){return Dm(t)||a.isEqual(pn.min())?this.Qi(e,t):this.Ui.getDocuments(e,s).next(c=>{const f=this.ji(t,c);return this.zi(t,f,s,a)?this.Qi(e,t):(Yt()<=Vt.in.DEBUG&&We("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Cm(t)),this.Wi(e,f,t,function El(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,a=pn.fromTimestamp(1e9===s?new vr(t+1,0):new vr(t,s));return new Hs(a,Wt.empty(),e)}(a,-1)))})}ji(e,t){let s=new Oi(i_(e));return t.forEach((a,c)=>{ac(e,c)&&(s=s.add(c))}),s}zi(e,t,s,a){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const c="F"===e.limitType?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Qi(e,t){return Yt()<=Vt.in.DEBUG&&We("QueryEngine","Using full collection scan to execute query:",Cm(t)),this.Ui.getDocumentsMatchingQuery(e,t,Hs.min())}Wi(e,t,s,a){return this.Ui.getDocumentsMatchingQuery(e,s,a).next(c=>(t.forEach(f=>{c=c.insert(f.key,f)}),c))}}class Jh{constructor(e,t,s,a){this.persistence=e,this.Hi=t,this.serializer=a,this.Ji=new Di(Xt),this.Yi=new Ku(c=>sc(c),Md),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(s)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hy(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function Kd(r,e){return my.apply(this,arguments)}function my(){return my=(0,Zt.Z)(function*(r,e){const t=v(r);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next(c=>(a=c,t.tr(e),t.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],b=[];let V=pr();for(const z of a){f.push(z.batchId);for(const te of z.mutations)V=V.add(te.key)}for(const z of c){b.push(z.batchId);for(const te of z.mutations)V=V.add(te.key)}return t.localDocuments.getDocuments(s,V).next(z=>({er:z,removedBatchIds:f,addedBatchIds:b}))})})}),my.apply(this,arguments)}function O_(r){const e=v(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function vy(r,e){const t=v(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Vl(r,e,t){return Ou.apply(this,arguments)}function Ou(){return Ou=(0,Zt.Z)(function*(r,e,t){const s=v(r),a=s.Ji.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,a)))}catch(f){if(!Da(f))throw f;We("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ji=s.Ji.remove(e),s.Yi.delete(a.target)}),Ou.apply(this,arguments)}function wc(r,e,t){const s=v(r);let a=pn.min(),c=pr();return s.persistence.runTransaction("Execute query","readonly",f=>function(b,V,z){const te=v(b),me=te.Yi.get(z);return void 0!==me?Je.resolve(te.Ji.get(me)):te.Bs.getTargetData(V,z)}(s,f,ha(e)).next(b=>{if(b)return a=b.lastLimboFreeSnapshotVersion,s.Bs.getMatchingKeysForTargetId(f,b.targetId).next(V=>{c=V})}).next(()=>s.Hi.getDocumentsMatchingQuery(f,e,t?a:pn.min(),t?c:pr())).next(b=>(function _y(r,e,t){let s=r.Xi.get(e)||pn.min();t.forEach((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Xi.set(e,s)}(s,function Rh(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}(e),b),{documents:b,ir:c})))}class zp{constructor(){this.activeTargetIds=function Pd(){return a_}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Dy{constructor(){this.Hr=new zp,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,s){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new zp,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Cy{Yr(e){}shutdown(){}}class nf{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){We("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){We("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let rf=null;function Yd(){return null===rf?rf=268435456+Math.round(2147483648*Math.random()):rf++,"0x"+rf.toString(16)}const k_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class F_{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const fa="WebChannelConnection";class L_ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,s,a,c){const f=Yd(),b=this.To(e,t);We("RestConnection",`Sending RPC '${e}' ${f}:`,b,s);const V={};return this.Eo(V,a,c),this.Ao(e,b,V,s).then(z=>(We("RestConnection",`Received RPC '${e}' ${f}: `,z),z),z=>{throw rn("RestConnection",`RPC '${e}' ${f} failed with error: `,z,"url: ",b,"request:",s),z})}vo(e,t,s,a,c,f){return this.Io(e,t,s,a,c)}Eo(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+nt,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,c)=>e[c]=a),s&&s.headers.forEach((a,c)=>e[c]=a)}To(e,t){return`${this.mo}/v1/${t}:${k_[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,s,a){const c=Yd();return new Promise((f,b)=>{const V=new j;V.setWithCredentials(!0),V.listenOnce(la.COMPLETE,()=>{try{switch(V.getLastErrorCode()){case ju.NO_ERROR:const te=V.getResponseJson();We(fa,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(te)),f(te);break;case ju.TIMEOUT:We(fa,`RPC '${e}' ${c} timed out`),b(new R(w.DEADLINE_EXCEEDED,"Request time out"));break;case ju.HTTP_ERROR:const me=V.getStatus();if(We(fa,`RPC '${e}' ${c} failed with status:`,me,"response text:",V.getResponseText()),me>0){let Ye=V.getResponseJson();Array.isArray(Ye)&&(Ye=Ye[0]);const Et=Ye?.error;if(Et&&Et.status&&Et.message){const Bt=function(mn){const wn=mn.toLowerCase().replace(/_/g,"-");return Object.values(w).indexOf(wn)>=0?wn:w.UNKNOWN}(Et.status);b(new R(Bt,Et.message))}else b(new R(w.UNKNOWN,"Server responded with status "+V.getStatus()))}else b(new R(w.UNAVAILABLE,"Connection failed."));break;default:Mt()}}finally{We(fa,`RPC '${e}' ${c} completed.`)}});const z=JSON.stringify(a);We(fa,`RPC '${e}' ${c} sending request:`,a),V.send(t,"POST",z,s,15)})}Ro(e,t,s){const a=Yd(),c=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Bu(),b=_l(),V={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},z=this.longPollingOptions.timeoutSeconds;void 0!==z&&(V.longPollingTimeout=Math.round(1e3*z)),this.useFetchStreams&&(V.xmlHttpFactory=new y({})),this.Eo(V.initMessageHeaders,t,s),V.encodeInitMessageHeaders=!0;const te=c.join("");We(fa,`Creating RPC '${e}' stream ${a}: ${te}`,V);const me=f.createWebChannel(te,V);let Ye=!1,Et=!1;const Bt=new F_({ro:wn=>{Et?We(fa,`Not sending because RPC '${e}' stream ${a} is closed:`,wn):(Ye||(We(fa,`Opening RPC '${e}' stream ${a} transport.`),me.open(),Ye=!0),We(fa,`RPC '${e}' stream ${a} sending:`,wn),me.send(wn))},oo:()=>me.close()}),mn=(wn,Ir,ai)=>{wn.listen(Ir,kr=>{try{ai(kr)}catch(Bo){setTimeout(()=>{throw Bo},0)}})};return mn(me,A.EventType.OPEN,()=>{Et||We(fa,`RPC '${e}' stream ${a} transport opened.`)}),mn(me,A.EventType.CLOSE,()=>{Et||(Et=!0,We(fa,`RPC '${e}' stream ${a} transport closed`),Bt.wo())}),mn(me,A.EventType.ERROR,wn=>{Et||(Et=!0,rn(fa,`RPC '${e}' stream ${a} transport errored:`,wn),Bt.wo(new R(w.UNAVAILABLE,"The operation could not be completed")))}),mn(me,A.EventType.MESSAGE,wn=>{var Ir;if(!Et){const ai=wn.data[0];_(!!ai);const Bo=ai.error||(null===(Ir=ai[0])||void 0===Ir?void 0:Ir.error);if(Bo){We(fa,`RPC '${e}' stream ${a} received error:`,Bo);const bo=Bo.status;let cs=function(Ed){const wh=ao[Ed];if(void 0!==wh)return Lh(wh)}(bo),tu=Bo.message;void 0===cs&&(cs=w.INTERNAL,tu="Unknown error status: "+bo+" with message "+Bo.message),Et=!0,Bt.wo(new R(cs,tu)),me.close()}else We(fa,`RPC '${e}' stream ${a} received:`,ai),Bt._o(ai)}}),mn(b,P.STAT_EVENT,wn=>{wn.stat===g.PROXY?We(fa,`RPC '${e}' stream ${a} detected buffering proxy`):wn.stat===g.NOPROXY&&We(fa,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{Bt.fo()},0),Bt}}function sf(){return typeof document<"u"?document:null}function Qd(r){return new hp(r,!0)}class af{constructor(e,t,s=1e3,a=1.5,c=6e4){this.ii=e,this.timerId=t,this.Po=s,this.bo=a,this.Vo=c,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),s=Math.max(0,Date.now()-this.Co),a=Math.max(0,t-s);a>0&&We("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,a,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Wp{constructor(e,t,s,a,c,f,b,V){this.ii=e,this.$o=s,this.Oo=a,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=b,this.listener=V,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new af(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,Zt.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,Zt.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var s=this;return(0,Zt.Z)(function*(){s.Ho(),s.Jo(),s.qo.cancel(),s.Fo++,4!==e?s.qo.reset():t&&t.code===w.RESOURCE_EXHAUSTED?(kt(t.toString()),kt("Using maximum backoff delay to prevent overloading the backend."),s.qo.xo()):t&&t.code===w.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Yo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.Fo===t&&this.Zo(s,a)},s=>{e(()=>{const a=new R(w.UNKNOWN,"Fetching auth token failed: "+s.message);return this.tu(a)})})}Zo(e,t){const s=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{s(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(a=>{s(()=>this.tu(a))}),this.stream.onMessage(a=>{s(()=>this.onMessage(a))})}Go(){var e=this;this.state=5,this.qo.No((0,Zt.Z)(function*(){e.state=0,e.start()}))}tu(e){return We("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(We("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class V_ extends Wp{constructor(e,t,s,a,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,f),this.serializer=c}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function Gm(r,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(V=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===V?1:"REMOVE"===V?2:"CURRENT"===V?3:"RESET"===V?4:Mt(),a=e.targetChange.targetIds||[],c=function(V,z){return V.useProto3Json?(_(void 0===z||"string"==typeof z),Gs.fromBase64String(z||"")):(_(void 0===z||z instanceof Uint8Array),Gs.fromUint8Array(z||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,b=f&&function(V){const z=void 0===V.code?w.UNKNOWN:Lh(V.code);return new R(z,V.message||"")}(f);t=new Bm(s,a,c,b||null)}else if("documentChange"in e){const s=e.documentChange,a=Ta(r,s.document.name),c=Ks(s.document.updateTime),f=s.document.createTime?Ks(s.document.createTime):pn.min(),b=new Vo({mapValue:{fields:s.document.fields}}),V=es.newFoundDocument(a,c,f,b);t=new Vh(s.targetIds||[],s.removedTargetIds||[],V.key,V)}else if("documentDelete"in e){const s=e.documentDelete,a=Ta(r,s.document),c=s.readTime?Ks(s.readTime):pn.min(),f=es.newNoDocument(a,c);t=new Vh([],s.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const s=e.documentRemove,a=Ta(r,s.document);t=new Vh([],s.removedTargetIds||[],a,null)}else{if(!("filter"in e))return Mt();{const s=e.filter,{count:a=0,unchangedNames:c}=s,f=new Kc(a,c);t=new ap(s.targetId,f)}}var V;return t}(this.serializer,e),s=function(a){if(!("targetChange"in a))return pn.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?pn.min():c.readTime?Ks(c.readTime):pn.min()}(e);return this.listener.nu(t,s)}su(e){const t={};t.database=Ud(this.serializer),t.addTarget=function(a,c){let f;const b=c.target;if(f=bh(b)?{documents:Km(a,b)}:{query:mp(a,b)},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=$m(a,c.resumeToken);const V=hc(a,c.expectedCount);null!==V&&(f.expectedCount=V)}else if(c.snapshotVersion.compareTo(pn.min())>0){f.readTime=qc(a,c.snapshotVersion.toTimestamp());const V=hc(a,c.expectedCount);null!==V&&(f.expectedCount=V)}return f}(this.serializer,e);const s=function m_(r,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Mt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.Wo(t)}iu(e){const t={};t.database=Ud(this.serializer),t.removeTarget=e,this.Wo(t)}}class TE extends Wp{constructor(e,t,s,a,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,f),this.serializer=c,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(_(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function Wm(r,e){return r&&r.length>0?(_(void 0!==e),r.map(t=>function(s,a){let c=Ks(s.updateTime?s.updateTime:a);return c.isEqual(pn.min())&&(c=Ks(a)),new rp(c,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=Ks(e.commitTime);return this.listener.cu(s,t)}return _(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Ud(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>function Zc(r,e){let t;if(e instanceof Ol)t={update:g_(r,e.key,e.value)};else if(e instanceof gu)t={delete:Vd(r,e.key)};else if(e instanceof pu)t={update:g_(r,e.key,e.data),updateMask:E_(e.fieldMask)};else{if(!(e instanceof Fh))return Mt();t={verify:Vd(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(a,c){const f=c.transform;if(f instanceof Od)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof xu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Pl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof lc)return{fieldPath:c.field.canonicalString(),increment:f.gt};throw Mt()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:f_(r,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:Mt()),t;var a}(this.serializer,s))};this.Wo(t)}}class by extends class{}{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.lu=!1}fu(){if(this.lu)throw new R(w.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Io(e,t,s,a,c)).catch(a=>{throw"FirebaseError"===a.name?(a.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new R(w.UNKNOWN,a.toString())})}vo(e,t,s,a){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.vo(e,t,s,c,f,a)).catch(c=>{throw"FirebaseError"===c.name?(c.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new R(w.UNKNOWN,c.toString())})}terminate(){this.lu=!0}}class U_{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(kt(t),this.mu=!1):We("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class B_{constructor(e,t,s,a,c){var f=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=c,this.Pu.Yr(b=>{s.enqueueAndForget((0,Zt.Z)(function*(){var V;Ja(f)&&(We("RemoteStore","Restarting streams for network reachability change."),yield(V=(0,Zt.Z)(function*(z){const te=v(z);te.vu.add(4),yield ba(te),te.bu.set("Unknown"),te.vu.delete(4),yield Ic(te)}),function(z){return V.apply(this,arguments)})(f))}))}),this.bu=new U_(s,a)}}function Ic(r){return Kp.apply(this,arguments)}function Kp(){return Kp=(0,Zt.Z)(function*(r){if(Ja(r))for(const e of r.Ru)yield e(!0)}),Kp.apply(this,arguments)}function ba(r){return Dc.apply(this,arguments)}function Dc(){return Dc=(0,Zt.Z)(function*(r){for(const e of r.Ru)yield e(!1)}),Dc.apply(this,arguments)}function Io(r,e){const t=v(r);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),Ul(t)?Jd(t):fl(t).Ko()&&id(t,e))}function Nu(r,e){const t=v(r),s=fl(t);t.Au.delete(e),s.Ko()&&Qa(t,e),0===t.Au.size&&(s.Ko()?s.jo():Ja(t)&&t.bu.set("Unknown"))}function id(r,e){if(r.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pn.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}fl(r).su(e)}function Qa(r,e){r.Vu.qt(e),fl(r).iu(e)}function Jd(r){r.Vu=new d_({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),le:e=>r.Au.get(e)||null,ue:()=>r.datastore.serializer.databaseId}),fl(r).start(),r.bu.gu()}function Ul(r){return Ja(r)&&!fl(r).Uo()&&r.Au.size>0}function Ja(r){return 0===v(r).vu.size}function Cc(r){r.Vu=void 0}function sd(r){return Bl.apply(this,arguments)}function Bl(){return Bl=(0,Zt.Z)(function*(r){r.Au.forEach((e,t)=>{id(r,e)})}),Bl.apply(this,arguments)}function od(r,e){return jl.apply(this,arguments)}function jl(){return jl=(0,Zt.Z)(function*(r,e){Cc(r),Ul(r)?(r.bu.Iu(e),Jd(r)):r.bu.set("Unknown")}),jl.apply(this,arguments)}function ad(r,e,t){return $l.apply(this,arguments)}function $l(){return $l=(0,Zt.Z)(function*(r,e,t){if(r.bu.set("Online"),e instanceof Bm&&2===e.state&&e.cause)try{yield(s=(0,Zt.Z)(function*(a,c){const f=c.cause;for(const b of c.targetIds)a.Au.has(b)&&(yield a.remoteSyncer.rejectListen(b,f),a.Au.delete(b),a.Vu.removeTarget(b))}),function(a,c){return s.apply(this,arguments)})(r,e)}catch(s){We("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield Xd(r,s)}else if(e instanceof Vh?r.Vu.Ht(e):e instanceof ap?r.Vu.ne(e):r.Vu.Xt(e),!t.isEqual(pn.min()))try{const s=yield O_(r.localStore);t.compareTo(s)>=0&&(yield function(a,c){const f=a.Vu.ce(c);return f.targetChanges.forEach((b,V)=>{if(b.resumeToken.approximateByteSize()>0){const z=a.Au.get(V);z&&a.Au.set(V,z.withResumeToken(b.resumeToken,c))}}),f.targetMismatches.forEach((b,V)=>{const z=a.Au.get(b);if(!z)return;a.Au.set(b,z.withResumeToken(Gs.EMPTY_BYTE_STRING,z.snapshotVersion)),Qa(a,b);const te=new Wn(z.target,b,V,z.sequenceNumber);id(a,te)}),a.remoteSyncer.applyRemoteEvent(f)}(r,t))}catch(s){We("RemoteStore","Failed to raise snapshot:",s),yield Xd(r,s)}var s}),$l.apply(this,arguments)}function Xd(r,e,t){return uf.apply(this,arguments)}function uf(){return uf=(0,Zt.Z)(function*(r,e,t){if(!Da(e))throw e;r.vu.add(1),yield ba(r),r.bu.set("Offline"),t||(t=()=>O_(r.localStore)),r.asyncQueue.enqueueRetryable((0,Zt.Z)(function*(){We("RemoteStore","Retrying IndexedDB access"),yield t(),r.vu.delete(1),yield Ic(r)}))}),uf.apply(this,arguments)}function qp(r,e){return e().catch(t=>Xd(r,t,e))}function Tc(r){return lf.apply(this,arguments)}function lf(){return lf=(0,Zt.Z)(function*(r){const e=v(r),t=ku(e);let s=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Sy(e);)try{const a=yield vy(e.localStore,s);if(null===a){0===e.Eu.length&&t.jo();break}s=a.batchId,Ay(e,a)}catch(a){yield Xd(e,a)}Zp(e)&&Yp(e)}),lf.apply(this,arguments)}function Sy(r){return Ja(r)&&r.Eu.length<10}function Ay(r,e){r.Eu.push(e);const t=ku(r);t.Ko()&&t.ou&&t.uu(e.mutations)}function Zp(r){return Ja(r)&&!ku(r).Uo()&&r.Eu.length>0}function Yp(r){ku(r).start()}function j_(r){return Qp.apply(this,arguments)}function Qp(){return Qp=(0,Zt.Z)(function*(r){ku(r).hu()}),Qp.apply(this,arguments)}function My(r){return Jp.apply(this,arguments)}function Jp(){return Jp=(0,Zt.Z)(function*(r){const e=ku(r);for(const t of r.Eu)e.uu(t.mutations)}),Jp.apply(this,arguments)}function Ry(r,e,t){return eh.apply(this,arguments)}function eh(){return eh=(0,Zt.Z)(function*(r,e,t){const s=r.Eu.shift(),a=ip.from(s,e,t);yield qp(r,()=>r.remoteSyncer.applySuccessfulWrite(a)),yield Tc(r)}),eh.apply(this,arguments)}function Xp(r,e){return eg.apply(this,arguments)}function eg(){return eg=(0,Zt.Z)(function*(r,e){var t;e&&ku(r).ou&&(yield(t=(0,Zt.Z)(function*(s,a){if(function Fm(r){switch(r){default:return Mt();case w.CANCELLED:case w.UNKNOWN:case w.DEADLINE_EXCEEDED:case w.RESOURCE_EXHAUSTED:case w.INTERNAL:case w.UNAVAILABLE:case w.UNAUTHENTICATED:return!1;case w.INVALID_ARGUMENT:case w.NOT_FOUND:case w.ALREADY_EXISTS:case w.PERMISSION_DENIED:case w.FAILED_PRECONDITION:case w.ABORTED:case w.OUT_OF_RANGE:case w.UNIMPLEMENTED:case w.DATA_LOSS:return!0}}(c=a.code)&&c!==w.ABORTED){const f=s.Eu.shift();ku(s).Qo(),yield qp(s,()=>s.remoteSyncer.rejectFailedWrite(f.batchId,a)),yield Tc(s)}var c}),function(s,a){return t.apply(this,arguments)})(r,e)),Zp(r)&&Yp(r)}),eg.apply(this,arguments)}function th(r,e){return ud.apply(this,arguments)}function ud(){return ud=(0,Zt.Z)(function*(r,e){const t=v(r);t.asyncQueue.verifyOperationInProgress(),We("RemoteStore","RemoteStore received new credentials");const s=Ja(t);t.vu.add(3),yield ba(t),s&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Ic(t)}),ud.apply(this,arguments)}function tg(){return tg=(0,Zt.Z)(function*(r,e){const t=v(r);e?(t.vu.delete(2),yield Ic(t)):e||(t.vu.add(2),yield ba(t),t.bu.set("Unknown"))}),tg.apply(this,arguments)}function fl(r){return r.Su||(r.Su=function(e,t,s){const a=v(e);return a.fu(),new V_(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(r.datastore,r.asyncQueue,{uo:sd.bind(null,r),ao:od.bind(null,r),nu:ad.bind(null,r)}),r.Ru.push(function(){var e=(0,Zt.Z)(function*(t){t?(r.Su.Qo(),Ul(r)?Jd(r):r.bu.set("Unknown")):(yield r.Su.stop(),Cc(r))});return function(t){return e.apply(this,arguments)}}())),r.Su}function ku(r){return r.Du||(r.Du=function(e,t,s){const a=v(e);return a.fu(),new TE(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(r.datastore,r.asyncQueue,{uo:j_.bind(null,r),ao:Xp.bind(null,r),au:My.bind(null,r),cu:Ry.bind(null,r)}),r.Ru.push(function(){var e=(0,Zt.Z)(function*(t){t?(r.Du.Qo(),yield Tc(r)):(yield r.Du.stop(),r.Eu.length>0&&(We("RemoteStore",`Stopping write stream with ${r.Eu.length} pending writes`),r.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),r.Du}class cf{constructor(e,t,s,a,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new q,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(e,t,s,a,c){const f=Date.now()+s,b=new cf(e,t,f,a,c);return b.start(s),b}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new R(w.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bc(r,e){if(kt("AsyncQueue",`${e}: ${r}`),Da(r))return new R(w.UNAVAILABLE,`${e}: ${r}`);throw r}class Hl{constructor(e){this.comparator=e?(t,s)=>e(t,s)||Wt.comparator(t.key,s.key):(t,s)=>Wt.comparator(t.key,s.key),this.keyedMap=xd(),this.sortedSet=new Di(this.comparator)}static emptySet(e){return new Hl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Hl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new Hl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class ng{constructor(){this.Cu=new Di(Wt.comparator)}track(e){const t=e.doc.key,s=this.Cu.get(t);s?0!==e.type&&3===s.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==s.type?this.Cu=this.Cu.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Cu=this.Cu.remove(t):1===e.type&&2===s.type?this.Cu=this.Cu.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Mt():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,s)=>{e.push(s)}),e}}class Sc{constructor(e,t,s,a,c,f,b,V,z){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=b,this.excludesMetadataChanges=V,this.hasCachedResults=z}static fromInitialDocuments(e,t,s,a,c){const f=[];return t.forEach(b=>{f.push({type:0,doc:b})}),new Sc(e,t,Hl.emptySet(t),f,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class rg{constructor(){this.Nu=void 0,this.listeners=[]}}class xy{constructor(){this.queries=new Ku(e=>r_(e),Mh),this.onlineState="Unknown",this.ku=new Set}}function ig(r,e){return df.apply(this,arguments)}function df(){return df=(0,Zt.Z)(function*(r,e){const t=v(r),s=e.query;let a=!1,c=t.queries.get(s);if(c||(a=!0,c=new rg),a)try{c.Nu=yield t.onListen(s)}catch(f){const b=bc(f,`Initialization of query '${Cm(e.query)}' failed`);return void e.onError(b)}t.queries.set(s,c),c.listeners.push(e),e.Mu(t.onlineState),c.Nu&&e.$u(c.Nu)&&sg(t)}),df.apply(this,arguments)}function hf(r,e){return ff.apply(this,arguments)}function ff(){return ff=(0,Zt.Z)(function*(r,e){const t=v(r),s=e.query;let a=!1;const c=t.queries.get(s);if(c){const f=c.listeners.indexOf(e);f>=0&&(c.listeners.splice(f,1),a=0===c.listeners.length)}if(a)return t.queries.delete(s),t.onUnlisten(s)}),ff.apply(this,arguments)}function Py(r,e){const t=v(r);let s=!1;for(const a of e){const f=t.queries.get(a.query);if(f){for(const b of f.listeners)b.$u(a)&&(s=!0);f.Nu=a}}s&&sg(t)}function $_(r,e,t){const s=v(r),a=s.queries.get(e);if(a)for(const c of a.listeners)c.onError(t);s.queries.delete(e)}function sg(r){r.ku.forEach(e=>{e.next()})}class og{constructor(e,t,s){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=s||{}}$u(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)3!==a.type&&s.push(a);e=new Sc(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Sc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class lg{constructor(e){this.key=e}}class cg{constructor(e){this.key=e}}class dg{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=pr(),this.mutatedKeys=pr(),this.tc=i_(e),this.ec=new Hl(this.tc)}get nc(){return this.Yu}sc(e,t){const s=t?t.ic:new ng,a=t?t.ec:this.ec;let c=t?t.mutatedKeys:this.mutatedKeys,f=a,b=!1;const V="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,z="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((te,me)=>{const Ye=a.get(te),Et=ac(this.query,me)?me:null,Bt=!!Ye&&this.mutatedKeys.has(Ye.key),mn=!!Et&&(Et.hasLocalMutations||this.mutatedKeys.has(Et.key)&&Et.hasCommittedMutations);let wn=!1;Ye&&Et?Ye.data.isEqual(Et.data)?Bt!==mn&&(s.track({type:3,doc:Et}),wn=!0):this.rc(Ye,Et)||(s.track({type:2,doc:Et}),wn=!0,(V&&this.tc(Et,V)>0||z&&this.tc(Et,z)<0)&&(b=!0)):!Ye&&Et?(s.track({type:0,doc:Et}),wn=!0):Ye&&!Et&&(s.track({type:1,doc:Ye}),wn=!0,(V||z)&&(b=!0)),wn&&(Et?(f=f.add(Et),c=mn?c.add(te):c.delete(te)):(f=f.delete(te),c=c.delete(te)))}),null!==this.query.limit)for(;f.size>this.query.limit;){const te="F"===this.query.limitType?f.last():f.first();f=f.delete(te.key),c=c.delete(te.key),s.track({type:1,doc:te})}return{ec:f,ic:s,zi:b,mutatedKeys:c}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const a=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const c=e.ic.xu();c.sort((z,te)=>function(me,Ye){const Et=Bt=>{switch(Bt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Mt()}};return Et(me)-Et(Ye)}(z.type,te.type)||this.tc(z.doc,te.doc)),this.oc(s);const f=t?this.uc():[],b=0===this.Zu.size&&this.current?1:0,V=b!==this.Xu;return this.Xu=b,0!==c.length||V?{snapshot:new Sc(this.query,e.ec,a,c,e.mutatedKeys,0===b,V,!1,!!s&&s.resumeToken.approximateByteSize()>0),cc:f}:{cc:f}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new ng,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=pr(),this.ec.forEach(s=>{this.ac(s.key)&&(this.Zu=this.Zu.add(s.key))});const t=[];return e.forEach(s=>{this.Zu.has(s)||t.push(new cg(s))}),this.Zu.forEach(s=>{e.has(s)||t.push(new lg(s))}),t}hc(e){this.Yu=e.ir,this.Zu=pr();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Sc.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Ny{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class ky{constructor(e){this.key=e,this.fc=!1}}class Fy{constructor(e,t,s,a,c,f){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.dc={},this.wc=new Ku(b=>r_(b),Mh),this._c=new Map,this.mc=new Set,this.gc=new Di(Wt.comparator),this.yc=new Map,this.Ic=new kp,this.Tc={},this.Ec=new Map,this.Ac=Ju.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function pf(r,e){return el.apply(this,arguments)}function el(){return el=(0,Zt.Z)(function*(r,e){const t=function Ef(r){const e=v(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=gf.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Cg.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=z_.bind(null,e),e.dc.nu=Py.bind(null,e.eventManager),e.dc.Pc=$_.bind(null,e.eventManager),e}(r);let s,a;const c=t.wc.get(e);if(c)s=c.targetId,t.sharedClientState.addLocalQueryTarget(s),a=c.view.lc();else{const f=yield function Ec(r,e){const t=v(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.Bs.getTargetData(s,e).next(c=>c?(a=c,Je.resolve(a)):t.Bs.allocateTargetId(s).next(f=>(a=new Wn(e,f,"TargetPurposeListen",s.currentSequenceNumber),t.Bs.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.Ji.get(s.targetId);return(null===a||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(s.targetId,s),t.Yi.set(e,s.targetId)),s})}(t.localStore,ha(e)),b=t.sharedClientState.addLocalQueryTarget(f.targetId);s=f.targetId,a=yield function hg(r,e,t,s,a){return fg.apply(this,arguments)}(t,e,s,"current"===b,f.resumeToken),t.isPrimaryClient&&Io(t.remoteStore,f)}return a}),el.apply(this,arguments)}function fg(){return fg=(0,Zt.Z)(function*(r,e,t,s,a){r.Rc=(me,Ye,Et)=>{return(Bt=(0,Zt.Z)(function*(mn,wn,Ir,ai){let kr=wn.view.sc(Ir);kr.zi&&(kr=yield wc(mn.localStore,wn.query,!1).then(({documents:cs})=>wn.view.sc(cs,kr)));const Bo=ai&&ai.targetChanges.get(wn.targetId),bo=wn.view.applyChanges(kr,mn.isPrimaryClient,Bo);return zl(mn,wn.targetId,bo.cc),bo.snapshot}),function(mn,wn,Ir,ai){return Bt.apply(this,arguments)})(r,me,Ye,Et);var Bt};const c=yield wc(r.localStore,e,!0),f=new dg(e,c.ir),b=f.sc(c.documents),V=hl.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==r.onlineState,a),z=f.applyChanges(b,r.isPrimaryClient,V);zl(r,t,z.cc);const te=new Ny(e,t,f);return r.wc.set(e,te),r._c.has(t)?r._c.get(t).push(e):r._c.set(t,[e]),z.snapshot}),fg.apply(this,arguments)}function pg(r,e){return pl.apply(this,arguments)}function pl(){return pl=(0,Zt.Z)(function*(r,e){const t=v(r),s=t.wc.get(e),a=t._c.get(s.targetId);if(a.length>1)return t._c.set(s.targetId,a.filter(c=>!Mh(c,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Vl(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),Nu(t.remoteStore,s.targetId),Ac(t,s.targetId)}).catch(ca))):(Ac(t,s.targetId),yield Vl(t.localStore,s.targetId,!0))}),pl.apply(this,arguments)}function mg(){return mg=(0,Zt.Z)(function*(r,e,t){const s=function Mg(r){const e=v(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Vy.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Do.bind(null,e),e}(r);try{const a=yield function(c,f){const b=v(c),V=vr.now(),z=f.reduce((Ye,Et)=>Ye.add(Et.key),pr());let te,me;return b.persistence.runTransaction("Locally write mutations","readwrite",Ye=>{let Et=Na(),Bt=pr();return b.Zi.getEntries(Ye,z).next(mn=>{Et=mn,Et.forEach((wn,Ir)=>{Ir.isValidDocument()||(Bt=Bt.add(wn))})}).next(()=>b.localDocuments.getOverlayedDocuments(Ye,Et)).next(mn=>{te=mn;const wn=[];for(const Ir of f){const ai=cc(Ir,te.get(Ir.key).overlayedDocument);null!=ai&&wn.push(new pu(Ir.key,ai,pm(ai.value.mapValue),Cs.exists(!0)))}return b.mutationQueue.addMutationBatch(Ye,V,wn,f)}).next(mn=>{me=mn;const wn=mn.applyToLocalDocumentSet(te,Bt);return b.documentOverlayCache.saveOverlays(Ye,mn.batchId,wn)})}).then(()=>({batchId:me.batchId,changes:Xf(te)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(c,f,b){let V=c.Tc[c.currentUser.toKey()];V||(V=new Di(Xt)),V=V.insert(f,b),c.Tc[c.currentUser.toKey()]=V}(s,a.batchId,t),yield tl(s,a.changes),yield Tc(s.remoteStore)}catch(a){const c=bc(a,"Failed to persist write");t.reject(c)}}),mg.apply(this,arguments)}function gf(r,e){return Ly.apply(this,arguments)}function Ly(){return Ly=(0,Zt.Z)(function*(r,e){const t=v(r);try{const s=yield function yy(r,e){const t=v(r),s=e.snapshotVersion;let a=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=t.Zi.newChangeBuffer({trackRemovals:!0});a=t.Ji;const b=[];e.targetChanges.forEach((te,me)=>{const Ye=a.get(me);if(!Ye)return;b.push(t.Bs.removeMatchingKeys(c,te.removedDocuments,me).next(()=>t.Bs.addMatchingKeys(c,te.addedDocuments,me)));let Et=Ye.withSequenceNumber(c.currentSequenceNumber);var Bt,mn,wn;null!==e.targetMismatches.get(me)?Et=Et.withResumeToken(Gs.EMPTY_BYTE_STRING,pn.min()).withLastLimboFreeSnapshotVersion(pn.min()):te.resumeToken.approximateByteSize()>0&&(Et=Et.withResumeToken(te.resumeToken,s)),a=a.insert(me,Et),mn=Et,wn=te,(0===(Bt=Ye).resumeToken.approximateByteSize()||mn.snapshotVersion.toMicroseconds()-Bt.snapshotVersion.toMicroseconds()>=3e8||wn.addedDocuments.size+wn.modifiedDocuments.size+wn.removedDocuments.size>0)&&b.push(t.Bs.updateTargetData(c,Et))});let V=Na(),z=pr();if(e.documentUpdates.forEach(te=>{e.resolvedLimboDocuments.has(te)&&b.push(t.persistence.referenceDelegate.updateLimboDocument(c,te))}),b.push(function jp(r,e,t){let s=pr(),a=pr();return t.forEach(c=>s=s.add(c)),e.getEntries(r,s).next(c=>{let f=Na();return t.forEach((b,V)=>{const z=c.get(b);V.isFoundDocument()!==z.isFoundDocument()&&(a=a.add(b)),V.isNoDocument()&&V.version.isEqual(pn.min())?(e.removeEntry(b,V.readTime),f=f.insert(b,V)):!z.isValidDocument()||V.version.compareTo(z.version)>0||0===V.version.compareTo(z.version)&&z.hasPendingWrites?(e.addEntry(V),f=f.insert(b,V)):We("LocalStore","Ignoring outdated watch update for ",b,". Current version:",z.version," Watch version:",V.version)}),{nr:f,sr:a}})}(c,f,e.documentUpdates).next(te=>{V=te.nr,z=te.sr})),!s.isEqual(pn.min())){const te=t.Bs.getLastRemoteSnapshotVersion(c).next(me=>t.Bs.setTargetsMetadata(c,c.currentSequenceNumber,s));b.push(te)}return Je.waitFor(b).next(()=>f.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,V,z)).next(()=>V)}).then(c=>(t.Ji=a,c))}(t.localStore,e);e.targetChanges.forEach((a,c)=>{const f=t.yc.get(c);f&&(_(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?f.fc=!0:a.modifiedDocuments.size>0?_(f.fc):a.removedDocuments.size>0&&(_(f.fc),f.fc=!1))}),yield tl(t,s,e)}catch(s){yield ca(s)}}),Ly.apply(this,arguments)}function H_(r,e,t){const s=v(r);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const a=[];s.wc.forEach((c,f)=>{const b=f.view.Mu(e);b.snapshot&&a.push(b.snapshot)}),function(c,f){const b=v(c);b.onlineState=f;let V=!1;b.queries.forEach((z,te)=>{for(const me of te.listeners)me.Mu(f)&&(V=!0)}),V&&sg(b)}(s.eventManager,e),a.length&&s.dc.nu(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function z_(r,e,t){return yg.apply(this,arguments)}function yg(){return yg=(0,Zt.Z)(function*(r,e,t){const s=v(r);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.yc.get(e),c=a&&a.key;if(c){let f=new Di(Wt.comparator);f=f.insert(c,es.newNoDocument(c,pn.min()));const b=pr().add(c),V=new qu(pn.min(),new Map,new Di(Xt),f,b);yield gf(s,V),s.gc=s.gc.remove(c),s.yc.delete(e),Ig(s)}else yield Vl(s.localStore,e,!1).then(()=>Ac(s,e,t)).catch(ca)}),yg.apply(this,arguments)}function Vy(r,e){return vg.apply(this,arguments)}function vg(){return vg=(0,Zt.Z)(function*(r,e){const t=v(r),s=e.batch.batchId;try{const a=yield function Bp(r,e){const t=v(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),c=t.Zi.newChangeBuffer({trackRemovals:!0});return function(f,b,V,z){const te=V.batch,me=te.keys();let Ye=Je.resolve();return me.forEach(Et=>{Ye=Ye.next(()=>z.getEntry(b,Et)).next(Bt=>{const mn=V.docVersions.get(Et);_(null!==mn),Bt.version.compareTo(mn)<0&&(te.applyToRemoteDocument(Bt,V),Bt.isValidDocument()&&(Bt.setReadTime(V.commitVersion),z.addEntry(Bt)))})}),Ye.next(()=>f.mutationQueue.removeMutationBatch(b,te))}(t,s,e,c).next(()=>c.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(f){let b=pr();for(let V=0;V<f.mutationResults.length;++V)f.mutationResults[V].transformResults.length>0&&(b=b.add(f.batch.mutations[V].key));return b}(e))).next(()=>t.localDocuments.getDocuments(s,a))})}(t.localStore,e);Eg(t,s,null),yf(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield tl(t,a)}catch(a){yield ca(a)}}),vg.apply(this,arguments)}function Do(r,e,t){return mf.apply(this,arguments)}function mf(){return mf=(0,Zt.Z)(function*(r,e,t){const s=v(r);try{const a=yield function(c,f){const b=v(c);return b.persistence.runTransaction("Reject batch","readwrite-primary",V=>{let z;return b.mutationQueue.lookupMutationBatch(V,f).next(te=>(_(null!==te),z=te.keys(),b.mutationQueue.removeMutationBatch(V,te))).next(()=>b.mutationQueue.performConsistencyCheck(V)).next(()=>b.documentOverlayCache.removeOverlaysForBatchId(V,z,f)).next(()=>b.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(V,z)).next(()=>b.localDocuments.getDocuments(V,z))})}(s.localStore,e);Eg(s,e,t),yf(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield tl(s,a)}catch(a){yield ca(a)}}),mf.apply(this,arguments)}function yf(r,e){(r.Ec.get(e)||[]).forEach(t=>{t.resolve()}),r.Ec.delete(e)}function Eg(r,e,t){const s=v(r);let a=s.Tc[s.currentUser.toKey()];if(a){const c=a.get(e);c&&(t?c.reject(t):c.resolve(),a=a.remove(e)),s.Tc[s.currentUser.toKey()]=a}}function Ac(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r._c.get(e))r.wc.delete(s),t&&r.dc.Pc(s,t);r._c.delete(e),r.isPrimaryClient&&r.Ic.Is(e).forEach(s=>{r.Ic.containsKey(s)||wg(r,s)})}function wg(r,e){r.mc.delete(e.path.canonicalString());const t=r.gc.get(e);null!==t&&(Nu(r.remoteStore,t),r.gc=r.gc.remove(e),r.yc.delete(t),Ig(r))}function zl(r,e,t){for(const s of t)s instanceof lg?(r.Ic.addReference(s.key,e),W_(r,s)):s instanceof cg?(We("SyncEngine","Document no longer in limbo: "+s.key),r.Ic.removeReference(s.key,e),r.Ic.containsKey(s.key)||wg(r,s.key)):Mt()}function W_(r,e){const t=e.key,s=t.path.canonicalString();r.gc.get(t)||r.mc.has(s)||(We("SyncEngine","New document in limbo: "+t),r.mc.add(s),Ig(r))}function Ig(r){for(;r.mc.size>0&&r.gc.size<r.maxConcurrentLimboResolutions;){const e=r.mc.values().next().value;r.mc.delete(e);const t=new Wt(wr.fromString(e)),s=r.Ac.next();r.yc.set(s,new ky(t)),r.gc=r.gc.insert(t,s),Io(r.remoteStore,new Wn(ha(Hc(t.path)),s,"TargetPurposeLimboResolution",so.ct))}}function tl(r,e,t){return Dg.apply(this,arguments)}function Dg(){return Dg=(0,Zt.Z)(function*(r,e,t){const s=v(r),a=[],c=[],f=[];var b;s.wc.isEmpty()||(s.wc.forEach((b,V)=>{f.push(s.Rc(V,e,t).then(z=>{if((z||t)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(V.targetId,z?.fromCache?"not-current":"current"),z){a.push(z);const te=Up.Li(V.targetId,z);c.push(te)}}))}),yield Promise.all(f),s.dc.nu(a),yield(b=(0,Zt.Z)(function*(V,z){const te=v(V);try{yield te.persistence.runTransaction("notifyLocalViewChanges","readwrite",me=>Je.forEach(z,Ye=>Je.forEach(Ye.Fi,Et=>te.persistence.referenceDelegate.addReference(me,Ye.targetId,Et)).next(()=>Je.forEach(Ye.Bi,Et=>te.persistence.referenceDelegate.removeReference(me,Ye.targetId,Et)))))}catch(me){if(!Da(me))throw me;We("LocalStore","Failed to update sequence numbers: "+me)}for(const me of z){const Ye=me.targetId;if(!me.fromCache){const Et=te.Ji.get(Ye),mn=Et.withLastLimboFreeSnapshotVersion(Et.snapshotVersion);te.Ji=te.Ji.insert(Ye,mn)}}}),function(V,z){return b.apply(this,arguments)})(s.localStore,c))}),Dg.apply(this,arguments)}function Uy(r,e){return By.apply(this,arguments)}function By(){return By=(0,Zt.Z)(function*(r,e){const t=v(r);if(!t.currentUser.isEqual(e)){We("SyncEngine","User change. New user:",e.toKey());const s=yield Kd(t.localStore,e);t.currentUser=e,(a=t).Ec.forEach(f=>{f.forEach(b=>{b.reject(new R(w.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Ec.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield tl(t,s.er)}var a}),By.apply(this,arguments)}function Cg(r,e){const t=v(r),s=t.yc.get(e);if(s&&s.fc)return pr().add(s.key);{let a=pr();const c=t._c.get(e);if(!c)return a;for(const f of c){const b=t.wc.get(f);a=a.unionWith(b.view.nc)}return a}}class oh{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Zt.Z)(function*(){t.serializer=Qd(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function Wd(r,e,t,s){return new Jh(r,e,t,s)}(this.persistence,new gy,e.initialUser,this.serializer)}createPersistence(e){return new Lp(Ya.zs,this.serializer)}createSharedClientState(e){return new Dy}terminate(){var e=this;return(0,Zt.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Mc{initialize(e,t){var s=this;return(0,Zt.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=a=>H_(s.syncEngine,a,1),s.remoteStore.remoteSyncer.handleCredentialChange=Uy.bind(null,s.syncEngine),yield function nh(r,e){return tg.apply(this,arguments)}(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new xy}createDatastore(e){const t=Qd(e.databaseInfo.databaseId),s=new L_(e.databaseInfo);return new by(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,a=e.asyncQueue,c=b=>H_(this.syncEngine,b,0),f=nf.D()?new nf:new Cy,new B_(t,s,a,c,f);var t,s,a,c,f}createSyncEngine(e,t){return function(s,a,c,f,b,V,z){const te=new Fy(s,a,c,f,b,V);return z&&(te.vc=!0),te}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Zt.Z)(function*(t){const s=v(t);We("RemoteStore","RemoteStore shutting down."),s.vu.add(5),yield ba(s),s.Pu.shutdown(),s.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class ld{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):kt("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class zy{constructor(e,t,s,a){var c=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=be.UNAUTHENTICATED,this.clientId=fn.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var f=(0,Zt.Z)(function*(b){We("FirestoreClient","Received user=",b.uid),yield c.authCredentialListener(b),c.user=b});return function(b){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(s,f=>(We("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}getConfiguration(){var e=this;return(0,Zt.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new R(w.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new q;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Zt.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const a=bc(s,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function uh(r,e){return If.apply(this,arguments)}function If(){return If=(0,Zt.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),We("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(function(){var a=(0,Zt.Z)(function*(c){s.isEqual(c)||(yield Kd(e.localStore,c),s=c)});return function(c){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}),If.apply(this,arguments)}function Df(r,e){return Cf.apply(this,arguments)}function Cf(){return Cf=(0,Zt.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield function Ng(r){return kg.apply(this,arguments)}(r);We("FirestoreClient","Initializing OnlineComponentProvider");const s=yield r.getConfiguration();yield e.initialize(t,s),r.setCredentialChangeListener(a=>th(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,c)=>th(e.remoteStore,c)),r._onlineComponents=e}),Cf.apply(this,arguments)}function kg(){return kg=(0,Zt.Z)(function*(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){We("FirestoreClient","Using user provided OfflineComponentProvider");try{yield uh(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function Og(r){return"FirebaseError"===r.name?r.code===w.FAILED_PRECONDITION||r.code===w.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code}(t))throw t;rn("Error using user provided cache. Falling back to memory cache: "+t),yield uh(r,new oh)}}else We("FirestoreClient","Using default OfflineComponentProvider"),yield uh(r,new oh);return r._offlineComponents}),kg.apply(this,arguments)}function Tf(r){return Fg.apply(this,arguments)}function Fg(){return Fg=(0,Zt.Z)(function*(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(We("FirestoreClient","Using user provided OnlineComponentProvider"),yield Df(r,r._uninitializedComponentsProvider._online)):(We("FirestoreClient","Using default OnlineComponentProvider"),yield Df(r,new Mc))),r._onlineComponents}),Fg.apply(this,arguments)}function cd(r){return Vg.apply(this,arguments)}function Vg(){return Vg=(0,Zt.Z)(function*(r){const e=yield Tf(r),t=e.eventManager;return t.onListen=pf.bind(null,e.syncEngine),t.onUnlisten=pg.bind(null,e.syncEngine),t}),Vg.apply(this,arguments)}function Ug(r){const e={};return void 0!==r.timeoutSeconds&&(e.timeoutSeconds=r.timeoutSeconds),e}const Bg=new Map;function Sf(r,e,t){if(!t)throw new R(w.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function jg(r){if(!Wt.isDocumentKey(r))throw new R(w.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function $g(r){if(Wt.isDocumentKey(r))throw new R(w.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function lh(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":Mt()}function Ur(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new R(w.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=lh(r);throw new R(w.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}class ev{constructor(e){var t,s;if(void 0===e.host){if(void 0!==e.ssl)throw new R(w.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new R(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Xy(r,e,t,s){if(!0===e&&!0===s)throw new R(w.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Ug(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(a){if(void 0!==a.timeoutSeconds){if(isNaN(a.timeoutSeconds))throw new R(w.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new R(w.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new R(w.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ch{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ev({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new R(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new R(w.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ev(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Re;switch(t.type){case"firstParty":return new jn(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new R(w.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Bg.get(e);t&&(We("ComponentProvider","Removing Datastore"),Bg.delete(e),t.terminate())}(this),Promise.resolve()}}class uo{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new uo(this.firestore,e,this._key)}}class Co{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Co(this.firestore,e,this._query)}}class gl extends Co{constructor(e,t,s){super(e,t,Hc(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new uo(this.firestore,null,new Wt(e))}withConverter(e){return new gl(this.firestore,e,this._path)}}function tv(r,e,...t){if(r=(0,zn.m9)(r),Sf("collection","path",e),r instanceof ch){const s=wr.fromString(e,...t);return $g(s),new gl(r,null,s)}{if(!(r instanceof uo||r instanceof gl))throw new R(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(wr.fromString(e,...t));return $g(s),new gl(r.firestore,null,s)}}function r0(r,e,...t){if(r=(0,zn.m9)(r),1===arguments.length&&(e=fn.A()),Sf("doc","path",e),r instanceof ch){const s=wr.fromString(e,...t);return jg(s),new uo(r,null,new Wt(s))}{if(!(r instanceof uo||r instanceof gl))throw new R(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(wr.fromString(e,...t));return jg(s),new uo(r.firestore,r instanceof gl?r.converter:null,new Wt(s))}}class s0{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new af(this,"async_queue_retry"),this.Xc=()=>{const t=sf();t&&We("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=sf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=sf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new q;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,Zt.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Da(t))throw t;We("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(s=>{throw this.Wc=s,this.Hc=!1,kt("INTERNAL UNHANDLED ERROR: ",function(c){let f=c.message||"";return c.stack&&(f=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),f}(s)),s}).then(s=>(this.Hc=!1,s))));return this.Gc=t,t}enqueueAfterDelay(e,t,s){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const a=cf.createAndSchedule(this,e,t,s,c=>this.na(c));return this.zc.push(a),a}Zc(){this.Wc&&Mt()}verifyOperationInProgress(){}sa(){var e=this;return(0,Zt.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function Hg(r){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const a of["next","error","complete"])if(a in s&&"function"==typeof s[a])return!0;return!1}(r)}class Ui extends ch{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new s0,this._persistenceKey=a?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Gg(this),this._firestoreClient.terminate()}}function Ns(r,e){const t="object"==typeof r?r:(0,Dn.getApp)(),s="string"==typeof r?r:e||"(default)",a=(0,Dn._getProvider)(t,"firestore").getImmediate({identifier:s});if(!a._initialized){const c=(0,zn.P0)("firestore");c&&function dd(r,e,t,s={}){var a;const c=(r=Ur(r,ch))._getSettings();if("firestore.googleapis.com"!==c.host&&c.host!==e&&rn("Host has been set in both settings() and useEmulator(), emulator host will be used"),r._setSettings(Object.assign(Object.assign({},c),{host:`${e}:${t}`,ssl:!1})),s.mockUserToken){let f,b;if("string"==typeof s.mockUserToken)f=s.mockUserToken,b=be.MOCK_USER;else{f=(0,zn.Sg)(s.mockUserToken,null===(a=r._app)||void 0===a?void 0:a.options.projectId);const V=s.mockUserToken.sub||s.mockUserToken.user_id;if(!V)throw new R(w.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new be(V)}r._authCredentials=new at(new ee(f,b))}}(a,...c)}return a}function To(r){return r._firestoreClient||Gg(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function Gg(r){var e,t,s;const a=r._freezeSettings(),c=(b=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new ht(r._databaseId,b,r._persistenceKey,(z=a).host,z.ssl,z.experimentalForceLongPolling,z.experimentalAutoDetectLongPolling,Ug(z.experimentalLongPollingOptions),z.useFetchStreams));var b,z;r._firestoreClient=new zy(r._authCredentials,r._appCheckCredentials,r._queue,c),null!==(t=a.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(s=a.cache)&&void 0!==s&&s._onlineComponentProvider&&(r._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.cache.kind,_offline:a.cache._offlineComponentProvider,_online:a.cache._onlineComponentProvider})}class rl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new rl(Gs.fromBase64String(e))}catch(t){throw new R(w.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new rl(Gs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Rc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new R(w.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Mf{constructor(e){this._methodName=e}}class Kg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new R(w.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new R(w.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Xt(this._lat,e._lat)||Xt(this._long,e._long)}}const hh=/^__.*__$/;class fh{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new pu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ol(e,this.data,t,this.fieldTransforms)}}class iv{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new pu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function sv(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Mt()}}class Rf{constructor(e,t,s,a,c,f){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,void 0===c&&this.ua(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Rf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:s,la:!1});return a.fa(e),a}da(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:s,la:!1});return a.ua(),a}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Nf(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(sv(this.ca)&&hh.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class ov{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Qd(e)}ya(e,t,s,a=!1){return new Rf({ca:e,methodName:t,ga:s,path:fr.emptyPath(),la:!1,ma:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xc(r){const e=r._freezeSettings(),t=Qd(r._databaseId);return new ov(r._databaseId,!!e.ignoreUndefinedProperties,t)}function xf(r,e,t,s,a,c={}){const f=r.ya(c.merge||c.mergeFields?2:0,e,t,a);Pf("Data must be an object, but it was:",f,s);const b=av(s,f);let V,z;if(c.merge)V=new Lo(f.fieldMask),z=f.fieldTransforms;else if(c.mergeFields){const te=[];for(const me of c.mergeFields){const Ye=ml(e,me,t);if(!f.contains(Ye))throw new R(w.INVALID_ARGUMENT,`Field '${Ye}' is specified in your field mask but missing from your input data.`);lv(te,Ye)||te.push(Ye)}V=new Lo(te),z=f.fieldTransforms.filter(me=>V.covers(me.field))}else V=null,z=f.fieldTransforms;return new fh(new Vo(b),V,z)}class ph extends Mf{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ph}}function il(r,e){if(uv(r=(0,zn.m9)(r)))return Pf("Unsupported field value:",e,r),av(r,e);if(r instanceof Mf)return function(t,s){if(!sv(s.ca))throw s._a(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s._a(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,s){const a=[];let c=0;for(const f of t){let b=il(f,s.wa(c));null==b&&(b={nullValue:"NULL_VALUE"}),a.push(b),c++}return{arrayValue:{values:a}}}(r,e)}return function(t,s){if(null===(t=(0,zn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Sm(s.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=vr.fromDate(t);return{timestampValue:qc(s.serializer,a)}}if(t instanceof vr){const a=new vr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:qc(s.serializer,a)}}if(t instanceof Kg)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof rl)return{bytesValue:$m(s.serializer,t._byteString)};if(t instanceof uo){const a=s.databaseId,c=t.firestore._databaseId;if(!c.isEqual(a))throw s._a(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:fp(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s._a(`Unsupported field value: ${lh(t)}`)}(r,e)}function av(r,e){const t={};return ul(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Au(r,(s,a)=>{const c=il(a,e.ha(s));null!=c&&(t[s]=c)}),{mapValue:{fields:t}}}function uv(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof vr||r instanceof Kg||r instanceof rl||r instanceof uo||r instanceof Mf)}function Pf(r,e,t){if(!uv(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=lh(t);throw e._a("an object"===s?r+" a custom object":r+" "+s)}var s}function ml(r,e,t){if((e=(0,zn.m9)(e))instanceof Rc)return e._internalPath;if("string"==typeof e)return Of(r,e);throw Nf("Field path arguments must be of type string or ",r,!1,void 0,t)}const g0=new RegExp("[~\\*/\\[\\]]");function Of(r,e,t){if(e.search(g0)>=0)throw Nf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Rc(...e.split("."))._internalPath}catch{throw Nf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Nf(r,e,t,s,a){const c=s&&!s.isEmpty(),f=void 0!==a;let b=`Function ${e}() called with invalid data`;t&&(b+=" (via `toFirestore()`)"),b+=". ";let V="";return(c||f)&&(V+=" (found",c&&(V+=` in field ${s}`),f&&(V+=` in document ${a}`),V+=")"),new R(w.INVALID_ARGUMENT,b+r+V)}function lv(r,e){return r.some(t=>t.isEqual(e))}class cv{constructor(e,t,s,a,c){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new uo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new m0(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(gh("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class m0 extends cv{data(){return super.data()}}function gh(r,e){return"string"==typeof e?Of(r,e):e instanceof Rc?e._internalPath:e._delegate._internalPath}function dv(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new R(w.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qg{}class fd extends Qg{}function y0(r,e,...t){let s=[];e instanceof Qg&&s.push(e),s=s.concat(t),function(a){const c=a.filter(b=>b instanceof Pc).length,f=a.filter(b=>b instanceof pd).length;if(c>1||c>0&&f>0)throw new R(w.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)r=a._apply(r);return r}class pd extends fd{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new pd(e,t,s)}_apply(e){const t=this._parse(e);return gv(e._query,t),new Co(e.firestore,e.converter,Ah(e._query,t))}_parse(e){const t=xc(e.firestore);return function(a,c,f,b,V,z,te){let me;if(V.isKeyField()){if("array-contains"===z||"array-contains-any"===z)throw new R(w.INVALID_ARGUMENT,`Invalid Query. You can't perform '${z}' queries on documentId().`);if("in"===z||"not-in"===z){pv(te,z);const Ye=[];for(const Et of te)Ye.push(fv(b,a,Et));me={arrayValue:{values:Ye}}}else me=fv(b,a,te)}else"in"!==z&&"not-in"!==z&&"array-contains-any"!==z||pv(te,z),me=function Yg(r,e,t,s=!1){return il(t,r.ya(s?4:3,e))}(f,"where",te,"in"===z||"not-in"===z);return Wr.create(V,z,me)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function v0(r,e,t){const s=e,a=gh("where",r);return pd._create(a,s,t)}class Pc extends Qg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Pc(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===t.length?t[0]:Ni.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(s,a){let c=s;const f=a.getFlattenedFilters();for(const b of f)gv(c,b),c=Ah(c,b)}(e._query,t),new Co(e.firestore,e.converter,Ah(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Jg extends fd{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Jg(e,t)}_apply(e){const t=function(s,a,c){if(null!==s.startAt)throw new R(w.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new R(w.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const f=new cl(a,c);return function(b,V){if(null===Jf(b)){const z=oc(b);null!==z&&mv(0,z,V.field)}}(s,f),f}(e._query,this._field,this._direction);return new Co(e.firestore,e.converter,function(s,a){const c=s.explicitOrderBy.concat([a]);return new Wu(s.path,s.collectionGroup,c,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function Xg(r,e="asc"){const t=e,s=gh("orderBy",r);return Jg._create(s,t)}function fv(r,e,t){if("string"==typeof(t=(0,zn.m9)(t))){if(""===t)throw new R(w.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Mu(e)&&-1!==t.indexOf("/"))throw new R(w.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(wr.fromString(t));if(!Wt.isDocumentKey(s))throw new R(w.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return fu(r,new Wt(s))}if(t instanceof uo)return fu(r,t._key);throw new R(w.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lh(t)}.`)}function pv(r,e){if(!Array.isArray(r)||0===r.length)throw new R(w.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function gv(r,e){if(e.isInequality()){const s=oc(r),a=e.field;if(null!==s&&!s.isEqual(a))throw new R(w.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${a.toString()}'`);const c=Jf(r);null!==c&&mv(0,a,c)}const t=function(s,a){for(const c of s)for(const f of c.getFlattenedFilters())if(a.indexOf(f.op)>=0)return f.op;return null}(r.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new R(w.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function mv(r,e,t){if(!t.isEqual(e))throw new R(w.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class D0{convertValue(e,t="none"){switch(Gn(e)){case 0:return null;case 1:return e.booleanValue;case 2:return m(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(T(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Mt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Au(e,(a,c)=>{s[a]=this.convertValue(c,t)}),s}convertGeoPoint(e){return new Kg(m(e.latitude),m(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=ne(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Oe(e));default:return null}}convertTimestamp(e){const t=d(e);return new vr(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=wr.fromString(e);_(Zm(s));const a=new Lt(s.get(1),s.get(3)),c=new Wt(s.popFirst(5));return a.isEqual(t)||kt(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}class Oc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class md extends cv{constructor(e,t,s,a,c,f){super(e,t,s,a,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new yd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(gh("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class yd extends md{data(e={}){return super.data(e)}}class Wl{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Oc(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new yd(this._firestore,this._userDataWriter,s.key,s,new Oc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new R(w.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(f=>({type:"added",doc:new yd(s._firestore,s._userDataWriter,f.doc.key,f.doc,new Oc(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:c++}))}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(f=>a||3!==f.type).map(f=>{const b=new yd(s._firestore,s._userDataWriter,f.doc.key,f.doc,new Oc(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);let V=-1,z=-1;return 0!==f.type&&(V=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),1!==f.type&&(c=c.add(f.doc),z=c.indexOf(f.doc.key)),{type:vv(f.type),doc:b,oldIndex:V,newIndex:z}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function vv(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Mt()}}class Kl extends D0{constructor(e){super(),this.firestore=e}convertBytes(e){return new rl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new uo(this.firestore,null,t)}}function wv(r){r=Ur(r,Co);const e=Ur(r.firestore,Ui),t=To(e),s=new Kl(e);return dv(r._query),function Zy(r,e,t={}){const s=new q;return r.asyncQueue.enqueueAndForget((0,Zt.Z)(function*(){return function(a,c,f,b,V){const z=new ld({next:me=>{c.enqueueAndForget(()=>hf(a,te)),me.fromCache&&"server"===b.source?V.reject(new R(w.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):V.resolve(me)},error:me=>V.reject(me)}),te=new og(f,z,{includeMetadataChanges:!0,Ku:!0});return ig(a,te)}(yield cd(r),r.asyncQueue,e,t,s)})),s.promise}(t,r._query).then(a=>new Wl(e,s,r,a))}function M0(r,e,t){r=Ur(r,uo);const s=Ur(r.firestore,Ui),a=function em(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}(r.converter,e,t);return yh(s,[xf(xc(s),"setDoc",r._key,a,null!==r.converter,t).toMutation(r._key,Cs.none())])}function $E(r,e,t,...s){r=Ur(r,uo);const a=Ur(r.firestore,Ui),c=xc(a);let f;return f="string"==typeof(e=(0,zn.m9)(e))||e instanceof Rc?function p0(r,e,t,s,a,c){const f=r.ya(1,e,t),b=[ml(e,s,t)],V=[a];if(c.length%2!=0)throw new R(w.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ye=0;Ye<c.length;Ye+=2)b.push(ml(e,c[Ye])),V.push(c[Ye+1]);const z=[],te=Vo.empty();for(let Ye=b.length-1;Ye>=0;--Ye)if(!lv(z,b[Ye])){const Et=b[Ye];let Bt=V[Ye];Bt=(0,zn.m9)(Bt);const mn=f.da(Et);if(Bt instanceof ph)z.push(Et);else{const wn=il(Bt,mn);null!=wn&&(z.push(Et),te.set(Et,wn))}}const me=new Lo(z);return new iv(te,me,f.fieldTransforms)}(c,"updateDoc",r._key,e,t,s):function f0(r,e,t,s){const a=r.ya(1,e,t);Pf("Data must be an object, but it was:",a,s);const c=[],f=Vo.empty();Au(s,(V,z)=>{const te=Of(e,V,t);z=(0,zn.m9)(z);const me=a.da(te);if(z instanceof ph)c.push(te);else{const Ye=il(z,me);null!=Ye&&(c.push(te),f.set(te,Ye))}});const b=new Lo(c);return new iv(f,b,a.fieldTransforms)}(c,"updateDoc",r._key,e),yh(a,[f.toMutation(r._key,Cs.exists(!0))])}function Iv(r){return yh(Ur(r.firestore,Ui),[new gu(r._key,Cs.none())])}function yh(r,e){return function(t,s){const a=new q;return t.asyncQueue.enqueueAndForget((0,Zt.Z)(function*(){return function gg(r,e,t){return mg.apply(this,arguments)}(yield function Lg(r){return Tf(r).then(e=>e.syncEngine)}(t),s,a)})),a.promise}(To(r),e)}!function(r,e=!0){nt=Dn.SDK_VERSION,(0,Dn._registerComponent)(new Ar.wA("firestore",(t,{instanceIdentifier:s,options:a})=>{const c=t.getProvider("app").getImmediate(),f=new Ui(new $t(t.getProvider("auth-internal")),new Os(t.getProvider("app-check-internal")),function(b,V){if(!Object.prototype.hasOwnProperty.apply(b.options,["projectId"]))throw new R(w.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lt(b.options.projectId,V)}(c,s),c);return a=Object.assign({useFetchStreams:e},a),f._setSettings(a),f},"PUBLIC").setMultipleInstances(!0)),(0,Dn.registerVersion)(ge,"3.12.1",r),(0,Dn.registerVersion)(ge,"3.12.1","esm2017")}();var vh=U(9751),tm=U(4004),Pv={includeMetadataChanges:!1};function Uf(r,e){return void 0===e&&(e=Pv),new vh.y(function(t){var s=function R0(r,...e){var t,s,a;r=(0,zn.m9)(r);let c={includeMetadataChanges:!1},f=0;"object"!=typeof e[f]||Hg(e[f])||(c=e[f],f++);const b={includeMetadataChanges:c.includeMetadataChanges};if(Hg(e[f])){const me=e[f];e[f]=null===(t=me.next)||void 0===t?void 0:t.bind(me),e[f+1]=null===(s=me.error)||void 0===s?void 0:s.bind(me),e[f+2]=null===(a=me.complete)||void 0===a?void 0:a.bind(me)}let V,z,te;if(r instanceof uo)z=Ur(r.firestore,Ui),te=Hc(r._key.path),V={next:me=>{e[f]&&e[f](function Lf(r,e,t){const s=t.docs.get(e._key),a=new Kl(r);return new md(r,a,e._key,s,new Oc(t.hasPendingWrites,t.fromCache),e.converter)}(z,r,me))},error:e[f+1],complete:e[f+2]};else{const me=Ur(r,Co);z=Ur(me.firestore,Ui),te=me._query;const Ye=new Kl(z);V={next:Et=>{e[f]&&e[f](new Wl(z,Ye,me,Et))},error:e[f+1],complete:e[f+2]},dv(r._query)}return function(me,Ye,Et,Bt){const mn=new ld(Bt),wn=new og(Ye,mn,Et);return me.asyncQueue.enqueueAndForget((0,Zt.Z)(function*(){return ig(yield cd(me),wn)})),()=>{mn.Dc(),me.asyncQueue.enqueueAndForget((0,Zt.Z)(function*(){return hf(yield cd(me),wn)}))}}(To(z),te,b,V)}(r,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:s}})}function sm(r,e){return void 0===e&&(e={}),function im(r){return Uf(r,{includeMetadataChanges:!0}).pipe((0,tm.U)(function(e){return e.docs}))}(r).pipe((0,tm.U)(function(t){return t.map(function(s){return function nm(r,e){void 0===e&&(e={});var t=r.data();return!r.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=r.id),t}(s,e)})}))}class ql{constructor(e){return e}}const Uv="firestore",vd=new F.OlP("angularfire2.firestore-instances");function U0(r){return(e,t)=>{const s=e.runOutsideAngular(()=>r(t));return new ql(s)}}const B0={provide:class V0{constructor(){return(0,p.vb)(Uv)}},deps:[[new F.FiY,vd]]},Bv={provide:ql,useFactory:function jf(r,e){const t=(0,p.JM)(Uv,r,e);return t&&new ql(t)},deps:[[new F.FiY,vd],$.Ot]};let om=(()=>{class r{constructor(){(0,re.KN)("angularfire",p.q4.full,"fst")}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=F.oAB({type:r}),r.\u0275inj=F.cJS({providers:[Bv,B0]}),r})();function am(r,...e){return{ngModule:om,providers:[{provide:vd,useFactory:U0(r),multi:!0,deps:[F.R0b,F.zs3,p.HU,$.z6,[new F.FiY,Me],[new F.FiY,ir.nm],...e]}]}}const um=(0,p.u3)(sm,!0),Gv=(0,p.u3)(tv,!0),K0=(0,p.u3)(Iv,!0),Y0=(0,p.u3)(r0,!0),lm=(0,p.u3)(wv,!0),cm=(0,p.u3)(Ns,!0),Hf=(0,p.u3)(Xg,!0),dm=(0,p.u3)(y0,!0),_d=(0,p.u3)(M0,!0),_w=(0,p.u3)($E,!0),oE=(0,p.u3)(v0,!0)},4976:(Ut,$e,U)=>{U.d($e,{q4:()=>ca,iC:()=>Ql,fc:()=>Dl,HU:()=>lu,vb:()=>Vc,JM:()=>Tu,u3:()=>Xl});var p=U(4650),F=U(259),$=U(5861),re=U(6881),Z=U(2090),Ee=U(4859),Ce=U(1877);const Me=(C,x)=>x.some(W=>C instanceof W);let pe,ae;const Fe=new WeakMap,fe=new WeakMap,qe=new WeakMap,yt=new WeakMap,Le=new WeakMap;let It={get(C,x,W){if(C instanceof IDBTransaction){if("done"===x)return fe.get(C);if("objectStoreNames"===x)return C.objectStoreNames||qe.get(C);if("store"===x)return W.objectStoreNames[1]?void 0:W.objectStore(W.objectStoreNames[0])}return Tt(C[x])},set:(C,x,W)=>(C[x]=W,!0),has:(C,x)=>C instanceof IDBTransaction&&("done"===x||"store"===x)||x in C};function ot(C){return"function"==typeof C?function we(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function oe(){return ae||(ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...x){return C.apply(gt(this),x),Tt(Fe.get(this))}:function(...x){return Tt(C.apply(gt(this),x))}:function(x,...W){const ue=C.call(gt(this),x,...W);return qe.set(ue,x.sort?x.sort():[x]),Tt(ue)}}(C):(C instanceof IDBTransaction&&function st(C){if(fe.has(C))return;const x=new Promise((W,ue)=>{const Se=()=>{C.removeEventListener("complete",ke),C.removeEventListener("error",pt),C.removeEventListener("abort",pt)},ke=()=>{W(),Se()},pt=()=>{ue(C.error||new DOMException("AbortError","AbortError")),Se()};C.addEventListener("complete",ke),C.addEventListener("error",pt),C.addEventListener("abort",pt)});fe.set(C,x)}(C),Me(C,function se(){return pe||(pe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,It):C)}function Tt(C){if(C instanceof IDBRequest)return function Be(C){const x=new Promise((W,ue)=>{const Se=()=>{C.removeEventListener("success",ke),C.removeEventListener("error",pt)},ke=()=>{W(Tt(C.result)),Se()},pt=()=>{ue(C.error),Se()};C.addEventListener("success",ke),C.addEventListener("error",pt)});return x.then(W=>{W instanceof IDBCursor&&Fe.set(W,C)}).catch(()=>{}),Le.set(x,C),x}(C);if(yt.has(C))return yt.get(C);const x=ot(C);return x!==C&&(yt.set(C,x),Le.set(x,C)),x}const gt=C=>Le.get(C),on=["get","getKey","getAll","getAllKeys","count"],St=["put","add","delete","clear"],In=new Map;function Ht(C,x){if(!(C instanceof IDBDatabase)||x in C||"string"!=typeof x)return;if(In.get(x))return In.get(x);const W=x.replace(/FromIndex$/,""),ue=x!==W,Se=St.includes(W);if(!(W in(ue?IDBIndex:IDBObjectStore).prototype)||!Se&&!on.includes(W))return;const ke=function(){var pt=(0,$.Z)(function*(sn,...Jt){const Mn=this.transaction(sn,Se?"readwrite":"readonly");let Jn=Mn.store;return ue&&(Jn=Jn.index(Jt.shift())),(yield Promise.all([Jn[W](...Jt),Se&&Mn.done]))[0]});return function(Jt){return pt.apply(this,arguments)}}();return In.set(x,ke),ke}!function Ue(C){It=C(It)}(C=>({...C,get:(x,W,ue)=>Ht(x,W)||C.get(x,W,ue),has:(x,W)=>!!Ht(x,W)||C.has(x,W)}));const Ci="@firebase/installations",et="0.6.4",Ve=1e4,tt=`w:${et}`,ut="FIS_v2",mt="https://firebaseinstallations.googleapis.com/v1",wt=36e5,jt=new Z.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ze(C){return C instanceof Z.ZR&&C.code.includes("request-failed")}function ct({projectId:C}){return`${mt}/projects/${C}/installations`}function xe(C){return{token:C.token,requestStatus:2,expiresIn:Br(C.expiresIn),creationTime:Date.now()}}function Ze(C,x){return qt.apply(this,arguments)}function qt(){return(qt=(0,$.Z)(function*(C,x){const ue=(yield x.json()).error;return jt.create("request-failed",{requestName:C,serverCode:ue.code,serverMessage:ue.message,serverStatus:ue.status})})).apply(this,arguments)}function _n({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function Vn(C){return cn.apply(this,arguments)}function cn(){return(cn=(0,$.Z)(function*(C){const x=yield C();return x.status>=500&&x.status<600?C():x})).apply(this,arguments)}function Br(C){return Number(C.replace("s","000"))}function zt(){return(zt=(0,$.Z)(function*({appConfig:C,heartbeatServiceProvider:x},{fid:W}){const ue=ct(C),Se=_n(C),ke=x.getImmediate({optional:!0});if(ke){const Mn=yield ke.getHeartbeatsHeader();Mn&&Se.append("x-firebase-client",Mn)}const sn={method:"POST",headers:Se,body:JSON.stringify({fid:W,authVersion:ut,appId:C.appId,sdkVersion:tt})},Jt=yield Vn(()=>fetch(ue,sn));if(Jt.ok){const Mn=yield Jt.json();return{fid:Mn.fid||W,registrationStatus:2,refreshToken:Mn.refreshToken,authToken:xe(Mn.authToken)}}throw yield Ze("Create Installation",Jt)})).apply(this,arguments)}function Rr(C){return new Promise(x=>{setTimeout(x,C)})}const xr=/^[cdef][\w-]{21}$/,jr="";function $i(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const W=function mr(C){return function Kr(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return xr.test(W)?W:jr}catch{return jr}}function En(C){return`${C.appName}!${C.appId}`}const nn=new Map;function bn(C,x){const W=En(C);_r(W,x),function $r(C,x){const W=function ui(){return!Fr&&"BroadcastChannel"in self&&(Fr=new BroadcastChannel("[Firebase] FID Change"),Fr.onmessage=C=>{_r(C.data.key,C.data.fid)}),Fr}();W&&W.postMessage({key:C,fid:x}),function ir(){0===nn.size&&Fr&&(Fr.close(),Fr=null)}()}(W,x)}function _r(C,x){const W=nn.get(C);if(W)for(const ue of W)ue(x)}let Fr=null;const Zt="firebase-installations-database",Dn=1,Ar="firebase-installations-store";let Vt=null;function zn(){return Vt||(Vt=function He(C,x,{blocked:W,upgrade:ue,blocking:Se,terminated:ke}={}){const pt=indexedDB.open(C,x),sn=Tt(pt);return ue&&pt.addEventListener("upgradeneeded",Jt=>{ue(Tt(pt.result),Jt.oldVersion,Jt.newVersion,Tt(pt.transaction))}),W&&pt.addEventListener("blocked",()=>W()),sn.then(Jt=>{ke&&Jt.addEventListener("close",()=>ke()),Se&&Jt.addEventListener("versionchange",()=>Se())}).catch(()=>{}),sn}(Zt,Dn,{upgrade:(C,x)=>{0===x&&C.createObjectStore(Ar)}})),Vt}function Dr(C,x){return tr.apply(this,arguments)}function tr(){return(tr=(0,$.Z)(function*(C,x){const W=En(C),Se=(yield zn()).transaction(Ar,"readwrite"),ke=Se.objectStore(Ar),pt=yield ke.get(W);return yield ke.put(x,W),yield Se.done,(!pt||pt.fid!==x.fid)&&bn(C,x.fid),x})).apply(this,arguments)}function Pt(C){return qr.apply(this,arguments)}function qr(){return(qr=(0,$.Z)(function*(C){const x=En(C),ue=(yield zn()).transaction(Ar,"readwrite");yield ue.objectStore(Ar).delete(x),yield ue.done})).apply(this,arguments)}function un(C,x){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,$.Z)(function*(C,x){const W=En(C),Se=(yield zn()).transaction(Ar,"readwrite"),ke=Se.objectStore(Ar),pt=yield ke.get(W),sn=x(pt);return void 0===sn?yield ke.delete(W):yield ke.put(sn,W),yield Se.done,sn&&(!pt||pt.fid!==sn.fid)&&bn(C,sn.fid),sn})).apply(this,arguments)}function ye(C){return he.apply(this,arguments)}function he(){return he=(0,$.Z)(function*(C){let x;const W=yield un(C.appConfig,ue=>{const Se=function De(C){return Te(C||{fid:$i(),registrationStatus:0})}(ue),ke=function lt(C,x){if(0===x.registrationStatus){if(!navigator.onLine)return{installationEntry:x,registrationPromise:Promise.reject(jt.create("app-offline"))};const W={fid:x.fid,registrationStatus:1,registrationTime:Date.now()},ue=function Ge(C,x){return xt.apply(this,arguments)}(C,W);return{installationEntry:W,registrationPromise:ue}}return 1===x.registrationStatus?{installationEntry:x,registrationPromise:ve(C)}:{installationEntry:x}}(C,Se);return x=ke.registrationPromise,ke.installationEntry});return W.fid===jr?{installationEntry:yield x}:{installationEntry:W,registrationPromise:x}}),he.apply(this,arguments)}function xt(){return xt=(0,$.Z)(function*(C,x){try{const W=yield function Nn(C,x){return zt.apply(this,arguments)}(C,x);return Dr(C.appConfig,W)}catch(W){throw ze(W)&&409===W.customData.serverCode?yield Pt(C.appConfig):yield Dr(C.appConfig,{fid:x.fid,registrationStatus:0}),W}}),xt.apply(this,arguments)}function ve(C){return _e.apply(this,arguments)}function _e(){return(_e=(0,$.Z)(function*(C){let x=yield ie(C.appConfig);for(;1===x.registrationStatus;)yield Rr(100),x=yield ie(C.appConfig);if(0===x.registrationStatus){const{installationEntry:W,registrationPromise:ue}=yield ye(C);return ue||W}return x})).apply(this,arguments)}function ie(C){return un(C,x=>{if(!x)throw jt.create("installation-not-found");return Te(x)})}function Te(C){return function dt(C){return 1===C.registrationStatus&&C.registrationTime+Ve<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function dn(){return(dn=(0,$.Z)(function*({appConfig:C,heartbeatServiceProvider:x},W){const ue=function qn(C,{fid:x}){return`${ct(C)}/${x}/authTokens:generate`}(C,W),Se=function On(C,{refreshToken:x}){const W=_n(C);return W.append("Authorization",function gi(C){return`${ut} ${C}`}(x)),W}(C,W),ke=x.getImmediate({optional:!0});if(ke){const Mn=yield ke.getHeartbeatsHeader();Mn&&Se.append("x-firebase-client",Mn)}const sn={method:"POST",headers:Se,body:JSON.stringify({installation:{sdkVersion:tt,appId:C.appId}})},Jt=yield Vn(()=>fetch(ue,sn));if(Jt.ok)return xe(yield Jt.json());throw yield Ze("Generate Auth Token",Jt)})).apply(this,arguments)}function Un(C){return Fi.apply(this,arguments)}function Fi(){return Fi=(0,$.Z)(function*(C,x=!1){let W;const ue=yield un(C.appConfig,ke=>{if(!An(ke))throw jt.create("not-registered");const pt=ke.authToken;if(!x&&function an(C){return 2===C.requestStatus&&!function ur(C){const x=Date.now();return x<C.creationTime||C.creationTime+C.expiresIn<x+wt}(C)}(pt))return ke;if(1===pt.requestStatus)return W=function rt(C,x){return je.apply(this,arguments)}(C,x),ke;{if(!navigator.onLine)throw jt.create("app-offline");const sn=function Hn(C){const x={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:x})}(ke);return W=function tn(C,x){return xn.apply(this,arguments)}(C,sn),sn}});return W?yield W:ue.authToken}),Fi.apply(this,arguments)}function je(){return(je=(0,$.Z)(function*(C,x){let W=yield Ct(C.appConfig);for(;1===W.authToken.requestStatus;)yield Rr(100),W=yield Ct(C.appConfig);const ue=W.authToken;return 0===ue.requestStatus?Un(C,x):ue})).apply(this,arguments)}function Ct(C){return un(C,x=>{if(!An(x))throw jt.create("not-registered");return function hr(C){return 1===C.requestStatus&&C.requestTime+Ve<Date.now()}(x.authToken)?Object.assign(Object.assign({},x),{authToken:{requestStatus:0}}):x})}function xn(){return xn=(0,$.Z)(function*(C,x){try{const W=yield function At(C,x){return dn.apply(this,arguments)}(C,x),ue=Object.assign(Object.assign({},x),{authToken:W});return yield Dr(C.appConfig,ue),W}catch(W){if(!ze(W)||401!==W.customData.serverCode&&404!==W.customData.serverCode){const ue=Object.assign(Object.assign({},x),{authToken:{requestStatus:0}});yield Dr(C.appConfig,ue)}else yield Pt(C.appConfig);throw W}}),xn.apply(this,arguments)}function An(C){return void 0!==C&&2===C.registrationStatus}function ds(){return(ds=(0,$.Z)(function*(C){const x=C,{installationEntry:W,registrationPromise:ue}=yield ye(x);return ue?ue.catch(console.error):Un(x).catch(console.error),W.fid})).apply(this,arguments)}function Zr(){return Zr=(0,$.Z)(function*(C,x=!1){const W=C;return yield function Cr(C){return Gt.apply(this,arguments)}(W),(yield Un(W,x)).token}),Zr.apply(this,arguments)}function Gt(){return(Gt=(0,$.Z)(function*(C){const{registrationPromise:x}=yield ye(C);x&&(yield x)})).apply(this,arguments)}function Ae(C){return jt.create("missing-app-config-values",{valueName:C})}const Ie="installations",Rt=C=>{const x=C.getProvider("app").getImmediate(),W=function Pe(C){if(!C||!C.options)throw Ae("App Configuration");if(!C.name)throw Ae("App Name");const x=["projectId","apiKey","appId"];for(const W of x)if(!C.options[W])throw Ae(W);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(x);return{app:x,appConfig:W,heartbeatServiceProvider:(0,re._getProvider)(x,"heartbeat"),_delete:()=>Promise.resolve()}},Tn=C=>{const x=C.getProvider("app").getImmediate(),W=(0,re._getProvider)(x,Ie).getImmediate();return{getId:()=>function yi(C){return ds.apply(this,arguments)}(W),getToken:Se=>function vi(C){return Zr.apply(this,arguments)}(W,Se)}};(function Bn(){(0,re._registerComponent)(new Ee.wA(Ie,Rt,"PUBLIC")),(0,re._registerComponent)(new Ee.wA("installations-internal",Tn,"PRIVATE"))})(),(0,re.registerVersion)(Ci,et),(0,re.registerVersion)(Ci,et,"esm2017");const Cn="@firebase/remote-config",ci=new Z.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class pa{constructor(x,W,ue,Se){this.client=x,this.storage=W,this.storageCache=ue,this.logger=Se}isCachedDataFresh(x,W){if(!W)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ue=Date.now()-W,Se=ue<=x;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ue}. Cache max age millis (minimumFetchIntervalMillis setting): ${x}. Is cache hit: ${Se}.`),Se}fetch(x){var W=this;return(0,$.Z)(function*(){const[ue,Se]=yield Promise.all([W.storage.getLastSuccessfulFetchTimestampMillis(),W.storage.getLastSuccessfulFetchResponse()]);if(Se&&W.isCachedDataFresh(x.cacheMaxAgeMillis,ue))return Se;x.eTag=Se&&Se.eTag;const ke=yield W.client.fetch(x),pt=[W.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ke.status&&pt.push(W.storage.setLastSuccessfulFetchResponse(ke)),yield Promise.all(pt),ke})()}}function Ts(C=navigator){return C.languages&&C.languages[0]||C.language}class ns{constructor(x,W,ue,Se,ke,pt){this.firebaseInstallations=x,this.sdkVersion=W,this.namespace=ue,this.projectId=Se,this.apiKey=ke,this.appId=pt}fetch(x){var W=this;return(0,$.Z)(function*(){const[ue,Se]=yield Promise.all([W.firebaseInstallations.getId(),W.firebaseInstallations.getToken()]),pt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${W.projectId}/namespaces/${W.namespace}:fetch?key=${W.apiKey}`,sn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":x.eTag||"*"},Jt={sdk_version:W.sdkVersion,app_instance_id:ue,app_instance_id_token:Se,app_id:W.appId,language_code:Ts()},Mn={method:"POST",headers:sn,body:JSON.stringify(Jt)},Jn=fetch(pt,Mn),Xn=new Promise((Fo,da)=>{x.signal.addEventListener(()=>{const Tl=new Error("The operation was aborted.");Tl.name="AbortError",da(Tl)})});let wo;try{yield Promise.race([Jn,Xn]),wo=yield Jn}catch(Fo){let da="fetch-client-network";throw"AbortError"===Fo?.name&&(da="fetch-timeout"),ci.create(da,{originalErrorMessage:Fo?.message})}let zs=wo.status;const hu=wo.headers.get("ETag")||void 0;let ec,Su;if(200===wo.status){let Fo;try{Fo=yield wo.json()}catch(da){throw ci.create("fetch-client-parse",{originalErrorMessage:da?.message})}ec=Fo.entries,Su=Fo.state}if("INSTANCE_STATE_UNSPECIFIED"===Su?zs=500:"NO_CHANGE"===Su?zs=304:("NO_TEMPLATE"===Su||"EMPTY_CONFIG"===Su)&&(ec={}),304!==zs&&200!==zs)throw ci.create("fetch-status",{httpStatus:zs});return{status:zs,eTag:hu,config:ec}})()}}class $o{constructor(x,W){this.client=x,this.storage=W}fetch(x){var W=this;return(0,$.Z)(function*(){const ue=(yield W.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return W.attemptFetch(x,ue)})()}attemptFetch(x,{throttleEndTimeMillis:W,backoffCount:ue}){var Se=this;return(0,$.Z)(function*(){yield function ho(C,x){return new Promise((W,ue)=>{const Se=Math.max(x-Date.now(),0),ke=setTimeout(W,Se);C.addEventListener(()=>{clearTimeout(ke),ue(ci.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}(x.signal,W);try{const ke=yield Se.client.fetch(x);return yield Se.storage.deleteThrottleMetadata(),ke}catch(ke){if(!function Xo(C){if(!(C instanceof Z.ZR&&C.customData))return!1;const x=Number(C.customData.httpStatus);return 429===x||500===x||503===x||504===x}(ke))throw ke;const pt={throttleEndTimeMillis:Date.now()+(0,Z.$s)(ue),backoffCount:ue+1};return yield Se.storage.setThrottleMetadata(pt),Se.attemptFetch(x,pt)}})()}}class Ho{constructor(x,W,ue,Se,ke){this.app=x,this._client=W,this._storageCache=ue,this._storage=Se,this._logger=ke,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ri(C,x){const W=C.target.error||void 0;return ci.create(x,{originalErrorMessage:W&&W?.message})}const Qs="app_namespace_store";class Js{constructor(x,W,ue,Se=function ea(){return new Promise((C,x)=>{try{const W=indexedDB.open("firebase_remote_config",1);W.onerror=ue=>{x(Ri(ue,"storage-open"))},W.onsuccess=ue=>{C(ue.target.result)},W.onupgradeneeded=ue=>{0===ue.oldVersion&&ue.target.result.createObjectStore(Qs,{keyPath:"compositeKey"})}}catch(W){x(ci.create("storage-open",{originalErrorMessage:W?.message}))}})}()){this.appId=x,this.appName=W,this.namespace=ue,this.openDbPromise=Se}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(x){return this.set("last_fetch_status",x)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(x){return this.set("last_successful_fetch_timestamp_millis",x)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(x){return this.set("last_successful_fetch_response",x)}getActiveConfig(){return this.get("active_config")}setActiveConfig(x){return this.set("active_config",x)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(x){return this.set("active_config_etag",x)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(x){return this.set("throttle_metadata",x)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(x){var W=this;return(0,$.Z)(function*(){const ue=yield W.openDbPromise;return new Promise((Se,ke)=>{const sn=ue.transaction([Qs],"readonly").objectStore(Qs),Jt=W.createCompositeKey(x);try{const Mn=sn.get(Jt);Mn.onerror=Jn=>{ke(Ri(Jn,"storage-get"))},Mn.onsuccess=Jn=>{const Xn=Jn.target.result;Se(Xn?Xn.value:void 0)}}catch(Mn){ke(ci.create("storage-get",{originalErrorMessage:Mn?.message}))}})})()}set(x,W){var ue=this;return(0,$.Z)(function*(){const Se=yield ue.openDbPromise;return new Promise((ke,pt)=>{const Jt=Se.transaction([Qs],"readwrite").objectStore(Qs),Mn=ue.createCompositeKey(x);try{const Jn=Jt.put({compositeKey:Mn,value:W});Jn.onerror=Xn=>{pt(Ri(Xn,"storage-set"))},Jn.onsuccess=()=>{ke()}}catch(Jn){pt(ci.create("storage-set",{originalErrorMessage:Jn?.message}))}})})()}delete(x){var W=this;return(0,$.Z)(function*(){const ue=yield W.openDbPromise;return new Promise((Se,ke)=>{const sn=ue.transaction([Qs],"readwrite").objectStore(Qs),Jt=W.createCompositeKey(x);try{const Mn=sn.delete(Jt);Mn.onerror=Jn=>{ke(Ri(Jn,"storage-delete"))},Mn.onsuccess=()=>{Se()}}catch(Mn){ke(ci.create("storage-delete",{originalErrorMessage:Mn?.message}))}})})()}createCompositeKey(x){return[this.appId,this.appName,this.namespace,x].join()}}class Xs{constructor(x){this.storage=x}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var x=this;return(0,$.Z)(function*(){const W=x.storage.getLastFetchStatus(),ue=x.storage.getLastSuccessfulFetchTimestampMillis(),Se=x.storage.getActiveConfig(),ke=yield W;ke&&(x.lastFetchStatus=ke);const pt=yield ue;pt&&(x.lastSuccessfulFetchTimestampMillis=pt);const sn=yield Se;sn&&(x.activeConfig=sn)})()}setLastFetchStatus(x){return this.lastFetchStatus=x,this.storage.setLastFetchStatus(x)}setLastSuccessfulFetchTimestampMillis(x){return this.lastSuccessfulFetchTimestampMillis=x,this.storage.setLastSuccessfulFetchTimestampMillis(x)}setActiveConfig(x){return this.activeConfig=x,this.storage.setActiveConfig(x)}}function fs(){return fo.apply(this,arguments)}function fo(){return(fo=(0,$.Z)(function*(){if(!(0,Z.hl)())return!1;try{return yield(0,Z.eu)()}catch{return!1}})).apply(this,arguments)}!function Ti(){(0,re._registerComponent)(new Ee.wA("remote-config",function C(x,{instanceIdentifier:W}){const ue=x.getProvider("app").getImmediate(),Se=x.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ci.create("registration-window");if(!(0,Z.hl)())throw ci.create("indexed-db-unavailable");const{projectId:ke,apiKey:pt,appId:sn}=ue.options;if(!ke)throw ci.create("registration-project-id");if(!pt)throw ci.create("registration-api-key");if(!sn)throw ci.create("registration-app-id");const Jt=new Js(sn,ue.name,W=W||"firebase"),Mn=new Xs(Jt),Jn=new Ce.Yd(Cn);Jn.logLevel=Ce.in.ERROR;const Xn=new ns(Se,re.SDK_VERSION,W,ke,pt,sn),wo=new $o(Xn,Jt),zs=new pa(wo,Jt,Mn,Jn),hu=new Ho(ue,zs,Mn,Jt,Jn);return function Ei(C){const x=(0,Z.m9)(C);x._initializePromise||(x._initializePromise=x._storageCache.loadFromStorage().then(()=>{x._isInitializationComplete=!0}))}(hu),hu},"PUBLIC").setMultipleInstances(!0)),(0,re.registerVersion)(Cn,"0.4.4"),(0,re.registerVersion)(Cn,"0.4.4","esm2017")}();const Fa=(C,x)=>x.some(W=>C instanceof W);let Bi,po;const Gi=new WeakMap,As=new WeakMap,Yn=new WeakMap,Mo=new WeakMap,ps=new WeakMap;let Us={get(C,x,W){if(C instanceof IDBTransaction){if("done"===x)return As.get(C);if("objectStoreNames"===x)return C.objectStoreNames||Yn.get(C);if("store"===x)return W.objectStoreNames[1]?void 0:W.objectStore(W.objectStoreNames[0])}return bi(C[x])},set:(C,x,W)=>(C[x]=W,!0),has:(C,x)=>C instanceof IDBTransaction&&("done"===x||"store"===x)||x in C};function gs(C){return"function"==typeof C?function nu(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ao(){return po||(po=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...x){return C.apply(di(this),x),bi(Gi.get(this))}:function(...x){return bi(C.apply(di(this),x))}:function(x,...W){const ue=C.call(di(this),x,...W);return Yn.set(ue,x.sort?x.sort():[x]),bi(ue)}}(C):(C instanceof IDBTransaction&&function to(C){if(As.has(C))return;const x=new Promise((W,ue)=>{const Se=()=>{C.removeEventListener("complete",ke),C.removeEventListener("error",pt),C.removeEventListener("abort",pt)},ke=()=>{W(),Se()},pt=()=>{ue(C.error||new DOMException("AbortError","AbortError")),Se()};C.addEventListener("complete",ke),C.addEventListener("error",pt),C.addEventListener("abort",pt)});As.set(C,x)}(C),Fa(C,function eo(){return Bi||(Bi=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,Us):C)}function bi(C){if(C instanceof IDBRequest)return function zr(C){const x=new Promise((W,ue)=>{const Se=()=>{C.removeEventListener("success",ke),C.removeEventListener("error",pt)},ke=()=>{W(bi(C.result)),Se()},pt=()=>{ue(C.error),Se()};C.addEventListener("success",ke),C.addEventListener("error",pt)});return x.then(W=>{W instanceof IDBCursor&&Gi.set(W,C)}).catch(()=>{}),ps.set(x,C),x}(C);if(Mo.has(C))return Mo.get(C);const x=gs(C);return x!==C&&(Mo.set(C,x),ps.set(x,C)),x}const di=C=>ps.get(C);function Ro(C,x,{blocked:W,upgrade:ue,blocking:Se,terminated:ke}={}){const pt=indexedDB.open(C,x),sn=bi(pt);return ue&&pt.addEventListener("upgradeneeded",Jt=>{ue(bi(pt.result),Jt.oldVersion,Jt.newVersion,bi(pt.transaction))}),W&&pt.addEventListener("blocked",()=>W()),sn.then(Jt=>{ke&&Jt.addEventListener("close",()=>ke()),Se&&Jt.addEventListener("versionchange",()=>Se())}).catch(()=>{}),sn}function Lr(C,{blocked:x}={}){const W=indexedDB.deleteDatabase(C);return x&&W.addEventListener("blocked",()=>x()),bi(W).then(()=>{})}const wi=["get","getKey","getAll","getAllKeys","count"],Wi=["put","add","delete","clear"],Ms=new Map;function go(C,x){if(!(C instanceof IDBDatabase)||x in C||"string"!=typeof x)return;if(Ms.get(x))return Ms.get(x);const W=x.replace(/FromIndex$/,""),ue=x!==W,Se=Wi.includes(W);if(!(W in(ue?IDBIndex:IDBObjectStore).prototype)||!Se&&!wi.includes(W))return;const ke=function(){var pt=(0,$.Z)(function*(sn,...Jt){const Mn=this.transaction(sn,Se?"readwrite":"readonly");let Jn=Mn.store;return ue&&(Jn=Jn.index(Jt.shift())),(yield Promise.all([Jn[W](...Jt),Se&&Mn.done]))[0]});return function(Jt){return pt.apply(this,arguments)}}();return Ms.set(x,ke),ke}!function Li(C){Us=C(Us)}(C=>({...C,get:(x,W,ue)=>go(x,W)||C.get(x,W,ue),has:(x,W)=>!!go(x,W)||C.has(x,W)}));const kn="/firebase-messaging-sw.js",Bs="/firebase-cloud-messaging-push-scope",B="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",L="https://fcmregistrations.googleapis.com/v1",O="google.c.a.c_id",J="google.c.a.c_l",Qe="google.c.a.ts",hn="google.c.a.e";var Ke=(()=>{return(C=Ke||(Ke={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",Ke;var C})();function gn(C){const x=new Uint8Array(C);return btoa(String.fromCharCode(...x)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function mo(C){const W=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ue=atob(W),Se=new Uint8Array(ue.length);for(let ke=0;ke<ue.length;++ke)Se[ke]=ue.charCodeAt(ke);return Se}const ma="fcm_token_details_db",hi=5,La="fcm_token_object_Store";function Qi(){return Qi=(0,$.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ke=>ke.name).includes(ma))return null;let x=null;return(yield Ro(ma,hi,{upgrade:(ue=(0,$.Z)(function*(Se,ke,pt,sn){var Jt;if(ke<2||!Se.objectStoreNames.contains(La))return;const Mn=sn.objectStore(La),Jn=yield Mn.index("fcmSenderId").get(C);if(yield Mn.clear(),Jn)if(2===ke){const Xn=Jn;if(!Xn.auth||!Xn.p256dh||!Xn.endpoint)return;x={token:Xn.fcmToken,createTime:null!==(Jt=Xn.createTime)&&void 0!==Jt?Jt:Date.now(),subscriptionOptions:{auth:Xn.auth,p256dh:Xn.p256dh,endpoint:Xn.endpoint,swScope:Xn.swScope,vapidKey:"string"==typeof Xn.vapidKey?Xn.vapidKey:gn(Xn.vapidKey)}}}else if(3===ke){const Xn=Jn;x={token:Xn.fcmToken,createTime:Xn.createTime,subscriptionOptions:{auth:gn(Xn.auth),p256dh:gn(Xn.p256dh),endpoint:Xn.endpoint,swScope:Xn.swScope,vapidKey:gn(Xn.vapidKey)}}}else if(4===ke){const Xn=Jn;x={token:Xn.fcmToken,createTime:Xn.createTime,subscriptionOptions:{auth:gn(Xn.auth),p256dh:gn(Xn.p256dh),endpoint:Xn.endpoint,swScope:Xn.swScope,vapidKey:gn(Xn.vapidKey)}}}}),function(ke,pt,sn,Jt){return ue.apply(this,arguments)})})).close(),yield Lr(ma),yield Lr("fcm_vapid_details_db"),yield Lr("undefined"),function yo(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:x}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof x.auth&&x.auth.length>0&&"string"==typeof x.p256dh&&x.p256dh.length>0&&"string"==typeof x.endpoint&&x.endpoint.length>0&&"string"==typeof x.swScope&&x.swScope.length>0&&"string"==typeof x.vapidKey&&x.vapidKey.length>0}(x)?x:null;var ue}),Qi.apply(this,arguments)}const no="firebase-messaging-database",vo=1,rs="firebase-messaging-store";let ms=null;function Qn(){return ms||(ms=Ro(no,vo,{upgrade:(C,x)=>{0===x&&C.createObjectStore(rs)}})),ms}function ji(C){return Rs.apply(this,arguments)}function Rs(){return Rs=(0,$.Z)(function*(C){const x=ru(C),ue=yield(yield Qn()).transaction(rs).objectStore(rs).get(x);if(ue)return ue;{const Se=yield function xo(C){return Qi.apply(this,arguments)}(C.appConfig.senderId);if(Se)return yield ys(C,Se),Se}}),Rs.apply(this,arguments)}function ys(C,x){return js.apply(this,arguments)}function js(){return(js=(0,$.Z)(function*(C,x){const W=ru(C),Se=(yield Qn()).transaction(rs,"readwrite");return yield Se.objectStore(rs).put(x,W),yield Se.done,x})).apply(this,arguments)}function Po(){return(Po=(0,$.Z)(function*(C){const x=ru(C),ue=(yield Qn()).transaction(rs,"readwrite");yield ue.objectStore(rs).delete(x),yield ue.done})).apply(this,arguments)}function ru({appConfig:C}){return C.appId}const fi=new Z.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Oo(C,x){return is.apply(this,arguments)}function is(){return(is=(0,$.Z)(function*(C,x){const W=yield ia(C),ue=sa(x),Se={method:"POST",headers:W,body:JSON.stringify(ue)};let ke;try{ke=yield(yield fetch(ya(C.appConfig),Se)).json()}catch(pt){throw fi.create("token-subscribe-failed",{errorInfo:pt?.toString()})}if(ke.error)throw fi.create("token-subscribe-failed",{errorInfo:ke.error.message});if(!ke.token)throw fi.create("token-subscribe-no-token");return ke.token})).apply(this,arguments)}function zo(){return(zo=(0,$.Z)(function*(C,x){const W=yield ia(C),ue=sa(x.subscriptionOptions),Se={method:"PATCH",headers:W,body:JSON.stringify(ue)};let ke;try{ke=yield(yield fetch(`${ya(C.appConfig)}/${x.token}`,Se)).json()}catch(pt){throw fi.create("token-update-failed",{errorInfo:pt?.toString()})}if(ke.error)throw fi.create("token-update-failed",{errorInfo:ke.error.message});if(!ke.token)throw fi.create("token-update-no-token");return ke.token})).apply(this,arguments)}function ra(C,x){return xs.apply(this,arguments)}function xs(){return(xs=(0,$.Z)(function*(C,x){const ue={method:"DELETE",headers:yield ia(C)};try{const ke=yield(yield fetch(`${ya(C.appConfig)}/${x}`,ue)).json();if(ke.error)throw fi.create("token-unsubscribe-failed",{errorInfo:ke.error.message})}catch(Se){throw fi.create("token-unsubscribe-failed",{errorInfo:Se?.toString()})}})).apply(this,arguments)}function ya({projectId:C}){return`${L}/projects/${C}/registrations`}function ia(C){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,$.Z)(function*({appConfig:C,installations:x}){const W=yield x.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${W}`})})).apply(this,arguments)}function sa({p256dh:C,auth:x,endpoint:W,vapidKey:ue}){const Se={web:{endpoint:W,auth:x,p256dh:C}};return ue!==B&&(Se.web.applicationPubKey=ue),Se}const Va=6048e5;function Go(){return Go=(0,$.Z)(function*(C){const x=yield function Lu(C,x){return No.apply(this,arguments)}(C.swRegistration,C.vapidKey),W={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:x.endpoint,auth:gn(x.getKey("auth")),p256dh:gn(x.getKey("p256dh"))},ue=yield ji(C.firebaseDependencies);if(ue){if(function Wo(C,x){return x.vapidKey===C.vapidKey&&x.endpoint===C.endpoint&&x.auth===C.auth&&x.p256dh===C.p256dh}(ue.subscriptionOptions,W))return Date.now()>=ue.createTime+Va?function Tr(C,x){return Ua.apply(this,arguments)}(C,{token:ue.token,createTime:Date.now(),subscriptionOptions:W}):ue.token;try{yield ra(C.firebaseDependencies,ue.token)}catch(Se){console.warn(Se)}return oa(C.firebaseDependencies,W)}return oa(C.firebaseDependencies,W)}),Go.apply(this,arguments)}function ss(){return ss=(0,$.Z)(function*(C){const x=yield ji(C.firebaseDependencies);x&&(yield ra(C.firebaseDependencies,x.token),yield function na(C){return Po.apply(this,arguments)}(C.firebaseDependencies));const W=yield C.swRegistration.pushManager.getSubscription();return!W||W.unsubscribe()}),ss.apply(this,arguments)}function Ua(){return Ua=(0,$.Z)(function*(C,x){try{const W=yield function Sa(C,x){return zo.apply(this,arguments)}(C.firebaseDependencies,x),ue=Object.assign(Object.assign({},x),{token:W,createTime:Date.now()});return yield ys(C.firebaseDependencies,ue),W}catch(W){throw yield function Ii(C){return ss.apply(this,arguments)}(C),W}}),Ua.apply(this,arguments)}function oa(C,x){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,$.Z)(function*(C,x){const ue={token:yield Oo(C,x),createTime:Date.now(),subscriptionOptions:x};return yield ys(C,ue),ue.token})).apply(this,arguments)}function No(){return(No=(0,$.Z)(function*(C,x){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:mo(x)})})).apply(this,arguments)}function ro(C){const x={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function vs(C,x){if(!x.notification)return;C.notification={};const W=x.notification.title;W&&(C.notification.title=W);const ue=x.notification.body;ue&&(C.notification.body=ue);const Se=x.notification.image;Se&&(C.notification.image=Se);const ke=x.notification.icon;ke&&(C.notification.icon=ke)}(x,C),function iu(C,x){x.data&&(C.data=x.data)}(x,C),function M(C,x){var W,ue,Se,ke,pt;if(!(x.fcmOptions||null!==(W=x.notification)&&void 0!==W&&W.click_action))return;C.fcmOptions={};const sn=null!==(Se=null===(ue=x.fcmOptions)||void 0===ue?void 0:ue.link)&&void 0!==Se?Se:null===(ke=x.notification)||void 0===ke?void 0:ke.click_action;sn&&(C.fcmOptions.link=sn);const Jt=null===(pt=x.fcmOptions)||void 0===pt?void 0:pt.analytics_label;Jt&&(C.fcmOptions.analyticsLabel=Jt)}(x,C),x}function k(C,x){const W=[];for(let ue=0;ue<C.length;ue++)W.push(C.charAt(ue)),ue<x.length&&W.push(x.charAt(ue));return W.join("")}function de(C){return fi.create("missing-app-config-values",{valueName:C})}k("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),k("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class it{constructor(x,W,ue){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Se=function Y(C){if(!C||!C.options)throw de("App Configuration Object");if(!C.name)throw de("App Name");const x=["projectId","apiKey","appId","messagingSenderId"],{options:W}=C;for(const ue of x)if(!W[ue])throw de(ue);return{appName:C.name,projectId:W.projectId,apiKey:W.apiKey,appId:W.appId,senderId:W.messagingSenderId}}(x);this.firebaseDependencies={app:x,appConfig:Se,installations:W,analyticsProvider:ue}}_delete(){return Promise.resolve()}}function vt(C){return vn.apply(this,arguments)}function vn(){return(vn=(0,$.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(kn,{scope:Bs}),C.swRegistration.update().catch(()=>{})}catch(x){throw fi.create("failed-service-worker-registration",{browserErrorMessage:x?.message})}})).apply(this,arguments)}function lr(){return(lr=(0,$.Z)(function*(C,x){if(!x&&!C.swRegistration&&(yield vt(C)),x||!C.swRegistration){if(!(x instanceof ServiceWorkerRegistration))throw fi.create("invalid-sw-registration");C.swRegistration=x}})).apply(this,arguments)}function $n(){return($n=(0,$.Z)(function*(C,x){x?C.vapidKey=x:C.vapidKey||(C.vapidKey=B)})).apply(this,arguments)}function nr(){return nr=(0,$.Z)(function*(C,x){if(!navigator)throw fi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw fi.create("permission-blocked");return yield function cr(C,x){return $n.apply(this,arguments)}(C,x?.vapidKey),yield function br(C,x){return lr.apply(this,arguments)}(C,x?.serviceWorkerRegistration),function Ma(C){return Go.apply(this,arguments)}(C)}),nr.apply(this,arguments)}function Sr(){return(Sr=(0,$.Z)(function*(C,x,W){const ue=function Ki(C){switch(C){case Ke.NOTIFICATION_CLICKED:return"notification_open";case Ke.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(x);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(ue,{message_id:W[O],message_name:W[J],message_time:W[Qe],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Xr(){return Xr=(0,$.Z)(function*(C,x){const W=x.data;if(!W.isFirebaseMessaging)return;C.onMessageHandler&&W.messageType===Ke.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(ro(W)):C.onMessageHandler.next(ro(W)));const ue=W.data;(function H(C){return"object"==typeof C&&!!C&&O in C})(ue)&&"1"===ue[hn]&&(yield function ii(C,x,W){return Sr.apply(this,arguments)}(C,W.messageType,ue))}),Xr.apply(this,arguments)}const Ji="@firebase/messaging",Vi=C=>{const x=new it(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",W=>function _s(C,x){return Xr.apply(this,arguments)}(x,W)),x},va=C=>{const x=C.getProvider("messaging").getImmediate();return{getToken:ue=>function ri(C,x){return nr.apply(this,arguments)}(x,ue)}};function Vu(){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,$.Z)(function*(){try{yield(0,Z.eu)()}catch{return!1}return typeof window<"u"&&(0,Z.hl)()&&(0,Z.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function _a(){(0,re._registerComponent)(new Ee.wA("messaging",Vi,"PUBLIC")),(0,re._registerComponent)(new Ee.wA("messaging-internal",va,"PRIVATE")),(0,re.registerVersion)(Ji,"0.12.4"),(0,re.registerVersion)(Ji,"0.12.4","esm2017")}();const qo="analytics",Zo="firebase_id",Eu="origin",aa=6e4,wu="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",au="https://www.googletagmanager.com/gtag/js",Si=new Ce.Yd("@firebase/analytics"),ar=new Z.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function ja(C){if(!C.startsWith(au)){const x=ar.create("invalid-gtag-resource",{gtagURL:C});return Si.warn(x.message),""}return C}function ws(C){return Promise.all(C.map(x=>x.catch(W=>W)))}function xa(){return(xa=(0,$.Z)(function*(C,x,W,ue,Se,ke){const pt=ue[Se];try{if(pt)yield x[pt];else{const Jt=(yield ws(W)).find(Mn=>Mn.measurementId===Se);Jt&&(yield x[Jt.appId])}}catch(sn){Si.error(sn)}C("config",Se,ke)})).apply(this,arguments)}function us(){return(us=(0,$.Z)(function*(C,x,W,ue,Se){try{let ke=[];if(Se&&Se.send_to){let pt=Se.send_to;Array.isArray(pt)||(pt=[pt]);const sn=yield ws(W);for(const Jt of pt){const Mn=sn.find(Xn=>Xn.measurementId===Jt),Jn=Mn&&x[Mn.appId];if(!Jn){ke=[];break}ke.push(Jn)}}0===ke.length&&(ke=Object.values(x)),yield Promise.all(ke),C("event",ue,Se||{})}catch(ke){Si.error(ke)}})).apply(this,arguments)}const Eo=30,pi=new class io{constructor(x={},W=1e3){this.throttleMetadata=x,this.intervalMillis=W}getThrottleMetadata(x){return this.throttleMetadata[x]}setThrottleMetadata(x,W){this.throttleMetadata[x]=W}deleteThrottleMetadata(x){delete this.throttleMetadata[x]}};function Xi(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function Vr(){return(Vr=(0,$.Z)(function*(C){var x;const{appId:W,apiKey:ue}=C,Se={method:"GET",headers:Xi(ue)},ke=wu.replace("{app-id}",W),pt=yield fetch(ke,Se);if(200!==pt.status&&304!==pt.status){let sn="";try{const Jt=yield pt.json();null!==(x=Jt.error)&&void 0!==x&&x.message&&(sn=Jt.error.message)}catch{}throw ar.create("config-fetch-failed",{httpStatus:pt.status,responseMessage:sn})}return pt.json()})).apply(this,arguments)}function Pa(){return(Pa=(0,$.Z)(function*(C,x=pi,W){const{appId:ue,apiKey:Se,measurementId:ke}=C.options;if(!ue)throw ar.create("no-app-id");if(!Se){if(ke)return{measurementId:ke,appId:ue};throw ar.create("no-api-key")}const pt=x.getThrottleMetadata(ue)||{backoffCount:0,throttleEndTimeMillis:Date.now()},sn=new ju;return setTimeout((0,$.Z)(function*(){sn.abort()}),void 0!==W?W:aa),Uu({appId:ue,apiKey:Se,measurementId:ke},pt,sn,x)})).apply(this,arguments)}function Uu(C,x,W){return ua.apply(this,arguments)}function ua(){return ua=(0,$.Z)(function*(C,{throttleEndTimeMillis:x,backoffCount:W},ue,Se=pi){var ke;const{appId:pt,measurementId:sn}=C;try{yield function Bu(C,x){return new Promise((W,ue)=>{const Se=Math.max(x-Date.now(),0),ke=setTimeout(W,Se);C.addEventListener(()=>{clearTimeout(ke),ue(ar.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}(ue,x)}catch(Jt){if(sn)return Si.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${sn} provided in the "measurementId" field in the local Firebase config. [${Jt?.message}]`),{appId:pt,measurementId:sn};throw Jt}try{const Jt=yield function Du(C){return Vr.apply(this,arguments)}(C);return Se.deleteThrottleMetadata(pt),Jt}catch(Jt){const Mn=Jt;if(!function _l(C){if(!(C instanceof Z.ZR&&C.customData))return!1;const x=Number(C.customData.httpStatus);return 429===x||500===x||503===x||504===x}(Mn)){if(Se.deleteThrottleMetadata(pt),sn)return Si.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${sn} provided in the "measurementId" field in the local Firebase config. [${Mn?.message}]`),{appId:pt,measurementId:sn};throw Jt}const Jn=503===Number(null===(ke=Mn?.customData)||void 0===ke?void 0:ke.httpStatus)?(0,Z.$s)(W,Se.intervalMillis,Eo):(0,Z.$s)(W,Se.intervalMillis),Xn={throttleEndTimeMillis:Date.now()+Jn,backoffCount:W+1};return Se.setThrottleMetadata(pt,Xn),Si.debug(`Calling attemptFetch again in ${Jn} millis`),Uu(C,Xn,ue,Se)}}),ua.apply(this,arguments)}class ju{constructor(){this.listeners=[]}addEventListener(x){this.listeners.push(x)}abort(){this.listeners.forEach(x=>x())}}let la,Ln;function g(){return(g=(0,$.Z)(function*(C,x,W,ue,Se){if(Se&&Se.global)C("event",W,ue);else{const ke=yield x;C("event",W,Object.assign(Object.assign({},ue),{send_to:ke}))}})).apply(this,arguments)}function or(){return(or=(0,$.Z)(function*(){if(!(0,Z.hl)())return Si.warn(ar.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Z.eu)()}catch(C){return Si.warn(ar.create("indexeddb-unavailable",{errorInfo:C?.toString()}).message),!1}return!0})).apply(this,arguments)}function _(){return _=(0,$.Z)(function*(C,x,W,ue,Se,ke,pt){var sn;const Jt=function $a(C){return Pa.apply(this,arguments)}(C);Jt.then(zs=>{W[zs.measurementId]=zs.appId,C.options.measurementId&&zs.measurementId!==C.options.measurementId&&Si.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${zs.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(zs=>Si.error(zs)),x.push(Jt);const Mn=function rn(){return or.apply(this,arguments)}().then(zs=>{if(zs)return ue.getId()}),[Jn,Xn]=yield Promise.all([Jt,Mn]);(function _o(C){const x=window.document.getElementsByTagName("script");for(const W of Object.values(x))if(W.src&&W.src.includes(au)&&W.src.includes(C))return W;return null})(ke)||function as(C,x){const W=function Ra(C,x){let W;return window.trustedTypes&&(W=window.trustedTypes.createPolicy(C,x)),W}("firebase-js-sdk-policy",{createScriptURL:ja}),ue=document.createElement("script"),Se=`${au}?l=${C}&id=${x}`;ue.src=W?W?.createScriptURL(Se):Se,ue.async=!0,document.head.appendChild(ue)}(ke,Jn.measurementId),Ln&&(Se("consent","default",Ln),function We(C){Ln=C}(void 0)),Se("js",new Date);const wo=null!==(sn=pt?.config)&&void 0!==sn?sn:{};return wo[Eu]="firebase",wo.update=!0,null!=Xn&&(wo[Zo]=Xn),Se("config",Jn.measurementId,wo),la&&(Se("set",la),function kt(C){la=C}(void 0)),Jn.measurementId}),_.apply(this,arguments)}class I{constructor(x){this.app=x}_delete(){return delete v[this.app.options.appId],Promise.resolve()}}let v={},w=[];const R={};let Re,at,q="dataLayer",ee="gtag",$t=!1;function Pi(C,x,W){!function jn(){const C=[];if((0,Z.ru)()&&C.push("This is a browser extension environment."),(0,Z.zI)()||C.push("Cookies are not available."),C.length>0){const x=C.map((ue,Se)=>`(${Se+1}) ${ue}`).join(" "),W=ar.create("invalid-analytics-context",{errorInfo:x});Si.warn(W.message)}}();const ue=C.options.appId;if(!ue)throw ar.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw ar.create("no-api-key");Si.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=v[ue])throw ar.create("already-exists",{id:ue});if(!$t){!function wa(C){let x=[];Array.isArray(window[C])?x=window[C]:window[C]=x}(q);const{wrappedGtag:ke,gtagCore:pt}=function si(C,x,W,ue,Se){let ke=function(...pt){window[ue].push(arguments)};return window[Se]&&"function"==typeof window[Se]&&(ke=window[Se]),window[Se]=function ei(C,x,W,ue){function ke(){return ke=(0,$.Z)(function*(pt,...sn){try{if("event"===pt){const[Jt,Mn]=sn;yield function Iu(C,x,W,ue,Se){return us.apply(this,arguments)}(C,x,W,Jt,Mn)}else if("config"===pt){const[Jt,Mn]=sn;yield function Mr(C,x,W,ue,Se,ke){return xa.apply(this,arguments)}(C,x,W,ue,Jt,Mn)}else if("consent"===pt){const[Jt]=sn;C("consent","update",Jt)}else if("get"===pt){const[Jt,Mn,Jn]=sn;C("get",Jt,Mn,Jn)}else if("set"===pt){const[Jt]=sn;C("set",Jt)}else C(pt,...sn)}catch(Jt){Si.error(Jt)}}),ke.apply(this,arguments)}return function Se(pt){return ke.apply(this,arguments)}}(ke,C,x,W),{gtagCore:ke,wrappedGtag:window[Se]}}(v,w,R,q,ee);at=ke,Re=pt,$t=!0}return v[ue]=function Mt(C,x,W,ue,Se,ke,pt){return _.apply(this,arguments)}(C,w,R,x,Re,q,W),new I(C)}function Sn(){return fn.apply(this,arguments)}function fn(){return(fn=(0,$.Z)(function*(){if((0,Z.ru)()||!(0,Z.zI)()||!(0,Z.hl)())return!1;try{return yield(0,Z.eu)()}catch{return!1}})).apply(this,arguments)}const Wt="@firebase/analytics";!function Oa(){(0,re._registerComponent)(new Ee.wA(qo,(x,{options:W})=>Pi(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),W),"PUBLIC")),(0,re._registerComponent)(new Ee.wA("analytics-internal",function C(x){try{const W=x.getProvider(qo).getImmediate();return{logEvent:(ue,Se,ke)=>function Zl(C,x,W,ue){C=(0,Z.m9)(C),function P(C,x,W,ue,Se){return g.apply(this,arguments)}(at,v[C.app.options.appId],x,W,ue).catch(Se=>Si.error(Se))}(W,ue,Se,ke)}}catch(W){throw ar.create("interop-component-reg-failed",{reason:W})}},"PRIVATE")),(0,re.registerVersion)(Wt,"0.10.0"),(0,re.registerVersion)(Wt,"0.10.0","esm2017")}();var Ia=U(4408),Ha=U(7565);const al=new class kc extends Ha.v{}(class Id extends Ia.o{constructor(x,W){super(x,W),this.scheduler=x,this.work=W}schedule(x,W=0){return W>0?super.schedule(x,W):(this.delay=W,this.state=x,this.scheduler.flush(this),this)}execute(x,W){return W>0||this.closed?super.execute(x,W):this._execute(x,W)}requestAsyncId(x,W,ue=0){return null!=ue&&ue>0||null==ue&&this.delay>0?super.requestAsyncId(x,W,ue):(x.flush(this),0)}});var Dd=U(4986),Hs=U(9751),wl=U(8505),$u=U(5363),Yl=U(9468);const ca=new p.GfV("7.6.1"),Il="__angularfire_symbol__analyticsIsSupportedValue",Je="__angularfire_symbol__analyticsIsSupported",za="__angularfire_symbol__remoteConfigIsSupportedValue",Yo="__angularfire_symbol__remoteConfigIsSupported",Fc="__angularfire_symbol__messagingIsSupportedValue",Cu="__angularfire_symbol__messagingIsSupported";function Tu(C,x,W){if(x){if(1===x.length)return x[0];const ke=x.filter(pt=>pt.app===W);if(1===ke.length)return ke[0]}return W.container.getProvider(C).getImmediate({optional:!0})}globalThis[Je]||(globalThis[Je]=Sn().then(C=>globalThis[Il]=C).catch(()=>globalThis[Il]=!1)),globalThis[Cu]||(globalThis[Cu]=Vu().then(C=>globalThis[Fc]=C).catch(()=>globalThis[Fc]=!1)),globalThis[Yo]||(globalThis[Yo]=fs().then(C=>globalThis[za]=C).catch(()=>globalThis[za]=!1));const Vc=(C,x)=>{const W=x?[x]:(0,F.C6)(),ue=[];return W.forEach(Se=>{Se.container.getProvider(C).instances.forEach(pt=>{ue.includes(pt)||ue.push(pt)})}),ue};function bu(){}class so{constructor(x,W=al){this.zone=x,this.delegate=W}now(){return this.delegate.now()}schedule(x,W,ue){const Se=this.zone;return this.delegate.schedule(function(pt){Se.runGuarded(()=>{x.apply(this,[pt])})},W,ue)}}class ko{constructor(x){this.zone=x,this.task=null}call(x,W){const ue=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",bu,{},bu,bu)),W.pipe((0,wl.b)({next:ue,complete:ue,error:ue})).subscribe(x).add(ue)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let lu=(()=>{class C{constructor(W){this.ngZone=W,this.outsideAngular=W.runOutsideAngular(()=>new so(Zone.current)),this.insideAngular=W.run(()=>new so(Zone.current,Dd.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(W){return new(W||C)(p.LFG(p.R0b))},C.\u0275prov=p.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function cu(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function du(C){return cu().ngZone.run(()=>C())}function Dl(C){return C.pipe((0,$u.Q)(cu().outsideAngular))}function Ql(C){return cu(),function Cl(C){return function(W){return(W=W.lift(new ko(C.ngZone))).pipe((0,Yl.R)(C.outsideAngular),(0,$u.Q)(C.insideAngular))}}(cu())(C)}const Jl=(C,x)=>function(){const ue=arguments;return x&&setTimeout(()=>{"scheduled"===x.state&&x.invoke()},10),du(()=>C.apply(void 0,ue))},Xl=(C,x)=>function(){let W;const ue=arguments;for(let ke=0;ke<arguments.length;ke++)"function"==typeof ue[ke]&&(x&&(W||(W=du(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",bu,{},bu,bu)))),ue[ke]=Jl(ue[ke],W));const Se=function oo(C){return cu().ngZone.runOutsideAngular(()=>C())}(()=>C.apply(this,ue));if(!x){if(Se instanceof Hs.y){const ke=cu();return Se.pipe((0,Yl.R)(ke.outsideAngular),(0,$u.Q)(ke.insideAngular))}return du(()=>Se)}return Se instanceof Hs.y?Se.pipe(Ql):Se instanceof Promise?du(()=>new Promise((ke,pt)=>Se.then(sn=>du(()=>ke(sn)),sn=>du(()=>pt(sn))))):"function"==typeof Se&&W?function(){return setTimeout(()=>{W&&"scheduled"===W.state&&W.invoke()},10),Se.apply(this,arguments)}:du(()=>Se)}},1389:(Ut,$e,U)=>{U.d($e,{$:()=>kn,A:()=>se,D:()=>fe,I:()=>Or,J:()=>Rt,L:()=>Mi,N:()=>un,P:()=>Mt,Q:()=>Js,R:()=>j,U:()=>ta,V:()=>fs,W:()=>fo,X:()=>Vs,Y:()=>eo,Z:()=>Ao,_:()=>ps,a:()=>Es,a0:()=>B,a1:()=>O,a2:()=>Jr,a3:()=>La,a4:()=>Qi,a5:()=>no,a6:()=>rs,a7:()=>Qn,a8:()=>Rs,a9:()=>js,aA:()=>He,aB:()=>Je,aC:()=>Pt,aD:()=>Pr,aE:()=>wl,aF:()=>wr,aG:()=>Gr,aH:()=>sr,aL:()=>Ko,aO:()=>Bi,aa:()=>na,ab:()=>ru,ac:()=>vu,ad:()=>Sa,ae:()=>ra,af:()=>ya,ai:()=>Va,aj:()=>Go,ak:()=>Ii,an:()=>nu,ao:()=>vs,aq:()=>$n,ar:()=>Ji,as:()=>on,at:()=>Te,au:()=>ve,av:()=>Ue,aw:()=>Xn,ax:()=>Cu,ay:()=>dt,az:()=>we,b:()=>Ps,c:()=>at,d:()=>Pi,e:()=>Qt,f:()=>Wt,g:()=>kc,h:()=>Ia,i:()=>uu,j:()=>Dd,k:()=>Su,l:()=>nt,m:()=>Tl,o:()=>Gs,p:()=>Me,r:()=>Yt,s:()=>ge,u:()=>rn});var p=U(5861),F=U(2090),$=U(6881),re=U(655),Z=U(1877),Ee=U(4859);const Me={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},se={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const fe=function oe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},qe=function Fe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},yt=new F.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Be=new Z.Yd("@firebase/auth");function It(D,...d){Be.logLevel<=Z.in.ERROR&&Be.error(`Auth (${$.SDK_VERSION}): ${D}`,...d)}function Ue(D,...d){throw gt(D,...d)}function we(D,...d){return gt(D,...d)}function ot(D,d,m){const T=Object.assign(Object.assign({},qe()),{[d]:m});return new F.LL("auth","Firebase",T).create(d,{appName:D.name})}function Tt(D,d,m){if(!(d instanceof m))throw m.name!==d.constructor.name&&Ue(D,"argument-error"),ot(D,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function gt(D,...d){if("string"!=typeof D){const m=d[0],T=[...d.slice(1)];return T[0]&&(T[0].appName=D.name),D._errorFactory.create(m,...T)}return yt.create(D,...d)}function He(D,d,...m){if(!D)throw gt(d,...m)}function Dt(D){const d="INTERNAL ASSERTION FAILED: "+D;throw It(d),new Error(d)}function on(D,d){D||Dt(d)}function St(){var D;return typeof self<"u"&&(null===(D=self.location)||void 0===D?void 0:D.href)||""}function In(){return"http:"===Ht()||"https:"===Ht()}function Ht(){var D;return typeof self<"u"&&(null===(D=self.location)||void 0===D?void 0:D.protocol)||null}class Ve{constructor(d,m){this.shortDelay=d,this.longDelay=m,on(m>d,"Short delay should be less than long delay!"),this.isMobile=(0,F.uI)()||(0,F.b$)()}get(){return function Ci(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(In()||(0,F.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function tt(D,d){on(D.emulator,"Emulator should always be set here");const{url:m}=D.emulator;return d?`${m}${d.startsWith("/")?d.slice(1):d}`:m}class ut{static initialize(d,m,T){this.fetchImpl=d,m&&(this.headersImpl=m),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Dt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Dt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Dt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const mt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},wt=new Ve(3e4,6e4);function ft(D,d){return D.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:D.tenantId}):d}function Ft(D,d,m,T){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,p.Z)(function*(D,d,m,T,K={}){return jt(D,K,(0,p.Z)(function*(){let ne={},Oe={};T&&("GET"===d?Oe=T:ne={body:JSON.stringify(T)});const ht=(0,F.xO)(Object.assign({key:D.config.apiKey},Oe)).slice(1),Lt=yield D._getAdditionalHeaders();return Lt["Content-Type"]="application/json",D.languageCode&&(Lt["X-Firebase-Locale"]=D.languageCode),ut.fetch()(Ze(D,D.config.apiHost,m,ht),Object.assign({method:d,headers:Lt,referrerPolicy:"no-referrer"},ne))}))})).apply(this,arguments)}function jt(D,d,m){return ze.apply(this,arguments)}function ze(){return(ze=(0,p.Z)(function*(D,d,m){D._canInitEmulator=!1;const T=Object.assign(Object.assign({},mt),d);try{const K=new qt(D),ne=yield Promise.race([m(),K.promise]);K.clearNetworkTimeout();const Oe=yield ne.json();if("needConfirmation"in Oe)throw _n(D,"account-exists-with-different-credential",Oe);if(ne.ok&&!("errorMessage"in Oe))return Oe;{const ht=ne.ok?Oe.errorMessage:Oe.error.message,[Lt,en]=ht.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Lt)throw _n(D,"credential-already-in-use",Oe);if("EMAIL_EXISTS"===Lt)throw _n(D,"email-already-in-use",Oe);if("USER_DISABLED"===Lt)throw _n(D,"user-disabled",Oe);const Rn=T[Lt]||Lt.toLowerCase().replace(/[_\s]+/g,"-");if(en)throw ot(D,Rn,en);Ue(D,Rn)}}catch(K){if(K instanceof F.ZR)throw K;Ue(D,"network-request-failed",{message:String(K)})}})).apply(this,arguments)}function ct(D,d,m,T){return xe.apply(this,arguments)}function xe(){return(xe=(0,p.Z)(function*(D,d,m,T,K={}){const ne=yield Ft(D,d,m,T,K);return"mfaPendingCredential"in ne&&Ue(D,"multi-factor-auth-required",{_serverResponse:ne}),ne})).apply(this,arguments)}function Ze(D,d,m,T){const K=`${d}${m}?${T}`;return D.config.emulator?tt(D.config,K):`${D.config.apiScheme}://${K}`}class qt{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((m,T)=>{this.timer=setTimeout(()=>T(we(this.auth,"network-request-failed")),wt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _n(D,d,m){const T={appName:D.name};m.email&&(T.email=m.email),m.phoneNumber&&(T.phoneNumber=m.phoneNumber);const K=we(D,d,T);return K.customData._tokenResponse=m,K}function Vn(){return(Vn=(0,p.Z)(function*(D,d){return Ft(D,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function Br(){return(Br=(0,p.Z)(function*(D,d){return Ft(D,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Nn(){return(Nn=(0,p.Z)(function*(D,d){return Ft(D,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function zt(D){if(D)try{const d=new Date(Number(D));if(!isNaN(d.getTime()))return d.toUTCString()}catch{}}function xr(){return(xr=(0,p.Z)(function*(D,d=!1){const m=(0,F.m9)(D),T=yield m.getIdToken(d),K=$i(T);He(K&&K.exp&&K.auth_time&&K.iat,m.auth,"internal-error");const ne="object"==typeof K.firebase?K.firebase:void 0,Oe=ne?.sign_in_provider;return{claims:K,token:T,authTime:zt(jr(K.auth_time)),issuedAtTime:zt(jr(K.iat)),expirationTime:zt(jr(K.exp)),signInProvider:Oe||null,signInSecondFactor:ne?.sign_in_second_factor||null}})).apply(this,arguments)}function jr(D){return 1e3*Number(D)}function $i(D){const[d,m,T]=D.split(".");if(void 0===d||void 0===m||void 0===T)return It("JWT malformed, contained fewer than 3 sections"),null;try{const K=(0,F.tV)(m);return K?JSON.parse(K):(It("Failed to decode base64 JWT payload"),null)}catch(K){return It("Caught error parsing JWT payload as JSON",K?.toString()),null}}function En(D,d){return nn.apply(this,arguments)}function nn(){return(nn=(0,p.Z)(function*(D,d,m=!1){if(m)return d;try{return yield d}catch(T){throw T instanceof F.ZR&&function bn({code:D}){return"auth/user-disabled"===D||"auth/user-token-expired"===D}(T)&&D.auth.currentUser===D&&(yield D.auth.signOut()),T}})).apply(this,arguments)}class ki{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var m;if(d){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const K=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,K)}}schedule(d=!1){var m=this;if(!this.isRunning)return;const T=this.getInterval(d);this.timerId=setTimeout((0,p.Z)(function*(){yield m.iteration()}),T)}iteration(){var d=this;return(0,p.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&d.schedule(!0))}d.schedule()})()}}class mi{constructor(d,m){this.createdAt=d,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=zt(this.lastLoginAt),this.creationTime=zt(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function _r(D){return $r.apply(this,arguments)}function $r(){return $r=(0,p.Z)(function*(D){var d;const m=D.auth,T=yield D.getIdToken(),K=yield En(D,function gi(D,d){return Nn.apply(this,arguments)}(m,{idToken:T}));He(K?.users.length,m,"internal-error");const ne=K.users[0];D._notifyReloadListener(ne);const Oe=null!==(d=ne.providerUserInfo)&&void 0!==d&&d.length?function Zt(D){return D.map(d=>{var{providerId:m}=d,T=(0,re._T)(d,["providerId"]);return{providerId:m,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}(ne.providerUserInfo):[],ht=function ir(D,d){return[...D.filter(T=>!d.some(K=>K.providerId===T.providerId)),...d]}(D.providerData,Oe),Rn=!!D.isAnonymous&&!(D.email&&ne.passwordHash||ht?.length),Gn={uid:ne.localId,displayName:ne.displayName||null,photoURL:ne.photoUrl||null,email:ne.email||null,emailVerified:ne.emailVerified||!1,phoneNumber:ne.phoneNumber||null,tenantId:ne.tenantId||null,providerData:ht,metadata:new mi(ne.createdAt,ne.lastLoginAt),isAnonymous:Rn};Object.assign(D,Gn)}),$r.apply(this,arguments)}function ui(){return(ui=(0,p.Z)(function*(D){const d=(0,F.m9)(D);yield _r(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function Ar(){return(Ar=(0,p.Z)(function*(D,d){const m=yield jt(D,{},(0,p.Z)(function*(){const T=(0,F.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:K,apiKey:ne}=D.config,Oe=Ze(D,K,"/v1/token",`key=${ne}`),ht=yield D._getAdditionalHeaders();return ht["Content-Type"]="application/x-www-form-urlencoded",ut.fetch()(Oe,{method:"POST",headers:ht,body:T})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Vt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){He(d.idToken,"internal-error"),He(typeof d.idToken<"u","internal-error"),He(typeof d.refreshToken<"u","internal-error");const m="expiresIn"in d&&typeof d.expiresIn<"u"?Number(d.expiresIn):function mr(D){const d=$i(D);return He(d,"internal-error"),He(typeof d.exp<"u","internal-error"),He(typeof d.iat<"u","internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,m)}getToken(d,m=!1){var T=this;return(0,p.Z)(function*(){return He(!T.accessToken||T.refreshToken,d,"user-token-expired"),m||!T.accessToken||T.isExpired?T.refreshToken?(yield T.refresh(d,T.refreshToken),T.accessToken):null:T.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,m){var T=this;return(0,p.Z)(function*(){const{accessToken:K,refreshToken:ne,expiresIn:Oe}=yield function Dn(D,d){return Ar.apply(this,arguments)}(d,m);T.updateTokensAndExpiration(K,ne,Number(Oe))})()}updateTokensAndExpiration(d,m,T){this.refreshToken=m||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(d,m){const{refreshToken:T,accessToken:K,expirationTime:ne}=m,Oe=new Vt;return T&&(He("string"==typeof T,"internal-error",{appName:d}),Oe.refreshToken=T),K&&(He("string"==typeof K,"internal-error",{appName:d}),Oe.accessToken=K),ne&&(He("number"==typeof ne,"internal-error",{appName:d}),Oe.expirationTime=ne),Oe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new Vt,this.toJSON())}_performRefresh(){return Dt("not implemented")}}function zn(D,d){He("string"==typeof D||typeof D>"u","internal-error",{appName:d})}class Dr{constructor(d){var{uid:m,auth:T,stsTokenManager:K}=d,ne=(0,re._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ki(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=T,this.stsTokenManager=K,this.accessToken=K.accessToken,this.displayName=ne.displayName||null,this.email=ne.email||null,this.emailVerified=ne.emailVerified||!1,this.phoneNumber=ne.phoneNumber||null,this.photoURL=ne.photoURL||null,this.isAnonymous=ne.isAnonymous||!1,this.tenantId=ne.tenantId||null,this.providerData=ne.providerData?[...ne.providerData]:[],this.metadata=new mi(ne.createdAt||void 0,ne.lastLoginAt||void 0)}getIdToken(d){var m=this;return(0,p.Z)(function*(){const T=yield En(m,m.stsTokenManager.getToken(m.auth,d));return He(T,m.auth,"internal-error"),m.accessToken!==T&&(m.accessToken=T,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),T})()}getIdTokenResult(d){return function Kr(D){return xr.apply(this,arguments)}(this,d)}reload(){return function Fr(D){return ui.apply(this,arguments)}(this)}_assign(d){this!==d&&(He(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(m=>Object.assign({},m)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){const m=new Dr(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(d){He(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,m=!1){var T=this;return(0,p.Z)(function*(){let K=!1;d.idToken&&d.idToken!==T.stsTokenManager.accessToken&&(T.stsTokenManager.updateFromServerResponse(d),K=!0),m&&(yield _r(T)),yield T.auth._persistUserIfCurrent(T),K&&T.auth._notifyListenersIfCurrent(T)})()}delete(){var d=this;return(0,p.Z)(function*(){const m=yield d.getIdToken();return yield En(d,function On(D,d){return Vn.apply(this,arguments)}(d.auth,{idToken:m})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,m){var T,K,ne,Oe,ht,Lt,en,Rn;const Gn=null!==(T=m.displayName)&&void 0!==T?T:void 0,Zi=null!==(K=m.email)&&void 0!==K?K:void 0,Ca=null!==(ne=m.phoneNumber)&&void 0!==ne?ne:void 0,Wa=null!==(Oe=m.photoURL)&&void 0!==Oe?Oe:void 0,Dh=null!==(ht=m.tenantId)&&void 0!==ht?ht:void 0,Ka=null!==(Lt=m._redirectEventId)&&void 0!==Lt?Lt:void 0,Bc=null!==(en=m.createdAt)&&void 0!==en?en:void 0,Al=null!==(Rn=m.lastLoginAt)&&void 0!==Rn?Rn:void 0,{uid:fu,emailVerified:tc,isAnonymous:zu,providerData:nc,stsTokenManager:Ml}=m;He(fu&&Ml,d,"internal-error");const ll=Vt.fromJSON(this.name,Ml);He("string"==typeof fu,d,"internal-error"),zn(Gn,d.name),zn(Zi,d.name),He("boolean"==typeof tc,d,"internal-error"),He("boolean"==typeof zu,d,"internal-error"),zn(Ca,d.name),zn(Wa,d.name),zn(Dh,d.name),zn(Ka,d.name),zn(Bc,d.name),zn(Al,d.name);const Gu=new Dr({uid:fu,auth:d,email:Zi,emailVerified:tc,displayName:Gn,isAnonymous:zu,photoURL:Wa,phoneNumber:Ca,tenantId:Dh,stsTokenManager:ll,createdAt:Bc,lastLoginAt:Al});return nc&&Array.isArray(nc)&&(Gu.providerData=nc.map(jc=>Object.assign({},jc))),Ka&&(Gu._redirectEventId=Ka),Gu}static _fromIdTokenResponse(d,m,T=!1){return(0,p.Z)(function*(){const K=new Vt;K.updateFromServerResponse(m);const ne=new Dr({uid:m.localId,auth:d,stsTokenManager:K,isAnonymous:T});return yield _r(ne),ne})()}}const tr=new Map;function Pt(D){on(D instanceof Function,"Expected a class definition");let d=tr.get(D);return d?(on(d instanceof D,"Instance stored in cache mismatched with class"),d):(d=new D,tr.set(D,d),d)}const un=(()=>{class D{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,p.Z)(function*(){return!0})()}_set(m,T){var K=this;return(0,p.Z)(function*(){K.storage[m]=T})()}_get(m){var T=this;return(0,p.Z)(function*(){const K=T.storage[m];return void 0===K?null:K})()}_remove(m){var T=this;return(0,p.Z)(function*(){delete T.storage[m]})()}_addListener(m,T){}_removeListener(m,T){}}return D.type="NONE",D})();function Pr(D,d,m){return`firebase:${D}:${d}:${m}`}class ye{constructor(d,m,T){this.persistence=d,this.auth=m,this.userKey=T;const{config:K,name:ne}=this.auth;this.fullUserKey=Pr(this.userKey,K.apiKey,ne),this.fullPersistenceKey=Pr("persistence",K.apiKey,ne),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,p.Z)(function*(){const m=yield d.persistence._get(d.fullUserKey);return m?Dr._fromJSON(d.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var m=this;return(0,p.Z)(function*(){if(m.persistence===d)return;const T=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=d,T?m.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,m,T="authUser"){return(0,p.Z)(function*(){if(!m.length)return new ye(Pt(un),d,T);const K=(yield Promise.all(m.map(function(){var en=(0,p.Z)(function*(Rn){if(yield Rn._isAvailable())return Rn});return function(Rn){return en.apply(this,arguments)}}()))).filter(en=>en);let ne=K[0]||Pt(un);const Oe=Pr(T,d.config.apiKey,d.name);let ht=null;for(const en of m)try{const Rn=yield en._get(Oe);if(Rn){const Gn=Dr._fromJSON(d,Rn);en!==ne&&(ht=Gn),ne=en;break}}catch{}const Lt=K.filter(en=>en._shouldAllowMigration);return ne._shouldAllowMigration&&Lt.length?(ne=Lt[0],ht&&(yield ne._set(Oe,ht.toJSON())),yield Promise.all(m.map(function(){var en=(0,p.Z)(function*(Rn){if(Rn!==ne)try{yield Rn._remove(Oe)}catch{}});return function(Rn){return en.apply(this,arguments)}}())),new ye(ne,d,T)):new ye(ne,d,T)})()}}function he(D){const d=D.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(xt(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(De(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(_e(d))return"Blackberry";if(ie(d))return"Webos";if(lt(d))return"Safari";if((d.includes("chrome/")||Ge(d))&&!d.includes("edge/"))return"Chrome";if(ve(d))return"Android";{const T=D.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===T?.length)return T[1]}return"Other"}function De(D=(0,F.z$)()){return/firefox\//i.test(D)}function lt(D=(0,F.z$)()){const d=D.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function Ge(D=(0,F.z$)()){return/crios\//i.test(D)}function xt(D=(0,F.z$)()){return/iemobile/i.test(D)}function ve(D=(0,F.z$)()){return/android/i.test(D)}function _e(D=(0,F.z$)()){return/blackberry/i.test(D)}function ie(D=(0,F.z$)()){return/webos/i.test(D)}function Te(D=(0,F.z$)()){return/iphone|ipad|ipod/i.test(D)||/macintosh/i.test(D)&&/mobile/i.test(D)}function dt(D=(0,F.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(D)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(D)}function qn(D=(0,F.z$)()){return Te(D)||ve(D)||ie(D)||_e(D)||/windows phone/i.test(D)||xt(D)}function Fi(D,d=[]){let m;switch(D){case"Browser":m=he((0,F.z$)());break;case"Worker":m=`${he((0,F.z$)())}-${D}`;break;default:m=D}const T=d.length?d.join(","):"FirebaseCore-web";return`${m}/JsCore/${$.SDK_VERSION}/${T}`}function je(){return(je=(0,p.Z)(function*(D){return(yield Ft(D,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ct(D,d){return tn.apply(this,arguments)}function tn(){return(tn=(0,p.Z)(function*(D,d){return Ft(D,"GET","/v2/recaptchaConfig",ft(D,d))})).apply(this,arguments)}function xn(D){return void 0!==D&&void 0!==D.getResponse}function An(D){return void 0!==D&&void 0!==D.enterprise}class an{constructor(d){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===d.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=d.recaptchaKey.split("/")[3],this.emailPasswordEnabled=d.recaptchaEnforcementState.some(m=>"EMAIL_PASSWORD_PROVIDER"===m.provider&&"OFF"!==m.enforcementState)}}function Hn(D){return new Promise((d,m)=>{const T=document.createElement("script");T.setAttribute("src",D),T.onload=d,T.onerror=K=>{const ne=we("internal-error");ne.customData=K,m(ne)},T.type="text/javascript",T.charset="UTF-8",function ur(){var D,d;return null!==(d=null===(D=document.getElementsByTagName("head"))||void 0===D?void 0:D[0])&&void 0!==d?d:document}().appendChild(T)})}function hr(D){return`__${D}${Math.floor(1e6*Math.random())}`}const vi="NO_RECAPTCHA";class Zr{constructor(d){this.type="recaptcha-enterprise",this.auth=sr(d)}verify(d="verify",m=!1){var T=this;return(0,p.Z)(function*(){function ne(){return ne=(0,p.Z)(function*(ht){if(!m){if(null==ht.tenantId&&null!=ht._agentRecaptchaConfig)return ht._agentRecaptchaConfig.siteKey;if(null!=ht.tenantId&&void 0!==ht._tenantRecaptchaConfigs[ht.tenantId])return ht._tenantRecaptchaConfigs[ht.tenantId].siteKey}return new Promise(function(){var Lt=(0,p.Z)(function*(en,Rn){Ct(ht,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Gn=>{if(void 0!==Gn.recaptchaKey){const Zi=new an(Gn);return null==ht.tenantId?ht._agentRecaptchaConfig=Zi:ht._tenantRecaptchaConfigs[ht.tenantId]=Zi,en(Zi.siteKey)}Rn(new Error("recaptcha Enterprise site key undefined"))}).catch(Gn=>{Rn(Gn)})});return function(en,Rn){return Lt.apply(this,arguments)}}())}),ne.apply(this,arguments)}function Oe(ht,Lt,en){const Rn=window.grecaptcha;An(Rn)?Rn.enterprise.ready(()=>{Rn.enterprise.execute(ht,{action:d}).then(Gn=>{Lt(Gn)}).catch(()=>{Lt(vi)})}):en(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ht,Lt)=>{(function K(ht){return ne.apply(this,arguments)})(T.auth).then(en=>{if(!m&&An(window.grecaptcha))Oe(en,ht,Lt);else{if(typeof window>"u")return void Lt(new Error("RecaptchaVerifier is only supported in browser"));Hn("https://www.google.com/recaptcha/enterprise.js?render="+en).then(()=>{Oe(en,ht,Lt)}).catch(Rn=>{Lt(Rn)})}}).catch(en=>{Lt(en)})})})()}}function Cr(D,d,m){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,p.Z)(function*(D,d,m,T=!1){const K=new Zr(D);let ne;try{ne=yield K.verify(m)}catch{ne=yield K.verify(m,!0)}const Oe=Object.assign({},d);return Object.assign(Oe,T?{captchaResp:ne}:{captchaResponse:ne}),Object.assign(Oe,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Oe,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Oe})).apply(this,arguments)}class Fn{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,m){const T=ne=>new Promise((Oe,ht)=>{try{Oe(d(ne))}catch(Lt){ht(Lt)}});T.onAbort=m,this.queue.push(T);const K=this.queue.length-1;return()=>{this.queue[K]=()=>Promise.resolve()}}runMiddleware(d){var m=this;return(0,p.Z)(function*(){if(m.auth.currentUser===d)return;const T=[];try{for(const K of m.queue)yield K(d),K.onAbort&&T.push(K.onAbort)}catch(K){T.reverse();for(const ne of T)try{ne()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:K?.message})}})()}}class dr{constructor(d,m,T,K){this.app=d,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=T,this.config=K,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new li(this),this.idTokenSubscription=new li(this),this.beforeStateQueue=new Fn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=K.sdkClientVersion}_initializeWithPersistence(d,m){var T=this;return m&&(this._popupRedirectResolver=Pt(m)),this._initializationPromise=this.queue((0,p.Z)(function*(){var K,ne;if(!T._deleted&&(T.persistenceManager=yield ye.create(T,d),!T._deleted)){if(null!==(K=T._popupRedirectResolver)&&void 0!==K&&K._shouldInitProactively)try{yield T._popupRedirectResolver._initialize(T)}catch{}yield T.initializeCurrentUser(m),T.lastNotifiedUid=(null===(ne=T.currentUser)||void 0===ne?void 0:ne.uid)||null,!T._deleted&&(T._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,p.Z)(function*(){if(d._deleted)return;const m=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||m){if(d.currentUser&&m&&d.currentUser.uid===m.uid)return d._currentUser._assign(m),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(m,!0)}})()}initializeCurrentUser(d){var m=this;return(0,p.Z)(function*(){var T;const K=yield m.assertedPersistence.getCurrentUser();let ne=K,Oe=!1;if(d&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const ht=null===(T=m.redirectUser)||void 0===T?void 0:T._redirectEventId,Lt=ne?._redirectEventId,en=yield m.tryRedirectSignIn(d);(!ht||ht===Lt)&&en?.user&&(ne=en.user,Oe=!0)}if(!ne)return m.directlySetCurrentUser(null);if(!ne._redirectEventId){if(Oe)try{yield m.beforeStateQueue.runMiddleware(ne)}catch(ht){ne=K,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(ht))}return ne?m.reloadAndSetCurrentUserOrClear(ne):m.directlySetCurrentUser(null)}return He(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===ne._redirectEventId?m.directlySetCurrentUser(ne):m.reloadAndSetCurrentUserOrClear(ne)})()}tryRedirectSignIn(d){var m=this;return(0,p.Z)(function*(){let T=null;try{T=yield m._popupRedirectResolver._completeRedirectFn(m,d,!0)}catch{yield m._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(d){var m=this;return(0,p.Z)(function*(){try{yield _r(d)}catch(T){if("auth/network-request-failed"!==T?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function et(){if(typeof navigator>"u")return null;const D=navigator;return D.languages&&D.languages[0]||D.language||null}()}_delete(){var d=this;return(0,p.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var m=this;return(0,p.Z)(function*(){const T=d?(0,F.m9)(d):null;return T&&He(T.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(T&&T._clone(m))})()}_updateCurrentUser(d,m=!1){var T=this;return(0,p.Z)(function*(){if(!T._deleted)return d&&He(T.tenantId===d.tenantId,T,"tenant-id-mismatch"),m||(yield T.beforeStateQueue.runMiddleware(d)),T.queue((0,p.Z)(function*(){yield T.directlySetCurrentUser(d),T.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,p.Z)(function*(){return yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0)})()}setPersistence(d){var m=this;return this.queue((0,p.Z)(function*(){yield m.assertedPersistence.setPersistence(Pt(d))}))}initializeRecaptchaConfig(){var d=this;return(0,p.Z)(function*(){const m=yield Ct(d,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),T=new an(m);null==d.tenantId?d._agentRecaptchaConfig=T:d._tenantRecaptchaConfigs[d.tenantId]=T,T.emailPasswordEnabled&&new Zr(d).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new F.LL("auth","Firebase",d())}onAuthStateChanged(d,m,T){return this.registerStateListener(this.authStateSubscription,d,m,T)}beforeAuthStateChanged(d,m){return this.beforeStateQueue.pushCallback(d,m)}onIdTokenChanged(d,m,T){return this.registerStateListener(this.idTokenSubscription,d,m,T)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,m){var T=this;return(0,p.Z)(function*(){const K=yield T.getOrInitRedirectPersistenceManager(m);return null===d?K.removeCurrentUser():K.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var m=this;return(0,p.Z)(function*(){if(!m.redirectPersistenceManager){const T=d&&Pt(d)||m._popupRedirectResolver;He(T,m,"argument-error"),m.redirectPersistenceManager=yield ye.create(m,[Pt(T._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(d){var m=this;return(0,p.Z)(function*(){var T,K;return m._isInitialized&&(yield m.queue((0,p.Z)(function*(){}))),(null===(T=m._currentUser)||void 0===T?void 0:T._redirectEventId)===d?m._currentUser:(null===(K=m.redirectUser)||void 0===K?void 0:K._redirectEventId)===d?m.redirectUser:null})()}_persistUserIfCurrent(d){var m=this;return(0,p.Z)(function*(){if(d===m.currentUser)return m.queue((0,p.Z)(function*(){return m.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(m=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,m,T,K){if(this._deleted)return()=>{};const ne="function"==typeof m?m:m.next.bind(m),Oe=this._isInitialized?Promise.resolve():this._initializationPromise;return He(Oe,this,"internal-error"),Oe.then(()=>ne(this.currentUser)),"function"==typeof m?d.addObserver(m,T,K):d.addObserver(m)}directlySetCurrentUser(d){var m=this;return(0,p.Z)(function*(){m.currentUser&&m.currentUser!==d&&m._currentUser._stopProactiveRefresh(),d&&m.isProactiveRefreshEnabled&&d._startProactiveRefresh(),m.currentUser=d,d?yield m.assertedPersistence.setCurrentUser(d):yield m.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return He(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=Fi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,p.Z)(function*(){var m;const T={"X-Client-Version":d.clientVersion};d.app.options.appId&&(T["X-Firebase-gmpid"]=d.app.options.appId);const K=yield null===(m=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();K&&(T["X-Firebase-Client"]=K);const ne=yield d._getAppCheckToken();return ne&&(T["X-Firebase-AppCheck"]=ne),T})()}_getAppCheckToken(){var d=this;return(0,p.Z)(function*(){var m;const T=yield null===(m=d.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return T?.error&&function st(D,...d){Be.logLevel<=Z.in.WARN&&Be.warn(`Auth (${$.SDK_VERSION}): ${D}`,...d)}(`Error while retrieving App Check token: ${T.error}`),T?.token})()}}function sr(D){return(0,F.m9)(D)}class li{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,F.ne)(m=>this.observer=m)}get next(){return He(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Or(D,d,m){const T=sr(D);He(T._canInitEmulator,T,"emulator-config-failed"),He(/^https?:\/\//.test(d),T,"invalid-emulator-scheme");const K=!!m?.disableWarnings,ne=Pe(d),{host:Oe,port:ht}=function Ae(D){const d=Pe(D),m=/(\/\/)?([^?#/]+)/.exec(D.substr(d.length));if(!m)return{host:"",port:null};const T=m[2].split("@").pop()||"",K=/^(\[[^\]]+\])(:|$)/.exec(T);if(K){const ne=K[1];return{host:ne,port:Ie(T.substr(ne.length+1))}}{const[ne,Oe]=T.split(":");return{host:ne,port:Ie(Oe)}}}(d);T.config.emulator={url:`${ne}//${Oe}${null===ht?"":`:${ht}`}/`},T.settings.appVerificationDisabledForTesting=!0,T.emulatorConfig=Object.freeze({host:Oe,port:ht,protocol:ne.replace(":",""),options:Object.freeze({disableWarnings:K})}),K||function _t(){function D(){const d=document.createElement("p"),m=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",D):D())}()}function Pe(D){const d=D.indexOf(":");return d<0?"":D.substr(0,d+1)}function Ie(D){if(!D)return null;const d=Number(D);return isNaN(d)?null:d}class Rt{constructor(d,m){this.providerId=d,this.signInMethod=m}toJSON(){return Dt("not implemented")}_getIdTokenResponse(d){return Dt("not implemented")}_linkToIdToken(d,m){return Dt("not implemented")}_getReauthenticationResolver(d){return Dt("not implemented")}}function Tn(D,d){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,p.Z)(function*(D,d){return Ft(D,"POST","/v1/accounts:resetPassword",ft(D,d))})).apply(this,arguments)}function Cn(D,d){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,p.Z)(function*(D,d){return Ft(D,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function _i(){return(_i=(0,p.Z)(function*(D,d){return Ft(D,"POST","/v1/accounts:update",ft(D,d))})).apply(this,arguments)}function Nr(D,d){return ci.apply(this,arguments)}function ci(){return(ci=(0,p.Z)(function*(D,d){return ct(D,"POST","/v1/accounts:signInWithPassword",ft(D,d))})).apply(this,arguments)}function Er(D,d){return ts.apply(this,arguments)}function ts(){return(ts=(0,p.Z)(function*(D,d){return Ft(D,"POST","/v1/accounts:sendOobCode",ft(D,d))})).apply(this,arguments)}function Fs(){return(Fs=(0,p.Z)(function*(D,d){return Er(D,d)})).apply(this,arguments)}function Zs(D,d){return hs.apply(this,arguments)}function hs(){return(hs=(0,p.Z)(function*(D,d){return Er(D,d)})).apply(this,arguments)}function lo(D,d){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,p.Z)(function*(D,d){return Er(D,d)})).apply(this,arguments)}function Ei(){return(Ei=(0,p.Z)(function*(D,d){return Er(D,d)})).apply(this,arguments)}function Hr(){return(Hr=(0,p.Z)(function*(D,d){return ct(D,"POST","/v1/accounts:signInWithEmailLink",ft(D,d))})).apply(this,arguments)}function co(){return(co=(0,p.Z)(function*(D,d){return ct(D,"POST","/v1/accounts:signInWithEmailLink",ft(D,d))})).apply(this,arguments)}class Ai extends Rt{constructor(d,m,T,K=null){super("password",T),this._email=d,this._password=m,this._tenantId=K}static _fromEmailAndPassword(d,m){return new Ai(d,m,"password")}static _fromEmailAndCode(d,m,T=null){return new Ai(d,m,"emailLink",T)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const m="string"==typeof d?JSON.parse(d):d;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(d){var m=this;return(0,p.Z)(function*(){var T;switch(m.signInMethod){case"password":const K={returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(T=d._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const ne=yield Cr(d,K,"signInWithPassword");return Nr(d,ne)}return Nr(d,K).catch(function(){var ne=(0,p.Z)(function*(Oe){if("auth/missing-recaptcha-token"===Oe.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ht=yield Cr(d,K,"signInWithPassword");return Nr(d,ht)}return Promise.reject(Oe)});return function(Oe){return ne.apply(this,arguments)}}());case"emailLink":return function yr(D,d){return Hr.apply(this,arguments)}(d,{email:m._email,oobCode:m._password});default:Ue(d,"internal-error")}})()}_linkToIdToken(d,m){var T=this;return(0,p.Z)(function*(){switch(T.signInMethod){case"password":return Cn(d,{idToken:m,returnSecureToken:!0,email:T._email,password:T._password});case"emailLink":return function Ys(D,d){return co.apply(this,arguments)}(d,{idToken:m,email:T._email,oobCode:T._password});default:Ue(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function zi(D,d){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,p.Z)(function*(D,d){return ct(D,"POST","/v1/accounts:signInWithIdp",ft(D,d))})).apply(this,arguments)}class Mi extends Rt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const m=new Mi(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(m.idToken=d.idToken),d.accessToken&&(m.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(m.nonce=d.nonce),d.pendingToken&&(m.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(m.accessToken=d.oauthToken,m.secret=d.oauthTokenSecret):Ue("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const m="string"==typeof d?JSON.parse(d):d,{providerId:T,signInMethod:K}=m,ne=(0,re._T)(m,["providerId","signInMethod"]);if(!T||!K)return null;const Oe=new Mi(T,K);return Oe.idToken=ne.idToken||void 0,Oe.accessToken=ne.accessToken||void 0,Oe.secret=ne.secret,Oe.nonce=ne.nonce,Oe.pendingToken=ne.pendingToken||null,Oe}_getIdTokenResponse(d){return zi(d,this.buildRequest())}_linkToIdToken(d,m){const T=this.buildRequest();return T.idToken=m,zi(d,T)}_getReauthenticationResolver(d){const m=this.buildRequest();return m.autoCreate=!1,zi(d,m)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),d.postBody=(0,F.xO)(m)}return d}}function Ts(){return(Ts=(0,p.Z)(function*(D,d){return Ft(D,"POST","/v1/accounts:sendVerificationCode",ft(D,d))})).apply(this,arguments)}function ho(){return(ho=(0,p.Z)(function*(D,d){return ct(D,"POST","/v1/accounts:signInWithPhoneNumber",ft(D,d))})).apply(this,arguments)}function $o(){return($o=(0,p.Z)(function*(D,d){const m=yield ct(D,"POST","/v1/accounts:signInWithPhoneNumber",ft(D,d));if(m.temporaryProof)throw _n(D,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const bs={USER_NOT_FOUND:"user-not-found"};function Ho(){return(Ho=(0,p.Z)(function*(D,d){return ct(D,"POST","/v1/accounts:signInWithPhoneNumber",ft(D,Object.assign(Object.assign({},d),{operation:"REAUTH"})),bs)})).apply(this,arguments)}class Ri extends Rt{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,m){return new Ri({verificationId:d,verificationCode:m})}static _fromTokenResponse(d,m){return new Ri({phoneNumber:d,temporaryProof:m})}_getIdTokenResponse(d){return function ns(D,d){return ho.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,m){return function Xo(D,d){return $o.apply(this,arguments)}(d,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function Ss(D,d){return Ho.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:m,verificationId:T,verificationCode:K}=this.params;return d&&m?{temporaryProof:d,phoneNumber:m}:{sessionInfo:T,code:K}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:m,verificationCode:T,phoneNumber:K,temporaryProof:ne}=d;return T||m||K||ne?new Ri({verificationId:m,verificationCode:T,phoneNumber:K,temporaryProof:ne}):null}}class Yi{constructor(d){var m,T,K,ne,Oe,ht;const Lt=(0,F.zd)((0,F.pd)(d)),en=null!==(m=Lt.apiKey)&&void 0!==m?m:null,Rn=null!==(T=Lt.oobCode)&&void 0!==T?T:null,Gn=function Qs(D){switch(D){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(K=Lt.mode)&&void 0!==K?K:null);He(en&&Rn&&Gn,"argument-error"),this.apiKey=en,this.operation=Gn,this.code=Rn,this.continueUrl=null!==(ne=Lt.continueUrl)&&void 0!==ne?ne:null,this.languageCode=null!==(Oe=Lt.languageCode)&&void 0!==Oe?Oe:null,this.tenantId=null!==(ht=Lt.tenantId)&&void 0!==ht?ht:null}static parseLink(d){const m=function ga(D){const d=(0,F.zd)((0,F.pd)(D)).link,m=d?(0,F.zd)((0,F.pd)(d)).deep_link_id:null,T=(0,F.zd)((0,F.pd)(D)).deep_link_id;return(T?(0,F.zd)((0,F.pd)(T)).link:null)||T||m||d||D}(d);try{return new Yi(m)}catch{return null}}}let Js=(()=>{class D{constructor(){this.providerId=D.PROVIDER_ID}static credential(m,T){return Ai._fromEmailAndPassword(m,T)}static credentialWithLink(m,T){const K=Yi.parseLink(T);return He(K,"argument-error"),Ai._fromEmailAndCode(m,K.code,K.tenantId)}}return D.PROVIDER_ID="password",D.EMAIL_PASSWORD_SIGN_IN_METHOD="password",D.EMAIL_LINK_SIGN_IN_METHOD="emailLink",D})();class Xs{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class Ti extends Xs{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class Vs extends Ti{static credentialFromJSON(d){const m="string"==typeof d?JSON.parse(d):d;return He("providerId"in m&&"signInMethod"in m,"argument-error"),Mi._fromParams(m)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return He(d.idToken||d.accessToken,"argument-error"),Mi._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return Vs.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return Vs.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:m,oauthAccessToken:T,oauthTokenSecret:K,pendingToken:ne,nonce:Oe,providerId:ht}=d;if(!T&&!K&&!m&&!ne||!ht)return null;try{return new Vs(ht)._credential({idToken:m,accessToken:T,nonce:Oe,pendingToken:ne})}catch{return null}}}let ta=(()=>{class D extends Ti{constructor(){super("facebook.com")}static credential(m){return Mi._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return D.credentialFromTaggedObject(m)}static credentialFromError(m){return D.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return D.credential(m.oauthAccessToken)}catch{return null}}}return D.FACEBOOK_SIGN_IN_METHOD="facebook.com",D.PROVIDER_ID="facebook.com",D})(),fs=(()=>{class D extends Ti{constructor(){super("google.com"),this.addScope("profile")}static credential(m,T){return Mi._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:T})}static credentialFromResult(m){return D.credentialFromTaggedObject(m)}static credentialFromError(m){return D.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:T,oauthAccessToken:K}=m;if(!T&&!K)return null;try{return D.credential(T,K)}catch{return null}}}return D.GOOGLE_SIGN_IN_METHOD="google.com",D.PROVIDER_ID="google.com",D})(),fo=(()=>{class D extends Ti{constructor(){super("github.com")}static credential(m){return Mi._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return D.credentialFromTaggedObject(m)}static credentialFromError(m){return D.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return D.credential(m.oauthAccessToken)}catch{return null}}}return D.GITHUB_SIGN_IN_METHOD="github.com",D.PROVIDER_ID="github.com",D})();class Bi extends Rt{constructor(d,m){super(d,d),this.pendingToken=m}_getIdTokenResponse(d){return zi(d,this.buildRequest())}_linkToIdToken(d,m){const T=this.buildRequest();return T.idToken=m,zi(d,T)}_getReauthenticationResolver(d){const m=this.buildRequest();return m.autoCreate=!1,zi(d,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const m="string"==typeof d?JSON.parse(d):d,{providerId:T,signInMethod:K,pendingToken:ne}=m;return T&&K&&ne&&T===K?new Bi(T,ne):null}static _create(d,m){return new Bi(d,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class eo extends Xs{constructor(d){He(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return eo.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return eo.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const m=Bi.fromJSON(d);return He(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:m,providerId:T}=d;if(!m||!T)return null;try{return Bi._create(T,m)}catch{return null}}}let Ao=(()=>{class D extends Ti{constructor(){super("twitter.com")}static credential(m,T){return Mi._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:T})}static credentialFromResult(m){return D.credentialFromTaggedObject(m)}static credentialFromError(m){return D.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:T,oauthTokenSecret:K}=m;if(!T||!K)return null;try{return D.credential(T,K)}catch{return null}}}return D.TWITTER_SIGN_IN_METHOD="twitter.com",D.PROVIDER_ID="twitter.com",D})();function Gi(D,d){return As.apply(this,arguments)}function As(){return(As=(0,p.Z)(function*(D,d){return ct(D,"POST","/v1/accounts:signUp",ft(D,d))})).apply(this,arguments)}class Yn{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,m,T,K=!1){return(0,p.Z)(function*(){const ne=yield Dr._fromIdTokenResponse(d,T,K),Oe=Mo(T);return new Yn({user:ne,providerId:Oe,_tokenResponse:T,operationType:m})})()}static _forOperation(d,m,T){return(0,p.Z)(function*(){yield d._updateTokensIfNecessary(T,!0);const K=Mo(T);return new Yn({user:d,providerId:K,_tokenResponse:T,operationType:m})})()}}function Mo(D){return D.providerId?D.providerId:"phoneNumber"in D?"phone":null}function ps(D){return zr.apply(this,arguments)}function zr(){return(zr=(0,p.Z)(function*(D){var d;const m=sr(D);if(yield m._initializationPromise,null!==(d=m.currentUser)&&void 0!==d&&d.isAnonymous)return new Yn({user:m.currentUser,providerId:null,operationType:"signIn"});const T=yield Gi(m,{returnSecureToken:!0}),K=yield Yn._fromIdTokenResponse(m,"signIn",T,!0);return yield m._updateCurrentUser(K.user),K})).apply(this,arguments)}class to extends F.ZR{constructor(d,m,T,K){var ne;super(m.code,m.message),this.operationType=T,this.user=K,Object.setPrototypeOf(this,to.prototype),this.customData={appName:d.name,tenantId:null!==(ne=d.tenantId)&&void 0!==ne?ne:void 0,_serverResponse:m.customData._serverResponse,operationType:T}}static _fromErrorAndOperation(d,m,T,K){return new to(d,m,T,K)}}function Us(D,d,m,T){return("reauthenticate"===d?m._getReauthenticationResolver(D):m._getIdTokenResponse(D)).catch(ne=>{throw"auth/multi-factor-auth-required"===ne.code?to._fromErrorAndOperation(D,ne,d,T):ne})}function Li(D){return new Set(D.map(({providerId:d})=>d).filter(d=>!!d))}function nu(D,d){return gs.apply(this,arguments)}function gs(){return gs=(0,p.Z)(function*(D,d){const m=(0,F.m9)(D);yield Ro(!0,m,d);const{providerUserInfo:T}=yield function cn(D,d){return Br.apply(this,arguments)}(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[d]}),K=Li(T||[]);return m.providerData=m.providerData.filter(ne=>K.has(ne.providerId)),K.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m}),gs.apply(this,arguments)}function bi(D,d){return di.apply(this,arguments)}function di(){return(di=(0,p.Z)(function*(D,d,m=!1){const T=yield En(D,d._linkToIdToken(D.auth,yield D.getIdToken()),m);return Yn._forOperation(D,"link",T)})).apply(this,arguments)}function Ro(D,d,m){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,p.Z)(function*(D,d,m){yield _r(d);const K=!1===D?"provider-already-linked":"no-such-provider";He(Li(d.providerData).has(m)===D,d.auth,K)})).apply(this,arguments)}function wi(D,d){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,p.Z)(function*(D,d,m=!1){const{auth:T}=D,K="reauthenticate";try{const ne=yield En(D,Us(T,K,d,D),m);He(ne.idToken,T,"internal-error");const Oe=$i(ne.idToken);He(Oe,T,"internal-error");const{sub:ht}=Oe;return He(D.uid===ht,T,"user-mismatch"),Yn._forOperation(D,K,ne)}catch(ne){throw"auth/user-not-found"===ne?.code&&Ue(T,"user-mismatch"),ne}})).apply(this,arguments)}function Ms(D,d){return go.apply(this,arguments)}function go(){return(go=(0,p.Z)(function*(D,d,m=!1){const T="signIn",K=yield Us(D,T,d),ne=yield Yn._fromIdTokenResponse(D,T,K);return m||(yield D._updateCurrentUser(ne.user)),ne})).apply(this,arguments)}function kn(D,d){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,p.Z)(function*(D,d){return Ms(sr(D),d)})).apply(this,arguments)}function B(D,d){return L.apply(this,arguments)}function L(){return(L=(0,p.Z)(function*(D,d){const m=(0,F.m9)(D);return yield Ro(!1,m,d.providerId),bi(m,d)})).apply(this,arguments)}function O(D,d){return J.apply(this,arguments)}function J(){return(J=(0,p.Z)(function*(D,d){return wi((0,F.m9)(D),d)})).apply(this,arguments)}function hn(){return(hn=(0,p.Z)(function*(D,d){return ct(D,"POST","/v1/accounts:signInWithCustomToken",ft(D,d))})).apply(this,arguments)}function Jr(D,d){return Ke.apply(this,arguments)}function Ke(){return Ke=(0,p.Z)(function*(D,d){const m=sr(D),T=yield function Qe(D,d){return hn.apply(this,arguments)}(m,{token:d,returnSecureToken:!0}),K=yield Yn._fromIdTokenResponse(m,"signIn",T);return yield m._updateCurrentUser(K.user),K}),Ke.apply(this,arguments)}class gn{constructor(d,m){this.factorId=d,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(d,m){return"phoneInfo"in m?mo._fromServerResponse(d,m):"totpInfo"in m?ma._fromServerResponse(d,m):Ue(d,"internal-error")}}class mo extends gn{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,m){return new mo(m)}}class ma extends gn{constructor(d){super("totp",d)}static _fromServerResponse(d,m){return new ma(m)}}function hi(D,d,m){var T;He((null===(T=m.url)||void 0===T?void 0:T.length)>0,D,"invalid-continue-uri"),He(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,D,"invalid-dynamic-link-domain"),d.continueUrl=m.url,d.dynamicLinkDomain=m.dynamicLinkDomain,d.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(He(m.iOS.bundleId.length>0,D,"missing-ios-bundle-id"),d.iOSBundleId=m.iOS.bundleId),m.android&&(He(m.android.packageName.length>0,D,"missing-android-pkg-name"),d.androidInstallApp=m.android.installApp,d.androidMinimumVersionCode=m.android.minimumVersion,d.androidPackageName=m.android.packageName)}function La(D,d,m){return xo.apply(this,arguments)}function xo(){return xo=(0,p.Z)(function*(D,d,m){var T;const K=sr(D),ne={requestType:"PASSWORD_RESET",email:d,clientType:"CLIENT_TYPE_WEB"};if(null!==(T=K._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const Oe=yield Cr(K,ne,"getOobCode",!0);m&&hi(K,Oe,m),yield Zs(K,Oe)}else m&&hi(K,ne,m),yield Zs(K,ne).catch(function(){var Oe=(0,p.Z)(function*(ht){if("auth/missing-recaptcha-token"!==ht.code)return Promise.reject(ht);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Lt=yield Cr(K,ne,"getOobCode",!0);m&&hi(K,Lt,m),yield Zs(K,Lt)}});return function(ht){return Oe.apply(this,arguments)}}())}),xo.apply(this,arguments)}function Qi(D,d,m){return yo.apply(this,arguments)}function yo(){return(yo=(0,p.Z)(function*(D,d,m){yield Tn((0,F.m9)(D),{oobCode:d,newPassword:m})})).apply(this,arguments)}function no(D,d){return vo.apply(this,arguments)}function vo(){return vo=(0,p.Z)(function*(D,d){yield function ni(D,d){return _i.apply(this,arguments)}((0,F.m9)(D),{oobCode:d})}),vo.apply(this,arguments)}function rs(D,d){return ms.apply(this,arguments)}function ms(){return(ms=(0,p.Z)(function*(D,d){const m=(0,F.m9)(D),T=yield Tn(m,{oobCode:d}),K=T.requestType;switch(He(K,m,"internal-error"),K){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":He(T.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":He(T.mfaInfo,m,"internal-error");default:He(T.email,m,"internal-error")}let ne=null;return T.mfaInfo&&(ne=gn._fromServerResponse(sr(m),T.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.newEmail:T.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.email:T.newEmail)||null,multiFactorInfo:ne},operation:K}})).apply(this,arguments)}function Qn(D,d){return ji.apply(this,arguments)}function ji(){return(ji=(0,p.Z)(function*(D,d){const{data:m}=yield rs((0,F.m9)(D),d);return m.email})).apply(this,arguments)}function Rs(D,d,m){return ys.apply(this,arguments)}function ys(){return ys=(0,p.Z)(function*(D,d,m){var T;const K=sr(D),ne={returnSecureToken:!0,email:d,password:m,clientType:"CLIENT_TYPE_WEB"};let Oe;if(null!==(T=K._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const en=yield Cr(K,ne,"signUpPassword");Oe=Gi(K,en)}else Oe=Gi(K,ne).catch(function(){var en=(0,p.Z)(function*(Rn){if("auth/missing-recaptcha-token"===Rn.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Gn=yield Cr(K,ne,"signUpPassword");return Gi(K,Gn)}return Promise.reject(Rn)});return function(Rn){return en.apply(this,arguments)}}());const ht=yield Oe.catch(en=>Promise.reject(en)),Lt=yield Yn._fromIdTokenResponse(K,"signIn",ht);return yield K._updateCurrentUser(Lt.user),Lt}),ys.apply(this,arguments)}function js(D,d,m){return kn((0,F.m9)(D),Js.credential(d,m))}function na(D,d,m){return Po.apply(this,arguments)}function Po(){return Po=(0,p.Z)(function*(D,d,m){var T;const K=sr(D),ne={requestType:"EMAIL_SIGNIN",email:d,clientType:"CLIENT_TYPE_WEB"};function Oe(ht,Lt){He(Lt.handleCodeInApp,K,"argument-error"),Lt&&hi(K,ht,Lt)}if(null!==(T=K._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const ht=yield Cr(K,ne,"getOobCode",!0);Oe(ht,m),yield lo(K,ht)}else Oe(ne,m),yield lo(K,ne).catch(function(){var ht=(0,p.Z)(function*(Lt){if("auth/missing-recaptcha-token"!==Lt.code)return Promise.reject(Lt);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const en=yield Cr(K,ne,"getOobCode",!0);Oe(en,m),yield lo(K,en)}});return function(Lt){return ht.apply(this,arguments)}}())}),Po.apply(this,arguments)}function ru(D,d){return"EMAIL_SIGNIN"===Yi.parseLink(d)?.operation}function vu(D,d,m){return fi.apply(this,arguments)}function fi(){return(fi=(0,p.Z)(function*(D,d,m){const T=(0,F.m9)(D),K=Js.credentialWithLink(d,m||St());return He(K._tenantId===(T.tenantId||null),T,"tenant-id-mismatch"),kn(T,K)})).apply(this,arguments)}function is(){return(is=(0,p.Z)(function*(D,d){return Ft(D,"POST","/v1/accounts:createAuthUri",ft(D,d))})).apply(this,arguments)}function Sa(D,d){return zo.apply(this,arguments)}function zo(){return zo=(0,p.Z)(function*(D,d){const T={identifier:d,continueUri:In()?St():"http://localhost"},{signinMethods:K}=yield function Oo(D,d){return is.apply(this,arguments)}((0,F.m9)(D),T);return K||[]}),zo.apply(this,arguments)}function ra(D,d){return xs.apply(this,arguments)}function xs(){return xs=(0,p.Z)(function*(D,d){const m=(0,F.m9)(D),K={requestType:"VERIFY_EMAIL",idToken:yield D.getIdToken()};d&&hi(m.auth,K,d);const{email:ne}=yield function qs(D,d){return Fs.apply(this,arguments)}(m.auth,K);ne!==D.email&&(yield D.reload())}),xs.apply(this,arguments)}function ya(D,d,m){return ia.apply(this,arguments)}function ia(){return ia=(0,p.Z)(function*(D,d,m){const T=(0,F.m9)(D),ne={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield D.getIdToken(),newEmail:d};m&&hi(T.auth,ne,m);const{email:Oe}=yield function jo(D,d){return Ei.apply(this,arguments)}(T.auth,ne);Oe!==D.email&&(yield D.reload())}),ia.apply(this,arguments)}function sa(){return(sa=(0,p.Z)(function*(D,d){return Ft(D,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Va(D,d){return Ma.apply(this,arguments)}function Ma(){return Ma=(0,p.Z)(function*(D,{displayName:d,photoURL:m}){if(void 0===d&&void 0===m)return;const T=(0,F.m9)(D),ne={idToken:yield T.getIdToken(),displayName:d,photoUrl:m,returnSecureToken:!0},Oe=yield En(T,function Aa(D,d){return sa.apply(this,arguments)}(T.auth,ne));T.displayName=Oe.displayName||null,T.photoURL=Oe.photoUrl||null;const ht=T.providerData.find(({providerId:Lt})=>"password"===Lt);ht&&(ht.displayName=T.displayName,ht.photoURL=T.photoURL),yield T._updateTokensIfNecessary(Oe)}),Ma.apply(this,arguments)}function Go(D,d){return ss((0,F.m9)(D),d,null)}function Ii(D,d){return ss((0,F.m9)(D),null,d)}function ss(D,d,m){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,p.Z)(function*(D,d,m){const{auth:T}=D,ne={idToken:yield D.getIdToken(),returnSecureToken:!0};d&&(ne.email=d),m&&(ne.password=m);const Oe=yield En(D,Cn(T,ne));yield D._updateTokensIfNecessary(Oe,!0)})).apply(this,arguments)}class oa{constructor(d,m,T={}){this.isNewUser=d,this.providerId=m,this.profile=T}}class Ba extends oa{constructor(d,m,T,K){super(d,m,T),this.username=K}}class Lu extends oa{constructor(d,m){super(d,"facebook.com",m)}}class No extends Ba{constructor(d,m){super(d,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class Wo extends oa{constructor(d,m){super(d,"google.com",m)}}class ro extends Ba{constructor(d,m,T){super(d,"twitter.com",m,T)}}function vs(D){const{user:d,_tokenResponse:m}=D;return d.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Ua(D){var d,m;if(!D)return null;const{providerId:T}=D,K=D.rawUserInfo?JSON.parse(D.rawUserInfo):{},ne=D.isNewUser||"identitytoolkit#SignupNewUserResponse"===D.kind;if(!T&&D?.idToken){const Oe=null===(m=null===(d=$i(D.idToken))||void 0===d?void 0:d.firebase)||void 0===m?void 0:m.sign_in_provider;if(Oe)return new oa(ne,"anonymous"!==Oe&&"custom"!==Oe?Oe:null)}if(!T)return null;switch(T){case"facebook.com":return new Lu(ne,K);case"github.com":return new No(ne,K);case"google.com":return new Wo(ne,K);case"twitter.com":return new ro(ne,K,D.screenName||null);case"custom":case"anonymous":return new oa(ne,null);default:return new oa(ne,T,K)}}(m)}class lr{constructor(d,m,T){this.type=d,this.credential=m,this.auth=T}static _fromIdtoken(d,m){return new lr("enroll",d,m)}static _fromMfaPendingCredential(d){return new lr("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var m,T;if(d?.multiFactorSession){if(null!==(m=d.multiFactorSession)&&void 0!==m&&m.pendingCredential)return lr._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null!==(T=d.multiFactorSession)&&void 0!==T&&T.idToken)return lr._fromIdtoken(d.multiFactorSession.idToken)}return null}}class cr{constructor(d,m,T){this.session=d,this.hints=m,this.signInResolver=T}static _fromError(d,m){const T=sr(d),K=m.customData._serverResponse,ne=(K.mfaInfo||[]).map(ht=>gn._fromServerResponse(T,ht));He(K.mfaPendingCredential,T,"internal-error");const Oe=lr._fromMfaPendingCredential(K.mfaPendingCredential);return new cr(Oe,ne,function(){var ht=(0,p.Z)(function*(Lt){const en=yield Lt._process(T,Oe);delete K.mfaInfo,delete K.mfaPendingCredential;const Rn=Object.assign(Object.assign({},K),{idToken:en.idToken,refreshToken:en.refreshToken});switch(m.operationType){case"signIn":const Gn=yield Yn._fromIdTokenResponse(T,m.operationType,Rn);return yield T._updateCurrentUser(Gn.user),Gn;case"reauthenticate":return He(m.user,T,"internal-error"),Yn._forOperation(m.user,m.operationType,Rn);default:Ue(T,"internal-error")}});return function(Lt){return ht.apply(this,arguments)}}())}resolveSignIn(d){var m=this;return(0,p.Z)(function*(){return m.signInResolver(d)})()}}function $n(D,d){var m;const T=(0,F.m9)(D),K=d;return He(d.customData.operationType,T,"argument-error"),He(null===(m=K.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,T,"argument-error"),cr._fromError(T,K)}class _s{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(T=>gn._fromServerResponse(d.auth,T)))})}static _fromUser(d){return new _s(d)}getSession(){var d=this;return(0,p.Z)(function*(){return lr._fromIdtoken(yield d.user.getIdToken(),d.user.auth)})()}enroll(d,m){var T=this;return(0,p.Z)(function*(){const K=d,ne=yield T.getSession(),Oe=yield En(T.user,K._process(T.user.auth,ne,m));return yield T.user._updateTokensIfNecessary(Oe),T.user.reload()})()}unenroll(d){var m=this;return(0,p.Z)(function*(){const T="string"==typeof d?d:d.uid,K=yield m.user.getIdToken();try{const ne=yield En(m.user,function Ki(D,d){return Ft(D,"POST","/v2/accounts/mfaEnrollment:withdraw",ft(D,d))}(m.user.auth,{idToken:K,mfaEnrollmentId:T}));m.enrolledFactors=m.enrolledFactors.filter(({uid:Oe})=>Oe!==T),yield m.user._updateTokensIfNecessary(ne),yield m.user.reload()}catch(ne){throw ne}})()}}const Xr=new WeakMap;function Ji(D){const d=(0,F.m9)(D);return Xr.has(d)||Xr.set(d,_s._fromUser(d)),Xr.get(d)}const qi="__sak";class Vi{constructor(d,m){this.storageRetriever=d,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(qi,"1"),this.storage.removeItem(qi),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(d,m){return this.storage.setItem(d,JSON.stringify(m)),Promise.resolve()}_get(d){const m=this.storage.getItem(d);return Promise.resolve(m?JSON.parse(m):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ps=(()=>{class D extends Vi{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,T)=>this.onStorageEvent(m,T),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function va(){const D=(0,F.z$)();return lt(D)||Te(D)}()&&function Un(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=qn(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const T of Object.keys(this.listeners)){const K=this.storage.getItem(T),ne=this.localCache[T];K!==ne&&m(T,ne,K)}}onStorageEvent(m,T=!1){if(!m.key)return void this.forAllChangedKeys((ht,Lt,en)=>{this.notifyListeners(ht,en)});const K=m.key;if(T?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ht=this.storage.getItem(K);if(m.newValue!==ht)null!==m.newValue?this.storage.setItem(K,m.newValue):this.storage.removeItem(K);else if(this.localCache[K]===m.newValue&&!T)return}const ne=()=>{const ht=this.storage.getItem(K);!T&&this.localCache[K]===ht||this.notifyListeners(K,ht)},Oe=this.storage.getItem(K);!function dn(){return(0,F.w1)()&&10===document.documentMode}()||Oe===m.newValue||m.newValue===m.oldValue?ne():setTimeout(ne,10)}notifyListeners(m,T){this.localCache[m]=T;const K=this.listeners[m];if(K)for(const ne of Array.from(K))ne(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,T,K)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:T,newValue:K}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(T)}_removeListener(m,T){this.listeners[m]&&(this.listeners[m].delete(T),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,T){var K=()=>super._set,ne=this;return(0,p.Z)(function*(){yield K().call(ne,m,T),ne.localCache[m]=JSON.stringify(T)})()}_get(m){var T=()=>super._get,K=this;return(0,p.Z)(function*(){const ne=yield T().call(K,m);return K.localCache[m]=JSON.stringify(ne),ne})()}_remove(m){var T=()=>super._remove,K=this;return(0,p.Z)(function*(){yield T().call(K,m),delete K.localCache[m]})()}}return D.type="LOCAL",D})(),Es=(()=>{class D extends Vi{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,T){}_removeListener(m,T){}}return D.type="SESSION",D})();let ou=(()=>{class D{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const T=this.receivers.find(ne=>ne.isListeningto(m));if(T)return T;const K=new D(m);return this.receivers.push(K),K}isListeningto(m){return this.eventTarget===m}handleEvent(m){var T=this;return(0,p.Z)(function*(){const K=m,{eventId:ne,eventType:Oe,data:ht}=K.data,Lt=T.handlersMap[Oe];if(!Lt?.size)return;K.ports[0].postMessage({status:"ack",eventId:ne,eventType:Oe});const en=Array.from(Lt).map(function(){var Gn=(0,p.Z)(function*(Zi){return Zi(K.origin,ht)});return function(Zi){return Gn.apply(this,arguments)}}()),Rn=yield function ol(D){return Promise.all(D.map(function(){var d=(0,p.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(T){return{fulfilled:!1,reason:T}}});return function(m){return d.apply(this,arguments)}}()))}(en);K.ports[0].postMessage({status:"done",eventId:ne,eventType:Oe,response:Rn})})()}_subscribe(m,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(T)}_unsubscribe(m,T){this.handlersMap[m]&&T&&this.handlersMap[m].delete(T),(!T||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return D.receivers=[],D})();function Ko(D="",d=10){let m="";for(let T=0;T<d;T++)m+=Math.floor(10*Math.random());return D+m}class _u{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,m,T=50){var K=this;return(0,p.Z)(function*(){const ne=typeof MessageChannel<"u"?new MessageChannel:null;if(!ne)throw new Error("connection_unavailable");let Oe,ht;return new Promise((Lt,en)=>{const Rn=Ko("",20);ne.port1.start();const Gn=setTimeout(()=>{en(new Error("unsupported_event"))},T);ht={messageChannel:ne,onMessage(Zi){const Ca=Zi;if(Ca.data.eventId===Rn)switch(Ca.data.status){case"ack":clearTimeout(Gn),Oe=setTimeout(()=>{en(new Error("timeout"))},3e3);break;case"done":clearTimeout(Oe),Lt(Ca.data.response);break;default:clearTimeout(Gn),clearTimeout(Oe),en(new Error("invalid_response"))}}},K.handlers.add(ht),ne.port1.addEventListener("message",ht.onMessage),K.target.postMessage({eventType:d,eventId:Rn,data:m},[ne.port2])}).finally(()=>{ht&&K.removeMessageHandler(ht)})})()}}function xi(){return window}function Zo(){return typeof xi().WorkerGlobalScope<"u"&&"function"==typeof xi().importScripts}function aa(){return(aa=(0,p.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Si="firebaseLocalStorageDb",os=1,ar="firebaseLocalStorage",ja="fbase_key";class ws{constructor(d){this.request=d}toPromise(){return new Promise((d,m)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Ra(D,d){return D.transaction([ar],d?"readwrite":"readonly").objectStore(ar)}function wa(){const D=indexedDB.open(Si,os);return new Promise((d,m)=>{D.addEventListener("error",()=>{m(D.error)}),D.addEventListener("upgradeneeded",()=>{const T=D.result;try{T.createObjectStore(ar,{keyPath:ja})}catch(K){m(K)}}),D.addEventListener("success",(0,p.Z)(function*(){const T=D.result;T.objectStoreNames.contains(ar)?d(T):(T.close(),yield function as(){const D=indexedDB.deleteDatabase(Si);return new ws(D).toPromise()}(),d(yield wa()))}))})}function Mr(D,d,m){return xa.apply(this,arguments)}function xa(){return(xa=(0,p.Z)(function*(D,d,m){const T=Ra(D,!0).put({[ja]:d,value:m});return new ws(T).toPromise()})).apply(this,arguments)}function us(){return(us=(0,p.Z)(function*(D,d){const m=Ra(D,!1).get(d),T=yield new ws(m).toPromise();return void 0===T?null:T.value})).apply(this,arguments)}function ei(D,d){const m=Ra(D,!0).delete(d);return new ws(m).toPromise()}const uu=(()=>{class D{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,p.Z)(function*(){return m.db||(m.db=yield wa()),m.db})()}_withRetries(m){var T=this;return(0,p.Z)(function*(){let K=0;for(;;)try{const ne=yield T._openDb();return yield m(ne)}catch(ne){if(K++>3)throw ne;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,p.Z)(function*(){return Zo()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,p.Z)(function*(){m.receiver=ou._getInstance(function au(){return Zo()?self:null}()),m.receiver._subscribe("keyChanged",function(){var T=(0,p.Z)(function*(K,ne){return{keyProcessed:(yield m._poll()).includes(ne.key)}});return function(K,ne){return T.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var T=(0,p.Z)(function*(K,ne){return["keyChanged"]});return function(K,ne){return T.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,p.Z)(function*(){var T,K;if(m.activeServiceWorker=yield function Eu(){return aa.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new _u(m.activeServiceWorker);const ne=yield m.sender._send("ping",{},800);ne&&null!==(T=ne[0])&&void 0!==T&&T.fulfilled&&null!==(K=ne[0])&&void 0!==K&&K.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var T=this;return(0,p.Z)(function*(){if(T.sender&&T.activeServiceWorker&&function wu(){var D;return(null===(D=navigator?.serviceWorker)||void 0===D?void 0:D.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:m},T.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,p.Z)(function*(){try{if(!indexedDB)return!1;const m=yield wa();return yield Mr(m,qi,"1"),yield ei(m,qi),!0}catch{}return!1})()}_withPendingWrite(m){var T=this;return(0,p.Z)(function*(){T.pendingWrites++;try{yield m()}finally{T.pendingWrites--}})()}_set(m,T){var K=this;return(0,p.Z)(function*(){return K._withPendingWrite((0,p.Z)(function*(){return yield K._withRetries(ne=>Mr(ne,m,T)),K.localCache[m]=T,K.notifyServiceWorker(m)}))})()}_get(m){var T=this;return(0,p.Z)(function*(){const K=yield T._withRetries(ne=>function Iu(D,d){return us.apply(this,arguments)}(ne,m));return T.localCache[m]=K,K})()}_remove(m){var T=this;return(0,p.Z)(function*(){return T._withPendingWrite((0,p.Z)(function*(){return yield T._withRetries(K=>ei(K,m)),delete T.localCache[m],T.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,p.Z)(function*(){const T=yield m._withRetries(Oe=>{const ht=Ra(Oe,!1).getAll();return new ws(ht).toPromise()});if(!T)return[];if(0!==m.pendingWrites)return[];const K=[],ne=new Set;for(const{fbase_key:Oe,value:ht}of T)ne.add(Oe),JSON.stringify(m.localCache[Oe])!==JSON.stringify(ht)&&(m.notifyListeners(Oe,ht),K.push(Oe));for(const Oe of Object.keys(m.localCache))m.localCache[Oe]&&!ne.has(Oe)&&(m.notifyListeners(Oe,null),K.push(Oe));return K})()}notifyListeners(m,T){this.localCache[m]=T;const K=this.listeners[m];if(K)for(const ne of Array.from(K))ne(T)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,p.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(T)}_removeListener(m,T){this.listeners[m]&&(this.listeners[m].delete(T),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return D.type="LOCAL",D})(),$a=1e12;class Pa{constructor(d){this.auth=d,this.counter=$a,this._widgets=new Map}render(d,m){const T=this.counter;return this._widgets.set(T,new Uu(d,this.auth.name,m||{})),this.counter++,T}reset(d){var m;const T=d||$a;null===(m=this._widgets.get(T))||void 0===m||m.delete(),this._widgets.delete(T)}getResponse(d){var m;return(null===(m=this._widgets.get(d||$a))||void 0===m?void 0:m.getResponse())||""}execute(d){var m=this;return(0,p.Z)(function*(){var T;return null===(T=m._widgets.get(d||$a))||void 0===T||T.execute(),""})()}}class Uu{constructor(d,m,T){this.params=T,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const K="string"==typeof d?document.getElementById(d):d;He(K,"argument-error",{appName:m}),this.container=K,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ua(D){const d=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let T=0;T<D;T++)d.push(m.charAt(Math.floor(Math.random()*m.length)));return d.join("")}(50);const{callback:d,"expired-callback":m}=this.params;if(d)try{d(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Bu=hr("rcb"),_l=new Ve(3e4,6e4);class la{constructor(){var d;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(d=xi().grecaptcha)||void 0===d||!d.render)}load(d,m=""){return He(function P(D){return D.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(D)}(m),d,"argument-error"),this.shouldResolveImmediately(m)&&xn(xi().grecaptcha)?Promise.resolve(xi().grecaptcha):new Promise((T,K)=>{const ne=xi().setTimeout(()=>{K(we(d,"network-request-failed"))},_l.get());xi()[Bu]=()=>{xi().clearTimeout(ne),delete xi()[Bu];const ht=xi().grecaptcha;if(!ht||!xn(ht))return void K(we(d,"internal-error"));const Lt=ht.render;ht.render=(en,Rn)=>{const Gn=Lt(en,Rn);return this.counter++,Gn},this.hostLanguage=m,T(ht)},Hn(`https://www.google.com/recaptcha/api.js??${(0,F.xO)({onload:Bu,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(ne),K(we(d,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){var m;return!(null===(m=xi().grecaptcha)||void 0===m||!m.render)&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class g{load(d){return(0,p.Z)(function*(){return new Pa(d)})()}clearedOneInstance(){}}const y="recaptcha",A={theme:"light",type:"image"};class j{constructor(d,m=Object.assign({},A),T){this.parameters=m,this.type=y,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=sr(T),this.isInvisible="invisible"===this.parameters.size,He(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const K="string"==typeof d?document.getElementById(d):d;He(K,this.auth,"argument-error"),this.container=K,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new g:new la,this.validateStartingState()}verify(){var d=this;return(0,p.Z)(function*(){d.assertNotDestroyed();const m=yield d.render(),T=d.getAssertedRecaptcha();return T.getResponse(m)||new Promise(ne=>{const Oe=ht=>{ht&&(d.tokenChangeListeners.delete(Oe),ne(ht))};d.tokenChangeListeners.add(Oe),d.isInvisible&&T.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){He(!this.parameters.sitekey,this.auth,"argument-error"),He(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),He(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return m=>{if(this.tokenChangeListeners.forEach(T=>T(m)),"function"==typeof d)d(m);else if("string"==typeof d){const T=xi()[d];"function"==typeof T&&T(m)}}}assertNotDestroyed(){He(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,p.Z)(function*(){if(yield d.init(),!d.widgetId){let m=d.container;if(!d.isInvisible){const T=document.createElement("div");m.appendChild(T),m=T}d.widgetId=d.getAssertedRecaptcha().render(m,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,p.Z)(function*(){He(In()&&!Zo(),d.auth,"internal-error"),yield function Q(){let D=null;return new Promise(d=>{"complete"!==document.readyState?(D=()=>d(),window.addEventListener("load",D)):d()}).catch(d=>{throw D&&window.removeEventListener("load",D),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const m=yield function rt(D){return je.apply(this,arguments)}(d.auth);He(m,d.auth,"internal-error"),d.parameters.sitekey=m})()}getAssertedRecaptcha(){return He(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class le{constructor(d,m){this.verificationId=d,this.onConfirmation=m}confirm(d){const m=Ri._fromVerification(this.verificationId,d);return this.onConfirmation(m)}}function ge(D,d,m){return be.apply(this,arguments)}function be(){return(be=(0,p.Z)(function*(D,d,m){const T=sr(D),K=yield We(T,d,(0,F.m9)(m));return new le(K,ne=>kn(T,ne))})).apply(this,arguments)}function nt(D,d,m){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,p.Z)(function*(D,d,m){const T=(0,F.m9)(D);yield Ro(!1,T,"phone");const K=yield We(T.auth,d,(0,F.m9)(m));return new le(K,ne=>B(T,ne))})).apply(this,arguments)}function Yt(D,d,m){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,p.Z)(function*(D,d,m){const T=(0,F.m9)(D),K=yield We(T.auth,d,(0,F.m9)(m));return new le(K,ne=>O(T,ne))})).apply(this,arguments)}function We(D,d,m){return kt.apply(this,arguments)}function kt(){return kt=(0,p.Z)(function*(D,d,m){var T;const K=yield m.verify();try{let ne;if(He("string"==typeof K,D,"argument-error"),He(m.type===y,D,"argument-error"),ne="string"==typeof d?{phoneNumber:d}:d,"session"in ne){const Oe=ne.session;if("phoneNumber"in ne)return He("enroll"===Oe.type,D,"internal-error"),(yield function ri(D,d){return Ft(D,"POST","/v2/accounts/mfaEnrollment:start",ft(D,d))}(D,{idToken:Oe.credential,phoneEnrollmentInfo:{phoneNumber:ne.phoneNumber,recaptchaToken:K}})).phoneSessionInfo.sessionInfo;{He("signin"===Oe.type,D,"internal-error");const ht=(null===(T=ne.multiFactorHint)||void 0===T?void 0:T.uid)||ne.multiFactorUid;return He(ht,D,"missing-multi-factor-info"),(yield function io(D,d){return Ft(D,"POST","/v2/accounts/mfaSignIn:start",ft(D,d))}(D,{mfaPendingCredential:Oe.credential,mfaEnrollmentId:ht,phoneSignInInfo:{recaptchaToken:K}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Oe}=yield function pa(D,d){return Ts.apply(this,arguments)}(D,{phoneNumber:ne.phoneNumber,recaptchaToken:K});return Oe}}finally{m._reset()}}),kt.apply(this,arguments)}function rn(D,d){return or.apply(this,arguments)}function or(){return(or=(0,p.Z)(function*(D,d){yield bi((0,F.m9)(D),d)})).apply(this,arguments)}let Mt=(()=>{class D{constructor(m){this.providerId=D.PROVIDER_ID,this.auth=sr(m)}verifyPhoneNumber(m,T){return We(this.auth,m,(0,F.m9)(T))}static credential(m,T){return Ri._fromVerification(m,T)}static credentialFromResult(m){return D.credentialFromTaggedObject(m)}static credentialFromError(m){return D.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:T,temporaryProof:K}=m;return T&&K?Ri._fromTokenResponse(T,K):null}}return D.PROVIDER_ID="phone",D.PHONE_SIGN_IN_METHOD="phone",D})();function _(D,d){return d?Pt(d):(He(D._popupRedirectResolver,D,"argument-error"),D._popupRedirectResolver)}class I extends Rt{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return zi(d,this._buildIdpRequest())}_linkToIdToken(d,m){return zi(d,this._buildIdpRequest(m))}_getReauthenticationResolver(d){return zi(d,this._buildIdpRequest())}_buildIdpRequest(d){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(m.idToken=d),m}}function v(D){return Ms(D.auth,new I(D),D.bypassAuthState)}function w(D){const{auth:d,user:m}=D;return He(m,d,"internal-error"),wi(m,new I(D),D.bypassAuthState)}function R(D){return q.apply(this,arguments)}function q(){return(q=(0,p.Z)(function*(D){const{auth:d,user:m}=D;return He(m,d,"internal-error"),bi(m,new I(D),D.bypassAuthState)})).apply(this,arguments)}class ee{constructor(d,m,T,K,ne=!1){this.auth=d,this.resolver=T,this.user=K,this.bypassAuthState=ne,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var d=this;return new Promise(function(){var m=(0,p.Z)(function*(T,K){d.pendingPromise={resolve:T,reject:K};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(ne){d.reject(ne)}});return function(T,K){return m.apply(this,arguments)}}())}onAuthEvent(d){var m=this;return(0,p.Z)(function*(){const{urlResponse:T,sessionId:K,postBody:ne,tenantId:Oe,error:ht,type:Lt}=d;if(ht)return void m.reject(ht);const en={auth:m.auth,requestUri:T,sessionId:K,tenantId:Oe||void 0,postBody:ne||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Lt)(en))}catch(Rn){m.reject(Rn)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return v;case"linkViaPopup":case"linkViaRedirect":return R;case"reauthViaPopup":case"reauthViaRedirect":return w;default:Ue(this.auth,"internal-error")}}resolve(d){on(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){on(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Re=new Ve(2e3,1e4);function at(D,d,m){return $t.apply(this,arguments)}function $t(){return($t=(0,p.Z)(function*(D,d,m){const T=sr(D);Tt(D,d,Xs);const K=_(T,m);return new ln(T,"signInViaPopup",d,K).executeNotNull()})).apply(this,arguments)}function Qt(D,d,m){return jn.apply(this,arguments)}function jn(){return(jn=(0,p.Z)(function*(D,d,m){const T=(0,F.m9)(D);Tt(T.auth,d,Xs);const K=_(T.auth,m);return new ln(T.auth,"reauthViaPopup",d,K,T).executeNotNull()})).apply(this,arguments)}function Pi(D,d,m){return Os.apply(this,arguments)}function Os(){return(Os=(0,p.Z)(function*(D,d,m){const T=(0,F.m9)(D);Tt(T.auth,d,Xs);const K=_(T.auth,m);return new ln(T.auth,"linkViaPopup",d,K,T).executeNotNull()})).apply(this,arguments)}let ln=(()=>{class D extends ee{constructor(m,T,K,ne,Oe){super(m,T,ne,Oe),this.provider=K,this.authWindow=null,this.pollId=null,D.currentPopupAction&&D.currentPopupAction.cancel(),D.currentPopupAction=this}executeNotNull(){var m=this;return(0,p.Z)(function*(){const T=yield m.execute();return He(T,m.auth,"internal-error"),T})()}onExecution(){var m=this;return(0,p.Z)(function*(){on(1===m.filter.length,"Popup operations only handle one event");const T=Ko();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],T),m.authWindow.associatedEvent=T,m.resolver._originValidation(m.auth).catch(K=>{m.reject(K)}),m.resolver._isIframeWebStorageSupported(m.auth,K=>{K||m.reject(we(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(we(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,D.currentPopupAction=null}pollUserCancellation(){const m=()=>{var T,K;this.pollId=null!==(K=null===(T=this.authWindow)||void 0===T?void 0:T.window)&&void 0!==K&&K.closed?window.setTimeout(()=>{this.pollId=null,this.reject(we(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,Re.get())};m()}}return D.currentPopupAction=null,D})();const Sn="pendingRedirect",fn=new Map;class Xt extends ee{constructor(d,m,T=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,T),this.eventId=null}execute(){var d=()=>super.execute,m=this;return(0,p.Z)(function*(){let T=fn.get(m.auth._key());if(!T){try{const ne=(yield function oi(D,d){return Is.apply(this,arguments)}(m.resolver,m.auth))?yield d().call(m):null;T=()=>Promise.resolve(ne)}catch(K){T=()=>Promise.reject(K)}fn.set(m.auth._key(),T)}return m.bypassAuthState||fn.set(m.auth._key(),()=>Promise.resolve(null)),T()})()}onAuthEvent(d){var m=()=>super.onAuthEvent,T=this;return(0,p.Z)(function*(){if("signInViaRedirect"===d.type)return m().call(T,d);if("unknown"!==d.type){if(d.eventId){const K=yield T.auth._redirectUserForId(d.eventId);if(K)return T.user=K,m().call(T,d);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,p.Z)(function*(){})()}cleanUp(){}}function Is(){return(Is=(0,p.Z)(function*(D,d){const m=fr(d),T=Zl(D);if(!(yield T._isAvailable()))return!1;const K="true"===(yield T._get(m));return yield T._remove(m),K})).apply(this,arguments)}function vr(D,d){return pn.apply(this,arguments)}function pn(){return(pn=(0,p.Z)(function*(D,d){return Zl(D)._set(fr(d),"true")})).apply(this,arguments)}function Gr(){fn.clear()}function wr(D,d){fn.set(D._key(),d)}function Zl(D){return Pt(D._redirectPersistence)}function fr(D){return Pr(Sn,D.config.apiKey,D.name)}function Wt(D,d,m){return function $s(D,d,m){return Oa.apply(this,arguments)}(D,d,m)}function Oa(){return(Oa=(0,p.Z)(function*(D,d,m){const T=sr(D);Tt(D,d,Xs),yield T._initializationPromise;const K=_(T,m);return yield vr(K,T),K._openRedirect(T,d,"signInViaRedirect")})).apply(this,arguments)}function Ia(D,d,m){return function Id(D,d,m){return Ha.apply(this,arguments)}(D,d,m)}function Ha(){return(Ha=(0,p.Z)(function*(D,d,m){const T=(0,F.m9)(D);Tt(T.auth,d,Xs),yield T.auth._initializationPromise;const K=_(T.auth,m);yield vr(K,T.auth);const ne=yield Yl(T);return K._openRedirect(T.auth,d,"reauthViaRedirect",ne)})).apply(this,arguments)}function kc(D,d,m){return function al(D,d,m){return El.apply(this,arguments)}(D,d,m)}function El(){return(El=(0,p.Z)(function*(D,d,m){const T=(0,F.m9)(D);Tt(T.auth,d,Xs),yield T.auth._initializationPromise;const K=_(T.auth,m);yield Ro(!1,T,d.providerId),yield vr(K,T.auth);const ne=yield Yl(T);return K._openRedirect(T.auth,d,"linkViaRedirect",ne)})).apply(this,arguments)}function Dd(D,d){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,p.Z)(function*(D,d){return yield sr(D)._initializationPromise,wl(D,d,!1)})).apply(this,arguments)}function wl(D,d){return $u.apply(this,arguments)}function $u(){return($u=(0,p.Z)(function*(D,d,m=!1){const T=sr(D),K=_(T,d),Oe=yield new Xt(T,K,m).execute();return Oe&&!m&&(delete Oe.user._redirectEventId,yield T._persistUserIfCurrent(Oe.user),yield T._setRedirectUser(null,d)),Oe})).apply(this,arguments)}function Yl(D){return ca.apply(this,arguments)}function ca(){return(ca=(0,p.Z)(function*(D){const d=Ko(`${D.uid}:::`);return D._redirectEventId=d,yield D.auth._setRedirectUser(D),yield D.auth._persistUserIfCurrent(D),d})).apply(this,arguments)}class Je{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let m=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(d,T)&&(m=!0,this.sendToConsumer(d,T),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function Fc(D){switch(D.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Yo(D);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=d,m=!0)),m}sendToConsumer(d,m){var T;if(d.error&&!Yo(d)){const K=(null===(T=d.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";m.onError(we(this.auth,K))}else m.onAuthEvent(d)}isEventForConsumer(d,m){const T=null===m.eventId||!!d.eventId&&d.eventId===m.eventId;return m.filter.includes(d.type)&&T}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(za(d))}saveEventToCache(d){this.cachedEventUids.add(za(d)),this.lastProcessedEventTime=Date.now()}}function za(D){return[D.type,D.eventId,D.sessionId,D.tenantId].filter(d=>d).join("-")}function Yo({type:D,error:d}){return"unknown"===D&&"auth/no-auth-event"===d?.code}function Cu(D){return Da.apply(this,arguments)}function Da(){return(Da=(0,p.Z)(function*(D,d={}){return Ft(D,"GET","/v1/projects",d)})).apply(this,arguments)}const zf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Hu=/^https?/;function Tu(){return(Tu=(0,p.Z)(function*(D){if(D.config.emulator)return;const{authorizedDomains:d}=yield Cu(D);for(const m of d)try{if(Vc(m))return}catch{}Ue(D,"unauthorized-domain")})).apply(this,arguments)}function Vc(D){const d=St(),{protocol:m,hostname:T}=new URL(d);if(D.startsWith("chrome-extension://")){const Oe=new URL(D);return""===Oe.hostname&&""===T?"chrome-extension:"===m&&D.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===m&&Oe.hostname===T}if(!Hu.test(m))return!1;if(zf.test(D))return T===D;const K=D.replace(/\./g,"\\.");return new RegExp("^(.+\\."+K+"|"+K+")$","i").test(T)}const bu=new Ve(3e4,6e4);function so(){const D=xi().___jsl;if(D?.H)for(const d of Object.keys(D.H))if(D.H[d].r=D.H[d].r||[],D.H[d].L=D.H[d].L||[],D.H[d].r=[...D.H[d].L],D.CP)for(let m=0;m<D.CP.length;m++)D.CP[m]=null}let lu=null;const oo=new Ve(5e3,15e3),du="__/auth/iframe",Dl="emulator/auth/iframe",Ga={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ql=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Cl(D){const d=D.config;He(d.authDomain,D,"auth-domain-config-required");const m=d.emulator?tt(d,Dl):`https://${D.config.authDomain}/${du}`,T={apiKey:d.apiKey,appName:D.name,v:$.SDK_VERSION},K=Ql.get(D.config.apiHost);K&&(T.eid=K);const ne=D._getFrameworks();return ne.length&&(T.fw=ne.join(",")),`${m}?${(0,F.xO)(T).slice(1)}`}function Xl(){return Xl=(0,p.Z)(function*(D){const d=yield function cu(D){return lu=lu||function ko(D){return new Promise((d,m)=>{var T,K,ne;function Oe(){so(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{so(),m(we(D,"network-request-failed"))},timeout:bu.get()})}if(null!==(K=null===(T=xi().gapi)||void 0===T?void 0:T.iframes)&&void 0!==K&&K.Iframe)d(gapi.iframes.getContext());else{if(null===(ne=xi().gapi)||void 0===ne||!ne.load){const ht=hr("iframefcb");return xi()[ht]=()=>{gapi.load?Oe():m(we(D,"network-request-failed"))},Hn(`https://apis.google.com/js/api.js?onload=${ht}`).catch(Lt=>m(Lt))}Oe()}}).catch(d=>{throw lu=null,d})}(D),lu}(D),m=xi().gapi;return He(m,D,"internal-error"),d.open({where:document.body,url:Cl(D),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ga,dontclear:!0},T=>new Promise(function(){var K=(0,p.Z)(function*(ne,Oe){yield T.restyle({setHideOnLeave:!1});const ht=we(D,"network-request-failed"),Lt=xi().setTimeout(()=>{Oe(ht)},oo.get());function en(){xi().clearTimeout(Lt),ne(T)}T.ping(en).then(en,()=>{Oe(ht)})});return function(ne,Oe){return K.apply(this,arguments)}}()))}),Xl.apply(this,arguments)}const C={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},x=500,W=600,ue="_blank",Se="http://localhost";class ke{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Jt="__/auth/handler",Mn="emulator/auth/handler",Jn=encodeURIComponent("fac");function Xn(D,d,m,T,K,ne){return wo.apply(this,arguments)}function wo(){return(wo=(0,p.Z)(function*(D,d,m,T,K,ne){He(D.config.authDomain,D,"auth-domain-config-required"),He(D.config.apiKey,D,"invalid-api-key");const Oe={apiKey:D.config.apiKey,appName:D.name,authType:m,redirectUrl:T,v:$.SDK_VERSION,eventId:K};if(d instanceof Xs){d.setDefaultLanguage(D.languageCode),Oe.providerId=d.providerId||"",(0,F.xb)(d.getCustomParameters())||(Oe.customParameters=JSON.stringify(d.getCustomParameters()));for(const[Rn,Gn]of Object.entries(ne||{}))Oe[Rn]=Gn}if(d instanceof Ti){const Rn=d.getScopes().filter(Gn=>""!==Gn);Rn.length>0&&(Oe.scopes=Rn.join(","))}D.tenantId&&(Oe.tid=D.tenantId);const ht=Oe;for(const Rn of Object.keys(ht))void 0===ht[Rn]&&delete ht[Rn];const Lt=yield D._getAppCheckToken(),en=Lt?`#${Jn}=${encodeURIComponent(Lt)}`:"";return`${function zs({config:D}){return D.emulator?tt(D,Mn):`https://${D.authDomain}/${Jt}`}(D)}?${(0,F.xO)(ht).slice(1)}${en}`})).apply(this,arguments)}const hu="webStorageSupport",Su=class ec{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Es,this._completeRedirectFn=wl,this._overrideRedirectResult=wr}_openPopup(d,m,T,K){var ne=this;return(0,p.Z)(function*(){var Oe;on(null===(Oe=ne.eventManagers[d._key()])||void 0===Oe?void 0:Oe.manager,"_initialize() not called before _openPopup()");const ht=yield Xn(d,m,T,St(),K);return function pt(D,d,m,T=x,K=W){const ne=Math.max((window.screen.availHeight-K)/2,0).toString(),Oe=Math.max((window.screen.availWidth-T)/2,0).toString();let ht="";const Lt=Object.assign(Object.assign({},C),{width:T.toString(),height:K.toString(),top:ne,left:Oe}),en=(0,F.z$)().toLowerCase();m&&(ht=Ge(en)?ue:m),De(en)&&(d=d||Se,Lt.scrollbars="yes");const Rn=Object.entries(Lt).reduce((Zi,[Ca,Wa])=>`${Zi}${Ca}=${Wa},`,"");if(function At(D=(0,F.z$)()){var d;return Te(D)&&!(null===(d=window.navigator)||void 0===d||!d.standalone)}(en)&&"_self"!==ht)return function sn(D,d){const m=document.createElement("a");m.href=D,m.target=d;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(T)}(d||"",ht),new ke(null);const Gn=window.open(d||"",ht,Rn);He(Gn,D,"popup-blocked");try{Gn.focus()}catch{}return new ke(Gn)}(d,ht,Ko())})()}_openRedirect(d,m,T,K){var ne=this;return(0,p.Z)(function*(){return yield ne._originValidation(d),function qo(D){xi().location.href=D}(yield Xn(d,m,T,St(),K)),new Promise(()=>{})})()}_initialize(d){const m=d._key();if(this.eventManagers[m]){const{manager:K,promise:ne}=this.eventManagers[m];return K?Promise.resolve(K):(on(ne,"If manager is not set, promise should be"),ne)}const T=this.initAndGetManager(d);return this.eventManagers[m]={promise:T},T.catch(()=>{delete this.eventManagers[m]}),T}initAndGetManager(d){var m=this;return(0,p.Z)(function*(){const T=yield function Jl(D){return Xl.apply(this,arguments)}(d),K=new Je(d);return T.register("authEvent",ne=>(He(ne?.authEvent,d,"invalid-auth-event"),{status:K.onEvent(ne.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[d._key()]={manager:K},m.iframes[d._key()]=T,K})()}_isIframeWebStorageSupported(d,m){this.iframes[d._key()].send(hu,{type:hu},K=>{var ne;const Oe=null===(ne=K?.[0])||void 0===ne?void 0:ne[hu];void 0!==Oe&&m(!!Oe),Ue(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const m=d._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Lc(D){return Tu.apply(this,arguments)}(d)),this.originValidationPromises[m]}get _shouldInitProactively(){return qn()||lt()||Te()}};class Fo{constructor(d){this.factorId=d}_process(d,m,T){switch(m.type){case"enroll":return this._finalizeEnroll(d,m.credential,T);case"signin":return this._finalizeSignIn(d,m.credential);default:return Dt("unexpected MultiFactorSessionType")}}}class da extends Fo{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new da(d)}_finalizeEnroll(d,m,T){return function nr(D,d){return Ft(D,"POST","/v2/accounts/mfaEnrollment:finalize",ft(D,d))}(d,{idToken:m,displayName:T,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,m){return function pi(D,d){return Ft(D,"POST","/v2/accounts/mfaSignIn:finalize",ft(D,d))}(d,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Tl=(()=>{class D{constructor(){}static assertion(m){return da._fromCredential(m)}}return D.FACTOR_ID="phone",D})();var Di="@firebase/auth";class ls{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var m=this;return(0,p.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const m=this.auth.onIdTokenChanged(T=>{d(T?.stsTokenManager.accessToken||null)});this.internalListeners.set(d,m),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const m=this.internalListeners.get(d);m&&(this.internalListeners.delete(d),m(),this.updateProactiveRefresh())}assertAuthConfigured(){He(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Lo=(0,F.Pz)("authIdTokenMaxAge")||300;let Td=null;const hm=D=>function(){var d=(0,p.Z)(function*(m){const T=m&&(yield m.getIdTokenResult()),K=T&&((new Date).getTime()-Date.parse(T.issuedAtTime))/1e3;if(K&&K>Lo)return;const ne=T?.token;Td!==ne&&(Td=ne,yield fetch(D,{method:ne?"POST":"DELETE",headers:ne?{Authorization:`Bearer ${ne}`}:{}}))});return function(m){return d.apply(this,arguments)}}();function Gs(D=(0,$.getApp)()){const d=(0,$._getProvider)(D,"auth");if(d.isInitialized())return d.getImmediate();const m=function Yr(D,d){const m=(0,$._getProvider)(D,"auth");if(m.isInitialized()){const K=m.getImmediate(),ne=m.getOptions();if((0,F.vZ)(ne,d??{}))return K;Ue(K,"already-initialized")}return m.initialize({options:d})}(D,{popupRedirectResolver:Su,persistence:[uu,Ps,Es]}),T=(0,F.Pz)("authTokenSyncURL");if(T){const ne=hm(T);(function k(D,d,m){(0,F.m9)(D).beforeAuthStateChanged(d,m)})(m,ne,()=>ne(m.currentUser)),function H(D,d,m,T){(0,F.m9)(D).onIdTokenChanged(d,m,T)}(m,Oe=>ne(Oe))}const K=(0,F.q4)("auth");return K&&Or(m,`http://${K}`),m}!function Cd(D){(0,$._registerComponent)(new Ee.wA("auth",(d,{options:m})=>{const T=d.getProvider("app").getImmediate(),K=d.getProvider("heartbeat"),ne=d.getProvider("app-check-internal"),{apiKey:Oe,authDomain:ht}=T.options;He(Oe&&!Oe.includes(":"),"invalid-api-key",{appName:T.name});const Lt={apiKey:Oe,authDomain:ht,clientPlatform:D,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Fi(D)},en=new dr(T,K,ne,Lt);return function Hi(D,d){const m=d?.persistence||[],T=(Array.isArray(m)?m:[m]).map(Pt);d?.errorMap&&D._updateErrorMap(d.errorMap),D._initializeWithPersistence(T,d?.popupRedirectResolver)}(en,m),en},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,m,T)=>{d.getProvider("auth-internal").initialize()})),(0,$._registerComponent)(new Ee.wA("auth-internal",d=>{const m=sr(d.getProvider("auth").getImmediate());return new ls(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,$.registerVersion)(Di,"0.23.2",function Oi(D){switch(D){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(D)),(0,$.registerVersion)(Di,"0.23.2","esm2017")}("Browser")},2090:(Ut,$e,U)=>{U.d($e,{$s:()=>Pt,BH:()=>ot,L:()=>pe,LL:()=>Kn,P0:()=>It,Pz:()=>we,Sg:()=>Tt,UG:()=>Dt,US:()=>Ee,ZB:()=>oe,ZR:()=>Ft,aH:()=>Ue,b$:()=>In,eu:()=>mt,hl:()=>ut,jU:()=>on,m9:()=>Pr,ne:()=>En,pd:()=>$i,q4:()=>st,r3:()=>cn,ru:()=>St,tV:()=>ae,uI:()=>He,vZ:()=>zt,w1:()=>Ci,xO:()=>xr,xb:()=>gi,z$:()=>gt,zI:()=>wt,zd:()=>jr});const re=function(ye){const he=[];let De=0;for(let lt=0;lt<ye.length;lt++){let Ge=ye.charCodeAt(lt);Ge<128?he[De++]=Ge:Ge<2048?(he[De++]=Ge>>6|192,he[De++]=63&Ge|128):55296==(64512&Ge)&&lt+1<ye.length&&56320==(64512&ye.charCodeAt(lt+1))?(Ge=65536+((1023&Ge)<<10)+(1023&ye.charCodeAt(++lt)),he[De++]=Ge>>18|240,he[De++]=Ge>>12&63|128,he[De++]=Ge>>6&63|128,he[De++]=63&Ge|128):(he[De++]=Ge>>12|224,he[De++]=Ge>>6&63|128,he[De++]=63&Ge|128)}return he},Ee={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ye,he){if(!Array.isArray(ye))throw Error("encodeByteArray takes an array as a parameter");this.init_();const De=he?this.byteToCharMapWebSafe_:this.byteToCharMap_,lt=[];for(let Ge=0;Ge<ye.length;Ge+=3){const xt=ye[Ge],ve=Ge+1<ye.length,_e=ve?ye[Ge+1]:0,ie=Ge+2<ye.length,Te=ie?ye[Ge+2]:0;let dn=(15&_e)<<2|Te>>6,qn=63&Te;ie||(qn=64,ve||(dn=64)),lt.push(De[xt>>2],De[(3&xt)<<4|_e>>4],De[dn],De[qn])}return lt.join("")},encodeString(ye,he){return this.HAS_NATIVE_SUPPORT&&!he?btoa(ye):this.encodeByteArray(re(ye),he)},decodeString(ye,he){return this.HAS_NATIVE_SUPPORT&&!he?atob(ye):function(ye){const he=[];let De=0,lt=0;for(;De<ye.length;){const Ge=ye[De++];if(Ge<128)he[lt++]=String.fromCharCode(Ge);else if(Ge>191&&Ge<224){const xt=ye[De++];he[lt++]=String.fromCharCode((31&Ge)<<6|63&xt)}else if(Ge>239&&Ge<365){const ie=((7&Ge)<<18|(63&ye[De++])<<12|(63&ye[De++])<<6|63&ye[De++])-65536;he[lt++]=String.fromCharCode(55296+(ie>>10)),he[lt++]=String.fromCharCode(56320+(1023&ie))}else{const xt=ye[De++],ve=ye[De++];he[lt++]=String.fromCharCode((15&Ge)<<12|(63&xt)<<6|63&ve)}}return he.join("")}(this.decodeStringToByteArray(ye,he))},decodeStringToByteArray(ye,he){this.init_();const De=he?this.charToByteMapWebSafe_:this.charToByteMap_,lt=[];for(let Ge=0;Ge<ye.length;){const xt=De[ye.charAt(Ge++)],_e=Ge<ye.length?De[ye.charAt(Ge)]:0;++Ge;const Te=Ge<ye.length?De[ye.charAt(Ge)]:64;++Ge;const At=Ge<ye.length?De[ye.charAt(Ge)]:64;if(++Ge,null==xt||null==_e||null==Te||null==At)throw new Ce;lt.push(xt<<2|_e>>4),64!==Te&&(lt.push(_e<<4&240|Te>>2),64!==At&&lt.push(Te<<6&192|At))}return lt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ye=0;ye<this.ENCODED_VALS.length;ye++)this.byteToCharMap_[ye]=this.ENCODED_VALS.charAt(ye),this.charToByteMap_[this.byteToCharMap_[ye]]=ye,this.byteToCharMapWebSafe_[ye]=this.ENCODED_VALS_WEBSAFE.charAt(ye),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ye]]=ye,ye>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ye)]=ye,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ye)]=ye)}}};class Ce extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pe=function(ye){return function(ye){const he=re(ye);return Ee.encodeByteArray(he,!0)}(ye).replace(/\./g,"")},ae=function(ye){try{return Ee.decodeString(ye,!0)}catch(he){console.error("base64Decode failed: ",he)}return null};function oe(ye,he){if(!(he instanceof Object))return he;switch(he.constructor){case Date:return new Date(he.getTime());case Object:void 0===ye&&(ye={});break;case Array:ye=[];break;default:return he}for(const De in he)!he.hasOwnProperty(De)||!Fe(De)||(ye[De]=oe(ye[De],he[De]));return ye}function Fe(ye){return"__proto__"!==ye}const Be=()=>{try{return function fe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ye=process.env.__FIREBASE_DEFAULTS__;return ye?JSON.parse(ye):void 0})()||(()=>{if(typeof document>"u")return;let ye;try{ye=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const he=ye&&ae(ye[1]);return he&&JSON.parse(he)})()}catch(ye){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ye}`)}},st=ye=>{var he,De;return null===(De=null===(he=Be())||void 0===he?void 0:he.emulatorHosts)||void 0===De?void 0:De[ye]},It=ye=>{const he=st(ye);if(!he)return;const De=he.lastIndexOf(":");if(De<=0||De+1===he.length)throw new Error(`Invalid host ${he} with no separate hostname and port!`);const lt=parseInt(he.substring(De+1),10);return"["===he[0]?[he.substring(1,De-1),lt]:[he.substring(0,De),lt]},Ue=()=>{var ye;return null===(ye=Be())||void 0===ye?void 0:ye.config},we=ye=>{var he;return null===(he=Be())||void 0===he?void 0:he[`_${ye}`]};class ot{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((he,De)=>{this.resolve=he,this.reject=De})}wrapCallback(he){return(De,lt)=>{De?this.reject(De):this.resolve(lt),"function"==typeof he&&(this.promise.catch(()=>{}),1===he.length?he(De):he(De,lt))}}}function Tt(ye,he){if(ye.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const lt=he||"demo-project",Ge=ye.iat||0,xt=ye.sub||ye.user_id;if(!xt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ve=Object.assign({iss:`https://securetoken.google.com/${lt}`,aud:lt,iat:Ge,exp:Ge+3600,auth_time:Ge,sub:xt,user_id:xt,firebase:{sign_in_provider:"custom",identities:{}}},ye);return[pe(JSON.stringify({alg:"none",type:"JWT"})),pe(JSON.stringify(ve)),""].join(".")}function gt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function He(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gt())}function Dt(){var ye;const he=null===(ye=Be())||void 0===ye?void 0:ye.forceEnvironment;if("node"===he)return!0;if("browser"===he)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function on(){return"object"==typeof self&&self.self===self}function St(){const ye="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ye&&void 0!==ye.id}function In(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ci(){const ye=gt();return ye.indexOf("MSIE ")>=0||ye.indexOf("Trident/")>=0}function ut(){try{return"object"==typeof indexedDB}catch{return!1}}function mt(){return new Promise((ye,he)=>{try{let De=!0;const lt="validate-browser-context-for-indexeddb-analytics-module",Ge=self.indexedDB.open(lt);Ge.onsuccess=()=>{Ge.result.close(),De||self.indexedDB.deleteDatabase(lt),ye(!0)},Ge.onupgradeneeded=()=>{De=!1},Ge.onerror=()=>{var xt;he((null===(xt=Ge.error)||void 0===xt?void 0:xt.message)||"")}}catch(De){he(De)}})}function wt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ft extends Error{constructor(he,De,lt){super(De),this.code=he,this.customData=lt,this.name="FirebaseError",Object.setPrototypeOf(this,Ft.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kn.prototype.create)}}class Kn{constructor(he,De,lt){this.service=he,this.serviceName=De,this.errors=lt}create(he,...De){const lt=De[0]||{},Ge=`${this.service}/${he}`,xt=this.errors[he],ve=xt?function jt(ye,he){return ye.replace(ze,(De,lt)=>{const Ge=he[lt];return null!=Ge?String(Ge):`<${lt}?>`})}(xt,lt):"Error";return new Ft(Ge,`${this.serviceName}: ${ve} (${Ge}).`,lt)}}const ze=/\{\$([^}]+)}/g;function cn(ye,he){return Object.prototype.hasOwnProperty.call(ye,he)}function gi(ye){for(const he in ye)if(Object.prototype.hasOwnProperty.call(ye,he))return!1;return!0}function zt(ye,he){if(ye===he)return!0;const De=Object.keys(ye),lt=Object.keys(he);for(const Ge of De){if(!lt.includes(Ge))return!1;const xt=ye[Ge],ve=he[Ge];if(Rr(xt)&&Rr(ve)){if(!zt(xt,ve))return!1}else if(xt!==ve)return!1}for(const Ge of lt)if(!De.includes(Ge))return!1;return!0}function Rr(ye){return null!==ye&&"object"==typeof ye}function xr(ye){const he=[];for(const[De,lt]of Object.entries(ye))Array.isArray(lt)?lt.forEach(Ge=>{he.push(encodeURIComponent(De)+"="+encodeURIComponent(Ge))}):he.push(encodeURIComponent(De)+"="+encodeURIComponent(lt));return he.length?"&"+he.join("&"):""}function jr(ye){const he={};return ye.replace(/^\?/,"").split("&").forEach(lt=>{if(lt){const[Ge,xt]=lt.split("=");he[decodeURIComponent(Ge)]=decodeURIComponent(xt)}}),he}function $i(ye){const he=ye.indexOf("?");if(!he)return"";const De=ye.indexOf("#",he);return ye.substring(he,De>0?De:void 0)}function En(ye,he){const De=new nn(ye,he);return De.subscribe.bind(De)}class nn{constructor(he,De){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=De,this.task.then(()=>{he(this)}).catch(lt=>{this.error(lt)})}next(he){this.forEachObserver(De=>{De.next(he)})}error(he){this.forEachObserver(De=>{De.error(he)}),this.close(he)}complete(){this.forEachObserver(he=>{he.complete()}),this.close()}subscribe(he,De,lt){let Ge;if(void 0===he&&void 0===De&&void 0===lt)throw new Error("Missing Observer.");Ge=function ki(ye,he){if("object"!=typeof ye||null===ye)return!1;for(const De of he)if(De in ye&&"function"==typeof ye[De])return!0;return!1}(he,["next","error","complete"])?he:{next:he,error:De,complete:lt},void 0===Ge.next&&(Ge.next=mi),void 0===Ge.error&&(Ge.error=mi),void 0===Ge.complete&&(Ge.complete=mi);const xt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Ge.error(this.finalError):Ge.complete()}catch{}}),this.observers.push(Ge),xt}unsubscribeOne(he){void 0===this.observers||void 0===this.observers[he]||(delete this.observers[he],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(he){if(!this.finalized)for(let De=0;De<this.observers.length;De++)this.sendOne(De,he)}sendOne(he,De){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[he])try{De(this.observers[he])}catch(lt){typeof console<"u"&&console.error&&console.error(lt)}})}close(he){this.finalized||(this.finalized=!0,void 0!==he&&(this.finalError=he),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mi(){}const Vt=1e3,zn=2,Dr=144e5,tr=.5;function Pt(ye,he=Vt,De=zn){const lt=he*Math.pow(De,ye),Ge=Math.round(tr*lt*(Math.random()-.5)*2);return Math.min(Dr,lt+Ge)}function Pr(ye){return ye&&ye._delegate?ye._delegate:ye}},6912:(Ut,$e,U)=>{U.d($e,{n:()=>p});var p=(()=>{return(F=p||(p={}))[F.igual=0]="igual",F[F.distinto=1]="distinto",F[F.mayor=2]="mayor",F[F.mayorOIgual=3]="mayorOIgual",F[F.menor=4]="menor",F[F.menorOIgual=5]="menorOIgual",F[F.not_in=6]="not_in",F[F.in=7]="in",p;var F})()},3474:(Ut,$e,U)=>{U.d($e,{L:()=>p});var p=(()=>{return(F=p||(p={}))[F.administrador=0]="administrador",F[F.paciente=1]="paciente",F[F.especialista=2]="especialista",p;var F})()},7556:(Ut,$e,U)=>{U.d($e,{e:()=>Ee});var p=U(5861),F=U(4322),$=U(4650),re=U(1205),Z=U(7675);let Ee=(()=>{class Ce{constructor(pe,ae){this.auth=pe,this.localStorage=ae}logIn(pe,ae){return this.auth.signInWithEmailAndPassword(pe,ae)}logOut(){return this.localStorage.eliminarItem("usuarioClinica"),this.auth.signOut()}registrarUsuario(pe,ae){return this.auth.createUserWithEmailAndPassword(pe,ae)}registrarUsuarioConVerificacion(pe,ae){var se=this;return(0,p.Z)(function*(){const oe=yield se.auth.createUserWithEmailAndPassword(pe,ae);return se.enviarCorreoDeVerificacion(),oe})()}enviarCorreoDeVerificacion(){var pe=this;return(0,p.Z)(function*(){return(yield pe.auth.currentUser)?.sendEmailVerification()})()}ObtenerCambiosDeEstado(){return this.auth.authState}ObtenerFireAuthCurrentUser(){var pe=this;return(0,p.Z)(function*(){return yield pe.auth.currentUser})()}enviarCorreoDeVerificacion_2(){return(0,p.Z)(function*(){let pe=(0,F.v0)();(0,F.w$)(pe?.currentUser)})()}TESTobtenerUsuarioRegistrado(){this.auth.authState.subscribe(pe=>{console.log(pe)})}}return Ce.\u0275fac=function(pe){return new(pe||Ce)($.LFG(re.zQ),$.LFG(Z.g))},Ce.\u0275prov=$.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})()},516:(Ut,$e,U)=>{U.d($e,{C:()=>Ee});var p=U(5861),F=U(3132),$=(()=>{return(Ce=$||($={}))[Ce.asc=0]="asc",Ce[Ce.desc=1]="desc",$;var Ce})(),re=U(6912),Z=U(4650);let Ee=(()=>{class Ce{constructor(pe){this.firestore=pe}guardarObjetoSinIdAsignado(pe,ae){const se=(0,F.hJ)(this.firestore,pe),oe=(0,F.JU)(se);return ae.id=oe.id,(0,F.pl)(oe,ae)}guardarObjetoConIdAsignado(pe,ae){const se=(0,F.hJ)(this.firestore,pe),oe=(0,F.JU)(se,ae.id);return(0,F.pl)(oe,ae)}traerObjetoPorId_Observable(pe,ae){return this.traerListaDeObjetosFiltradaConObservable(pe,"id",re.n.igual,ae)}traerObjetoPorId_Promesa(pe,ae){var se=this;return(0,p.Z)(function*(){let oe=yield se.traerListaDeObjetosFiltrada(pe,"id",re.n.igual,ae);return oe&&oe.length>0?oe[0]:null})()}traerListaDeObjetos(pe){var ae=this;return(0,p.Z)(function*(){const se=(0,F.hJ)(ae.firestore,pe),oe=yield(0,F.PL)(se).then(fe=>fe),Fe=[];return oe.forEach(fe=>{Fe.push(fe.data())}),Fe})()}traerListaDeObjetosConObservable(pe){const ae=(0,F.hJ)(this.firestore,pe);return(0,F.BS)(ae)}traerListaDeObjetosFiltrada(pe,ae,se,oe){var Fe=this;return(0,p.Z)(function*(){const fe=(0,F.hJ)(Fe.firestore,pe);let qe;switch(se){case re.n.igual:qe=(0,F.IO)(fe,(0,F.ar)(ae,"==",oe));break;case re.n.distinto:qe=(0,F.IO)(fe,(0,F.ar)(ae,"!=",oe));break;case re.n.mayor:qe=(0,F.IO)(fe,(0,F.ar)(ae,">",oe));break;case re.n.mayorOIgual:qe=(0,F.IO)(fe,(0,F.ar)(ae,">=",oe));break;case re.n.menor:qe=(0,F.IO)(fe,(0,F.ar)(ae,"<",oe));break;case re.n.menorOIgual:qe=(0,F.IO)(fe,(0,F.ar)(ae,"<=",oe));break;case re.n.in:qe=(0,F.IO)(fe,(0,F.ar)(ae,"in",oe));break;case re.n.not_in:qe=(0,F.IO)(fe,(0,F.ar)(ae,"not-in",oe))}const yt=yield(0,F.PL)(qe).then(Be=>Be),Le=[];return yt.forEach(Be=>{Le.push(Be.data())}),Le})()}traerListaDeObjetosFiltradaConObservable(pe,ae,se,oe){const Fe=(0,F.hJ)(this.firestore,pe);switch(se){case re.n.igual:return(0,F.BS)((0,F.IO)(Fe,(0,F.ar)(ae,"==",oe)));case re.n.distinto:return(0,F.BS)((0,F.IO)(Fe,(0,F.ar)(ae,"!=",oe)));case re.n.mayor:return(0,F.BS)((0,F.IO)(Fe,(0,F.ar)(ae,">",oe)));case re.n.mayorOIgual:return(0,F.BS)((0,F.IO)(Fe,(0,F.ar)(ae,">=",oe)));case re.n.menor:return(0,F.BS)((0,F.IO)(Fe,(0,F.ar)(ae,"<",oe)));case re.n.menorOIgual:return(0,F.BS)((0,F.IO)(Fe,(0,F.ar)(ae,"<=",oe)));case re.n.in:return(0,F.BS)((0,F.IO)(Fe,(0,F.ar)(ae,"in",oe)));case re.n.not_in:return(0,F.BS)((0,F.IO)(Fe,(0,F.ar)(ae,"not-in",oe)))}}traerListaDeObjetosCon_DOS_FiltrosDe_IGUALDAD_ConObservable(pe,ae,se,oe,Fe){const fe=(0,F.hJ)(this.firestore,pe);return(0,F.BS)((0,F.IO)(fe,(0,F.ar)(ae,"==",se),(0,F.ar)(oe,"==",Fe)))}traerListaDeObjetosCon_DOS_FiltrosDe_D_I_ConObservable(pe,ae,se,oe,Fe){const fe=(0,F.hJ)(this.firestore,pe);return(0,F.BS)((0,F.IO)(fe,(0,F.ar)(ae,"!=",se),(0,F.ar)(oe,"==",Fe)))}traerListaDeObjetosCon_TRES_FiltrosDe_IGUALDAD_ConObservable(pe,ae,se,oe,Fe,fe,qe){const yt=(0,F.hJ)(this.firestore,pe);return(0,F.BS)((0,F.IO)(yt,(0,F.ar)(ae,"==",se),(0,F.ar)(oe,"==",Fe),(0,F.ar)(fe,"==",qe)))}traerListaDeObjetosCon_TRES_Filtros_I_I_D_ConObservable(pe,ae,se,oe,Fe,fe,qe){const yt=(0,F.hJ)(this.firestore,pe);return(0,F.BS)((0,F.IO)(yt,(0,F.ar)(ae,"==",se),(0,F.ar)(oe,"==",Fe),(0,F.ar)(fe,"!=",qe)))}traerListaDeObjetosOrdenada(pe,ae,se=$.asc){var oe=this;return(0,p.Z)(function*(){const Fe=(0,F.hJ)(oe.firestore,pe);let fe;fe=(0,F.IO)(Fe,(0,F.Xo)(ae,se==$.asc?"asc":"desc"));const qe=yield(0,F.PL)(fe).then(Le=>Le),yt=[];return qe.forEach(Le=>{yt.push(Le.data())}),yt})()}traerListaDeObjetosOrdenadaConObservable(pe,ae,se=$.asc){const oe=(0,F.hJ)(this.firestore,pe);return(0,F.BS)((0,F.IO)(oe,(0,F.Xo)(ae,se==$.asc?"asc":"desc")))}modificarObjeto(pe,ae){const se=(0,F.hJ)(this.firestore,pe),oe=(0,F.JU)(se,ae.id);return(0,F.r7)(oe,{...ae})}eliminarObjeto(pe,ae){const se=(0,F.hJ)(this.firestore,pe),oe=(0,F.JU)(se,ae);return(0,F.oe)(oe)}obtenerElementosDeListasConCoincidenciaExacta(pe,ae,se){const oe=(0,F.hJ)(this.firestore,pe);return(0,F.BS)((0,F.IO)(oe,(0,F.ar)(ae,"array-contains",se)))}obtenerElementosQueContienenEnSuListaAlMenosUnElementoExactoDeOtraLista(pe,ae,se){const oe=(0,F.hJ)(this.firestore,pe);return(0,F.BS)((0,F.IO)(oe,(0,F.ar)(ae,"array-contains-any",se)))}traerListaDeObjetosCon_DOS_FiltrosDe_IGUALDAD(pe,ae,se,oe,Fe){var fe=this;return(0,p.Z)(function*(){const qe=(0,F.hJ)(fe.firestore,pe);let yt=(0,F.IO)(qe,(0,F.ar)(ae,"==",se),(0,F.ar)(oe,"==",Fe));const Le=yield(0,F.PL)(yt).then(st=>st),Be=[];return Le.forEach(st=>{Be.push(st.data())}),Be})()}traerListaDeObjetosCon_UnFiltro_IGUALDAD_YUNO_DESIGUALDAD(pe,ae,se,oe,Fe){var fe=this;return(0,p.Z)(function*(){const qe=(0,F.hJ)(fe.firestore,pe);let yt=(0,F.IO)(qe,(0,F.ar)(ae,"==",se),(0,F.ar)(oe,"!=",Fe));const Le=yield(0,F.PL)(yt).then(st=>st),Be=[];return Le.forEach(st=>{Be.push(st.data())}),Be})()}traerListaDeObjetosCon_TRES_FiltrosDe_IGUALDAD(pe,ae,se,oe,Fe,fe,qe){var yt=this;return(0,p.Z)(function*(){const Le=(0,F.hJ)(yt.firestore,pe);let Be=(0,F.IO)(Le,(0,F.ar)(ae,"==",se),(0,F.ar)(oe,"==",Fe),(0,F.ar)(fe,"==",qe));const st=yield(0,F.PL)(Be).then(Ue=>Ue),It=[];return st.forEach(Ue=>{It.push(Ue.data())}),It})()}}return Ce.\u0275fac=function(pe){return new(pe||Ce)(Z.LFG(F.gg))},Ce.\u0275prov=Z.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})()},7675:(Ut,$e,U)=>{U.d($e,{g:()=>F});var p=U(4650);let F=(()=>{class ${constructor(){}guardarItem(Z,Ee){localStorage.setItem(Z,JSON.stringify(Ee))}obtenerItem(Z){const Ee=localStorage.getItem(Z);return null!=Ee?JSON.parse(Ee):Ee}eliminarItem(Z){localStorage.removeItem(Z)}}return $.\u0275fac=function(Z){return new(Z||$)},$.\u0275prov=p.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),$})()},1209:(Ut,$e,U)=>{U.d($e,{i:()=>Me});var p=U(5861),F=U(6912),$=U(4650),re=U(516),Z=U(7675),Ee=U(7556),Ce=U(6378);let Me=(()=>{class pe{get getUsuarioEstaLogueado(){return this.usuarioEstaLogueado=null!=this.localStorage.obtenerItem("usuarioClinica"),this.usuarioEstaLogueado}get getUsuarioActualBasico(){return this.localStorage.obtenerItem("usuarioClinica")}constructor(se,oe,Fe,fe){var qe=this;this.firestoreDB=se,this.localStorage=oe,this.authService=Fe,this.router=fe,this.nombreColeccion="usuarios",this.usuarioEstaLogueado=!1,this.suscripcion=this.authService.ObtenerCambiosDeEstado().subscribe(function(){var yt=(0,p.Z)(function*(Le){let Be=yield qe.authService.ObtenerFireAuthCurrentUser();Le&&qe.traerUsuarioPorId(Le.uid).then(st=>{st&&Be&&(qe.localStorage.guardarItem("usuarioClinica",{id:Le.uid,mail:Le.email,perfil:st?.perfil}),qe.usuarioEstaLogueado=!0,qe.usuarioAuth=st)})});return function(Le){return yt.apply(this,arguments)}}())}obtenerUsuarioActual(se=0){var oe=this;return(0,p.Z)(function*(){if(!oe.usuario){let Fe=0!=se?se:oe.getUsuarioActualBasico?.id;Fe&&(oe.usuario=yield oe.traerUsuarioPorId(Fe))}return oe.usuario})()}cargarUsuarioActual(se){this.usuario=se}limpiarUsuarioActual(){this.usuario=null}cerrarSesionUsuario(){this.limpiarUsuarioActual(),this.localStorage.eliminarItem("usuarioClinica"),this.authService.logOut(),this.router.navigate(["/login"])}cargarUsuarioConIdAsignado(se){return this.firestoreDB.guardarObjetoConIdAsignado(this.nombreColeccion,{...se})}cargarUsuarioSinIdAsignado(se){return this.firestoreDB.guardarObjetoSinIdAsignado(this.nombreColeccion,{...se})}traerUsuarioPorId(se){var oe=this;return(0,p.Z)(function*(){return oe.firestoreDB.traerObjetoPorId_Promesa(oe.nombreColeccion,se)})()}traerUsuarioPorId_Observable(se){return this.firestoreDB.traerObjetoPorId_Observable(this.nombreColeccion,se)}obtenerListaDeUsuarios(){return this.firestoreDB.traerListaDeObjetos(this.nombreColeccion)}obtenerListadoDeUsuariosObservable(){return this.firestoreDB.traerListaDeObjetosConObservable(this.nombreColeccion)}modificarUsuario(se){return this.firestoreDB.modificarObjeto(this.nombreColeccion,se)}eliminarUsuario(se){return this.firestoreDB.eliminarObjeto(this.nombreColeccion,se)}traerListaDeCorreosFiltradaConObservable(se){return this.firestoreDB.traerListaDeObjetosFiltradaConObservable(this.nombreColeccion,"correo",F.n.igual,se)}traerListaDeUsuariosFiltradaConObservable(se,oe){return this.firestoreDB.traerListaDeObjetosFiltradaConObservable(this.nombreColeccion,se,F.n.igual,oe)}traerListaDeCorreosFiltrada(se){return this.firestoreDB.traerListaDeObjetosFiltrada(this.nombreColeccion,"correo",F.n.igual,se)}traerListaDeDniFiltradaConObservable(se){return this.firestoreDB.traerListaDeObjetosFiltradaConObservable(this.nombreColeccion,"dni",F.n.igual,se)}obtenerEspecialistaPorEspecialidad(se){return this.firestoreDB.obtenerElementosDeListasConCoincidenciaExacta(this.nombreColeccion,"especialidades",se)}traerListaFiltradaPor_UN_Campo(se,oe){return this.firestoreDB.traerListaDeObjetosFiltrada(this.nombreColeccion,se,F.n.igual,oe)}}return pe.\u0275fac=function(se){return new(se||pe)($.LFG(re.C),$.LFG(Z.g),$.LFG(Ee.e),$.LFG(Ce.F0))},pe.\u0275prov=$.Yz7({token:pe,factory:pe.\u0275fac,providedIn:"root"}),pe})()},6613:(Ut,$e,U)=>{U.d($e,{q:()=>$});var p=U(3474),F=U(4650);let $=(()=>{class re{transform(Ee){return Ee==p.L.administrador?"Administrador":Ee==p.L.especialista?"Especialista":Ee==p.L.paciente?"Paciente":""}}return re.\u0275fac=function(Ee){return new(Ee||re)},re.\u0275pipe=F.Yjl({name:"tipoUsuario",type:re,pure:!0}),re})()},4466:(Ut,$e,U)=>{U.d($e,{m:()=>$});var p=U(6895),F=U(4650);let $=(()=>{class re{}return re.\u0275fac=function(Ee){return new(Ee||re)},re.\u0275mod=F.oAB({type:re}),re.\u0275inj=F.cJS({imports:[p.ez]}),re})()},4754:(Ut,$e,U)=>{var p=U(1481),F=U(6378),$=U(4650),re=U(1209);let Z=(()=>{class P{constructor(y,A){this.usuarioService=y,this.router=A}canActivate(y,A){return!!this.usuarioService.getUsuarioEstaLogueado||(this.router.navigate(["/login"]),!1)}canActivateChild(y,A){return!0}canDeactivate(y,A,j,Q){return!0}}return P.\u0275fac=function(y){return new(y||P)($.LFG(re.i),$.LFG(F.F0))},P.\u0275prov=$.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})(),Ee=(()=>{class P{constructor(y,A){this.usuarioService=y,this.router=A}canActivate(y,A){return!this.usuarioService.getUsuarioEstaLogueado||(this.router.navigate(["home"]),!1)}canActivateChild(y,A){return!0}canDeactivate(y,A,j,Q){return!0}}return P.\u0275fac=function(y){return new(y||P)($.LFG(re.i),$.LFG(F.F0))},P.\u0275prov=$.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})(),Ce=(()=>{class P{constructor(y,A){this.usuarioService=y,this.router=A}canActivate(y,A){return!this.usuarioService.getUsuarioEstaLogueado||(this.router.navigate(["home"]),!1)}canActivateChild(y,A){return!0}canDeactivate(y,A,j,Q){return!0}}return P.\u0275fac=function(y){return new(y||P)($.LFG(re.i),$.LFG(F.F0))},P.\u0275prov=$.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})(),Me=(()=>{class P{constructor(y,A){this.usuarioService=y,this.router=A}canActivate(y,A){return!this.usuarioService.getUsuarioEstaLogueado||(this.router.navigate(["home"]),!1)}canActivateChild(y,A){return!0}canDeactivate(y,A,j,Q){return!0}}return P.\u0275fac=function(y){return new(y||P)($.LFG(re.i),$.LFG(F.F0))},P.\u0275prov=$.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})();var pe=U(3474);const qe=[{path:"",loadChildren:()=>U.e(454).then(U.bind(U,1454)).then(P=>P.BienvenidoModule),canActivate:[Ee]},{path:"bienvenido",loadChildren:()=>U.e(454).then(U.bind(U,1454)).then(P=>P.BienvenidoModule),canActivate:[Ee]},{path:"login",loadChildren:()=>Promise.all([U.e(822),U.e(592),U.e(823)]).then(U.bind(U,5823)).then(P=>P.LoginModule),canActivate:[Ce]},{path:"registro",loadChildren:()=>Promise.all([U.e(822),U.e(594),U.e(592)]).then(U.bind(U,9594)).then(P=>P.RegistroModule),canActivate:[Me]},{path:"usuarios",loadChildren:()=>Promise.all([U.e(592),U.e(153)]).then(U.bind(U,4153)).then(P=>P.UsuariosModule),canActivate:[(()=>{class P{constructor(y,A){this.usuarioService=y,this.router=A}canActivate(y,A){return!(!this.usuarioService.getUsuarioActualBasico||this.usuarioService.getUsuarioActualBasico.perfil!=pe.L.administrador)||(this.router.navigate(["home"]),!1)}canActivateChild(y,A){return!0}canDeactivate(y,A,j,Q){return!0}}return P.\u0275fac=function(y){return new(y||P)($.LFG(re.i),$.LFG(F.F0))},P.\u0275prov=$.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})()]},{path:"home",loadChildren:()=>U.e(828).then(U.bind(U,3828)).then(P=>P.HomeModule),canActivate:[Z]},{path:"mis-turnos",loadChildren:()=>Promise.all([U.e(822),U.e(592),U.e(675)]).then(U.bind(U,3675)).then(P=>P.MisTurnosModule),canActivate:[(()=>{class P{constructor(y,A){this.usuarioService=y,this.router=A}canActivate(y,A){return!(!this.usuarioService.getUsuarioActualBasico||this.usuarioService.getUsuarioActualBasico.perfil!=pe.L.especialista&&this.usuarioService.getUsuarioActualBasico.perfil!=pe.L.paciente)||(this.router.navigate(["home"]),!1)}canActivateChild(y,A){return!0}canDeactivate(y,A,j,Q){return!0}}return P.\u0275fac=function(y){return new(y||P)($.LFG(re.i),$.LFG(F.F0))},P.\u0275prov=$.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})()]},{path:"mi-perfil",loadChildren:()=>Promise.all([U.e(822),U.e(592),U.e(831)]).then(U.bind(U,4831)).then(P=>P.MiPerfilModule),canActivate:[(()=>{class P{constructor(y,A){this.usuarioService=y,this.router=A}canActivate(y,A){return!!this.usuarioService.getUsuarioEstaLogueado||(this.router.navigate(["/login"]),!1)}canActivateChild(y,A){return!0}canDeactivate(y,A,j,Q){return!0}}return P.\u0275fac=function(y){return new(y||P)($.LFG(re.i),$.LFG(F.F0))},P.\u0275prov=$.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})()]},{path:"solicitar-turno",loadChildren:()=>Promise.all([U.e(822),U.e(592),U.e(771)]).then(U.bind(U,8771)).then(P=>P.SolicitarTurnoModule),canActivate:[(()=>{class P{constructor(y,A){this.usuarioService=y,this.router=A}canActivate(y,A){return!(!this.usuarioService.getUsuarioActualBasico||this.usuarioService.getUsuarioActualBasico.perfil!=pe.L.administrador&&this.usuarioService.getUsuarioActualBasico.perfil!=pe.L.paciente)||(this.router.navigate(["home"]),!1)}canActivateChild(y,A){return!0}canDeactivate(y,A,j,Q){return!0}}return P.\u0275fac=function(y){return new(y||P)($.LFG(re.i),$.LFG(F.F0))},P.\u0275prov=$.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})()]},{path:"turnos",loadChildren:()=>Promise.all([U.e(822),U.e(592),U.e(809)]).then(U.bind(U,8809)).then(P=>P.TurnosModule),canActivate:[(()=>{class P{constructor(y,A){this.usuarioService=y,this.router=A}canActivate(y,A){return!(!this.usuarioService.getUsuarioActualBasico||this.usuarioService.getUsuarioActualBasico.perfil!=pe.L.administrador)||(this.router.navigate(["home"]),!1)}canActivateChild(y,A){return!0}canDeactivate(y,A,j,Q){return!0}}return P.\u0275fac=function(y){return new(y||P)($.LFG(re.i),$.LFG(F.F0))},P.\u0275prov=$.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})()]}];let yt=(()=>{class P{}return P.\u0275fac=function(y){return new(y||P)},P.\u0275mod=$.oAB({type:P}),P.\u0275inj=$.cJS({imports:[F.Bz.forRoot(qe),F.Bz]}),P})();var Le=U(5861),Be=U(6895),st=U(6613);function It(P,g){1&P&&($.TgZ(0,"div",11),$._UZ(1,"div",12),$.qZA())}function Ue(P,g){if(1&P&&($.TgZ(0,"h3",13),$._uU(1),$.ALo(2,"tipoUsuario"),$.qZA()),2&P){const y=$.oxw(2);$.xp6(1),$.lnq("",$.lcZ(2,3,null==y.usuarioActual?null:y.usuarioActual.perfil),": ",null==y.usuarioActual?null:y.usuarioActual.nombre," ",null==y.usuarioActual?null:y.usuarioActual.apellido,"")}}function we(P,g){if(1&P){const y=$.EpF();$.ynx(0),$.TgZ(1,"nav",1)(2,"div",2)(3,"div",3),$.YNc(4,It,2,0,"div",4),$.YNc(5,Ue,3,5,"ng-template",null,5,$.W1O),$.qZA(),$.TgZ(7,"div",6)(8,"div",7)(9,"button",8),$.NdJ("click",function(){$.CHM(y);const j=$.oxw();return $.KtG(j.miPerfil())}),$._uU(10,"Mi Perfil"),$.qZA(),$.TgZ(11,"button",9),$.NdJ("click",function(){$.CHM(y);const j=$.oxw();return $.KtG(j.home())}),$._uU(12,"Home"),$.qZA(),$.TgZ(13,"button",10),$.NdJ("click",function(){$.CHM(y);const j=$.oxw();return $.KtG(j.cerrarSesion())}),$._uU(14,"Cerrar Sesi\xf3n"),$.qZA()()()()(),$.BQk()}if(2&P){const y=$.MAs(6),A=$.oxw();$.xp6(4),$.Q6J("ngIf",!A.usuarioActual)("ngIfElse",y),$.xp6(5),$.Q6J("hidden",!A.usuarioLogueado||A.ocultarBotonMiPerfil),$.xp6(2),$.Q6J("hidden",!A.usuarioLogueado||"/home"==A.routerUrl),$.xp6(2),$.Q6J("hidden",!A.usuarioLogueado)}}let ot=(()=>{class P{constructor(y,A){this.usuarioService=y,this.router=A,this.ocultarBotonHome=!1,this.ocultarBotonMiPerfil=!1}ngOnInit(){var y=this;return(0,Le.Z)(function*(){y.ocultarBotones()})()}get usuarioLogueado(){return this.usuarioService.usuarioEstaLogueado}get usuarioActual(){return this.usuarioService.usuarioAuth}get routerUrl(){return this.router.url}ocultarBotones(y=!1){this.ocultarBotonHome="/home"==this.router.url,y&&this.router.navigate(["/home"])}cerrarSesion(){this.usuarioService.cerrarSesionUsuario()}miPerfil(){this.router.navigate(["mi-perfil"])}home(){this.router.navigate(["home"])}NavigationEnd(){}}return P.\u0275fac=function(y){return new(y||P)($.Y36(re.i),$.Y36(F.F0))},P.\u0275cmp=$.Xpm({type:P,selectors:[["app-header"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark","m-0","p-0"],[1,"row","w-100"],[1,"col","col-12","col-md-6","d-flex",2,"align-items","center !important"],["class","d-flex justify-content-start","style","align-items: center; height: 100% !important;",4,"ngIf","ngIfElse"],["user",""],[1,"col","col-12","col-md-6","justify-content-end"],[1,"d-flex","justify-content-end"],["routerLink","mi-perfil",1,"btn","btn-warning","fs-4","fw-bold","p-2","m-2",3,"hidden","click"],[1,"btn","btn-warning","fs-4","fw-bold","p-2","m-2",3,"hidden","click"],[1,"btn","btn-danger","fs-4","fw-bold","p-2","m-2",3,"hidden","click"],[1,"d-flex","justify-content-start",2,"align-items","center","height","100% !important"],[1,"spinner-border","text-light",2,"align-self","center","scale","1"],[1,"fs-3","fw-bold","text-light","p-2","m-0"]],template:function(y,A){1&y&&$.YNc(0,we,15,5,"ng-container",0),2&y&&$.Q6J("ngIf",A.usuarioLogueado)},dependencies:[Be.O5,st.q]}),P})(),Tt=(()=>{class P{}return P.\u0275fac=function(y){return new(y||P)},P.\u0275cmp=$.Xpm({type:P,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"container-fluid","p-0","m-0","altura",2,"background-image","url('../assets/fondoh2.jpg')","background-size","cover"]],template:function(y,A){1&y&&($.TgZ(0,"div",0),$._UZ(1,"app-header")(2,"router-outlet"),$.qZA())},dependencies:[F.lC,ot],styles:[".altura[_ngcontent-%COMP%]{min-height:100vh!important}"]}),P})();const gt_firebase={projectId:"tp-clinica-2dcea",appId:"1:489572240554:web:ff65038316f4836d0a14d3",storageBucket:"tp-clinica-2dcea.appspot.com",apiKey:"AIzaSyD_zrUWXGqPIR-3YQV_-Y1zGFC2DpV3caE",authDomain:"tp-clinica-2dcea.firebaseapp.com",messagingSenderId:"489572240554"};var He=U(4006),Dt=U(7340);function St(P){return new $.vHH(3e3,!1)}function mi(){return typeof window<"u"&&typeof window.document<"u"}function _r(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function $r(P){switch(P.length){case 0:return new Dt.ZN;case 1:return P[0];default:return new Dt.ZE(P)}}function Fr(P,g,y,A,j=new Map,Q=new Map){const le=[],ge=[];let be=-1,nt=null;if(A.forEach(Ot=>{const Yt=Ot.get("offset"),Ln=Yt==be,We=Ln&&nt||new Map;Ot.forEach((kt,rn)=>{let or=rn,Mt=kt;if("offset"!==rn)switch(or=g.normalizePropertyName(or,le),Mt){case Dt.k1:Mt=j.get(rn);break;case Dt.l3:Mt=Q.get(rn);break;default:Mt=g.normalizeStyleValue(rn,or,Mt,le)}We.set(or,Mt)}),Ln||ge.push(We),nt=We,be=Yt}),le.length)throw function gi(P){return new $.vHH(3502,!1)}();return ge}function ui(P,g,y,A){switch(g){case"start":P.onStart(()=>A(y&&ir(y,"start",P)));break;case"done":P.onDone(()=>A(y&&ir(y,"done",P)));break;case"destroy":P.onDestroy(()=>A(y&&ir(y,"destroy",P)))}}function ir(P,g,y){const Q=Zt(P.element,P.triggerName,P.fromState,P.toState,g||P.phaseName,y.totalTime??P.totalTime,!!y.disabled),le=P._data;return null!=le&&(Q._data=le),Q}function Zt(P,g,y,A,j="",Q=0,le){return{element:P,triggerName:g,fromState:y,toState:A,phaseName:j,totalTime:Q,disabled:!!le}}function Dn(P,g,y){let A=P.get(g);return A||P.set(g,A=y),A}function Ar(P){const g=P.indexOf(":");return[P.substring(1,g),P.slice(g+1)]}let Vt=(P,g)=>!1,zn=(P,g,y)=>[],Dr=null;function tr(P){const g=P.parentNode||P.host;return g===Dr?null:g}(_r()||typeof Element<"u")&&(mi()?(Dr=(()=>document.documentElement)(),Vt=(P,g)=>{for(;g;){if(g===P)return!0;g=tr(g)}return!1}):Vt=(P,g)=>P.contains(g),zn=(P,g,y)=>{if(y)return Array.from(P.querySelectorAll(g));const A=P.querySelector(g);return A?[A]:[]});let un=null,Pr=!1;const lt=Vt,Ge=zn;let ve=(()=>{class P{validateStyleProperty(y){return function ye(P){un||(un=function De(){return typeof document<"u"?document.body:null}()||{},Pr=!!un.style&&"WebkitAppearance"in un.style);let g=!0;return un.style&&!function qr(P){return"ebkit"==P.substring(1,6)}(P)&&(g=P in un.style,!g&&Pr&&(g="Webkit"+P.charAt(0).toUpperCase()+P.slice(1)in un.style)),g}(y)}matchesElement(y,A){return!1}containsElement(y,A){return lt(y,A)}getParentElement(y){return tr(y)}query(y,A,j){return Ge(y,A,j)}computeStyle(y,A,j){return j||""}animate(y,A,j,Q,le,ge=[],be){return new Dt.ZN(j,Q)}}return P.\u0275fac=function(y){return new(y||P)},P.\u0275prov=$.Yz7({token:P,factory:P.\u0275fac}),P})(),_e=(()=>{class P{}return P.NOOP=new ve,P})();const ie=1e3,At="ng-enter",dn="ng-leave",qn="ng-trigger",Un=".ng-trigger",Fi="ng-animating",rt=".ng-animating";function je(P){if("number"==typeof P)return P;const g=P.match(/^(-?[\.\d]+)(m?s)/);return!g||g.length<2?0:Ct(parseFloat(g[1]),g[2])}function Ct(P,g){return"s"===g?P*ie:P}function tn(P,g,y){return P.hasOwnProperty("duration")?P:function xn(P,g,y){let j,Q=0,le="";if("string"==typeof P){const ge=P.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===ge)return g.push(St()),{duration:0,delay:0,easing:""};j=Ct(parseFloat(ge[1]),ge[2]);const be=ge[3];null!=be&&(Q=Ct(parseFloat(be),ge[4]));const nt=ge[5];nt&&(le=nt)}else j=P;if(!y){let ge=!1,be=g.length;j<0&&(g.push(function In(){return new $.vHH(3100,!1)}()),ge=!0),Q<0&&(g.push(function Ht(){return new $.vHH(3101,!1)}()),ge=!0),ge&&g.splice(be,0,St())}return{duration:j,delay:Q,easing:le}}(P,g,y)}function An(P,g={}){return Object.keys(P).forEach(y=>{g[y]=P[y]}),g}function an(P){const g=new Map;return Object.keys(P).forEach(y=>{g.set(y,P[y])}),g}function hr(P,g=new Map,y){if(y)for(let[A,j]of y)g.set(A,j);for(let[A,j]of P)g.set(A,j);return g}function yi(P,g,y){return y?g+":"+y+";":""}function ds(P){let g="";for(let y=0;y<P.style.length;y++){const A=P.style.item(y);g+=yi(0,A,P.style.getPropertyValue(A))}for(const y in P.style)P.style.hasOwnProperty(y)&&!y.startsWith("_")&&(g+=yi(0,Or(y),P.style[y]));P.setAttribute("style",g)}function vi(P,g,y){P.style&&(g.forEach((A,j)=>{const Q=Hi(j);y&&!y.has(j)&&y.set(j,P.style[Q]),P.style[Q]=A}),_r()&&ds(P))}function Zr(P,g){P.style&&(g.forEach((y,A)=>{const j=Hi(A);P.style[j]=""}),_r()&&ds(P))}function Cr(P){return Array.isArray(P)?1==P.length?P[0]:(0,Dt.vP)(P):P}const Fn=new RegExp("{{\\s*(.+?)\\s*}}","g");function dr(P){let g=[];if("string"==typeof P){let y;for(;y=Fn.exec(P);)g.push(y[1]);Fn.lastIndex=0}return g}function sr(P,g,y){const A=P.toString(),j=A.replace(Fn,(Q,le)=>{let ge=g[le];return null==ge&&(y.push(function et(P){return new $.vHH(3003,!1)}()),ge=""),ge.toString()});return j==A?P:j}function li(P){const g=[];let y=P.next();for(;!y.done;)g.push(y.value),y=P.next();return g}const Yr=/-+([a-z0-9])/g;function Hi(P){return P.replace(Yr,(...g)=>g[1].toUpperCase())}function Or(P){return P.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ie(P,g,y){switch(g.type){case 7:return P.visitTrigger(g,y);case 0:return P.visitState(g,y);case 1:return P.visitTransition(g,y);case 2:return P.visitSequence(g,y);case 3:return P.visitGroup(g,y);case 4:return P.visitAnimate(g,y);case 5:return P.visitKeyframes(g,y);case 6:return P.visitStyle(g,y);case 8:return P.visitReference(g,y);case 9:return P.visitAnimateChild(g,y);case 10:return P.visitAnimateRef(g,y);case 11:return P.visitQuery(g,y);case 12:return P.visitStagger(g,y);default:throw function Ve(P){return new $.vHH(3004,!1)}()}}function _t(P,g){return window.getComputedStyle(P)[g]}const Nr="*";function ci(P,g){const y=[];return"string"==typeof P?P.split(/\s*,\s*/).forEach(A=>function Er(P,g,y){if(":"==P[0]){const be=function ts(P,g){switch(P){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(y,A)=>parseFloat(A)>parseFloat(y);case":decrement":return(y,A)=>parseFloat(A)<parseFloat(y);default:return g.push(function On(P){return new $.vHH(3016,!1)}()),"* => *"}}(P,y);if("function"==typeof be)return void g.push(be);P=be}const A=P.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==A||A.length<4)return y.push(function _n(P){return new $.vHH(3015,!1)}()),g;const j=A[1],Q=A[2],le=A[3];g.push(Zs(j,le));"<"==Q[0]&&!(j==Nr&&le==Nr)&&g.push(Zs(le,j))}(A,y,g)):y.push(P),y}const qs=new Set(["true","1"]),Fs=new Set(["false","0"]);function Zs(P,g){const y=qs.has(P)||Fs.has(P),A=qs.has(g)||Fs.has(g);return(j,Q)=>{let le=P==Nr||P==j,ge=g==Nr||g==Q;return!le&&y&&"boolean"==typeof j&&(le=j?qs.has(P):Fs.has(P)),!ge&&A&&"boolean"==typeof Q&&(ge=Q?qs.has(g):Fs.has(g)),le&&ge}}const lo=new RegExp("s*:selfs*,?","g");function Qr(P,g,y,A){return new Ei(P).build(g,y,A)}class Ei{constructor(g){this._driver=g}build(g,y,A){const j=new Ys(y);return this._resetContextStyleTimingState(j),Ie(this,Cr(g),j)}_resetContextStyleTimingState(g){g.currentQuerySelector="",g.collectedStyles=new Map,g.collectedStyles.set("",new Map),g.currentTime=0}visitTrigger(g,y){let A=y.queryCount=0,j=y.depCount=0;const Q=[],le=[];return"@"==g.name.charAt(0)&&y.errors.push(function ut(){return new $.vHH(3006,!1)}()),g.definitions.forEach(ge=>{if(this._resetContextStyleTimingState(y),0==ge.type){const be=ge,nt=be.name;nt.toString().split(/\s*,\s*/).forEach(Ot=>{be.name=Ot,Q.push(this.visitState(be,y))}),be.name=nt}else if(1==ge.type){const be=this.visitTransition(ge,y);A+=be.queryCount,j+=be.depCount,le.push(be)}else y.errors.push(function mt(){return new $.vHH(3007,!1)}())}),{type:7,name:g.name,states:Q,transitions:le,queryCount:A,depCount:j,options:null}}visitState(g,y){const A=this.visitStyle(g.styles,y),j=g.options&&g.options.params||null;if(A.containsDynamicStyles){const Q=new Set,le=j||{};A.styles.forEach(ge=>{ge instanceof Map&&ge.forEach(be=>{dr(be).forEach(nt=>{le.hasOwnProperty(nt)||Q.add(nt)})})}),Q.size&&(li(Q.values()),y.errors.push(function wt(P,g){return new $.vHH(3008,!1)}()))}return{type:0,name:g.name,style:A,options:j?{params:j}:null}}visitTransition(g,y){y.queryCount=0,y.depCount=0;const A=Ie(this,Cr(g.animation),y);return{type:1,matchers:ci(g.expr,y.errors),animation:A,queryCount:y.queryCount,depCount:y.depCount,options:zi(g.options)}}visitSequence(g,y){return{type:2,steps:g.steps.map(A=>Ie(this,A,y)),options:zi(g.options)}}visitGroup(g,y){const A=y.currentTime;let j=0;const Q=g.steps.map(le=>{y.currentTime=A;const ge=Ie(this,le,y);return j=Math.max(j,y.currentTime),ge});return y.currentTime=j,{type:3,steps:Q,options:zi(g.options)}}visitAnimate(g,y){const A=function Ai(P,g){if(P.hasOwnProperty("duration"))return P;if("number"==typeof P)return Ls(tn(P,g).duration,0,"");const y=P;if(y.split(/\s+/).some(Q=>"{"==Q.charAt(0)&&"{"==Q.charAt(1))){const Q=Ls(0,0,"");return Q.dynamic=!0,Q.strValue=y,Q}const j=tn(y,g);return Ls(j.duration,j.delay,j.easing)}(g.timings,y.errors);y.currentAnimateTimings=A;let j,Q=g.styles?g.styles:(0,Dt.oB)({});if(5==Q.type)j=this.visitKeyframes(Q,y);else{let le=g.styles,ge=!1;if(!le){ge=!0;const nt={};A.easing&&(nt.easing=A.easing),le=(0,Dt.oB)(nt)}y.currentTime+=A.duration+A.delay;const be=this.visitStyle(le,y);be.isEmptyStep=ge,j=be}return y.currentAnimateTimings=null,{type:4,timings:A,style:j,options:null}}visitStyle(g,y){const A=this._makeStyleAst(g,y);return this._validateStyleAst(A,y),A}_makeStyleAst(g,y){const A=[],j=Array.isArray(g.styles)?g.styles:[g.styles];for(let ge of j)"string"==typeof ge?ge===Dt.l3?A.push(ge):y.errors.push(new $.vHH(3002,!1)):A.push(an(ge));let Q=!1,le=null;return A.forEach(ge=>{if(ge instanceof Map&&(ge.has("easing")&&(le=ge.get("easing"),ge.delete("easing")),!Q))for(let be of ge.values())if(be.toString().indexOf("{{")>=0){Q=!0;break}}),{type:6,styles:A,easing:le,offset:g.offset,containsDynamicStyles:Q,options:null}}_validateStyleAst(g,y){const A=y.currentAnimateTimings;let j=y.currentTime,Q=y.currentTime;A&&Q>0&&(Q-=A.duration+A.delay),g.styles.forEach(le=>{"string"!=typeof le&&le.forEach((ge,be)=>{const nt=y.collectedStyles.get(y.currentQuerySelector),Ot=nt.get(be);let Yt=!0;Ot&&(Q!=j&&Q>=Ot.startTime&&j<=Ot.endTime&&(y.errors.push(function Kn(P,g,y,A,j){return new $.vHH(3010,!1)}()),Yt=!1),Q=Ot.startTime),Yt&&nt.set(be,{startTime:Q,endTime:j}),y.options&&function Gt(P,g,y){const A=g.params||{},j=dr(P);j.length&&j.forEach(Q=>{A.hasOwnProperty(Q)||y.push(function Ci(P){return new $.vHH(3001,!1)}())})}(ge,y.options,y.errors)})})}visitKeyframes(g,y){const A={type:5,styles:[],options:null};if(!y.currentAnimateTimings)return y.errors.push(function jt(){return new $.vHH(3011,!1)}()),A;let Q=0;const le=[];let ge=!1,be=!1,nt=0;const Ot=g.steps.map(Mt=>{const _=this._makeStyleAst(Mt,y);let I=null!=_.offset?_.offset:function co(P){if("string"==typeof P)return null;let g=null;if(Array.isArray(P))P.forEach(y=>{if(y instanceof Map&&y.has("offset")){const A=y;g=parseFloat(A.get("offset")),A.delete("offset")}});else if(P instanceof Map&&P.has("offset")){const y=P;g=parseFloat(y.get("offset")),y.delete("offset")}return g}(_.styles),v=0;return null!=I&&(Q++,v=_.offset=I),be=be||v<0||v>1,ge=ge||v<nt,nt=v,le.push(v),_});be&&y.errors.push(function ze(){return new $.vHH(3012,!1)}()),ge&&y.errors.push(function ct(){return new $.vHH(3200,!1)}());const Yt=g.steps.length;let Ln=0;Q>0&&Q<Yt?y.errors.push(function xe(){return new $.vHH(3202,!1)}()):0==Q&&(Ln=1/(Yt-1));const We=Yt-1,kt=y.currentTime,rn=y.currentAnimateTimings,or=rn.duration;return Ot.forEach((Mt,_)=>{const I=Ln>0?_==We?1:Ln*_:le[_],v=I*or;y.currentTime=kt+rn.delay+v,rn.duration=v,this._validateStyleAst(Mt,y),Mt.offset=I,A.styles.push(Mt)}),A}visitReference(g,y){return{type:8,animation:Ie(this,Cr(g.animation),y),options:zi(g.options)}}visitAnimateChild(g,y){return y.depCount++,{type:9,options:zi(g.options)}}visitAnimateRef(g,y){return{type:10,animation:this.visitReference(g.animation,y),options:zi(g.options)}}visitQuery(g,y){const A=y.currentQuerySelector,j=g.options||{};y.queryCount++,y.currentQuery=g;const[Q,le]=function yr(P){const g=!!P.split(/\s*,\s*/).find(y=>":self"==y);return g&&(P=P.replace(lo,"")),P=P.replace(/@\*/g,Un).replace(/@\w+/g,y=>Un+"-"+y.slice(1)).replace(/:animating/g,rt),[P,g]}(g.selector);y.currentQuerySelector=A.length?A+" "+Q:Q,Dn(y.collectedStyles,y.currentQuerySelector,new Map);const ge=Ie(this,Cr(g.animation),y);return y.currentQuery=null,y.currentQuerySelector=A,{type:11,selector:Q,limit:j.limit||0,optional:!!j.optional,includeSelf:le,animation:ge,originalSelector:g.selector,options:zi(g.options)}}visitStagger(g,y){y.currentQuery||y.errors.push(function Ze(){return new $.vHH(3013,!1)}());const A="full"===g.timings?{duration:0,delay:0,easing:"full"}:tn(g.timings,y.errors,!0);return{type:12,animation:Ie(this,Cr(g.animation),y),timings:A,options:null}}}class Ys{constructor(g){this.errors=g,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function zi(P){return P?(P=An(P)).params&&(P.params=function Hr(P){return P?An(P):null}(P.params)):P={},P}function Ls(P,g,y){return{duration:P,delay:g,easing:y}}function Jo(P,g,y,A,j,Q,le=null,ge=!1){return{type:1,element:P,keyframes:g,preStyleProps:y,postStyleProps:A,duration:j,delay:Q,totalTime:j+Q,easing:le,subTimeline:ge}}class Mi{constructor(){this._map=new Map}get(g){return this._map.get(g)||[]}append(g,y){let A=this._map.get(g);A||this._map.set(g,A=[]),A.push(...y)}has(g){return this._map.has(g)}clear(){this._map.clear()}}const ns=new RegExp(":enter","g"),Xo=new RegExp(":leave","g");function $o(P,g,y,A,j,Q=new Map,le=new Map,ge,be,nt=[]){return(new bs).buildKeyframes(P,g,y,A,j,Q,le,ge,be,nt)}class bs{buildKeyframes(g,y,A,j,Q,le,ge,be,nt,Ot=[]){nt=nt||new Mi;const Yt=new Ho(g,y,nt,j,Q,Ot,[]);Yt.options=be;const Ln=be.delay?je(be.delay):0;Yt.currentTimeline.delayNextStep(Ln),Yt.currentTimeline.setStyles([le],null,Yt.errors,be),Ie(this,A,Yt);const We=Yt.timelines.filter(kt=>kt.containsAnimation());if(We.length&&ge.size){let kt;for(let rn=We.length-1;rn>=0;rn--){const or=We[rn];if(or.element===y){kt=or;break}}kt&&!kt.allowOnlyTimelineStyles()&&kt.setStyles([ge],null,Yt.errors,be)}return We.length?We.map(kt=>kt.buildKeyframes()):[Jo(y,[],[],[],0,Ln,"",!1)]}visitTrigger(g,y){}visitState(g,y){}visitTransition(g,y){}visitAnimateChild(g,y){const A=y.subInstructions.get(y.element);if(A){const j=y.createSubContext(g.options),Q=y.currentTimeline.currentTime,le=this._visitSubInstructions(A,j,j.options);Q!=le&&y.transformIntoNewTimeline(le)}y.previousNode=g}visitAnimateRef(g,y){const A=y.createSubContext(g.options);A.transformIntoNewTimeline(),this._applyAnimationRefDelays([g.options,g.animation.options],y,A),this.visitReference(g.animation,A),y.transformIntoNewTimeline(A.currentTimeline.currentTime),y.previousNode=g}_applyAnimationRefDelays(g,y,A){for(const j of g){const Q=j?.delay;if(Q){const le="number"==typeof Q?Q:je(sr(Q,j?.params??{},y.errors));A.delayNextStep(le)}}}_visitSubInstructions(g,y,A){let Q=y.currentTimeline.currentTime;const le=null!=A.duration?je(A.duration):null,ge=null!=A.delay?je(A.delay):null;return 0!==le&&g.forEach(be=>{const nt=y.appendInstructionToTimeline(be,le,ge);Q=Math.max(Q,nt.duration+nt.delay)}),Q}visitReference(g,y){y.updateOptions(g.options,!0),Ie(this,g.animation,y),y.previousNode=g}visitSequence(g,y){const A=y.subContextCount;let j=y;const Q=g.options;if(Q&&(Q.params||Q.delay)&&(j=y.createSubContext(Q),j.transformIntoNewTimeline(),null!=Q.delay)){6==j.previousNode.type&&(j.currentTimeline.snapshotCurrentStyles(),j.previousNode=Ss);const le=je(Q.delay);j.delayNextStep(le)}g.steps.length&&(g.steps.forEach(le=>Ie(this,le,j)),j.currentTimeline.applyStylesToKeyframe(),j.subContextCount>A&&j.transformIntoNewTimeline()),y.previousNode=g}visitGroup(g,y){const A=[];let j=y.currentTimeline.currentTime;const Q=g.options&&g.options.delay?je(g.options.delay):0;g.steps.forEach(le=>{const ge=y.createSubContext(g.options);Q&&ge.delayNextStep(Q),Ie(this,le,ge),j=Math.max(j,ge.currentTimeline.currentTime),A.push(ge.currentTimeline)}),A.forEach(le=>y.currentTimeline.mergeTimelineCollectedStyles(le)),y.transformIntoNewTimeline(j),y.previousNode=g}_visitTiming(g,y){if(g.dynamic){const A=g.strValue;return tn(y.params?sr(A,y.params,y.errors):A,y.errors)}return{duration:g.duration,delay:g.delay,easing:g.easing}}visitAnimate(g,y){const A=y.currentAnimateTimings=this._visitTiming(g.timings,y),j=y.currentTimeline;A.delay&&(y.incrementTime(A.delay),j.snapshotCurrentStyles());const Q=g.style;5==Q.type?this.visitKeyframes(Q,y):(y.incrementTime(A.duration),this.visitStyle(Q,y),j.applyStylesToKeyframe()),y.currentAnimateTimings=null,y.previousNode=g}visitStyle(g,y){const A=y.currentTimeline,j=y.currentAnimateTimings;!j&&A.hasCurrentStyleProperties()&&A.forwardFrame();const Q=j&&j.easing||g.easing;g.isEmptyStep?A.applyEmptyStep(Q):A.setStyles(g.styles,Q,y.errors,y.options),y.previousNode=g}visitKeyframes(g,y){const A=y.currentAnimateTimings,j=y.currentTimeline.duration,Q=A.duration,ge=y.createSubContext().currentTimeline;ge.easing=A.easing,g.styles.forEach(be=>{ge.forwardTime((be.offset||0)*Q),ge.setStyles(be.styles,be.easing,y.errors,y.options),ge.applyStylesToKeyframe()}),y.currentTimeline.mergeTimelineCollectedStyles(ge),y.transformIntoNewTimeline(j+Q),y.previousNode=g}visitQuery(g,y){const A=y.currentTimeline.currentTime,j=g.options||{},Q=j.delay?je(j.delay):0;Q&&(6===y.previousNode.type||0==A&&y.currentTimeline.hasCurrentStyleProperties())&&(y.currentTimeline.snapshotCurrentStyles(),y.previousNode=Ss);let le=A;const ge=y.invokeQuery(g.selector,g.originalSelector,g.limit,g.includeSelf,!!j.optional,y.errors);y.currentQueryTotal=ge.length;let be=null;ge.forEach((nt,Ot)=>{y.currentQueryIndex=Ot;const Yt=y.createSubContext(g.options,nt);Q&&Yt.delayNextStep(Q),nt===y.element&&(be=Yt.currentTimeline),Ie(this,g.animation,Yt),Yt.currentTimeline.applyStylesToKeyframe(),le=Math.max(le,Yt.currentTimeline.currentTime)}),y.currentQueryIndex=0,y.currentQueryTotal=0,y.transformIntoNewTimeline(le),be&&(y.currentTimeline.mergeTimelineCollectedStyles(be),y.currentTimeline.snapshotCurrentStyles()),y.previousNode=g}visitStagger(g,y){const A=y.parentContext,j=y.currentTimeline,Q=g.timings,le=Math.abs(Q.duration),ge=le*(y.currentQueryTotal-1);let be=le*y.currentQueryIndex;switch(Q.duration<0?"reverse":Q.easing){case"reverse":be=ge-be;break;case"full":be=A.currentStaggerTime}const Ot=y.currentTimeline;be&&Ot.delayNextStep(be);const Yt=Ot.currentTime;Ie(this,g.animation,y),y.previousNode=g,A.currentStaggerTime=j.currentTime-Yt+(j.startTime-A.currentTimeline.startTime)}}const Ss={};class Ho{constructor(g,y,A,j,Q,le,ge,be){this._driver=g,this.element=y,this.subInstructions=A,this._enterClassName=j,this._leaveClassName=Q,this.errors=le,this.timelines=ge,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ss,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=be||new Ri(this._driver,y,0),ge.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(g,y){if(!g)return;const A=g;let j=this.options;null!=A.duration&&(j.duration=je(A.duration)),null!=A.delay&&(j.delay=je(A.delay));const Q=A.params;if(Q){let le=j.params;le||(le=this.options.params={}),Object.keys(Q).forEach(ge=>{(!y||!le.hasOwnProperty(ge))&&(le[ge]=sr(Q[ge],le,this.errors))})}}_copyOptions(){const g={};if(this.options){const y=this.options.params;if(y){const A=g.params={};Object.keys(y).forEach(j=>{A[j]=y[j]})}}return g}createSubContext(g=null,y,A){const j=y||this.element,Q=new Ho(this._driver,j,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(j,A||0));return Q.previousNode=this.previousNode,Q.currentAnimateTimings=this.currentAnimateTimings,Q.options=this._copyOptions(),Q.updateOptions(g),Q.currentQueryIndex=this.currentQueryIndex,Q.currentQueryTotal=this.currentQueryTotal,Q.parentContext=this,this.subContextCount++,Q}transformIntoNewTimeline(g){return this.previousNode=Ss,this.currentTimeline=this.currentTimeline.fork(this.element,g),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(g,y,A){const j={duration:y??g.duration,delay:this.currentTimeline.currentTime+(A??0)+g.delay,easing:""},Q=new Qs(this._driver,g.element,g.keyframes,g.preStyleProps,g.postStyleProps,j,g.stretchStartingKeyframe);return this.timelines.push(Q),j}incrementTime(g){this.currentTimeline.forwardTime(this.currentTimeline.duration+g)}delayNextStep(g){g>0&&this.currentTimeline.delayNextStep(g)}invokeQuery(g,y,A,j,Q,le){let ge=[];if(j&&ge.push(this.element),g.length>0){g=(g=g.replace(ns,"."+this._enterClassName)).replace(Xo,"."+this._leaveClassName);let nt=this._driver.query(this.element,g,1!=A);0!==A&&(nt=A<0?nt.slice(nt.length+A,nt.length):nt.slice(0,A)),ge.push(...nt)}return!Q&&0==ge.length&&le.push(function qt(P){return new $.vHH(3014,!1)}()),ge}}class Ri{constructor(g,y,A,j){this._driver=g,this.element=y,this.startTime=A,this._elementTimelineStylesLookup=j,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(y),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(y,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(g){const y=1===this._keyframes.size&&this._pendingStyles.size;this.duration||y?(this.forwardTime(this.currentTime+g),y&&this.snapshotCurrentStyles()):this.startTime+=g}fork(g,y){return this.applyStylesToKeyframe(),new Ri(this._driver,g,y||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(g){this.applyStylesToKeyframe(),this.duration=g,this._loadKeyframe()}_updateStyle(g,y){this._localTimelineStyles.set(g,y),this._globalTimelineStyles.set(g,y),this._styleSummary.set(g,{time:this.currentTime,value:y})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(g){g&&this._previousKeyframe.set("easing",g);for(let[y,A]of this._globalTimelineStyles)this._backFill.set(y,A||Dt.l3),this._currentKeyframe.set(y,Dt.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(g,y,A,j){y&&this._previousKeyframe.set("easing",y);const Q=j&&j.params||{},le=function Yi(P,g){const y=new Map;let A;return P.forEach(j=>{if("*"===j){A=A||g.keys();for(let Q of A)y.set(Q,Dt.l3)}else hr(j,y)}),y}(g,this._globalTimelineStyles);for(let[ge,be]of le){const nt=sr(be,Q,A);this._pendingStyles.set(ge,nt),this._localTimelineStyles.has(ge)||this._backFill.set(ge,this._globalTimelineStyles.get(ge)??Dt.l3),this._updateStyle(ge,nt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((g,y)=>{this._currentKeyframe.set(y,g)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((g,y)=>{this._currentKeyframe.has(y)||this._currentKeyframe.set(y,g)}))}snapshotCurrentStyles(){for(let[g,y]of this._localTimelineStyles)this._pendingStyles.set(g,y),this._updateStyle(g,y)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const g=[];for(let y in this._currentKeyframe)g.push(y);return g}mergeTimelineCollectedStyles(g){g._styleSummary.forEach((y,A)=>{const j=this._styleSummary.get(A);(!j||y.time>j.time)&&this._updateStyle(A,y.value)})}buildKeyframes(){this.applyStylesToKeyframe();const g=new Set,y=new Set,A=1===this._keyframes.size&&0===this.duration;let j=[];this._keyframes.forEach((ge,be)=>{const nt=hr(ge,new Map,this._backFill);nt.forEach((Ot,Yt)=>{Ot===Dt.k1?g.add(Yt):Ot===Dt.l3&&y.add(Yt)}),A||nt.set("offset",be/this.duration),j.push(nt)});const Q=g.size?li(g.values()):[],le=y.size?li(y.values()):[];if(A){const ge=j[0],be=new Map(ge);ge.set("offset",0),be.set("offset",1),j=[ge,be]}return Jo(this.element,j,Q,le,this.duration,this.startTime,this.easing,!1)}}class Qs extends Ri{constructor(g,y,A,j,Q,le,ge=!1){super(g,y,le.delay),this.keyframes=A,this.preStyleProps=j,this.postStyleProps=Q,this._stretchStartingKeyframe=ge,this.timings={duration:le.duration,delay:le.delay,easing:le.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let g=this.keyframes,{delay:y,duration:A,easing:j}=this.timings;if(this._stretchStartingKeyframe&&y){const Q=[],le=A+y,ge=y/le,be=hr(g[0]);be.set("offset",0),Q.push(be);const nt=hr(g[0]);nt.set("offset",ga(ge)),Q.push(nt);const Ot=g.length-1;for(let Yt=1;Yt<=Ot;Yt++){let Ln=hr(g[Yt]);const We=Ln.get("offset");Ln.set("offset",ga((y+We*A)/le)),Q.push(Ln)}A=le,y=0,j="",g=Q}return Jo(this.element,g,this.preStyleProps,this.postStyleProps,A,y,j,!0)}}function ga(P,g=3){const y=Math.pow(10,g-1);return Math.round(P*y)/y}class Js{}const Ti=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Vs extends Js{normalizePropertyName(g,y){return Hi(g)}normalizeStyleValue(g,y,A,j){let Q="";const le=A.toString().trim();if(Ti.has(y)&&0!==A&&"0"!==A)if("number"==typeof A)Q="px";else{const ge=A.match(/^[+-]?[\d\.]+([a-z]*)$/);ge&&0==ge[1].length&&j.push(function tt(P,g){return new $.vHH(3005,!1)}())}return le+Q}}function ta(P,g,y,A,j,Q,le,ge,be,nt,Ot,Yt,Ln){return{type:0,element:P,triggerName:g,isRemovalTransition:j,fromState:y,fromStyles:Q,toState:A,toStyles:le,timelines:ge,queriedElements:be,preStyleProps:nt,postStyleProps:Ot,totalTime:Yt,errors:Ln}}const fs={};class fo{constructor(g,y,A){this._triggerName=g,this.ast=y,this._stateStyles=A}match(g,y,A,j){return function Bi(P,g,y,A,j){return P.some(Q=>Q(g,y,A,j))}(this.ast.matchers,g,y,A,j)}buildStyles(g,y,A){let j=this._stateStyles.get("*");return void 0!==g&&(j=this._stateStyles.get(g?.toString())||j),j?j.buildStyles(y,A):new Map}build(g,y,A,j,Q,le,ge,be,nt,Ot){const Yt=[],Ln=this.ast.options&&this.ast.options.params||fs,kt=this.buildStyles(A,ge&&ge.params||fs,Yt),rn=be&&be.params||fs,or=this.buildStyles(j,rn,Yt),Mt=new Set,_=new Map,I=new Map,v="void"===j,w={params:po(rn,Ln),delay:this.ast.options?.delay},R=Ot?[]:$o(g,y,this.ast.animation,Q,le,kt,or,w,nt,Yt);let q=0;if(R.forEach(Re=>{q=Math.max(Re.duration+Re.delay,q)}),Yt.length)return ta(y,this._triggerName,A,j,v,kt,or,[],[],_,I,q,Yt);R.forEach(Re=>{const at=Re.element,$t=Dn(_,at,new Set);Re.preStyleProps.forEach(jn=>$t.add(jn));const Qt=Dn(I,at,new Set);Re.postStyleProps.forEach(jn=>Qt.add(jn)),at!==y&&Mt.add(at)});const ee=li(Mt.values());return ta(y,this._triggerName,A,j,v,kt,or,R,ee,_,I,q)}}function po(P,g){const y=An(g);for(const A in P)P.hasOwnProperty(A)&&null!=P[A]&&(y[A]=P[A]);return y}class eo{constructor(g,y,A){this.styles=g,this.defaultParams=y,this.normalizer=A}buildStyles(g,y){const A=new Map,j=An(this.defaultParams);return Object.keys(g).forEach(Q=>{const le=g[Q];null!==le&&(j[Q]=le)}),this.styles.styles.forEach(Q=>{"string"!=typeof Q&&Q.forEach((le,ge)=>{le&&(le=sr(le,j,y));const be=this.normalizer.normalizePropertyName(ge,y);le=this.normalizer.normalizeStyleValue(ge,be,le,y),A.set(ge,le)})}),A}}class Gi{constructor(g,y,A){this.name=g,this.ast=y,this._normalizer=A,this.transitionFactories=[],this.states=new Map,y.states.forEach(j=>{this.states.set(j.name,new eo(j.style,j.options&&j.options.params||{},A))}),Yn(this.states,"true","1"),Yn(this.states,"false","0"),y.transitions.forEach(j=>{this.transitionFactories.push(new fo(g,j,this.states))}),this.fallbackTransition=function As(P,g,y){return new fo(P,{type:1,animation:{type:2,steps:[],options:null},matchers:[(le,ge)=>!0],options:null,queryCount:0,depCount:0},g)}(g,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(g,y,A,j){return this.transitionFactories.find(le=>le.match(g,y,A,j))||null}matchStyles(g,y,A){return this.fallbackTransition.buildStyles(g,y,A)}}function Yn(P,g,y){P.has(g)?P.has(y)||P.set(y,P.get(g)):P.has(y)&&P.set(g,P.get(y))}const Mo=new Mi;class ps{constructor(g,y,A){this.bodyNode=g,this._driver=y,this._normalizer=A,this._animations=new Map,this._playersById=new Map,this.players=[]}register(g,y){const A=[],j=[],Q=Qr(this._driver,y,A,j);if(A.length)throw function Nn(P){return new $.vHH(3503,!1)}();this._animations.set(g,Q)}_buildPlayer(g,y,A){const j=g.element,Q=Fr(0,this._normalizer,0,g.keyframes,y,A);return this._driver.animate(j,Q,g.duration,g.delay,g.easing,[],!0)}create(g,y,A={}){const j=[],Q=this._animations.get(g);let le;const ge=new Map;if(Q?(le=$o(this._driver,y,Q,At,dn,new Map,new Map,A,Mo,j),le.forEach(Ot=>{const Yt=Dn(ge,Ot.element,new Map);Ot.postStyleProps.forEach(Ln=>Yt.set(Ln,null))})):(j.push(function zt(){return new $.vHH(3300,!1)}()),le=[]),j.length)throw function Rr(P){return new $.vHH(3504,!1)}();ge.forEach((Ot,Yt)=>{Ot.forEach((Ln,We)=>{Ot.set(We,this._driver.computeStyle(Yt,We,Dt.l3))})});const nt=$r(le.map(Ot=>{const Yt=ge.get(Ot.element);return this._buildPlayer(Ot,new Map,Yt)}));return this._playersById.set(g,nt),nt.onDestroy(()=>this.destroy(g)),this.players.push(nt),nt}destroy(g){const y=this._getPlayer(g);y.destroy(),this._playersById.delete(g);const A=this.players.indexOf(y);A>=0&&this.players.splice(A,1)}_getPlayer(g){const y=this._playersById.get(g);if(!y)throw function Kr(P){return new $.vHH(3301,!1)}();return y}listen(g,y,A,j){const Q=Zt(y,"","","");return ui(this._getPlayer(g),A,Q,j),()=>{}}command(g,y,A,j){if("register"==A)return void this.register(g,j[0]);if("create"==A)return void this.create(g,y,j[0]||{});const Q=this._getPlayer(g);switch(A){case"play":Q.play();break;case"pause":Q.pause();break;case"reset":Q.reset();break;case"restart":Q.restart();break;case"finish":Q.finish();break;case"init":Q.init();break;case"setPosition":Q.setPosition(parseFloat(j[0]));break;case"destroy":this.destroy(g)}}}const zr="ng-animate-queued",Us="ng-animate-disabled",bi=[],di={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ro={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Lr="__ng_removed";class wi{get params(){return this.options.params}constructor(g,y=""){this.namespaceId=y;const A=g&&g.hasOwnProperty("value");if(this.value=function L(P){return P??null}(A?g.value:g),A){const Q=An(g);delete Q.value,this.options=Q}else this.options={};this.options.params||(this.options.params={})}absorbOptions(g){const y=g.params;if(y){const A=this.options.params;Object.keys(y).forEach(j=>{null==A[j]&&(A[j]=y[j])})}}}const Wi="void",Ms=new wi(Wi);class go{constructor(g,y,A){this.id=g,this.hostElement=y,this._engine=A,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+g,Ke(y,this._hostClassName)}listen(g,y,A,j){if(!this._triggers.has(y))throw function xr(P,g){return new $.vHH(3302,!1)}();if(null==A||0==A.length)throw function jr(P){return new $.vHH(3303,!1)}();if(!function J(P){return"start"==P||"done"==P}(A))throw function $i(P,g){return new $.vHH(3400,!1)}();const Q=Dn(this._elementListeners,g,[]),le={name:y,phase:A,callback:j};Q.push(le);const ge=Dn(this._engine.statesByElement,g,new Map);return ge.has(y)||(Ke(g,qn),Ke(g,qn+"-"+y),ge.set(y,Ms)),()=>{this._engine.afterFlush(()=>{const be=Q.indexOf(le);be>=0&&Q.splice(be,1),this._triggers.has(y)||ge.delete(y)})}}register(g,y){return!this._triggers.has(g)&&(this._triggers.set(g,y),!0)}_getTrigger(g){const y=this._triggers.get(g);if(!y)throw function mr(P){return new $.vHH(3401,!1)}();return y}trigger(g,y,A,j=!0){const Q=this._getTrigger(y),le=new Bs(this.id,y,g);let ge=this._engine.statesByElement.get(g);ge||(Ke(g,qn),Ke(g,qn+"-"+y),this._engine.statesByElement.set(g,ge=new Map));let be=ge.get(y);const nt=new wi(A,this.id);if(!(A&&A.hasOwnProperty("value"))&&be&&nt.absorbOptions(be.options),ge.set(y,nt),be||(be=Ms),nt.value!==Wi&&be.value===nt.value){if(!function La(P,g){const y=Object.keys(P),A=Object.keys(g);if(y.length!=A.length)return!1;for(let j=0;j<y.length;j++){const Q=y[j];if(!g.hasOwnProperty(Q)||P[Q]!==g[Q])return!1}return!0}(be.params,nt.params)){const rn=[],or=Q.matchStyles(be.value,be.params,rn),Mt=Q.matchStyles(nt.value,nt.params,rn);rn.length?this._engine.reportError(rn):this._engine.afterFlush(()=>{Zr(g,or),vi(g,Mt)})}return}const Ln=Dn(this._engine.playersByElement,g,[]);Ln.forEach(rn=>{rn.namespaceId==this.id&&rn.triggerName==y&&rn.queued&&rn.destroy()});let We=Q.matchTransition(be.value,nt.value,g,nt.params),kt=!1;if(!We){if(!j)return;We=Q.fallbackTransition,kt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:g,triggerName:y,transition:We,fromState:be,toState:nt,player:le,isFallbackTransition:kt}),kt||(Ke(g,zr),le.onStart(()=>{gn(g,zr)})),le.onDone(()=>{let rn=this.players.indexOf(le);rn>=0&&this.players.splice(rn,1);const or=this._engine.playersByElement.get(g);if(or){let Mt=or.indexOf(le);Mt>=0&&or.splice(Mt,1)}}),this.players.push(le),Ln.push(le),le}deregister(g){this._triggers.delete(g),this._engine.statesByElement.forEach(y=>y.delete(g)),this._elementListeners.forEach((y,A)=>{this._elementListeners.set(A,y.filter(j=>j.name!=g))})}clearElementCache(g){this._engine.statesByElement.delete(g),this._elementListeners.delete(g);const y=this._engine.playersByElement.get(g);y&&(y.forEach(A=>A.destroy()),this._engine.playersByElement.delete(g))}_signalRemovalForInnerTriggers(g,y){const A=this._engine.driver.query(g,Un,!0);A.forEach(j=>{if(j[Lr])return;const Q=this._engine.fetchNamespacesByElement(j);Q.size?Q.forEach(le=>le.triggerLeaveAnimation(j,y,!1,!0)):this.clearElementCache(j)}),this._engine.afterFlushAnimationsDone(()=>A.forEach(j=>this.clearElementCache(j)))}triggerLeaveAnimation(g,y,A,j){const Q=this._engine.statesByElement.get(g),le=new Map;if(Q){const ge=[];if(Q.forEach((be,nt)=>{if(le.set(nt,be.value),this._triggers.has(nt)){const Ot=this.trigger(g,nt,Wi,j);Ot&&ge.push(Ot)}}),ge.length)return this._engine.markElementAsRemoved(this.id,g,!0,y,le),A&&$r(ge).onDone(()=>this._engine.processLeaveNode(g)),!0}return!1}prepareLeaveAnimationListeners(g){const y=this._elementListeners.get(g),A=this._engine.statesByElement.get(g);if(y&&A){const j=new Set;y.forEach(Q=>{const le=Q.name;if(j.has(le))return;j.add(le);const be=this._triggers.get(le).fallbackTransition,nt=A.get(le)||Ms,Ot=new wi(Wi),Yt=new Bs(this.id,le,g);this._engine.totalQueuedPlayers++,this._queue.push({element:g,triggerName:le,transition:be,fromState:nt,toState:Ot,player:Yt,isFallbackTransition:!0})})}}removeNode(g,y){const A=this._engine;if(g.childElementCount&&this._signalRemovalForInnerTriggers(g,y),this.triggerLeaveAnimation(g,y,!0))return;let j=!1;if(A.totalAnimations){const Q=A.players.length?A.playersByQueriedElement.get(g):[];if(Q&&Q.length)j=!0;else{let le=g;for(;le=le.parentNode;)if(A.statesByElement.get(le)){j=!0;break}}}if(this.prepareLeaveAnimationListeners(g),j)A.markElementAsRemoved(this.id,g,!1,y);else{const Q=g[Lr];(!Q||Q===di)&&(A.afterFlush(()=>this.clearElementCache(g)),A.destroyInnerAnimations(g),A._onRemovalComplete(g,y))}}insertNode(g,y){Ke(g,this._hostClassName)}drainQueuedTransitions(g){const y=[];return this._queue.forEach(A=>{const j=A.player;if(j.destroyed)return;const Q=A.element,le=this._elementListeners.get(Q);le&&le.forEach(ge=>{if(ge.name==A.triggerName){const be=Zt(Q,A.triggerName,A.fromState.value,A.toState.value);be._data=g,ui(A.player,ge.phase,be,ge.callback)}}),j.markedForDestroy?this._engine.afterFlush(()=>{j.destroy()}):y.push(A)}),this._queue=[],y.sort((A,j)=>{const Q=A.transition.ast.depCount,le=j.transition.ast.depCount;return 0==Q||0==le?Q-le:this._engine.driver.containsElement(A.element,j.element)?1:-1})}destroy(g){this.players.forEach(y=>y.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,g)}elementContainsData(g){let y=!1;return this._elementListeners.has(g)&&(y=!0),y=!!this._queue.find(A=>A.element===g)||y,y}}class kn{_onRemovalComplete(g,y){this.onRemovalComplete(g,y)}constructor(g,y,A){this.bodyNode=g,this.driver=y,this._normalizer=A,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(j,Q)=>{}}get queuedPlayers(){const g=[];return this._namespaceList.forEach(y=>{y.players.forEach(A=>{A.queued&&g.push(A)})}),g}createNamespace(g,y){const A=new go(g,y,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,y)?this._balanceNamespaceList(A,y):(this.newHostElements.set(y,A),this.collectEnterElement(y)),this._namespaceLookup[g]=A}_balanceNamespaceList(g,y){const A=this._namespaceList,j=this.namespacesByHostElement;if(A.length-1>=0){let le=!1,ge=this.driver.getParentElement(y);for(;ge;){const be=j.get(ge);if(be){const nt=A.indexOf(be);A.splice(nt+1,0,g),le=!0;break}ge=this.driver.getParentElement(ge)}le||A.unshift(g)}else A.push(g);return j.set(y,g),g}register(g,y){let A=this._namespaceLookup[g];return A||(A=this.createNamespace(g,y)),A}registerTrigger(g,y,A){let j=this._namespaceLookup[g];j&&j.register(y,A)&&this.totalAnimations++}destroy(g,y){if(!g)return;const A=this._fetchNamespace(g);this.afterFlush(()=>{this.namespacesByHostElement.delete(A.hostElement),delete this._namespaceLookup[g];const j=this._namespaceList.indexOf(A);j>=0&&this._namespaceList.splice(j,1)}),this.afterFlushAnimationsDone(()=>A.destroy(y))}_fetchNamespace(g){return this._namespaceLookup[g]}fetchNamespacesByElement(g){const y=new Set,A=this.statesByElement.get(g);if(A)for(let j of A.values())if(j.namespaceId){const Q=this._fetchNamespace(j.namespaceId);Q&&y.add(Q)}return y}trigger(g,y,A,j){if(O(y)){const Q=this._fetchNamespace(g);if(Q)return Q.trigger(y,A,j),!0}return!1}insertNode(g,y,A,j){if(!O(y))return;const Q=y[Lr];if(Q&&Q.setForRemoval){Q.setForRemoval=!1,Q.setForMove=!0;const le=this.collectedLeaveElements.indexOf(y);le>=0&&this.collectedLeaveElements.splice(le,1)}if(g){const le=this._fetchNamespace(g);le&&le.insertNode(y,A)}j&&this.collectEnterElement(y)}collectEnterElement(g){this.collectedEnterElements.push(g)}markElementAsDisabled(g,y){y?this.disabledNodes.has(g)||(this.disabledNodes.add(g),Ke(g,Us)):this.disabledNodes.has(g)&&(this.disabledNodes.delete(g),gn(g,Us))}removeNode(g,y,A,j){if(O(y)){const Q=g?this._fetchNamespace(g):null;if(Q?Q.removeNode(y,j):this.markElementAsRemoved(g,y,!1,j),A){const le=this.namespacesByHostElement.get(y);le&&le.id!==g&&le.removeNode(y,j)}}else this._onRemovalComplete(y,j)}markElementAsRemoved(g,y,A,j,Q){this.collectedLeaveElements.push(y),y[Lr]={namespaceId:g,setForRemoval:j,hasAnimation:A,removedBeforeQueried:!1,previousTriggersValues:Q}}listen(g,y,A,j,Q){return O(y)?this._fetchNamespace(g).listen(y,A,j,Q):()=>{}}_buildInstruction(g,y,A,j,Q){return g.transition.build(this.driver,g.element,g.fromState.value,g.toState.value,A,j,g.fromState.options,g.toState.options,y,Q)}destroyInnerAnimations(g){let y=this.driver.query(g,Un,!0);y.forEach(A=>this.destroyActiveAnimationsForElement(A)),0!=this.playersByQueriedElement.size&&(y=this.driver.query(g,rt,!0),y.forEach(A=>this.finishActiveQueriedAnimationOnElement(A)))}destroyActiveAnimationsForElement(g){const y=this.playersByElement.get(g);y&&y.forEach(A=>{A.queued?A.markedForDestroy=!0:A.destroy()})}finishActiveQueriedAnimationOnElement(g){const y=this.playersByQueriedElement.get(g);y&&y.forEach(A=>A.finish())}whenRenderingDone(){return new Promise(g=>{if(this.players.length)return $r(this.players).onDone(()=>g());g()})}processLeaveNode(g){const y=g[Lr];if(y&&y.setForRemoval){if(g[Lr]=di,y.namespaceId){this.destroyInnerAnimations(g);const A=this._fetchNamespace(y.namespaceId);A&&A.clearElementCache(g)}this._onRemovalComplete(g,y.setForRemoval)}g.classList?.contains(Us)&&this.markElementAsDisabled(g,!1),this.driver.query(g,".ng-animate-disabled",!0).forEach(A=>{this.markElementAsDisabled(A,!1)})}flush(g=-1){let y=[];if(this.newHostElements.size&&(this.newHostElements.forEach((A,j)=>this._balanceNamespaceList(A,j)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let A=0;A<this.collectedEnterElements.length;A++)Ke(this.collectedEnterElements[A],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const A=[];try{y=this._flushAnimations(A,g)}finally{for(let j=0;j<A.length;j++)A[j]()}}else for(let A=0;A<this.collectedLeaveElements.length;A++)this.processLeaveNode(this.collectedLeaveElements[A]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(A=>A()),this._flushFns=[],this._whenQuietFns.length){const A=this._whenQuietFns;this._whenQuietFns=[],y.length?$r(y).onDone(()=>{A.forEach(j=>j())}):A.forEach(j=>j())}}reportError(g){throw function En(P){return new $.vHH(3402,!1)}()}_flushAnimations(g,y){const A=new Mi,j=[],Q=new Map,le=[],ge=new Map,be=new Map,nt=new Map,Ot=new Set;this.disabledNodes.forEach(ln=>{Ot.add(ln);const Sn=this.driver.query(ln,".ng-animate-queued",!0);for(let fn=0;fn<Sn.length;fn++)Ot.add(Sn[fn])});const Yt=this.bodyNode,Ln=Array.from(this.statesByElement.keys()),We=Jr(Ln,this.collectedEnterElements),kt=new Map;let rn=0;We.forEach((ln,Sn)=>{const fn=At+rn++;kt.set(Sn,fn),ln.forEach(Xt=>Ke(Xt,fn))});const or=[],Mt=new Set,_=new Set;for(let ln=0;ln<this.collectedLeaveElements.length;ln++){const Sn=this.collectedLeaveElements[ln],fn=Sn[Lr];fn&&fn.setForRemoval&&(or.push(Sn),Mt.add(Sn),fn.hasAnimation?this.driver.query(Sn,".ng-star-inserted",!0).forEach(Xt=>Mt.add(Xt)):_.add(Sn))}const I=new Map,v=Jr(Ln,Array.from(Mt));v.forEach((ln,Sn)=>{const fn=dn+rn++;I.set(Sn,fn),ln.forEach(Xt=>Ke(Xt,fn))}),g.push(()=>{We.forEach((ln,Sn)=>{const fn=kt.get(Sn);ln.forEach(Xt=>gn(Xt,fn))}),v.forEach((ln,Sn)=>{const fn=I.get(Sn);ln.forEach(Xt=>gn(Xt,fn))}),or.forEach(ln=>{this.processLeaveNode(ln)})});const w=[],R=[];for(let ln=this._namespaceList.length-1;ln>=0;ln--)this._namespaceList[ln].drainQueuedTransitions(y).forEach(fn=>{const Xt=fn.player,oi=fn.element;if(w.push(Xt),this.collectedEnterElements.length){const fr=oi[Lr];if(fr&&fr.setForMove){if(fr.previousTriggersValues&&fr.previousTriggersValues.has(fn.triggerName)){const Wt=fr.previousTriggersValues.get(fn.triggerName),$s=this.statesByElement.get(fn.element);if($s&&$s.has(fn.triggerName)){const Oa=$s.get(fn.triggerName);Oa.value=Wt,$s.set(fn.triggerName,Oa)}}return void Xt.destroy()}}const Is=!Yt||!this.driver.containsElement(Yt,oi),vr=I.get(oi),pn=kt.get(oi),Gr=this._buildInstruction(fn,A,pn,vr,Is);if(Gr.errors&&Gr.errors.length)return void R.push(Gr);if(Is)return Xt.onStart(()=>Zr(oi,Gr.fromStyles)),Xt.onDestroy(()=>vi(oi,Gr.toStyles)),void j.push(Xt);if(fn.isFallbackTransition)return Xt.onStart(()=>Zr(oi,Gr.fromStyles)),Xt.onDestroy(()=>vi(oi,Gr.toStyles)),void j.push(Xt);const wr=[];Gr.timelines.forEach(fr=>{fr.stretchStartingKeyframe=!0,this.disabledNodes.has(fr.element)||wr.push(fr)}),Gr.timelines=wr,A.append(oi,Gr.timelines),le.push({instruction:Gr,player:Xt,element:oi}),Gr.queriedElements.forEach(fr=>Dn(ge,fr,[]).push(Xt)),Gr.preStyleProps.forEach((fr,Wt)=>{if(fr.size){let $s=be.get(Wt);$s||be.set(Wt,$s=new Set),fr.forEach((Oa,Ia)=>$s.add(Ia))}}),Gr.postStyleProps.forEach((fr,Wt)=>{let $s=nt.get(Wt);$s||nt.set(Wt,$s=new Set),fr.forEach((Oa,Ia)=>$s.add(Ia))})});if(R.length){const ln=[];R.forEach(Sn=>{ln.push(function bn(P,g){return new $.vHH(3505,!1)}())}),w.forEach(Sn=>Sn.destroy()),this.reportError(ln)}const q=new Map,ee=new Map;le.forEach(ln=>{const Sn=ln.element;A.has(Sn)&&(ee.set(Sn,Sn),this._beforeAnimationBuild(ln.player.namespaceId,ln.instruction,q))}),j.forEach(ln=>{const Sn=ln.element;this._getPreviousPlayers(Sn,!1,ln.namespaceId,ln.triggerName,null).forEach(Xt=>{Dn(q,Sn,[]).push(Xt),Xt.destroy()})});const Re=or.filter(ln=>xo(ln,be,nt)),at=new Map;hn(at,this.driver,_,nt,Dt.l3).forEach(ln=>{xo(ln,be,nt)&&Re.push(ln)});const Qt=new Map;We.forEach((ln,Sn)=>{hn(Qt,this.driver,new Set(ln),be,Dt.k1)}),Re.forEach(ln=>{const Sn=at.get(ln),fn=Qt.get(ln);at.set(ln,new Map([...Array.from(Sn?.entries()??[]),...Array.from(fn?.entries()??[])]))});const jn=[],Pi=[],Os={};le.forEach(ln=>{const{element:Sn,player:fn,instruction:Xt}=ln;if(A.has(Sn)){if(Ot.has(Sn))return fn.onDestroy(()=>vi(Sn,Xt.toStyles)),fn.disabled=!0,fn.overrideTotalTime(Xt.totalTime),void j.push(fn);let oi=Os;if(ee.size>1){let vr=Sn;const pn=[];for(;vr=vr.parentNode;){const Gr=ee.get(vr);if(Gr){oi=Gr;break}pn.push(vr)}pn.forEach(Gr=>ee.set(Gr,oi))}const Is=this._buildAnimation(fn.namespaceId,Xt,q,Q,Qt,at);if(fn.setRealPlayer(Is),oi===Os)jn.push(fn);else{const vr=this.playersByElement.get(oi);vr&&vr.length&&(fn.parentPlayer=$r(vr)),j.push(fn)}}else Zr(Sn,Xt.fromStyles),fn.onDestroy(()=>vi(Sn,Xt.toStyles)),Pi.push(fn),Ot.has(Sn)&&j.push(fn)}),Pi.forEach(ln=>{const Sn=Q.get(ln.element);if(Sn&&Sn.length){const fn=$r(Sn);ln.setRealPlayer(fn)}}),j.forEach(ln=>{ln.parentPlayer?ln.syncPlayerEvents(ln.parentPlayer):ln.destroy()});for(let ln=0;ln<or.length;ln++){const Sn=or[ln],fn=Sn[Lr];if(gn(Sn,dn),fn&&fn.hasAnimation)continue;let Xt=[];if(ge.size){let Is=ge.get(Sn);Is&&Is.length&&Xt.push(...Is);let vr=this.driver.query(Sn,rt,!0);for(let pn=0;pn<vr.length;pn++){let Gr=ge.get(vr[pn]);Gr&&Gr.length&&Xt.push(...Gr)}}const oi=Xt.filter(Is=>!Is.destroyed);oi.length?mo(this,Sn,oi):this.processLeaveNode(Sn)}return or.length=0,jn.forEach(ln=>{this.players.push(ln),ln.onDone(()=>{ln.destroy();const Sn=this.players.indexOf(ln);this.players.splice(Sn,1)}),ln.play()}),jn}elementContainsData(g,y){let A=!1;const j=y[Lr];return j&&j.setForRemoval&&(A=!0),this.playersByElement.has(y)&&(A=!0),this.playersByQueriedElement.has(y)&&(A=!0),this.statesByElement.has(y)&&(A=!0),this._fetchNamespace(g).elementContainsData(y)||A}afterFlush(g){this._flushFns.push(g)}afterFlushAnimationsDone(g){this._whenQuietFns.push(g)}_getPreviousPlayers(g,y,A,j,Q){let le=[];if(y){const ge=this.playersByQueriedElement.get(g);ge&&(le=ge)}else{const ge=this.playersByElement.get(g);if(ge){const be=!Q||Q==Wi;ge.forEach(nt=>{nt.queued||!be&&nt.triggerName!=j||le.push(nt)})}}return(A||j)&&(le=le.filter(ge=>!(A&&A!=ge.namespaceId||j&&j!=ge.triggerName))),le}_beforeAnimationBuild(g,y,A){const Q=y.element,le=y.isRemovalTransition?void 0:g,ge=y.isRemovalTransition?void 0:y.triggerName;for(const be of y.timelines){const nt=be.element,Ot=nt!==Q,Yt=Dn(A,nt,[]);this._getPreviousPlayers(nt,Ot,le,ge,y.toState).forEach(We=>{const kt=We.getRealPlayer();kt.beforeDestroy&&kt.beforeDestroy(),We.destroy(),Yt.push(We)})}Zr(Q,y.fromStyles)}_buildAnimation(g,y,A,j,Q,le){const ge=y.triggerName,be=y.element,nt=[],Ot=new Set,Yt=new Set,Ln=y.timelines.map(kt=>{const rn=kt.element;Ot.add(rn);const or=rn[Lr];if(or&&or.removedBeforeQueried)return new Dt.ZN(kt.duration,kt.delay);const Mt=rn!==be,_=function ma(P){const g=[];return hi(P,g),g}((A.get(rn)||bi).map(q=>q.getRealPlayer())).filter(q=>!!q.element&&q.element===rn),I=Q.get(rn),v=le.get(rn),w=Fr(0,this._normalizer,0,kt.keyframes,I,v),R=this._buildPlayer(kt,w,_);if(kt.subTimeline&&j&&Yt.add(rn),Mt){const q=new Bs(g,ge,rn);q.setRealPlayer(R),nt.push(q)}return R});nt.forEach(kt=>{Dn(this.playersByQueriedElement,kt.element,[]).push(kt),kt.onDone(()=>function B(P,g,y){let A=P.get(g);if(A){if(A.length){const j=A.indexOf(y);A.splice(j,1)}0==A.length&&P.delete(g)}return A}(this.playersByQueriedElement,kt.element,kt))}),Ot.forEach(kt=>Ke(kt,Fi));const We=$r(Ln);return We.onDestroy(()=>{Ot.forEach(kt=>gn(kt,Fi)),vi(be,y.toStyles)}),Yt.forEach(kt=>{Dn(j,kt,[]).push(We)}),We}_buildPlayer(g,y,A){return y.length>0?this.driver.animate(g.element,y,g.duration,g.delay,g.easing,A):new Dt.ZN(g.duration,g.delay)}}class Bs{constructor(g,y,A){this.namespaceId=g,this.triggerName=y,this.element=A,this._player=new Dt.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(g){this._containsRealPlayer||(this._player=g,this._queuedCallbacks.forEach((y,A)=>{y.forEach(j=>ui(g,A,void 0,j))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(g.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(g){this.totalTime=g}syncPlayerEvents(g){const y=this._player;y.triggerCallback&&g.onStart(()=>y.triggerCallback("start")),g.onDone(()=>this.finish()),g.onDestroy(()=>this.destroy())}_queueEvent(g,y){Dn(this._queuedCallbacks,g,[]).push(y)}onDone(g){this.queued&&this._queueEvent("done",g),this._player.onDone(g)}onStart(g){this.queued&&this._queueEvent("start",g),this._player.onStart(g)}onDestroy(g){this.queued&&this._queueEvent("destroy",g),this._player.onDestroy(g)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(g){this.queued||this._player.setPosition(g)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(g){const y=this._player;y.triggerCallback&&y.triggerCallback(g)}}function O(P){return P&&1===P.nodeType}function Qe(P,g){const y=P.style.display;return P.style.display=g??"none",y}function hn(P,g,y,A,j){const Q=[];y.forEach(be=>Q.push(Qe(be)));const le=[];A.forEach((be,nt)=>{const Ot=new Map;be.forEach(Yt=>{const Ln=g.computeStyle(nt,Yt,j);Ot.set(Yt,Ln),(!Ln||0==Ln.length)&&(nt[Lr]=Ro,le.push(nt))}),P.set(nt,Ot)});let ge=0;return y.forEach(be=>Qe(be,Q[ge++])),le}function Jr(P,g){const y=new Map;if(P.forEach(ge=>y.set(ge,[])),0==g.length)return y;const A=1,j=new Set(g),Q=new Map;function le(ge){if(!ge)return A;let be=Q.get(ge);if(be)return be;const nt=ge.parentNode;return be=y.has(nt)?nt:j.has(nt)?A:le(nt),Q.set(ge,be),be}return g.forEach(ge=>{const be=le(ge);be!==A&&y.get(be).push(ge)}),y}function Ke(P,g){P.classList?.add(g)}function gn(P,g){P.classList?.remove(g)}function mo(P,g,y){$r(y).onDone(()=>P.processLeaveNode(g))}function hi(P,g){for(let y=0;y<P.length;y++){const A=P[y];A instanceof Dt.ZE?hi(A.players,g):g.push(A)}}function xo(P,g,y){const A=y.get(P);if(!A)return!1;let j=g.get(P);return j?A.forEach(Q=>j.add(Q)):g.set(P,A),y.delete(P),!0}class Qi{constructor(g,y,A){this.bodyNode=g,this._driver=y,this._normalizer=A,this._triggerCache={},this.onRemovalComplete=(j,Q)=>{},this._transitionEngine=new kn(g,y,A),this._timelineEngine=new ps(g,y,A),this._transitionEngine.onRemovalComplete=(j,Q)=>this.onRemovalComplete(j,Q)}registerTrigger(g,y,A,j,Q){const le=g+"-"+j;let ge=this._triggerCache[le];if(!ge){const be=[],nt=[],Ot=Qr(this._driver,Q,be,nt);if(be.length)throw function Br(P,g){return new $.vHH(3404,!1)}();ge=function Ao(P,g,y){return new Gi(P,g,y)}(j,Ot,this._normalizer),this._triggerCache[le]=ge}this._transitionEngine.registerTrigger(y,j,ge)}register(g,y){this._transitionEngine.register(g,y)}destroy(g,y){this._transitionEngine.destroy(g,y)}onInsert(g,y,A,j){this._transitionEngine.insertNode(g,y,A,j)}onRemove(g,y,A,j){this._transitionEngine.removeNode(g,y,j||!1,A)}disableAnimations(g,y){this._transitionEngine.markElementAsDisabled(g,y)}process(g,y,A,j){if("@"==A.charAt(0)){const[Q,le]=Ar(A);this._timelineEngine.command(Q,y,le,j)}else this._transitionEngine.trigger(g,y,A,j)}listen(g,y,A,j,Q){if("@"==A.charAt(0)){const[le,ge]=Ar(A);return this._timelineEngine.listen(le,y,ge,Q)}return this._transitionEngine.listen(g,y,A,j,Q)}flush(g=-1){this._transitionEngine.flush(g)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let no=(()=>{class P{constructor(y,A,j){this._element=y,this._startStyles=A,this._endStyles=j,this._state=0;let Q=P.initialStylesByElement.get(y);Q||P.initialStylesByElement.set(y,Q=new Map),this._initialStyles=Q}start(){this._state<1&&(this._startStyles&&vi(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(vi(this._element,this._initialStyles),this._endStyles&&(vi(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(P.initialStylesByElement.delete(this._element),this._startStyles&&(Zr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Zr(this._element,this._endStyles),this._endStyles=null),vi(this._element,this._initialStyles),this._state=3)}}return P.initialStylesByElement=new WeakMap,P})();function vo(P){let g=null;return P.forEach((y,A)=>{(function rs(P){return"display"===P||"position"===P})(A)&&(g=g||new Map,g.set(A,y))}),g}class ms{constructor(g,y,A,j){this.element=g,this.keyframes=y,this.options=A,this._specialStyles=j,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=A.duration,this._delay=A.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(g=>g()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const g=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,g,this.options),this._finalKeyframe=g.length?g[g.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(g){const y=[];return g.forEach(A=>{y.push(Object.fromEntries(A))}),y}_triggerWebAnimation(g,y,A){return g.animate(this._convertKeyframesToObject(y),A)}onStart(g){this._originalOnStartFns.push(g),this._onStartFns.push(g)}onDone(g){this._originalOnDoneFns.push(g),this._onDoneFns.push(g)}onDestroy(g){this._onDestroyFns.push(g)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(g=>g()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(g=>g()),this._onDestroyFns=[])}setPosition(g){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=g*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const g=new Map;this.hasStarted()&&this._finalKeyframe.forEach((A,j)=>{"offset"!==j&&g.set(j,this._finished?A:_t(this.element,j))}),this.currentSnapshot=g}triggerCallback(g){const y="start"===g?this._onStartFns:this._onDoneFns;y.forEach(A=>A()),y.length=0}}class Qn{validateStyleProperty(g){return!0}validateAnimatableStyleProperty(g){return!0}matchesElement(g,y){return!1}containsElement(g,y){return lt(g,y)}getParentElement(g){return tr(g)}query(g,y,A){return Ge(g,y,A)}computeStyle(g,y,A){return window.getComputedStyle(g)[y]}animate(g,y,A,j,Q,le=[]){const be={duration:A,delay:j,fill:0==j?"both":"forwards"};Q&&(be.easing=Q);const nt=new Map,Ot=le.filter(We=>We instanceof ms);(function Pe(P,g){return 0===P||0===g})(A,j)&&Ot.forEach(We=>{We.currentSnapshot.forEach((kt,rn)=>nt.set(rn,kt))});let Yt=function ur(P){return P.length?P[0]instanceof Map?P:P.map(g=>an(g)):[]}(y).map(We=>hr(We));Yt=function Ae(P,g,y){if(y.size&&g.length){let A=g[0],j=[];if(y.forEach((Q,le)=>{A.has(le)||j.push(le),A.set(le,Q)}),j.length)for(let Q=1;Q<g.length;Q++){let le=g[Q];j.forEach(ge=>le.set(ge,_t(P,ge)))}}return g}(g,Yt,nt);const Ln=function yo(P,g){let y=null,A=null;return Array.isArray(g)&&g.length?(y=vo(g[0]),g.length>1&&(A=vo(g[g.length-1]))):g instanceof Map&&(y=vo(g)),y||A?new no(P,y,A):null}(g,Yt);return new ms(g,Yt,be,Ln)}}let ji=(()=>{class P extends Dt._j{constructor(y,A){super(),this._nextAnimationId=0,this._renderer=y.createRenderer(A.body,{id:"0",encapsulation:$.ifc.None,styles:[],data:{animation:[]}})}build(y){const A=this._nextAnimationId.toString();this._nextAnimationId++;const j=Array.isArray(y)?(0,Dt.vP)(y):y;return js(this._renderer,null,A,"register",[j]),new Rs(A,this._renderer)}}return P.\u0275fac=function(y){return new(y||P)($.LFG($.FYo),$.LFG(Be.K0))},P.\u0275prov=$.Yz7({token:P,factory:P.\u0275fac}),P})();class Rs extends Dt.LC{constructor(g,y){super(),this._id=g,this._renderer=y}create(g,y){return new ys(this._id,g,y||{},this._renderer)}}class ys{constructor(g,y,A,j){this.id=g,this.element=y,this._renderer=j,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",A)}_listen(g,y){return this._renderer.listen(this.element,`@@${this.id}:${g}`,y)}_command(g,...y){return js(this._renderer,this.element,this.id,g,y)}onDone(g){this._listen("done",g)}onStart(g){this._listen("start",g)}onDestroy(g){this._listen("destroy",g)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(g){this._command("setPosition",g)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function js(P,g,y,A,j){return P.setProperty(g,`@@${y}:${A}`,j)}const Po="@.disabled";let ru=(()=>{class P{constructor(y,A,j){this.delegate=y,this.engine=A,this._zone=j,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),A.onRemovalComplete=(Q,le)=>{const ge=le?.parentNode(Q);ge&&le.removeChild(ge,Q)}}createRenderer(y,A){const Q=this.delegate.createRenderer(y,A);if(!(y&&A&&A.data&&A.data.animation)){let Ot=this._rendererCache.get(Q);return Ot||(Ot=new vu("",Q,this.engine,()=>this._rendererCache.delete(Q)),this._rendererCache.set(Q,Ot)),Ot}const le=A.id,ge=A.id+"-"+this._currentId;this._currentId++,this.engine.register(ge,y);const be=Ot=>{Array.isArray(Ot)?Ot.forEach(be):this.engine.registerTrigger(le,ge,y,Ot.name,Ot)};return A.data.animation.forEach(be),new fi(this,ge,Q,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(y,A,j){y>=0&&y<this._microtaskId?this._zone.run(()=>A(j)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(Q=>{const[le,ge]=Q;le(ge)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([A,j]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return P.\u0275fac=function(y){return new(y||P)($.LFG($.FYo),$.LFG(Qi),$.LFG($.R0b))},P.\u0275prov=$.Yz7({token:P,factory:P.\u0275fac}),P})();class vu{constructor(g,y,A,j){this.namespaceId=g,this.delegate=y,this.engine=A,this._onDestroy=j,this.destroyNode=this.delegate.destroyNode?Q=>y.destroyNode(Q):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(g,y){return this.delegate.createElement(g,y)}createComment(g){return this.delegate.createComment(g)}createText(g){return this.delegate.createText(g)}appendChild(g,y){this.delegate.appendChild(g,y),this.engine.onInsert(this.namespaceId,y,g,!1)}insertBefore(g,y,A,j=!0){this.delegate.insertBefore(g,y,A),this.engine.onInsert(this.namespaceId,y,g,j)}removeChild(g,y,A){this.engine.onRemove(this.namespaceId,y,this.delegate,A)}selectRootElement(g,y){return this.delegate.selectRootElement(g,y)}parentNode(g){return this.delegate.parentNode(g)}nextSibling(g){return this.delegate.nextSibling(g)}setAttribute(g,y,A,j){this.delegate.setAttribute(g,y,A,j)}removeAttribute(g,y,A){this.delegate.removeAttribute(g,y,A)}addClass(g,y){this.delegate.addClass(g,y)}removeClass(g,y){this.delegate.removeClass(g,y)}setStyle(g,y,A,j){this.delegate.setStyle(g,y,A,j)}removeStyle(g,y,A){this.delegate.removeStyle(g,y,A)}setProperty(g,y,A){"@"==y.charAt(0)&&y==Po?this.disableAnimations(g,!!A):this.delegate.setProperty(g,y,A)}setValue(g,y){this.delegate.setValue(g,y)}listen(g,y,A){return this.delegate.listen(g,y,A)}disableAnimations(g,y){this.engine.disableAnimations(g,y)}}class fi extends vu{constructor(g,y,A,j,Q){super(y,A,j,Q),this.factory=g,this.namespaceId=y}setProperty(g,y,A){"@"==y.charAt(0)?"."==y.charAt(1)&&y==Po?this.disableAnimations(g,A=void 0===A||!!A):this.engine.process(this.namespaceId,g,y.slice(1),A):this.delegate.setProperty(g,y,A)}listen(g,y,A){if("@"==y.charAt(0)){const j=function Oo(P){switch(P){case"body":return document.body;case"document":return document;case"window":return window;default:return P}}(g);let Q=y.slice(1),le="";return"@"!=Q.charAt(0)&&([Q,le]=function is(P){const g=P.indexOf(".");return[P.substring(0,g),P.slice(g+1)]}(Q)),this.engine.listen(this.namespaceId,j,Q,le,ge=>{this.factory.scheduleListenerCallback(ge._data||-1,A,ge)})}return this.delegate.listen(g,y,A)}}const xs=[{provide:Dt._j,useClass:ji},{provide:Js,useFactory:function zo(){return new Vs}},{provide:Qi,useClass:(()=>{class P extends Qi{constructor(y,A,j,Q){super(y.body,A,j)}ngOnDestroy(){this.flush()}}return P.\u0275fac=function(y){return new(y||P)($.LFG(Be.K0),$.LFG(_e),$.LFG(Js),$.LFG($.z2F))},P.\u0275prov=$.Yz7({token:P,factory:P.\u0275fac}),P})()},{provide:$.FYo,useFactory:function ra(P,g,y){return new ru(P,g,y)},deps:[p.se,Qi,$.R0b]}],ya=[{provide:_e,useFactory:()=>new Qn},{provide:$.QbO,useValue:"BrowserAnimations"},...xs],ia=[{provide:_e,useClass:ve},{provide:$.QbO,useValue:"NoopAnimations"},...xs];let Aa=(()=>{class P{static withConfig(y){return{ngModule:P,providers:y.disableAnimations?ia:ya}}}return P.\u0275fac=function(y){return new(y||P)},P.\u0275mod=$.oAB({type:P}),P.\u0275inj=$.cJS({providers:ya,imports:[p.b2]}),P})();var Go=U(2011),Ii=U(1205),ss=U(3132),Tr=U(3692),Ua=U(9646),oa=U(9751),Ba=U(4351),Lu=U(9300),No=U(4004);class Wo{}class ro{}class vs{constructor(g){this.normalizedNames=new Map,this.lazyUpdate=null,g?this.lazyInit="string"==typeof g?()=>{this.headers=new Map,g.split("\n").forEach(y=>{const A=y.indexOf(":");if(A>0){const j=y.slice(0,A),Q=j.toLowerCase(),le=y.slice(A+1).trim();this.maybeSetNormalizedName(j,Q),this.headers.has(Q)?this.headers.get(Q).push(le):this.headers.set(Q,[le])}})}:()=>{this.headers=new Map,Object.entries(g).forEach(([y,A])=>{let j;if(j="string"==typeof A?[A]:"number"==typeof A?[A.toString()]:A.map(Q=>Q.toString()),j.length>0){const Q=y.toLowerCase();this.headers.set(Q,j),this.maybeSetNormalizedName(y,Q)}})}:this.headers=new Map}has(g){return this.init(),this.headers.has(g.toLowerCase())}get(g){this.init();const y=this.headers.get(g.toLowerCase());return y&&y.length>0?y[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(g){return this.init(),this.headers.get(g.toLowerCase())||null}append(g,y){return this.clone({name:g,value:y,op:"a"})}set(g,y){return this.clone({name:g,value:y,op:"s"})}delete(g,y){return this.clone({name:g,value:y,op:"d"})}maybeSetNormalizedName(g,y){this.normalizedNames.has(y)||this.normalizedNames.set(y,g)}init(){this.lazyInit&&(this.lazyInit instanceof vs?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(g=>this.applyUpdate(g)),this.lazyUpdate=null))}copyFrom(g){g.init(),Array.from(g.headers.keys()).forEach(y=>{this.headers.set(y,g.headers.get(y)),this.normalizedNames.set(y,g.normalizedNames.get(y))})}clone(g){const y=new vs;return y.lazyInit=this.lazyInit&&this.lazyInit instanceof vs?this.lazyInit:this,y.lazyUpdate=(this.lazyUpdate||[]).concat([g]),y}applyUpdate(g){const y=g.name.toLowerCase();switch(g.op){case"a":case"s":let A=g.value;if("string"==typeof A&&(A=[A]),0===A.length)return;this.maybeSetNormalizedName(g.name,y);const j=("a"===g.op?this.headers.get(y):void 0)||[];j.push(...A),this.headers.set(y,j);break;case"d":const Q=g.value;if(Q){let le=this.headers.get(y);if(!le)return;le=le.filter(ge=>-1===Q.indexOf(ge)),0===le.length?(this.headers.delete(y),this.normalizedNames.delete(y)):this.headers.set(y,le)}else this.headers.delete(y),this.normalizedNames.delete(y)}}forEach(g){this.init(),Array.from(this.normalizedNames.keys()).forEach(y=>g(this.normalizedNames.get(y),this.headers.get(y)))}}class M{encodeKey(g){return de(g)}encodeValue(g){return de(g)}decodeKey(g){return decodeURIComponent(g)}decodeValue(g){return decodeURIComponent(g)}}const k=/%(\d[a-f0-9])/gi,Y={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function de(P){return encodeURIComponent(P).replace(k,(g,y)=>Y[y]??g)}function it(P){return`${P}`}class vt{constructor(g={}){if(this.updates=null,this.cloneFrom=null,this.encoder=g.encoder||new M,g.fromString){if(g.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function H(P,g){const y=new Map;return P.length>0&&P.replace(/^\?/,"").split("&").forEach(j=>{const Q=j.indexOf("="),[le,ge]=-1==Q?[g.decodeKey(j),""]:[g.decodeKey(j.slice(0,Q)),g.decodeValue(j.slice(Q+1))],be=y.get(le)||[];be.push(ge),y.set(le,be)}),y}(g.fromString,this.encoder)}else g.fromObject?(this.map=new Map,Object.keys(g.fromObject).forEach(y=>{const A=g.fromObject[y],j=Array.isArray(A)?A.map(it):[it(A)];this.map.set(y,j)})):this.map=null}has(g){return this.init(),this.map.has(g)}get(g){this.init();const y=this.map.get(g);return y?y[0]:null}getAll(g){return this.init(),this.map.get(g)||null}keys(){return this.init(),Array.from(this.map.keys())}append(g,y){return this.clone({param:g,value:y,op:"a"})}appendAll(g){const y=[];return Object.keys(g).forEach(A=>{const j=g[A];Array.isArray(j)?j.forEach(Q=>{y.push({param:A,value:Q,op:"a"})}):y.push({param:A,value:j,op:"a"})}),this.clone(y)}set(g,y){return this.clone({param:g,value:y,op:"s"})}delete(g,y){return this.clone({param:g,value:y,op:"d"})}toString(){return this.init(),this.keys().map(g=>{const y=this.encoder.encodeKey(g);return this.map.get(g).map(A=>y+"="+this.encoder.encodeValue(A)).join("&")}).filter(g=>""!==g).join("&")}clone(g){const y=new vt({encoder:this.encoder});return y.cloneFrom=this.cloneFrom||this,y.updates=(this.updates||[]).concat(g),y}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(g=>this.map.set(g,this.cloneFrom.map.get(g))),this.updates.forEach(g=>{switch(g.op){case"a":case"s":const y=("a"===g.op?this.map.get(g.param):void 0)||[];y.push(it(g.value)),this.map.set(g.param,y);break;case"d":if(void 0===g.value){this.map.delete(g.param);break}{let A=this.map.get(g.param)||[];const j=A.indexOf(it(g.value));-1!==j&&A.splice(j,1),A.length>0?this.map.set(g.param,A):this.map.delete(g.param)}}}),this.cloneFrom=this.updates=null)}}class br{constructor(){this.map=new Map}set(g,y){return this.map.set(g,y),this}get(g){return this.map.has(g)||this.map.set(g,g.defaultValue()),this.map.get(g)}delete(g){return this.map.delete(g),this}has(g){return this.map.has(g)}keys(){return this.map.keys()}}function cr(P){return typeof ArrayBuffer<"u"&&P instanceof ArrayBuffer}function $n(P){return typeof Blob<"u"&&P instanceof Blob}function ri(P){return typeof FormData<"u"&&P instanceof FormData}class ii{constructor(g,y,A,j){let Q;if(this.url=y,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=g.toUpperCase(),function lr(P){switch(P){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||j?(this.body=void 0!==A?A:null,Q=j):Q=A,Q&&(this.reportProgress=!!Q.reportProgress,this.withCredentials=!!Q.withCredentials,Q.responseType&&(this.responseType=Q.responseType),Q.headers&&(this.headers=Q.headers),Q.context&&(this.context=Q.context),Q.params&&(this.params=Q.params)),this.headers||(this.headers=new vs),this.context||(this.context=new br),this.params){const le=this.params.toString();if(0===le.length)this.urlWithParams=y;else{const ge=y.indexOf("?");this.urlWithParams=y+(-1===ge?"?":ge<y.length-1?"&":"")+le}}else this.params=new vt,this.urlWithParams=y}serializeBody(){return null===this.body?null:cr(this.body)||$n(this.body)||ri(this.body)||function nr(P){return typeof URLSearchParams<"u"&&P instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof vt?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ri(this.body)?null:$n(this.body)?this.body.type||null:cr(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof vt?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(g={}){const y=g.method||this.method,A=g.url||this.url,j=g.responseType||this.responseType,Q=void 0!==g.body?g.body:this.body,le=void 0!==g.withCredentials?g.withCredentials:this.withCredentials,ge=void 0!==g.reportProgress?g.reportProgress:this.reportProgress;let be=g.headers||this.headers,nt=g.params||this.params;const Ot=g.context??this.context;return void 0!==g.setHeaders&&(be=Object.keys(g.setHeaders).reduce((Yt,Ln)=>Yt.set(Ln,g.setHeaders[Ln]),be)),g.setParams&&(nt=Object.keys(g.setParams).reduce((Yt,Ln)=>Yt.set(Ln,g.setParams[Ln]),nt)),new ii(y,A,Q,{params:nt,headers:be,context:Ot,reportProgress:ge,responseType:j,withCredentials:le})}}var Sr=(()=>((Sr=Sr||{})[Sr.Sent=0]="Sent",Sr[Sr.UploadProgress=1]="UploadProgress",Sr[Sr.ResponseHeader=2]="ResponseHeader",Sr[Sr.DownloadProgress=3]="DownloadProgress",Sr[Sr.Response=4]="Response",Sr[Sr.User=5]="User",Sr))();class Ki{constructor(g,y=200,A="OK"){this.headers=g.headers||new vs,this.status=void 0!==g.status?g.status:y,this.statusText=g.statusText||A,this.url=g.url||null,this.ok=this.status>=200&&this.status<300}}class _s extends Ki{constructor(g={}){super(g),this.type=Sr.ResponseHeader}clone(g={}){return new _s({headers:g.headers||this.headers,status:void 0!==g.status?g.status:this.status,statusText:g.statusText||this.statusText,url:g.url||this.url||void 0})}}class Xr extends Ki{constructor(g={}){super(g),this.type=Sr.Response,this.body=void 0!==g.body?g.body:null}clone(g={}){return new Xr({body:void 0!==g.body?g.body:this.body,headers:g.headers||this.headers,status:void 0!==g.status?g.status:this.status,statusText:g.statusText||this.statusText,url:g.url||this.url||void 0})}}class Ji extends Ki{constructor(g){super(g,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${g.url||"(unknown url)"}`:`Http failure response for ${g.url||"(unknown url)"}: ${g.status} ${g.statusText}`,this.error=g.error||null}}function qi(P,g){return{body:g,headers:P.headers,context:P.context,observe:P.observe,params:P.params,reportProgress:P.reportProgress,responseType:P.responseType,withCredentials:P.withCredentials}}let Vi=(()=>{class P{constructor(y){this.handler=y}request(y,A,j={}){let Q;if(y instanceof ii)Q=y;else{let be,nt;be=j.headers instanceof vs?j.headers:new vs(j.headers),j.params&&(nt=j.params instanceof vt?j.params:new vt({fromObject:j.params})),Q=new ii(y,A,void 0!==j.body?j.body:null,{headers:be,context:j.context,params:nt,reportProgress:j.reportProgress,responseType:j.responseType||"json",withCredentials:j.withCredentials})}const le=(0,Ua.of)(Q).pipe((0,Ba.b)(be=>this.handler.handle(be)));if(y instanceof ii||"events"===j.observe)return le;const ge=le.pipe((0,Lu.h)(be=>be instanceof Xr));switch(j.observe||"body"){case"body":switch(Q.responseType){case"arraybuffer":return ge.pipe((0,No.U)(be=>{if(null!==be.body&&!(be.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return be.body}));case"blob":return ge.pipe((0,No.U)(be=>{if(null!==be.body&&!(be.body instanceof Blob))throw new Error("Response is not a Blob.");return be.body}));case"text":return ge.pipe((0,No.U)(be=>{if(null!==be.body&&"string"!=typeof be.body)throw new Error("Response is not a string.");return be.body}));default:return ge.pipe((0,No.U)(be=>be.body))}case"response":return ge;default:throw new Error(`Unreachable: unhandled observe type ${j.observe}}`)}}delete(y,A={}){return this.request("DELETE",y,A)}get(y,A={}){return this.request("GET",y,A)}head(y,A={}){return this.request("HEAD",y,A)}jsonp(y,A){return this.request("JSONP",y,{params:(new vt).append(A,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(y,A={}){return this.request("OPTIONS",y,A)}patch(y,A,j={}){return this.request("PATCH",y,qi(j,A))}post(y,A,j={}){return this.request("POST",y,qi(j,A))}put(y,A,j={}){return this.request("PUT",y,qi(j,A))}}return P.\u0275fac=function(y){return new(y||P)($.LFG(Wo))},P.\u0275prov=$.Yz7({token:P,factory:P.\u0275fac}),P})();function va(P,g){return g(P)}function _a(P,g){return(y,A)=>g.intercept(y,{handle:j=>P(j,A)})}const Ea=new $.OlP("HTTP_INTERCEPTORS"),Ps=new $.OlP("HTTP_INTERCEPTOR_FNS");function su(){let P=null;return(g,y)=>(null===P&&(P=((0,$.f3M)(Ea,{optional:!0})??[]).reduceRight(_a,va)),P(g,y))}let Es=(()=>{class P extends Wo{constructor(y,A){super(),this.backend=y,this.injector=A,this.chain=null}handle(y){if(null===this.chain){const A=Array.from(new Set(this.injector.get(Ps)));this.chain=A.reduceRight((j,Q)=>function Vu(P,g,y){return(A,j)=>y.runInContext(()=>g(A,Q=>P(Q,j)))}(j,Q,this.injector),va)}return this.chain(y,A=>this.backend.handle(A))}}return P.\u0275fac=function(y){return new(y||P)($.LFG(ro),$.LFG($.lqb))},P.\u0275prov=$.Yz7({token:P,factory:P.\u0275fac}),P})();const Si=/^\)\]\}',?\n/;let ar=(()=>{class P{constructor(y){this.xhrFactory=y}handle(y){if("JSONP"===y.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new oa.y(A=>{const j=this.xhrFactory.build();if(j.open(y.method,y.urlWithParams),y.withCredentials&&(j.withCredentials=!0),y.headers.forEach((We,kt)=>j.setRequestHeader(We,kt.join(","))),y.headers.has("Accept")||j.setRequestHeader("Accept","application/json, text/plain, */*"),!y.headers.has("Content-Type")){const We=y.detectContentTypeHeader();null!==We&&j.setRequestHeader("Content-Type",We)}if(y.responseType){const We=y.responseType.toLowerCase();j.responseType="json"!==We?We:"text"}const Q=y.serializeBody();let le=null;const ge=()=>{if(null!==le)return le;const We=j.statusText||"OK",kt=new vs(j.getAllResponseHeaders()),rn=function os(P){return"responseURL"in P&&P.responseURL?P.responseURL:/^X-Request-URL:/m.test(P.getAllResponseHeaders())?P.getResponseHeader("X-Request-URL"):null}(j)||y.url;return le=new _s({headers:kt,status:j.status,statusText:We,url:rn}),le},be=()=>{let{headers:We,status:kt,statusText:rn,url:or}=ge(),Mt=null;204!==kt&&(Mt=typeof j.response>"u"?j.responseText:j.response),0===kt&&(kt=Mt?200:0);let _=kt>=200&&kt<300;if("json"===y.responseType&&"string"==typeof Mt){const I=Mt;Mt=Mt.replace(Si,"");try{Mt=""!==Mt?JSON.parse(Mt):null}catch(v){Mt=I,_&&(_=!1,Mt={error:v,text:Mt})}}_?(A.next(new Xr({body:Mt,headers:We,status:kt,statusText:rn,url:or||void 0})),A.complete()):A.error(new Ji({error:Mt,headers:We,status:kt,statusText:rn,url:or||void 0}))},nt=We=>{const{url:kt}=ge(),rn=new Ji({error:We,status:j.status||0,statusText:j.statusText||"Unknown Error",url:kt||void 0});A.error(rn)};let Ot=!1;const Yt=We=>{Ot||(A.next(ge()),Ot=!0);let kt={type:Sr.DownloadProgress,loaded:We.loaded};We.lengthComputable&&(kt.total=We.total),"text"===y.responseType&&j.responseText&&(kt.partialText=j.responseText),A.next(kt)},Ln=We=>{let kt={type:Sr.UploadProgress,loaded:We.loaded};We.lengthComputable&&(kt.total=We.total),A.next(kt)};return j.addEventListener("load",be),j.addEventListener("error",nt),j.addEventListener("timeout",nt),j.addEventListener("abort",nt),y.reportProgress&&(j.addEventListener("progress",Yt),null!==Q&&j.upload&&j.upload.addEventListener("progress",Ln)),j.send(Q),A.next({type:Sr.Sent}),()=>{j.removeEventListener("error",nt),j.removeEventListener("abort",nt),j.removeEventListener("load",be),j.removeEventListener("timeout",nt),y.reportProgress&&(j.removeEventListener("progress",Yt),null!==Q&&j.upload&&j.upload.removeEventListener("progress",Ln)),j.readyState!==j.DONE&&j.abort()}})}}return P.\u0275fac=function(y){return new(y||P)($.LFG(Be.JF))},P.\u0275prov=$.Yz7({token:P,factory:P.\u0275fac}),P})();const ja=new $.OlP("XSRF_ENABLED"),Ra=new $.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),wa=new $.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Mr{}let xa=(()=>{class P{constructor(y,A,j){this.doc=y,this.platform=A,this.cookieName=j,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const y=this.doc.cookie||"";return y!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,Be.Mx)(y,this.cookieName),this.lastCookieString=y),this.lastToken}}return P.\u0275fac=function(y){return new(y||P)($.LFG(Be.K0),$.LFG($.Lbi),$.LFG(Ra))},P.\u0275prov=$.Yz7({token:P,factory:P.\u0275fac}),P})();function Iu(P,g){const y=P.url.toLowerCase();if(!(0,$.f3M)(ja)||"GET"===P.method||"HEAD"===P.method||y.startsWith("http://")||y.startsWith("https://"))return g(P);const A=(0,$.f3M)(Mr).getToken(),j=(0,$.f3M)(wa);return null!=A&&!P.headers.has(j)&&(P=P.clone({headers:P.headers.set(j,A)})),g(P)}var ei=(()=>((ei=ei||{})[ei.Interceptors=0]="Interceptors",ei[ei.LegacyInterceptors=1]="LegacyInterceptors",ei[ei.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",ei[ei.NoXsrfProtection=3]="NoXsrfProtection",ei[ei.JsonpSupport=4]="JsonpSupport",ei[ei.RequestsMadeViaParent=5]="RequestsMadeViaParent",ei))();function si(P,g){return{\u0275kind:P,\u0275providers:g}}function _o(...P){const g=[Vi,ar,Es,{provide:Wo,useExisting:Es},{provide:ro,useExisting:ar},{provide:Ps,useValue:Iu,multi:!0},{provide:ja,useValue:!0},{provide:Mr,useClass:xa}];for(const y of P)g.push(...y.\u0275providers);return(0,$.MR2)(g)}const uu=new $.OlP("LEGACY_INTERCEPTOR_FN");let Pa=(()=>{class P{}return P.\u0275fac=function(y){return new(y||P)},P.\u0275mod=$.oAB({type:P}),P.\u0275inj=$.cJS({providers:[_o(si(ei.LegacyInterceptors,[{provide:uu,useFactory:su},{provide:Ps,useExisting:uu,multi:!0}]))]}),P})();var Bu=U(2018),_l=U(4466),ju=U(8242);let la=(()=>{class P{}return P.\u0275fac=function(y){return new(y||P)},P.\u0275mod=$.oAB({type:P,bootstrap:[Tt]}),P.\u0275inj=$.cJS({imports:[Pa,p.b2,yt,(0,Tr.hX)(()=>(0,Tr.ZF)(gt_firebase)),(0,ss.Cm)(()=>(0,ss.ad)()),Ii.ww,Go.hO.initializeApp(gt_firebase),ss.Um,He.u5,Be.ez,He.UX,ju.e7,Aa,Bu.Rh.forRoot(),_l.m]}),P})();p.q6().bootstrapModule(la).catch(P=>console.error(P))},9751:(Ut,$e,U)=>{U.d($e,{y:()=>Me});var p=U(930),F=U(727),$=U(8822),re=U(9635),Z=U(2416),Ee=U(576),Ce=U(2806);let Me=(()=>{class oe{constructor(fe){fe&&(this._subscribe=fe)}lift(fe){const qe=new oe;return qe.source=this,qe.operator=fe,qe}subscribe(fe,qe,yt){const Le=function se(oe){return oe&&oe instanceof p.Lv||function ae(oe){return oe&&(0,Ee.m)(oe.next)&&(0,Ee.m)(oe.error)&&(0,Ee.m)(oe.complete)}(oe)&&(0,F.Nn)(oe)}(fe)?fe:new p.Hp(fe,qe,yt);return(0,Ce.x)(()=>{const{operator:Be,source:st}=this;Le.add(Be?Be.call(Le,st):st?this._subscribe(Le):this._trySubscribe(Le))}),Le}_trySubscribe(fe){try{return this._subscribe(fe)}catch(qe){fe.error(qe)}}forEach(fe,qe){return new(qe=pe(qe))((yt,Le)=>{const Be=new p.Hp({next:st=>{try{fe(st)}catch(It){Le(It),Be.unsubscribe()}},error:Le,complete:yt});this.subscribe(Be)})}_subscribe(fe){var qe;return null===(qe=this.source)||void 0===qe?void 0:qe.subscribe(fe)}[$.L](){return this}pipe(...fe){return(0,re.U)(fe)(this)}toPromise(fe){return new(fe=pe(fe))((qe,yt)=>{let Le;this.subscribe(Be=>Le=Be,Be=>yt(Be),()=>qe(Le))})}}return oe.create=Fe=>new oe(Fe),oe})();function pe(oe){var Fe;return null!==(Fe=oe??Z.v.Promise)&&void 0!==Fe?Fe:Promise}},7579:(Ut,$e,U)=>{U.d($e,{x:()=>Ce});var p=U(9751),F=U(727);const re=(0,U(3888).d)(pe=>function(){pe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Z=U(8737),Ee=U(2806);let Ce=(()=>{class pe extends p.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(se){const oe=new Me(this,this);return oe.operator=se,oe}_throwIfClosed(){if(this.closed)throw new re}next(se){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const oe of this.currentObservers)oe.next(se)}})}error(se){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=se;const{observers:oe}=this;for(;oe.length;)oe.shift().error(se)}})}complete(){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:se}=this;for(;se.length;)se.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var se;return(null===(se=this.observers)||void 0===se?void 0:se.length)>0}_trySubscribe(se){return this._throwIfClosed(),super._trySubscribe(se)}_subscribe(se){return this._throwIfClosed(),this._checkFinalizedStatuses(se),this._innerSubscribe(se)}_innerSubscribe(se){const{hasError:oe,isStopped:Fe,observers:fe}=this;return oe||Fe?F.Lc:(this.currentObservers=null,fe.push(se),new F.w0(()=>{this.currentObservers=null,(0,Z.P)(fe,se)}))}_checkFinalizedStatuses(se){const{hasError:oe,thrownError:Fe,isStopped:fe}=this;oe?se.error(Fe):fe&&se.complete()}asObservable(){const se=new p.y;return se.source=this,se}}return pe.create=(ae,se)=>new Me(ae,se),pe})();class Me extends Ce{constructor(ae,se){super(),this.destination=ae,this.source=se}next(ae){var se,oe;null===(oe=null===(se=this.destination)||void 0===se?void 0:se.next)||void 0===oe||oe.call(se,ae)}error(ae){var se,oe;null===(oe=null===(se=this.destination)||void 0===se?void 0:se.error)||void 0===oe||oe.call(se,ae)}complete(){var ae,se;null===(se=null===(ae=this.destination)||void 0===ae?void 0:ae.complete)||void 0===se||se.call(ae)}_subscribe(ae){var se,oe;return null!==(oe=null===(se=this.source)||void 0===se?void 0:se.subscribe(ae))&&void 0!==oe?oe:F.Lc}}},930:(Ut,$e,U)=>{U.d($e,{Hp:()=>yt,Lv:()=>oe});var p=U(576),F=U(727),$=U(2416),re=U(7849),Z=U(5032);const Ee=pe("C",void 0,void 0);function pe(Ue,we,ot){return{kind:Ue,value:we,error:ot}}var ae=U(3410),se=U(2806);class oe extends F.w0{constructor(we){super(),this.isStopped=!1,we?(this.destination=we,(0,F.Nn)(we)&&we.add(this)):this.destination=It}static create(we,ot,Tt){return new yt(we,ot,Tt)}next(we){this.isStopped?st(function Me(Ue){return pe("N",Ue,void 0)}(we),this):this._next(we)}error(we){this.isStopped?st(function Ce(Ue){return pe("E",void 0,Ue)}(we),this):(this.isStopped=!0,this._error(we))}complete(){this.isStopped?st(Ee,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(we){this.destination.next(we)}_error(we){try{this.destination.error(we)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Fe=Function.prototype.bind;function fe(Ue,we){return Fe.call(Ue,we)}class qe{constructor(we){this.partialObserver=we}next(we){const{partialObserver:ot}=this;if(ot.next)try{ot.next(we)}catch(Tt){Le(Tt)}}error(we){const{partialObserver:ot}=this;if(ot.error)try{ot.error(we)}catch(Tt){Le(Tt)}else Le(we)}complete(){const{partialObserver:we}=this;if(we.complete)try{we.complete()}catch(ot){Le(ot)}}}class yt extends oe{constructor(we,ot,Tt){let gt;if(super(),(0,p.m)(we)||!we)gt={next:we??void 0,error:ot??void 0,complete:Tt??void 0};else{let He;this&&$.v.useDeprecatedNextContext?(He=Object.create(we),He.unsubscribe=()=>this.unsubscribe(),gt={next:we.next&&fe(we.next,He),error:we.error&&fe(we.error,He),complete:we.complete&&fe(we.complete,He)}):gt=we}this.destination=new qe(gt)}}function Le(Ue){$.v.useDeprecatedSynchronousErrorHandling?(0,se.O)(Ue):(0,re.h)(Ue)}function st(Ue,we){const{onStoppedNotification:ot}=$.v;ot&&ae.z.setTimeout(()=>ot(Ue,we))}const It={closed:!0,next:Z.Z,error:function Be(Ue){throw Ue},complete:Z.Z}},727:(Ut,$e,U)=>{U.d($e,{Lc:()=>Ee,w0:()=>Z,Nn:()=>Ce});var p=U(576);const $=(0,U(3888).d)(pe=>function(se){pe(this),this.message=se?`${se.length} errors occurred during unsubscription:\n${se.map((oe,Fe)=>`${Fe+1}) ${oe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=se});var re=U(8737);class Z{constructor(ae){this.initialTeardown=ae,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ae;if(!this.closed){this.closed=!0;const{_parentage:se}=this;if(se)if(this._parentage=null,Array.isArray(se))for(const fe of se)fe.remove(this);else se.remove(this);const{initialTeardown:oe}=this;if((0,p.m)(oe))try{oe()}catch(fe){ae=fe instanceof $?fe.errors:[fe]}const{_finalizers:Fe}=this;if(Fe){this._finalizers=null;for(const fe of Fe)try{Me(fe)}catch(qe){ae=ae??[],qe instanceof $?ae=[...ae,...qe.errors]:ae.push(qe)}}if(ae)throw new $(ae)}}add(ae){var se;if(ae&&ae!==this)if(this.closed)Me(ae);else{if(ae instanceof Z){if(ae.closed||ae._hasParent(this))return;ae._addParent(this)}(this._finalizers=null!==(se=this._finalizers)&&void 0!==se?se:[]).push(ae)}}_hasParent(ae){const{_parentage:se}=this;return se===ae||Array.isArray(se)&&se.includes(ae)}_addParent(ae){const{_parentage:se}=this;this._parentage=Array.isArray(se)?(se.push(ae),se):se?[se,ae]:ae}_removeParent(ae){const{_parentage:se}=this;se===ae?this._parentage=null:Array.isArray(se)&&(0,re.P)(se,ae)}remove(ae){const{_finalizers:se}=this;se&&(0,re.P)(se,ae),ae instanceof Z&&ae._removeParent(this)}}Z.EMPTY=(()=>{const pe=new Z;return pe.closed=!0,pe})();const Ee=Z.EMPTY;function Ce(pe){return pe instanceof Z||pe&&"closed"in pe&&(0,p.m)(pe.remove)&&(0,p.m)(pe.add)&&(0,p.m)(pe.unsubscribe)}function Me(pe){(0,p.m)(pe)?pe():pe.unsubscribe()}},2416:(Ut,$e,U)=>{U.d($e,{v:()=>p});const p={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(Ut,$e,U)=>{U.d($e,{z:()=>Z});var p=U(8189),$=U(7669),re=U(8996);function Z(...Ee){return function F(){return(0,p.J)(1)}()((0,re.D)(Ee,(0,$.yG)(Ee)))}},9770:(Ut,$e,U)=>{U.d($e,{P:()=>$});var p=U(9751),F=U(8421);function $(re){return new p.y(Z=>{(0,F.Xf)(re()).subscribe(Z)})}},515:(Ut,$e,U)=>{U.d($e,{E:()=>F});const F=new(U(9751).y)(Z=>Z.complete())},4128:(Ut,$e,U)=>{U.d($e,{D:()=>Me});var p=U(9751),F=U(4742),$=U(8421),re=U(7669),Z=U(5403),Ee=U(3268),Ce=U(1810);function Me(...pe){const ae=(0,re.jO)(pe),{args:se,keys:oe}=(0,F.D)(pe),Fe=new p.y(fe=>{const{length:qe}=se;if(!qe)return void fe.complete();const yt=new Array(qe);let Le=qe,Be=qe;for(let st=0;st<qe;st++){let It=!1;(0,$.Xf)(se[st]).subscribe((0,Z.x)(fe,Ue=>{It||(It=!0,Be--),yt[st]=Ue},()=>Le--,void 0,()=>{(!Le||!It)&&(Be||fe.next(oe?(0,Ce.n)(oe,yt):yt),fe.complete())}))}});return ae?Fe.pipe((0,Ee.Z)(ae)):Fe}},8996:(Ut,$e,U)=>{U.d($e,{D:()=>we});var p=U(8421),F=U(5363),$=U(9468),Ee=U(9751),Me=U(2202),pe=U(576),ae=U(9672);function oe(ot,Tt){if(!ot)throw new Error("Iterable cannot be null");return new Ee.y(gt=>{(0,ae.f)(gt,Tt,()=>{const He=ot[Symbol.asyncIterator]();(0,ae.f)(gt,Tt,()=>{He.next().then(Dt=>{Dt.done?gt.complete():gt.next(Dt.value)})},0,!0)})})}var Fe=U(3670),fe=U(8239),qe=U(1144),yt=U(6495),Le=U(2206),Be=U(4532),st=U(3260);function we(ot,Tt){return Tt?function Ue(ot,Tt){if(null!=ot){if((0,Fe.c)(ot))return function re(ot,Tt){return(0,p.Xf)(ot).pipe((0,$.R)(Tt),(0,F.Q)(Tt))}(ot,Tt);if((0,qe.z)(ot))return function Ce(ot,Tt){return new Ee.y(gt=>{let He=0;return Tt.schedule(function(){He===ot.length?gt.complete():(gt.next(ot[He++]),gt.closed||this.schedule())})})}(ot,Tt);if((0,fe.t)(ot))return function Z(ot,Tt){return(0,p.Xf)(ot).pipe((0,$.R)(Tt),(0,F.Q)(Tt))}(ot,Tt);if((0,Le.D)(ot))return oe(ot,Tt);if((0,yt.T)(ot))return function se(ot,Tt){return new Ee.y(gt=>{let He;return(0,ae.f)(gt,Tt,()=>{He=ot[Me.h](),(0,ae.f)(gt,Tt,()=>{let Dt,on;try{({value:Dt,done:on}=He.next())}catch(St){return void gt.error(St)}on?gt.complete():gt.next(Dt)},0,!0)}),()=>(0,pe.m)(He?.return)&&He.return()})}(ot,Tt);if((0,st.L)(ot))return function It(ot,Tt){return oe((0,st.Q)(ot),Tt)}(ot,Tt)}throw(0,Be.z)(ot)}(ot,Tt):(0,p.Xf)(ot)}},8421:(Ut,$e,U)=>{U.d($e,{Xf:()=>Fe});var p=U(655),F=U(1144),$=U(8239),re=U(9751),Z=U(3670),Ee=U(2206),Ce=U(4532),Me=U(6495),pe=U(3260),ae=U(576),se=U(7849),oe=U(8822);function Fe(Ue){if(Ue instanceof re.y)return Ue;if(null!=Ue){if((0,Z.c)(Ue))return function fe(Ue){return new re.y(we=>{const ot=Ue[oe.L]();if((0,ae.m)(ot.subscribe))return ot.subscribe(we);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ue);if((0,F.z)(Ue))return function qe(Ue){return new re.y(we=>{for(let ot=0;ot<Ue.length&&!we.closed;ot++)we.next(Ue[ot]);we.complete()})}(Ue);if((0,$.t)(Ue))return function yt(Ue){return new re.y(we=>{Ue.then(ot=>{we.closed||(we.next(ot),we.complete())},ot=>we.error(ot)).then(null,se.h)})}(Ue);if((0,Ee.D)(Ue))return Be(Ue);if((0,Me.T)(Ue))return function Le(Ue){return new re.y(we=>{for(const ot of Ue)if(we.next(ot),we.closed)return;we.complete()})}(Ue);if((0,pe.L)(Ue))return function st(Ue){return Be((0,pe.Q)(Ue))}(Ue)}throw(0,Ce.z)(Ue)}function Be(Ue){return new re.y(we=>{(function It(Ue,we){var ot,Tt,gt,He;return(0,p.mG)(this,void 0,void 0,function*(){try{for(ot=(0,p.KL)(Ue);!(Tt=yield ot.next()).done;)if(we.next(Tt.value),we.closed)return}catch(Dt){gt={error:Dt}}finally{try{Tt&&!Tt.done&&(He=ot.return)&&(yield He.call(ot))}finally{if(gt)throw gt.error}}we.complete()})})(Ue,we).catch(ot=>we.error(ot))})}},6451:(Ut,$e,U)=>{U.d($e,{T:()=>Ee});var p=U(8189),F=U(8421),$=U(515),re=U(7669),Z=U(8996);function Ee(...Ce){const Me=(0,re.yG)(Ce),pe=(0,re._6)(Ce,1/0),ae=Ce;return ae.length?1===ae.length?(0,F.Xf)(ae[0]):(0,p.J)(pe)((0,Z.D)(ae,Me)):$.E}},9646:(Ut,$e,U)=>{U.d($e,{of:()=>$});var p=U(7669),F=U(8996);function $(...re){const Z=(0,p.yG)(re);return(0,F.D)(re,Z)}},5403:(Ut,$e,U)=>{U.d($e,{x:()=>F});var p=U(930);function F(re,Z,Ee,Ce,Me){return new $(re,Z,Ee,Ce,Me)}class $ extends p.Lv{constructor(Z,Ee,Ce,Me,pe,ae){super(Z),this.onFinalize=pe,this.shouldUnsubscribe=ae,this._next=Ee?function(se){try{Ee(se)}catch(oe){Z.error(oe)}}:super._next,this._error=Me?function(se){try{Me(se)}catch(oe){Z.error(oe)}finally{this.unsubscribe()}}:super._error,this._complete=Ce?function(){try{Ce()}catch(se){Z.error(se)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Z;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ee}=this;super.unsubscribe(),!Ee&&(null===(Z=this.onFinalize)||void 0===Z||Z.call(this))}}}},4351:(Ut,$e,U)=>{U.d($e,{b:()=>$});var p=U(5577),F=U(576);function $(re,Z){return(0,F.m)(Z)?(0,p.z)(re,Z,1):(0,p.z)(re,1)}},6590:(Ut,$e,U)=>{U.d($e,{d:()=>$});var p=U(4482),F=U(5403);function $(re){return(0,p.e)((Z,Ee)=>{let Ce=!1;Z.subscribe((0,F.x)(Ee,Me=>{Ce=!0,Ee.next(Me)},()=>{Ce||Ee.next(re),Ee.complete()}))})}},9300:(Ut,$e,U)=>{U.d($e,{h:()=>$});var p=U(4482),F=U(5403);function $(re,Z){return(0,p.e)((Ee,Ce)=>{let Me=0;Ee.subscribe((0,F.x)(Ce,pe=>re.call(Z,pe,Me++)&&Ce.next(pe)))})}},590:(Ut,$e,U)=>{U.d($e,{P:()=>Ce});var p=U(6805),F=U(9300),$=U(5698),re=U(6590),Z=U(8068),Ee=U(4671);function Ce(Me,pe){const ae=arguments.length>=2;return se=>se.pipe(Me?(0,F.h)((oe,Fe)=>Me(oe,Fe,se)):Ee.y,(0,$.q)(1),ae?(0,re.d)(pe):(0,Z.T)(()=>new p.K))}},4004:(Ut,$e,U)=>{U.d($e,{U:()=>$});var p=U(4482),F=U(5403);function $(re,Z){return(0,p.e)((Ee,Ce)=>{let Me=0;Ee.subscribe((0,F.x)(Ce,pe=>{Ce.next(re.call(Z,pe,Me++))}))})}},8189:(Ut,$e,U)=>{U.d($e,{J:()=>$});var p=U(5577),F=U(4671);function $(re=1/0){return(0,p.z)(F.y,re)}},5577:(Ut,$e,U)=>{U.d($e,{z:()=>Me});var p=U(4004),F=U(8421),$=U(4482),re=U(9672),Z=U(5403),Ce=U(576);function Me(pe,ae,se=1/0){return(0,Ce.m)(ae)?Me((oe,Fe)=>(0,p.U)((fe,qe)=>ae(oe,fe,Fe,qe))((0,F.Xf)(pe(oe,Fe))),se):("number"==typeof ae&&(se=ae),(0,$.e)((oe,Fe)=>function Ee(pe,ae,se,oe,Fe,fe,qe,yt){const Le=[];let Be=0,st=0,It=!1;const Ue=()=>{It&&!Le.length&&!Be&&ae.complete()},we=Tt=>Be<oe?ot(Tt):Le.push(Tt),ot=Tt=>{fe&&ae.next(Tt),Be++;let gt=!1;(0,F.Xf)(se(Tt,st++)).subscribe((0,Z.x)(ae,He=>{Fe?.(He),fe?we(He):ae.next(He)},()=>{gt=!0},void 0,()=>{if(gt)try{for(Be--;Le.length&&Be<oe;){const He=Le.shift();qe?(0,re.f)(ae,qe,()=>ot(He)):ot(He)}Ue()}catch(He){ae.error(He)}}))};return pe.subscribe((0,Z.x)(ae,we,()=>{It=!0,Ue()})),()=>{yt?.()}}(oe,Fe,pe,se)))}},5363:(Ut,$e,U)=>{U.d($e,{Q:()=>re});var p=U(9672),F=U(4482),$=U(5403);function re(Z,Ee=0){return(0,F.e)((Ce,Me)=>{Ce.subscribe((0,$.x)(Me,pe=>(0,p.f)(Me,Z,()=>Me.next(pe),Ee),()=>(0,p.f)(Me,Z,()=>Me.complete(),Ee),pe=>(0,p.f)(Me,Z,()=>Me.error(pe),Ee)))})}},3099:(Ut,$e,U)=>{U.d($e,{B:()=>Z});var p=U(8421),F=U(7579),$=U(930),re=U(4482);function Z(Ce={}){const{connector:Me=(()=>new F.x),resetOnError:pe=!0,resetOnComplete:ae=!0,resetOnRefCountZero:se=!0}=Ce;return oe=>{let Fe,fe,qe,yt=0,Le=!1,Be=!1;const st=()=>{fe?.unsubscribe(),fe=void 0},It=()=>{st(),Fe=qe=void 0,Le=Be=!1},Ue=()=>{const we=Fe;It(),we?.unsubscribe()};return(0,re.e)((we,ot)=>{yt++,!Be&&!Le&&st();const Tt=qe=qe??Me();ot.add(()=>{yt--,0===yt&&!Be&&!Le&&(fe=Ee(Ue,se))}),Tt.subscribe(ot),!Fe&&yt>0&&(Fe=new $.Hp({next:gt=>Tt.next(gt),error:gt=>{Be=!0,st(),fe=Ee(It,pe,gt),Tt.error(gt)},complete:()=>{Le=!0,st(),fe=Ee(It,ae),Tt.complete()}}),(0,p.Xf)(we).subscribe(Fe))})(oe)}}function Ee(Ce,Me,...pe){if(!0===Me)return void Ce();if(!1===Me)return;const ae=new $.Hp({next:()=>{ae.unsubscribe(),Ce()}});return(0,p.Xf)(Me(...pe)).subscribe(ae)}},9468:(Ut,$e,U)=>{U.d($e,{R:()=>F});var p=U(4482);function F($,re=0){return(0,p.e)((Z,Ee)=>{Ee.add($.schedule(()=>Z.subscribe(Ee),re))})}},3900:(Ut,$e,U)=>{U.d($e,{w:()=>re});var p=U(8421),F=U(4482),$=U(5403);function re(Z,Ee){return(0,F.e)((Ce,Me)=>{let pe=null,ae=0,se=!1;const oe=()=>se&&!pe&&Me.complete();Ce.subscribe((0,$.x)(Me,Fe=>{pe?.unsubscribe();let fe=0;const qe=ae++;(0,p.Xf)(Z(Fe,qe)).subscribe(pe=(0,$.x)(Me,yt=>Me.next(Ee?Ee(Fe,yt,qe,fe++):yt),()=>{pe=null,oe()}))},()=>{se=!0,oe()}))})}},5698:(Ut,$e,U)=>{U.d($e,{q:()=>re});var p=U(515),F=U(4482),$=U(5403);function re(Z){return Z<=0?()=>p.E:(0,F.e)((Ee,Ce)=>{let Me=0;Ee.subscribe((0,$.x)(Ce,pe=>{++Me<=Z&&(Ce.next(pe),Z<=Me&&Ce.complete())}))})}},8505:(Ut,$e,U)=>{U.d($e,{b:()=>Z});var p=U(576),F=U(4482),$=U(5403),re=U(4671);function Z(Ee,Ce,Me){const pe=(0,p.m)(Ee)||Ce||Me?{next:Ee,error:Ce,complete:Me}:Ee;return pe?(0,F.e)((ae,se)=>{var oe;null===(oe=pe.subscribe)||void 0===oe||oe.call(pe);let Fe=!0;ae.subscribe((0,$.x)(se,fe=>{var qe;null===(qe=pe.next)||void 0===qe||qe.call(pe,fe),se.next(fe)},()=>{var fe;Fe=!1,null===(fe=pe.complete)||void 0===fe||fe.call(pe),se.complete()},fe=>{var qe;Fe=!1,null===(qe=pe.error)||void 0===qe||qe.call(pe,fe),se.error(fe)},()=>{var fe,qe;Fe&&(null===(fe=pe.unsubscribe)||void 0===fe||fe.call(pe)),null===(qe=pe.finalize)||void 0===qe||qe.call(pe)}))}):re.y}},8068:(Ut,$e,U)=>{U.d($e,{T:()=>re});var p=U(6805),F=U(4482),$=U(5403);function re(Ee=Z){return(0,F.e)((Ce,Me)=>{let pe=!1;Ce.subscribe((0,$.x)(Me,ae=>{pe=!0,Me.next(ae)},()=>pe?Me.complete():Me.error(Ee())))})}function Z(){return new p.K}},4408:(Ut,$e,U)=>{U.d($e,{o:()=>Z});var p=U(727);class F extends p.w0{constructor(Ce,Me){super()}schedule(Ce,Me=0){return this}}const $={setInterval(Ee,Ce,...Me){const{delegate:pe}=$;return pe?.setInterval?pe.setInterval(Ee,Ce,...Me):setInterval(Ee,Ce,...Me)},clearInterval(Ee){const{delegate:Ce}=$;return(Ce?.clearInterval||clearInterval)(Ee)},delegate:void 0};var re=U(8737);class Z extends F{constructor(Ce,Me){super(Ce,Me),this.scheduler=Ce,this.work=Me,this.pending=!1}schedule(Ce,Me=0){var pe;if(this.closed)return this;this.state=Ce;const ae=this.id,se=this.scheduler;return null!=ae&&(this.id=this.recycleAsyncId(se,ae,Me)),this.pending=!0,this.delay=Me,this.id=null!==(pe=this.id)&&void 0!==pe?pe:this.requestAsyncId(se,this.id,Me),this}requestAsyncId(Ce,Me,pe=0){return $.setInterval(Ce.flush.bind(Ce,this),pe)}recycleAsyncId(Ce,Me,pe=0){if(null!=pe&&this.delay===pe&&!1===this.pending)return Me;null!=Me&&$.clearInterval(Me)}execute(Ce,Me){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const pe=this._execute(Ce,Me);if(pe)return pe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ce,Me){let ae,pe=!1;try{this.work(Ce)}catch(se){pe=!0,ae=se||new Error("Scheduled action threw falsy error")}if(pe)return this.unsubscribe(),ae}unsubscribe(){if(!this.closed){const{id:Ce,scheduler:Me}=this,{actions:pe}=Me;this.work=this.state=this.scheduler=null,this.pending=!1,(0,re.P)(pe,this),null!=Ce&&(this.id=this.recycleAsyncId(Me,Ce,null)),this.delay=null,super.unsubscribe()}}}},7565:(Ut,$e,U)=>{U.d($e,{v:()=>$});var p=U(6063);class F{constructor(Z,Ee=F.now){this.schedulerActionCtor=Z,this.now=Ee}schedule(Z,Ee=0,Ce){return new this.schedulerActionCtor(this,Z).schedule(Ce,Ee)}}F.now=p.l.now;class $ extends F{constructor(Z,Ee=F.now){super(Z,Ee),this.actions=[],this._active=!1}flush(Z){const{actions:Ee}=this;if(this._active)return void Ee.push(Z);let Ce;this._active=!0;do{if(Ce=Z.execute(Z.state,Z.delay))break}while(Z=Ee.shift());if(this._active=!1,Ce){for(;Z=Ee.shift();)Z.unsubscribe();throw Ce}}}},4986:(Ut,$e,U)=>{U.d($e,{z:()=>$});var p=U(4408);const $=new(U(7565).v)(p.o)},6063:(Ut,$e,U)=>{U.d($e,{l:()=>p});const p={now:()=>(p.delegate||Date).now(),delegate:void 0}},3410:(Ut,$e,U)=>{U.d($e,{z:()=>p});const p={setTimeout(F,$,...re){const{delegate:Z}=p;return Z?.setTimeout?Z.setTimeout(F,$,...re):setTimeout(F,$,...re)},clearTimeout(F){const{delegate:$}=p;return($?.clearTimeout||clearTimeout)(F)},delegate:void 0}},2202:(Ut,$e,U)=>{U.d($e,{h:()=>F});const F=function p(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Ut,$e,U)=>{U.d($e,{L:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Ut,$e,U)=>{U.d($e,{K:()=>F});const F=(0,U(3888).d)($=>function(){$(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(Ut,$e,U)=>{U.d($e,{_6:()=>Ee,jO:()=>re,yG:()=>Z});var p=U(576);function $(Ce){return Ce[Ce.length-1]}function re(Ce){return(0,p.m)($(Ce))?Ce.pop():void 0}function Z(Ce){return function F(Ce){return Ce&&(0,p.m)(Ce.schedule)}($(Ce))?Ce.pop():void 0}function Ee(Ce,Me){return"number"==typeof $(Ce)?Ce.pop():Me}},4742:(Ut,$e,U)=>{U.d($e,{D:()=>Z});const{isArray:p}=Array,{getPrototypeOf:F,prototype:$,keys:re}=Object;function Z(Ce){if(1===Ce.length){const Me=Ce[0];if(p(Me))return{args:Me,keys:null};if(function Ee(Ce){return Ce&&"object"==typeof Ce&&F(Ce)===$}(Me)){const pe=re(Me);return{args:pe.map(ae=>Me[ae]),keys:pe}}}return{args:Ce,keys:null}}},8737:(Ut,$e,U)=>{function p(F,$){if(F){const re=F.indexOf($);0<=re&&F.splice(re,1)}}U.d($e,{P:()=>p})},3888:(Ut,$e,U)=>{function p(F){const re=F(Z=>{Error.call(Z),Z.stack=(new Error).stack});return re.prototype=Object.create(Error.prototype),re.prototype.constructor=re,re}U.d($e,{d:()=>p})},1810:(Ut,$e,U)=>{function p(F,$){return F.reduce((re,Z,Ee)=>(re[Z]=$[Ee],re),{})}U.d($e,{n:()=>p})},2806:(Ut,$e,U)=>{U.d($e,{O:()=>re,x:()=>$});var p=U(2416);let F=null;function $(Z){if(p.v.useDeprecatedSynchronousErrorHandling){const Ee=!F;if(Ee&&(F={errorThrown:!1,error:null}),Z(),Ee){const{errorThrown:Ce,error:Me}=F;if(F=null,Ce)throw Me}}else Z()}function re(Z){p.v.useDeprecatedSynchronousErrorHandling&&F&&(F.errorThrown=!0,F.error=Z)}},9672:(Ut,$e,U)=>{function p(F,$,re,Z=0,Ee=!1){const Ce=$.schedule(function(){re(),Ee?F.add(this.schedule(null,Z)):this.unsubscribe()},Z);if(F.add(Ce),!Ee)return Ce}U.d($e,{f:()=>p})},4671:(Ut,$e,U)=>{function p(F){return F}U.d($e,{y:()=>p})},1144:(Ut,$e,U)=>{U.d($e,{z:()=>p});const p=F=>F&&"number"==typeof F.length&&"function"!=typeof F},2206:(Ut,$e,U)=>{U.d($e,{D:()=>F});var p=U(576);function F($){return Symbol.asyncIterator&&(0,p.m)($?.[Symbol.asyncIterator])}},576:(Ut,$e,U)=>{function p(F){return"function"==typeof F}U.d($e,{m:()=>p})},3670:(Ut,$e,U)=>{U.d($e,{c:()=>$});var p=U(8822),F=U(576);function $(re){return(0,F.m)(re[p.L])}},6495:(Ut,$e,U)=>{U.d($e,{T:()=>$});var p=U(2202),F=U(576);function $(re){return(0,F.m)(re?.[p.h])}},8239:(Ut,$e,U)=>{U.d($e,{t:()=>F});var p=U(576);function F($){return(0,p.m)($?.then)}},3260:(Ut,$e,U)=>{U.d($e,{L:()=>re,Q:()=>$});var p=U(655),F=U(576);function $(Z){return(0,p.FC)(this,arguments,function*(){const Ce=Z.getReader();try{for(;;){const{value:Me,done:pe}=yield(0,p.qq)(Ce.read());if(pe)return yield(0,p.qq)(void 0);yield yield(0,p.qq)(Me)}}finally{Ce.releaseLock()}})}function re(Z){return(0,F.m)(Z?.getReader)}},4482:(Ut,$e,U)=>{U.d($e,{A:()=>F,e:()=>$});var p=U(576);function F(re){return(0,p.m)(re?.lift)}function $(re){return Z=>{if(F(Z))return Z.lift(function(Ee){try{return re(Ee,this)}catch(Ce){this.error(Ce)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Ut,$e,U)=>{U.d($e,{Z:()=>re});var p=U(4004);const{isArray:F}=Array;function re(Z){return(0,p.U)(Ee=>function $(Z,Ee){return F(Ee)?Z(...Ee):Z(Ee)}(Z,Ee))}},5032:(Ut,$e,U)=>{function p(){}U.d($e,{Z:()=>p})},9635:(Ut,$e,U)=>{U.d($e,{U:()=>$,z:()=>F});var p=U(4671);function F(...re){return $(re)}function $(re){return 0===re.length?p.y:1===re.length?re[0]:function(Ee){return re.reduce((Ce,Me)=>Me(Ce),Ee)}}},7849:(Ut,$e,U)=>{U.d($e,{h:()=>$});var p=U(2416),F=U(3410);function $(re){F.z.setTimeout(()=>{const{onUnhandledError:Z}=p.v;if(!Z)throw re;Z(re)})}},4532:(Ut,$e,U)=>{function p(F){return new TypeError(`You provided ${null!==F&&"object"==typeof F?"an invalid object":`'${F}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}U.d($e,{z:()=>p})},655:(Ut,$e,U)=>{function re(et,Ve){var tt={};for(var ut in et)Object.prototype.hasOwnProperty.call(et,ut)&&Ve.indexOf(ut)<0&&(tt[ut]=et[ut]);if(null!=et&&"function"==typeof Object.getOwnPropertySymbols){var mt=0;for(ut=Object.getOwnPropertySymbols(et);mt<ut.length;mt++)Ve.indexOf(ut[mt])<0&&Object.prototype.propertyIsEnumerable.call(et,ut[mt])&&(tt[ut[mt]]=et[ut[mt]])}return tt}function oe(et,Ve,tt,ut){return new(tt||(tt=Promise))(function(wt,ft){function Ft(ze){try{jt(ut.next(ze))}catch(ct){ft(ct)}}function Kn(ze){try{jt(ut.throw(ze))}catch(ct){ft(ct)}}function jt(ze){ze.done?wt(ze.value):function mt(wt){return wt instanceof tt?wt:new tt(function(ft){ft(wt)})}(ze.value).then(Ft,Kn)}jt((ut=ut.apply(et,Ve||[])).next())})}function Ue(et){return this instanceof Ue?(this.v=et,this):new Ue(et)}function we(et,Ve,tt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var mt,ut=tt.apply(et,Ve||[]),wt=[];return mt={},ft("next"),ft("throw"),ft("return"),mt[Symbol.asyncIterator]=function(){return this},mt;function ft(xe){ut[xe]&&(mt[xe]=function(Ze){return new Promise(function(qt,_n){wt.push([xe,Ze,qt,_n])>1||Ft(xe,Ze)})})}function Ft(xe,Ze){try{!function Kn(xe){xe.value instanceof Ue?Promise.resolve(xe.value.v).then(jt,ze):ct(wt[0][2],xe)}(ut[xe](Ze))}catch(qt){ct(wt[0][3],qt)}}function jt(xe){Ft("next",xe)}function ze(xe){Ft("throw",xe)}function ct(xe,Ze){xe(Ze),wt.shift(),wt.length&&Ft(wt[0][0],wt[0][1])}}function Tt(et){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var tt,Ve=et[Symbol.asyncIterator];return Ve?Ve.call(et):(et=function yt(et){var Ve="function"==typeof Symbol&&Symbol.iterator,tt=Ve&&et[Ve],ut=0;if(tt)return tt.call(et);if(et&&"number"==typeof et.length)return{next:function(){return et&&ut>=et.length&&(et=void 0),{value:et&&et[ut++],done:!et}}};throw new TypeError(Ve?"Object is not iterable.":"Symbol.iterator is not defined.")}(et),tt={},ut("next"),ut("throw"),ut("return"),tt[Symbol.asyncIterator]=function(){return this},tt);function ut(wt){tt[wt]=et[wt]&&function(ft){return new Promise(function(Ft,Kn){!function mt(wt,ft,Ft,Kn){Promise.resolve(Kn).then(function(jt){wt({value:jt,done:Ft})},ft)}(Ft,Kn,(ft=et[wt](ft)).done,ft.value)})}}}U.d($e,{FC:()=>we,KL:()=>Tt,_T:()=>re,mG:()=>oe,qq:()=>Ue})},7340:(Ut,$e,U)=>{U.d($e,{LC:()=>F,SB:()=>pe,X$:()=>re,ZE:()=>st,ZN:()=>Be,_j:()=>p,eR:()=>se,jt:()=>Z,k1:()=>It,l3:()=>$,oB:()=>Me,vP:()=>Ce});class p{}class F{}const $="*";function re(Ue,we){return{type:7,name:Ue,definitions:we,options:{}}}function Z(Ue,we=null){return{type:4,styles:we,timings:Ue}}function Ce(Ue,we=null){return{type:2,steps:Ue,options:we}}function Me(Ue){return{type:6,styles:Ue,offset:null}}function pe(Ue,we,ot){return{type:0,name:Ue,styles:we,options:ot}}function se(Ue,we,ot=null){return{type:1,expr:Ue,animation:we,options:ot}}function Le(Ue){Promise.resolve().then(Ue)}class Be{constructor(we=0,ot=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=we+ot}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(we=>we()),this._onDoneFns=[])}onStart(we){this._originalOnStartFns.push(we),this._onStartFns.push(we)}onDone(we){this._originalOnDoneFns.push(we),this._onDoneFns.push(we)}onDestroy(we){this._onDestroyFns.push(we)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Le(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(we=>we()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(we=>we()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(we){this._position=this.totalTime?we*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(we){const ot="start"==we?this._onStartFns:this._onDoneFns;ot.forEach(Tt=>Tt()),ot.length=0}}class st{constructor(we){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=we;let ot=0,Tt=0,gt=0;const He=this.players.length;0==He?Le(()=>this._onFinish()):this.players.forEach(Dt=>{Dt.onDone(()=>{++ot==He&&this._onFinish()}),Dt.onDestroy(()=>{++Tt==He&&this._onDestroy()}),Dt.onStart(()=>{++gt==He&&this._onStart()})}),this.totalTime=this.players.reduce((Dt,on)=>Math.max(Dt,on.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(we=>we()),this._onDoneFns=[])}init(){this.players.forEach(we=>we.init())}onStart(we){this._onStartFns.push(we)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(we=>we()),this._onStartFns=[])}onDone(we){this._onDoneFns.push(we)}onDestroy(we){this._onDestroyFns.push(we)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(we=>we.play())}pause(){this.players.forEach(we=>we.pause())}restart(){this.players.forEach(we=>we.restart())}finish(){this._onFinish(),this.players.forEach(we=>we.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(we=>we.destroy()),this._onDestroyFns.forEach(we=>we()),this._onDestroyFns=[])}reset(){this.players.forEach(we=>we.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(we){const ot=we*this.totalTime;this.players.forEach(Tt=>{const gt=Tt.totalTime?Math.min(1,ot/Tt.totalTime):1;Tt.setPosition(gt)})}getPosition(){const we=this.players.reduce((ot,Tt)=>null===ot||Tt.totalTime>ot.totalTime?Tt:ot,null);return null!=we?we.getPosition():0}beforeDestroy(){this.players.forEach(we=>{we.beforeDestroy&&we.beforeDestroy()})}triggerCallback(we){const ot="start"==we?this._onStartFns:this._onDoneFns;ot.forEach(Tt=>Tt()),ot.length=0}}const It="!"},6895:(Ut,$e,U)=>{U.d($e,{Do:()=>st,EM:()=>fo,HT:()=>re,JF:()=>Ao,K0:()=>Ee,Mx:()=>Zr,O5:()=>Ae,PM:()=>Ti,S$:()=>yt,V_:()=>pe,Ye:()=>It,b0:()=>Be,bD:()=>ga,ez:()=>Qs,mk:()=>Fn,q:()=>$,rS:()=>Ei,sg:()=>Hi,w_:()=>Z});var p=U(4650);let F=null;function $(){return F}function re(M){F||(F=M)}class Z{}const Ee=new p.OlP("DocumentToken");let Ce=(()=>{class M{historyGo(k){throw new Error("Not implemented")}}return M.\u0275fac=function(k){return new(k||M)},M.\u0275prov=p.Yz7({token:M,factory:function(){return function Me(){return(0,p.LFG)(ae)}()},providedIn:"platform"}),M})();const pe=new p.OlP("Location Initialized");let ae=(()=>{class M extends Ce{constructor(k){super(),this._doc=k,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $().getBaseHref(this._doc)}onPopState(k){const Y=$().getGlobalEventTarget(this._doc,"window");return Y.addEventListener("popstate",k,!1),()=>Y.removeEventListener("popstate",k)}onHashChange(k){const Y=$().getGlobalEventTarget(this._doc,"window");return Y.addEventListener("hashchange",k,!1),()=>Y.removeEventListener("hashchange",k)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(k){this._location.pathname=k}pushState(k,Y,de){se()?this._history.pushState(k,Y,de):this._location.hash=de}replaceState(k,Y,de){se()?this._history.replaceState(k,Y,de):this._location.hash=de}forward(){this._history.forward()}back(){this._history.back()}historyGo(k=0){this._history.go(k)}getState(){return this._history.state}}return M.\u0275fac=function(k){return new(k||M)(p.LFG(Ee))},M.\u0275prov=p.Yz7({token:M,factory:function(){return function oe(){return new ae((0,p.LFG)(Ee))}()},providedIn:"platform"}),M})();function se(){return!!window.history.pushState}function Fe(M,H){if(0==M.length)return H;if(0==H.length)return M;let k=0;return M.endsWith("/")&&k++,H.startsWith("/")&&k++,2==k?M+H.substring(1):1==k?M+H:M+"/"+H}function fe(M){const H=M.match(/#|\?|$/),k=H&&H.index||M.length;return M.slice(0,k-("/"===M[k-1]?1:0))+M.slice(k)}function qe(M){return M&&"?"!==M[0]?"?"+M:M}let yt=(()=>{class M{historyGo(k){throw new Error("Not implemented")}}return M.\u0275fac=function(k){return new(k||M)},M.\u0275prov=p.Yz7({token:M,factory:function(){return(0,p.f3M)(Be)},providedIn:"root"}),M})();const Le=new p.OlP("appBaseHref");let Be=(()=>{class M extends yt{constructor(k,Y){super(),this._platformLocation=k,this._removeListenerFns=[],this._baseHref=Y??this._platformLocation.getBaseHrefFromDOM()??(0,p.f3M)(Ee).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(k){this._removeListenerFns.push(this._platformLocation.onPopState(k),this._platformLocation.onHashChange(k))}getBaseHref(){return this._baseHref}prepareExternalUrl(k){return Fe(this._baseHref,k)}path(k=!1){const Y=this._platformLocation.pathname+qe(this._platformLocation.search),de=this._platformLocation.hash;return de&&k?`${Y}${de}`:Y}pushState(k,Y,de,it){const vt=this.prepareExternalUrl(de+qe(it));this._platformLocation.pushState(k,Y,vt)}replaceState(k,Y,de,it){const vt=this.prepareExternalUrl(de+qe(it));this._platformLocation.replaceState(k,Y,vt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(k=0){this._platformLocation.historyGo?.(k)}}return M.\u0275fac=function(k){return new(k||M)(p.LFG(Ce),p.LFG(Le,8))},M.\u0275prov=p.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})(),st=(()=>{class M extends yt{constructor(k,Y){super(),this._platformLocation=k,this._baseHref="",this._removeListenerFns=[],null!=Y&&(this._baseHref=Y)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(k){this._removeListenerFns.push(this._platformLocation.onPopState(k),this._platformLocation.onHashChange(k))}getBaseHref(){return this._baseHref}path(k=!1){let Y=this._platformLocation.hash;return null==Y&&(Y="#"),Y.length>0?Y.substring(1):Y}prepareExternalUrl(k){const Y=Fe(this._baseHref,k);return Y.length>0?"#"+Y:Y}pushState(k,Y,de,it){let vt=this.prepareExternalUrl(de+qe(it));0==vt.length&&(vt=this._platformLocation.pathname),this._platformLocation.pushState(k,Y,vt)}replaceState(k,Y,de,it){let vt=this.prepareExternalUrl(de+qe(it));0==vt.length&&(vt=this._platformLocation.pathname),this._platformLocation.replaceState(k,Y,vt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(k=0){this._platformLocation.historyGo?.(k)}}return M.\u0275fac=function(k){return new(k||M)(p.LFG(Ce),p.LFG(Le,8))},M.\u0275prov=p.Yz7({token:M,factory:M.\u0275fac}),M})(),It=(()=>{class M{constructor(k){this._subject=new p.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=k;const Y=this._locationStrategy.getBaseHref();this._basePath=function Tt(M){if(new RegExp("^(https?:)?//").test(M)){const[,k]=M.split(/\/\/[^\/]+/);return k}return M}(fe(ot(Y))),this._locationStrategy.onPopState(de=>{this._subject.emit({url:this.path(!0),pop:!0,state:de.state,type:de.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(k=!1){return this.normalize(this._locationStrategy.path(k))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(k,Y=""){return this.path()==this.normalize(k+qe(Y))}normalize(k){return M.stripTrailingSlash(function we(M,H){if(!M||!H.startsWith(M))return H;const k=H.substring(M.length);return""===k||["/",";","?","#"].includes(k[0])?k:H}(this._basePath,ot(k)))}prepareExternalUrl(k){return k&&"/"!==k[0]&&(k="/"+k),this._locationStrategy.prepareExternalUrl(k)}go(k,Y="",de=null){this._locationStrategy.pushState(de,"",k,Y),this._notifyUrlChangeListeners(this.prepareExternalUrl(k+qe(Y)),de)}replaceState(k,Y="",de=null){this._locationStrategy.replaceState(de,"",k,Y),this._notifyUrlChangeListeners(this.prepareExternalUrl(k+qe(Y)),de)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(k=0){this._locationStrategy.historyGo?.(k)}onUrlChange(k){return this._urlChangeListeners.push(k),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Y=>{this._notifyUrlChangeListeners(Y.url,Y.state)})),()=>{const Y=this._urlChangeListeners.indexOf(k);this._urlChangeListeners.splice(Y,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(k="",Y){this._urlChangeListeners.forEach(de=>de(k,Y))}subscribe(k,Y,de){return this._subject.subscribe({next:k,error:Y,complete:de})}}return M.normalizeQueryParams=qe,M.joinWithSlash=Fe,M.stripTrailingSlash=fe,M.\u0275fac=function(k){return new(k||M)(p.LFG(yt))},M.\u0275prov=p.Yz7({token:M,factory:function(){return function Ue(){return new It((0,p.LFG)(yt))}()},providedIn:"root"}),M})();function ot(M){return M.replace(/\/index.html$/,"")}function Zr(M,H){H=encodeURIComponent(H);for(const k of M.split(";")){const Y=k.indexOf("="),[de,it]=-1==Y?[k,""]:[k.slice(0,Y),k.slice(Y+1)];if(de.trim()===H)return decodeURIComponent(it)}return null}const Cr=/\s+/,Gt=[];let Fn=(()=>{class M{constructor(k,Y,de,it){this._iterableDiffers=k,this._keyValueDiffers=Y,this._ngEl=de,this._renderer=it,this.initialClasses=Gt,this.stateMap=new Map}set klass(k){this.initialClasses=null!=k?k.trim().split(Cr):Gt}set ngClass(k){this.rawClass="string"==typeof k?k.trim().split(Cr):k}ngDoCheck(){for(const Y of this.initialClasses)this._updateState(Y,!0);const k=this.rawClass;if(Array.isArray(k)||k instanceof Set)for(const Y of k)this._updateState(Y,!0);else if(null!=k)for(const Y of Object.keys(k))this._updateState(Y,Boolean(k[Y]));this._applyStateDiff()}_updateState(k,Y){const de=this.stateMap.get(k);void 0!==de?(de.enabled!==Y&&(de.changed=!0,de.enabled=Y),de.touched=!0):this.stateMap.set(k,{enabled:Y,changed:!0,touched:!0})}_applyStateDiff(){for(const k of this.stateMap){const Y=k[0],de=k[1];de.changed?(this._toggleClass(Y,de.enabled),de.changed=!1):de.touched||(de.enabled&&this._toggleClass(Y,!1),this.stateMap.delete(Y)),de.touched=!1}}_toggleClass(k,Y){(k=k.trim()).length>0&&k.split(Cr).forEach(de=>{Y?this._renderer.addClass(this._ngEl.nativeElement,de):this._renderer.removeClass(this._ngEl.nativeElement,de)})}}return M.\u0275fac=function(k){return new(k||M)(p.Y36(p.ZZ4),p.Y36(p.aQg),p.Y36(p.SBq),p.Y36(p.Qsj))},M.\u0275dir=p.lG2({type:M,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),M})();class Yr{constructor(H,k,Y,de){this.$implicit=H,this.ngForOf=k,this.index=Y,this.count=de}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Hi=(()=>{class M{set ngForOf(k){this._ngForOf=k,this._ngForOfDirty=!0}set ngForTrackBy(k){this._trackByFn=k}get ngForTrackBy(){return this._trackByFn}constructor(k,Y,de){this._viewContainer=k,this._template=Y,this._differs=de,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(k){k&&(this._template=k)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const k=this._ngForOf;!this._differ&&k&&(this._differ=this._differs.find(k).create(this.ngForTrackBy))}if(this._differ){const k=this._differ.diff(this._ngForOf);k&&this._applyChanges(k)}}_applyChanges(k){const Y=this._viewContainer;k.forEachOperation((de,it,vt)=>{if(null==de.previousIndex)Y.createEmbeddedView(this._template,new Yr(de.item,this._ngForOf,-1,-1),null===vt?void 0:vt);else if(null==vt)Y.remove(null===it?void 0:it);else if(null!==it){const vn=Y.get(it);Y.move(vn,vt),Or(vn,de)}});for(let de=0,it=Y.length;de<it;de++){const vn=Y.get(de).context;vn.index=de,vn.count=it,vn.ngForOf=this._ngForOf}k.forEachIdentityChange(de=>{Or(Y.get(de.currentIndex),de)})}static ngTemplateContextGuard(k,Y){return!0}}return M.\u0275fac=function(k){return new(k||M)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(p.ZZ4))},M.\u0275dir=p.lG2({type:M,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),M})();function Or(M,H){M.context.$implicit=H.item}let Ae=(()=>{class M{constructor(k,Y){this._viewContainer=k,this._context=new Ie,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Y}set ngIf(k){this._context.$implicit=this._context.ngIf=k,this._updateView()}set ngIfThen(k){_t("ngIfThen",k),this._thenTemplateRef=k,this._thenViewRef=null,this._updateView()}set ngIfElse(k){_t("ngIfElse",k),this._elseTemplateRef=k,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(k,Y){return!0}}return M.\u0275fac=function(k){return new(k||M)(p.Y36(p.s_b),p.Y36(p.Rgc))},M.\u0275dir=p.lG2({type:M,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),M})();class Ie{constructor(){this.$implicit=null,this.ngIf=null}}function _t(M,H){if(H&&!H.createEmbeddedView)throw new Error(`${M} must be a TemplateRef, but received '${(0,p.AaK)(H)}'.`)}const jo=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let Ei=(()=>{class M{transform(k){if(null==k)return null;if("string"!=typeof k)throw function ts(M,H){return new p.vHH(2100,!1)}();return k.replace(jo,Y=>Y[0].toUpperCase()+Y.slice(1).toLowerCase())}}return M.\u0275fac=function(k){return new(k||M)},M.\u0275pipe=p.Yjl({name:"titlecase",type:M,pure:!0,standalone:!0}),M})(),Qs=(()=>{class M{}return M.\u0275fac=function(k){return new(k||M)},M.\u0275mod=p.oAB({type:M}),M.\u0275inj=p.cJS({}),M})();const ga="browser",Yi="server";function Ti(M){return M===Yi}let fo=(()=>{class M{}return M.\u0275prov=(0,p.Yz7)({token:M,providedIn:"root",factory:()=>new Fa((0,p.LFG)(Ee),window)}),M})();class Fa{constructor(H,k){this.document=H,this.window=k,this.offset=()=>[0,0]}setOffset(H){this.offset=Array.isArray(H)?()=>H:H}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(H){this.supportsScrolling()&&this.window.scrollTo(H[0],H[1])}scrollToAnchor(H){if(!this.supportsScrolling())return;const k=function po(M,H){const k=M.getElementById(H)||M.getElementsByName(H)[0];if(k)return k;if("function"==typeof M.createTreeWalker&&M.body&&(M.body.createShadowRoot||M.body.attachShadow)){const Y=M.createTreeWalker(M.body,NodeFilter.SHOW_ELEMENT);let de=Y.currentNode;for(;de;){const it=de.shadowRoot;if(it){const vt=it.getElementById(H)||it.querySelector(`[name="${H}"]`);if(vt)return vt}de=Y.nextNode()}}return null}(this.document,H);k&&(this.scrollToElement(k),k.focus())}setHistoryScrollRestoration(H){if(this.supportScrollRestoration()){const k=this.window.history;k&&k.scrollRestoration&&(k.scrollRestoration=H)}}scrollToElement(H){const k=H.getBoundingClientRect(),Y=k.left+this.window.pageXOffset,de=k.top+this.window.pageYOffset,it=this.offset();this.window.scrollTo(Y-it[0],de-it[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const H=Bi(this.window.history)||Bi(Object.getPrototypeOf(this.window.history));return!(!H||!H.writable&&!H.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Bi(M){return Object.getOwnPropertyDescriptor(M,"scrollRestoration")}class Ao{}},4650:(Ut,$e,U)=>{U.d($e,{$8M:()=>ei,$WT:()=>hr,$Z:()=>Rp,AFp:()=>Dw,ALo:()=>nm,AaK:()=>Me,Akn:()=>Xa,AsE:()=>xg,BQk:()=>ku,CHM:()=>mo,CRH:()=>W0,CZH:()=>qv,CqO:()=>Sc,D6c:()=>GI,Dn7:()=>Fv,EJc:()=>aI,EiD:()=>ep,EpF:()=>bc,F4k:()=>ng,FYo:()=>ap,FiY:()=>jn,Gf:()=>Gv,GfV:()=>up,Gpc:()=>se,JOm:()=>ko,JVY:()=>Md,JZr:()=>yt,KtG:()=>ma,L6k:()=>bh,LAX:()=>Em,LFG:()=>Vt,LSH:()=>Pd,Lbi:()=>rI,Lck:()=>M0,MAs:()=>Ry,MGl:()=>rh,MMx:()=>Cv,MR2:()=>Mm,NdJ:()=>rg,OlP:()=>Vr,Oqu:()=>ld,P3R:()=>Am,PXZ:()=>II,Q6J:()=>eh,QGY:()=>Hl,QbO:()=>iI,Qsj:()=>Bm,R0b:()=>sl,RDi:()=>gm,Rgc:()=>ql,SBq:()=>hl,Sil:()=>lI,Suo:()=>G0,TTD:()=>fs,TgZ:()=>th,Tol:()=>vf,Udp:()=>Cg,VKq:()=>F0,W1O:()=>J0,X6Q:()=>SI,XFs:()=>zt,Xpm:()=>qn,Xts:()=>Ph,Y36:()=>Zu,YKP:()=>A0,YNc:()=>My,Yjl:()=>An,Yz7:()=>ze,Z0I:()=>qt,ZZ4:()=>vE,_Bn:()=>wv,_UZ:()=>nh,_Vd:()=>dc,_c5:()=>HI,_uU:()=>Rg,aQg:()=>_E,c2e:()=>sI,cJS:()=>xe,cg1:()=>Co,d8E:()=>Ur,dDg:()=>vI,dqk:()=>mr,eBb:()=>Sh,eFA:()=>Fw,eJc:()=>lm,ekj:()=>Tg,eoX:()=>Pw,f3M:()=>Dr,g9A:()=>Tw,h0i:()=>mh,hGG:()=>zI,hij:()=>wf,iGM:()=>z0,ifc:()=>lt,ip1:()=>Iw,jDz:()=>Lf,kL8:()=>tv,lG2:()=>xn,lcZ:()=>Bf,lnq:()=>Pg,lqb:()=>gu,lri:()=>Rw,mCW:()=>oc,n5z:()=>Mr,oAB:()=>je,oJD:()=>pr,oxw:()=>Py,pB0:()=>wm,q3G:()=>Ws,q4F:()=>lp,qLn:()=>hc,qOj:()=>nf,qZA:()=>ud,qzn:()=>xl,rWj:()=>xw,s9C:()=>ag,sBO:()=>AI,s_b:()=>jf,soG:()=>Zv,tb:()=>Nw,tp0:()=>Os,uIk:()=>Jd,vHH:()=>Le,vpe:()=>yl,wAp:()=>er,xi3:()=>kv,xp6:()=>vp,ynx:()=>fl,z2F:()=>Yv,z3N:()=>dl,zSh:()=>Ol,zs3:()=>mc});var p=U(7579),F=U(727),$=U(9751),re=U(6451),Z=U(3099);function Ee(n){for(let i in n)if(n[i]===Ee)return i;throw Error("Could not find renamed property on target object.")}function Ce(n,i){for(const o in i)i.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=i[o])}function Me(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Me).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function pe(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const ae=Ee({__forward_ref__:Ee});function se(n){return n.__forward_ref__=se,n.toString=function(){return Me(this())},n}function oe(n){return Fe(n)?n():n}function Fe(n){return"function"==typeof n&&n.hasOwnProperty(ae)&&n.__forward_ref__===se}function fe(n){return n&&!!n.\u0275providers}const yt="https://g.co/ng/security#xss";class Le extends Error{constructor(i,o){super(Be(i,o)),this.code=i}}function Be(n,i){return`NG0${Math.abs(n)}${i?": "+i.trim():""}`}function st(n){return"string"==typeof n?n:null==n?"":String(n)}function Tt(n,i){throw new Le(-201,!1)}function wt(n,i){null==n&&function ft(n,i,o,u){throw new Error(`ASSERTION ERROR: ${n}`+(null==u?"":` [Expected=> ${o} ${u} ${i} <=Actual]`))}(i,n,null,"!=")}function ze(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function xe(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ze(n){return _n(n,cn)||_n(n,gi)}function qt(n){return null!==Ze(n)}function _n(n,i){return n.hasOwnProperty(i)?n[i]:null}function Vn(n){return n&&(n.hasOwnProperty(Br)||n.hasOwnProperty(Nn))?n[Br]:null}const cn=Ee({\u0275prov:Ee}),Br=Ee({\u0275inj:Ee}),gi=Ee({ngInjectableDef:Ee}),Nn=Ee({ngInjectorDef:Ee});var zt=(()=>((zt=zt||{})[zt.Default=0]="Default",zt[zt.Host=1]="Host",zt[zt.Self=2]="Self",zt[zt.SkipSelf=4]="SkipSelf",zt[zt.Optional=8]="Optional",zt))();let Rr;function xr(n){const i=Rr;return Rr=n,i}function jr(n,i,o){const u=Ze(n);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&zt.Optional?null:void 0!==i?i:void Tt(Me(n))}const mr=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ki={},mi="__NG_DI_FLAG__",_r="ngTempTokenPath",$r="ngTokenPath",Fr=/\n/gm,ui="\u0275",ir="__source";let Zt;function Dn(n){const i=Zt;return Zt=n,i}function Ar(n,i=zt.Default){if(void 0===Zt)throw new Le(-203,!1);return null===Zt?jr(n,void 0,i):Zt.get(n,i&zt.Optional?null:void 0,i)}function Vt(n,i=zt.Default){return(function Kr(){return Rr}()||Ar)(oe(n),i)}function Dr(n,i=zt.Default){return Vt(n,tr(i))}function tr(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Pt(n){const i=[];for(let o=0;o<n.length;o++){const u=oe(n[o]);if(Array.isArray(u)){if(0===u.length)throw new Le(900,!1);let l,h=zt.Default;for(let E=0;E<u.length;E++){const S=u[E],N=un(S);"number"==typeof N?-1===N?l=S.token:h|=N:l=S}i.push(Vt(l,h))}else i.push(Vt(u))}return i}function qr(n,i){return n[mi]=i,n.prototype[mi]=i,n}function un(n){return n[mi]}function he(n){return{toString:n}.toString()}var De=(()=>((De=De||{})[De.OnPush=0]="OnPush",De[De.Default=1]="Default",De))(),lt=(()=>{return(n=lt||(lt={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",lt;var n})();const Ge={},xt=[],ve=Ee({\u0275cmp:Ee}),_e=Ee({\u0275dir:Ee}),ie=Ee({\u0275pipe:Ee}),Te=Ee({\u0275mod:Ee}),dt=Ee({\u0275fac:Ee}),At=Ee({__NG_ELEMENT_ID__:Ee});let dn=0;function qn(n){return he(()=>{const i=ds(n),o={...i,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===De.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||lt.Emulated,id:"c"+dn++,styles:n.styles||xt,_:null,schemas:n.schemas||null,tView:null};vi(o);const u=n.dependencies;return o.directiveDefs=Zr(u,!1),o.pipeDefs=Zr(u,!0),o})}function Fi(n){return an(n)||ur(n)}function rt(n){return null!==n}function je(n){return he(()=>({type:n.type,bootstrap:n.bootstrap||xt,declarations:n.declarations||xt,imports:n.imports||xt,exports:n.exports||xt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function tn(n,i){if(null==n)return Ge;const o={};for(const u in n)if(n.hasOwnProperty(u)){let l=n[u],h=l;Array.isArray(l)&&(h=l[1],l=l[0]),o[l]=u,i&&(i[l]=h)}return o}function xn(n){return he(()=>{const i=ds(n);return vi(i),i})}function An(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function an(n){return n[ve]||null}function ur(n){return n[_e]||null}function Hn(n){return n[ie]||null}function hr(n){const i=an(n)||ur(n)||Hn(n);return null!==i&&i.standalone}function yi(n,i){const o=n[Te]||null;if(!o&&!0===i)throw new Error(`Type ${Me(n)} does not have '\u0275mod' property.`);return o}function ds(n){const i={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||xt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:tn(n.inputs,i),outputs:tn(n.outputs)}}function vi(n){n.features?.forEach(i=>i(n))}function Zr(n,i){if(!n)return null;const o=i?Hn:Fi;return()=>("function"==typeof n?n():n).map(u=>o(u)).filter(rt)}const Cr=0,Gt=1,Fn=2,dr=3,sr=4,li=5,Yr=6,Hi=7,Or=8,Pe=9,Ae=10,Ie=11,_t=12,Rt=13,Tn=14,Bn=15,Cn=16,Zn=17,ni=18,_i=19,Nr=20,ci=21,Er=22,qs=1,Fs=2,Zs=7,hs=8,lo=9,Qr=10;function Ei(n){return Array.isArray(n)&&"object"==typeof n[qs]}function yr(n){return Array.isArray(n)&&!0===n[qs]}function Hr(n){return 0!=(4&n.flags)}function Ys(n){return n.componentOffset>-1}function co(n){return 1==(1&n.flags)}function Ai(n){return!!n.template}function zi(n){return 0!=(256&n[Fn])}function Vs(n,i){return n.hasOwnProperty(dt)?n[dt]:null}class ta{constructor(i,o,u){this.previousValue=i,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function fs(){return fo}function fo(n){return n.type.prototype.ngOnChanges&&(n.setInput=Bi),Fa}function Fa(){const n=eo(this),i=n?.current;if(i){const o=n.previous;if(o===Ge)n.previous=i;else for(let u in i)o[u]=i[u];n.current=null,this.ngOnChanges(i)}}function Bi(n,i,o,u){const l=this.declaredInputs[o],h=eo(n)||function Ao(n,i){return n[po]=i}(n,{previous:Ge,current:null}),E=h.current||(h.current={}),S=h.previous,N=S[l];E[l]=new ta(N&&N.currentValue,i,S===Ge),n[u]=i}fs.ngInherit=!0;const po="__ngSimpleChanges__";function eo(n){return n[po]||null}const Yn=function(n,i,o){};function zr(n){for(;Array.isArray(n);)n=n[Cr];return n}function Us(n,i){return zr(i[n])}function Li(n,i){return zr(i[n.index])}function gs(n,i){return n.data[i]}function bi(n,i){return n[i]}function di(n,i){const o=i[n];return Ei(o)?o:o[Cr]}function Lr(n){return 64==(64&n[Fn])}function Wi(n,i){return null==i?null:n[i]}function Ms(n){n[ni]=0}function go(n,i){n[li]+=i;let o=n,u=n[dr];for(;null!==u&&(1===i&&1===o[li]||-1===i&&0===o[li]);)u[li]+=i,o=u,u=u[dr]}const kn={lFrame:ia(null),bindingsEnabled:!0};function Qe(){return kn.bindingsEnabled}function Ke(){return kn.lFrame.lView}function gn(){return kn.lFrame.tView}function mo(n){return kn.lFrame.contextLView=n,n[Or]}function ma(n){return kn.lFrame.contextLView=null,n}function hi(){let n=La();for(;null!==n&&64===n.type;)n=n.parent;return n}function La(){return kn.lFrame.currentTNode}function Qi(n,i){const o=kn.lFrame;o.currentTNode=n,o.isParent=i}function yo(){return kn.lFrame.isParent}function no(){kn.lFrame.isParent=!1}function Qn(){const n=kn.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}function ji(){return kn.lFrame.bindingIndex}function ys(){return kn.lFrame.bindingIndex++}function js(n){const i=kn.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,o}function ru(n,i){const o=kn.lFrame;o.bindingIndex=o.bindingRootIndex=n,fi(i)}function fi(n){kn.lFrame.currentDirectiveIndex=n}function Oo(n){const i=kn.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}function is(){return kn.lFrame.currentQueryIndex}function Sa(n){kn.lFrame.currentQueryIndex=n}function zo(n){const i=n[Gt];return 2===i.type?i.declTNode:1===i.type?n[Yr]:null}function ra(n,i,o){if(o&zt.SkipSelf){let l=i,h=n;for(;!(l=l.parent,null!==l||o&zt.Host||(l=zo(h),null===l||(h=h[Bn],10&l.type))););if(null===l)return!1;i=l,n=h}const u=kn.lFrame=ya();return u.currentTNode=i,u.lView=n,!0}function xs(n){const i=ya(),o=n[Gt];kn.lFrame=i,i.currentTNode=o.firstChild,i.lView=n,i.tView=o,i.contextLView=n,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function ya(){const n=kn.lFrame,i=null===n?null:n.child;return null===i?ia(n):i}function ia(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function Aa(){const n=kn.lFrame;return kn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const sa=Aa;function Va(){const n=Aa();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ii(){return kn.lFrame.selectedIndex}function ss(n){kn.lFrame.selectedIndex=n}function Tr(){const n=kn.lFrame;return gs(n.tView,n.selectedIndex)}function ro(n,i){for(let o=i.directiveStart,u=i.directiveEnd;o<u;o++){const h=n.data[o].type.prototype,{ngAfterContentInit:E,ngAfterContentChecked:S,ngAfterViewInit:N,ngAfterViewChecked:G,ngOnDestroy:X}=h;E&&(n.contentHooks??(n.contentHooks=[])).push(-o,E),S&&((n.contentHooks??(n.contentHooks=[])).push(o,S),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(o,S)),N&&(n.viewHooks??(n.viewHooks=[])).push(-o,N),G&&((n.viewHooks??(n.viewHooks=[])).push(o,G),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(o,G)),null!=X&&(n.destroyHooks??(n.destroyHooks=[])).push(o,X)}}function vs(n,i,o){H(n,i,3,o)}function iu(n,i,o,u){(3&n[Fn])===o&&H(n,i,o,u)}function M(n,i){let o=n[Fn];(3&o)===i&&(o&=2047,o+=1,n[Fn]=o)}function H(n,i,o,u){const h=u??-1,E=i.length-1;let S=0;for(let N=void 0!==u?65535&n[ni]:0;N<E;N++)if("number"==typeof i[N+1]){if(S=i[N],null!=u&&S>=u)break}else i[N]<0&&(n[ni]+=65536),(S<h||-1==h)&&(k(n,o,i,N),n[ni]=(4294901760&n[ni])+N+2),N++}function k(n,i,o,u){const l=o[u]<0,h=o[u+1],S=n[l?-o[u]:o[u]];if(l){if(n[Fn]>>11<n[ni]>>16&&(3&n[Fn])===i){n[Fn]+=2048,Yn(4,S,h);try{h.call(S)}finally{Yn(5,S,h)}}}else{Yn(4,S,h);try{h.call(S)}finally{Yn(5,S,h)}}}const Y=-1;class de{constructor(i,o,u){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function nr(n,i,o){let u=0;for(;u<o.length;){const l=o[u];if("number"==typeof l){if(0!==l)break;u++;const h=o[u++],E=o[u++],S=o[u++];n.setAttribute(i,E,S,h)}else{const h=l,E=o[++u];Sr(h)?n.setProperty(i,h,E):n.setAttribute(i,h,E),u++}}return u}function ii(n){return 3===n||4===n||6===n}function Sr(n){return 64===n.charCodeAt(0)}function Ki(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let o=-1;for(let u=0;u<i.length;u++){const l=i[u];"number"==typeof l?o=l:0===o||_s(n,o,l,null,-1===o||2===o?i[++u]:null)}}return n}function _s(n,i,o,u,l){let h=0,E=n.length;if(-1===i)E=-1;else for(;h<n.length;){const S=n[h++];if("number"==typeof S){if(S===i){E=-1;break}if(S>i){E=h-1;break}}}for(;h<n.length;){const S=n[h];if("number"==typeof S)break;if(S===o){if(null===u)return void(null!==l&&(n[h+1]=l));if(u===n[h+1])return void(n[h+2]=l)}h++,null!==u&&h++,null!==l&&h++}-1!==E&&(n.splice(E,0,i),h=E+1),n.splice(h++,0,o),null!==u&&n.splice(h++,0,u),null!==l&&n.splice(h++,0,l)}function Xr(n){return n!==Y}function Ji(n){return 32767&n}function Vi(n,i){let o=function qi(n){return n>>16}(n),u=i;for(;o>0;)u=u[Bn],o--;return u}let va=!0;function _a(n){const i=va;return va=n,i}const Ea=255,Ps=5;let su=0;const Es={};function ou(n,i){const o=_u(n,i);if(-1!==o)return o;const u=i[Gt];u.firstCreatePass&&(n.injectorIndex=i.length,Ko(u.data,n),Ko(i,null),Ko(u.blueprint,null));const l=xi(n,i),h=n.injectorIndex;if(Xr(l)){const E=Ji(l),S=Vi(l,i),N=S[Gt].data;for(let G=0;G<8;G++)i[h+G]=S[E+G]|N[E+G]}return i[h+8]=l,h}function Ko(n,i){n.push(0,0,0,0,0,0,0,0,i)}function _u(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function xi(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,u=null,l=i;for(;null!==l;){if(u=us(l),null===u)return Y;if(o++,l=l[Bn],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return Y}function qo(n,i,o){!function ol(n,i,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(At)&&(u=o[At]),null==u&&(u=o[At]=su++);const l=u&Ea;i.data[n+(l>>Ps)]|=1<<l}(n,i,o)}function Eu(n,i,o){if(o&zt.Optional||void 0!==n)return n;Tt()}function aa(n,i,o,u){if(o&zt.Optional&&void 0===u&&(u=null),!(o&(zt.Self|zt.Host))){const l=n[Pe],h=xr(void 0);try{return l?l.get(i,u,o&zt.Optional):jr(i,u,o&zt.Optional)}finally{xr(h)}}return Eu(u,0,o)}function wu(n,i,o,u=zt.Default,l){if(null!==n){if(1024&i[Fn]){const E=function Iu(n,i,o,u,l){let h=n,E=i;for(;null!==h&&null!==E&&1024&E[Fn]&&!(256&E[Fn]);){const S=au(h,E,o,u|zt.Self,Es);if(S!==Es)return S;let N=h.parent;if(!N){const G=E[ci];if(G){const X=G.get(o,Es,u);if(X!==Es)return X}N=us(E),E=E[Bn]}h=N}return l}(n,i,o,u,Es);if(E!==Es)return E}const h=au(n,i,o,u,Es);if(h!==Es)return h}return aa(i,o,u,l)}function au(n,i,o,u,l){const h=function ja(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(At)?n[At]:void 0;return"number"==typeof i?i>=0?i&Ea:wa:i}(o);if("function"==typeof h){if(!ra(i,n,u))return u&zt.Host?Eu(l,0,u):aa(i,o,u,l);try{const E=h(u);if(null!=E||u&zt.Optional)return E;Tt()}finally{sa()}}else if("number"==typeof h){let E=null,S=_u(n,i),N=Y,G=u&zt.Host?i[Cn][Yr]:null;for((-1===S||u&zt.SkipSelf)&&(N=-1===S?xi(n,i):i[S+8],N!==Y&&Ra(u,!1)?(E=i[Gt],S=Ji(N),i=Vi(N,i)):S=-1);-1!==S;){const X=i[Gt];if(ws(h,S,X.data)){const ce=Si(S,i,o,E,u,G);if(ce!==Es)return ce}N=i[S+8],N!==Y&&Ra(u,i[Gt].data[S+8]===G)&&ws(h,S,i)?(E=X,S=Ji(N),i=Vi(N,i)):S=-1}}return l}function Si(n,i,o,u,l,h){const E=i[Gt],S=E.data[n+8],X=os(S,E,o,null==u?Ys(S)&&va:u!=E&&0!=(3&S.type),l&zt.Host&&h===S);return null!==X?ar(i,E,X,S):Es}function os(n,i,o,u,l){const h=n.providerIndexes,E=i.data,S=1048575&h,N=n.directiveStart,X=h>>20,Ne=l?S+X:n.directiveEnd;for(let Xe=u?S:S+X;Xe<Ne;Xe++){const bt=E[Xe];if(Xe<N&&o===bt||Xe>=N&&bt.type===o)return Xe}if(l){const Xe=E[N];if(Xe&&Ai(Xe)&&Xe.type===o)return N}return null}function ar(n,i,o,u){let l=n[o];const h=i.data;if(function it(n){return n instanceof de}(l)){const E=l;E.resolving&&function Ue(n,i){const o=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new Le(-200,`Circular dependency in DI detected for ${n}${o}`)}(function It(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():st(n)}(h[o]));const S=_a(E.canSeeViewProviders);E.resolving=!0;const N=E.injectImpl?xr(E.injectImpl):null;ra(n,u,zt.Default);try{l=n[o]=E.factory(void 0,h,n,u),i.firstCreatePass&&o>=u.directiveStart&&function Wo(n,i,o){const{ngOnChanges:u,ngOnInit:l,ngDoCheck:h}=i.type.prototype;if(u){const E=fo(i);(o.preOrderHooks??(o.preOrderHooks=[])).push(n,E),(o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(n,E)}l&&(o.preOrderHooks??(o.preOrderHooks=[])).push(0-n,l),h&&((o.preOrderHooks??(o.preOrderHooks=[])).push(n,h),(o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(n,h))}(o,h[o],i)}finally{null!==N&&xr(N),_a(S),E.resolving=!1,sa()}}return l}function ws(n,i,o){return!!(o[i+(n>>Ps)]&1<<n)}function Ra(n,i){return!(n&zt.Self||n&zt.Host&&i)}class as{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,u){return wu(this._tNode,this._lView,i,tr(u),o)}}function wa(){return new as(hi(),Ke())}function Mr(n){return he(()=>{const i=n.prototype.constructor,o=i[dt]||xa(i),u=Object.prototype;let l=Object.getPrototypeOf(n.prototype).constructor;for(;l&&l!==u;){const h=l[dt]||xa(l);if(h&&h!==o)return h;l=Object.getPrototypeOf(l)}return h=>new h})}function xa(n){return Fe(n)?()=>{const i=xa(oe(n));return i&&i()}:Vs(n)}function us(n){const i=n[Gt],o=i.type;return 2===o?i.declTNode:1===o?n[Yr]:null}function ei(n){return function Zo(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const o=n.attrs;if(o){const u=o.length;let l=0;for(;l<u;){const h=o[l];if(ii(h))break;if(0===h)l+=2;else if("number"==typeof h)for(l++;l<u&&"string"==typeof o[l];)l++;else{if(h===i)return o[l+1];l+=2}}}return null}(hi(),n)}const _o="__parameters__";function pi(n,i,o){return he(()=>{const u=function io(n){return function(...o){if(n){const u=n(...o);for(const l in u)this[l]=u[l]}}}(i);function l(...h){if(this instanceof l)return u.apply(this,h),this;const E=new l(...h);return S.annotation=E,S;function S(N,G,X){const ce=N.hasOwnProperty(_o)?N[_o]:Object.defineProperty(N,_o,{value:[]})[_o];for(;ce.length<=X;)ce.push(null);return(ce[X]=ce[X]||[]).push(E),N}}return o&&(l.prototype=Object.create(o.prototype)),l.prototype.ngMetadataName=n,l.annotationCls=l,l})}class Vr{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=ze({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ge(n,i){n.forEach(o=>Array.isArray(o)?ge(o,i):i(o))}function be(n,i,o){i>=n.length?n.push(o):n.splice(i,0,o)}function nt(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function rn(n,i,o){let u=Mt(n,i);return u>=0?n[1|u]=o:(u=~u,function We(n,i,o,u){let l=n.length;if(l==i)n.push(o,u);else if(1===l)n.push(u,n[0]),n[0]=o;else{for(l--,n.push(n[l-1],n[l]);l>i;)n[l]=n[l-2],l--;n[i]=o,n[i+1]=u}}(n,u,i,o)),u}function or(n,i){const o=Mt(n,i);if(o>=0)return n[1|o]}function Mt(n,i){return function I(n,i,o){let u=0,l=n.length>>o;for(;l!==u;){const h=u+(l-u>>1),E=n[h<<o];if(i===E)return h<<o;E>i?l=h:u=h+1}return~(l<<o)}(n,i,1)}const jn=qr(pi("Optional"),8),Os=qr(pi("SkipSelf"),4);var ko=(()=>((ko=ko||{})[ko.Important=1]="Important",ko[ko.DashCase=2]="DashCase",ko))();const Dl=new Map;let Ga=0;const Se="__ngContext__";function ke(n,i){Ei(i)?(n[Se]=i[Nr],function Cl(n){Dl.set(n[Nr],n)}(i)):n[Se]=i}let Fo;function da(n,i){return Fo(n,i)}function Ds(n){const i=n[dr];return yr(i)?i[dr]:i}function ul(n){return bl(n[Rt])}function Di(n){return bl(n[sr])}function bl(n){for(;null!==n&&!yr(n);)n=n[sr];return n}function ls(n,i,o,u,l){if(null!=u){let h,E=!1;yr(u)?h=u:Ei(u)&&(E=!0,u=u[Cr]);const S=zr(u);0===n&&null!==o?null==l?Zi(i,o,S):Gn(i,o,S,l||null,!0):1===n&&null!==o?Gn(i,o,S,l||null,!0):2===n?function Gf(n,i,o){const u=Ka(n,i);u&&function Wa(n,i,o,u){n.removeChild(i,o,u)}(n,u,i,o)}(i,S,E):3===n&&i.destroyNode(S),null!=h&&function pm(n,i,o,u,l){const h=o[Zs];h!==zr(o)&&ls(i,n,u,h,l);for(let S=Qr;S<o.length;S++){const N=o[S];$c(N[Gt],N,n,i,u,h)}}(i,n,h,o,l)}}function Lo(n,i,o){return n.createElement(i,o)}function T(n,i){const o=n[lo],u=o.indexOf(i),l=i[dr];512&i[Fn]&&(i[Fn]&=-513,go(l,-1)),o.splice(u,1)}function K(n,i){if(n.length<=Qr)return;const o=Qr+i,u=n[o];if(u){const l=u[Zn];null!==l&&l!==n&&T(l,u),i>0&&(n[o-1][sr]=u[sr]);const h=nt(n,Qr+i);!function Td(n,i){$c(n,i,i[Ie],2,null,null),i[Cr]=null,i[Yr]=null}(u[Gt],u);const E=h[_i];null!==E&&E.detachView(h[Gt]),u[dr]=null,u[sr]=null,u[Fn]&=-65}return u}function ne(n,i){if(!(128&i[Fn])){const o=i[Ie];o.destroyNode&&$c(n,i,o,3,null,null),function D(n){let i=n[Rt];if(!i)return Oe(n[Gt],n);for(;i;){let o=null;if(Ei(i))o=i[Rt];else{const u=i[Qr];u&&(o=u)}if(!o){for(;i&&!i[sr]&&i!==n;)Ei(i)&&Oe(i[Gt],i),i=i[dr];null===i&&(i=n),Ei(i)&&Oe(i[Gt],i),o=i&&i[sr]}i=o}}(i)}}function Oe(n,i){if(!(128&i[Fn])){i[Fn]&=-65,i[Fn]|=128,function Lt(n,i){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let u=0;u<o.length;u+=2){const l=i[o[u]];if(!(l instanceof de)){const h=o[u+1];if(Array.isArray(h))for(let E=0;E<h.length;E+=2){const S=l[h[E]],N=h[E+1];Yn(4,S,N);try{N.call(S)}finally{Yn(5,S,N)}}else{Yn(4,l,h);try{h.call(l)}finally{Yn(5,l,h)}}}}}(n,i),function ht(n,i){const o=n.cleanup,u=i[Hi];let l=-1;if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const E=o[h+3];E>=0?u[l=E]():u[l=-E].unsubscribe(),h+=2}else{const E=u[l=o[h+1]];o[h].call(E)}if(null!==u){for(let h=l+1;h<u.length;h++)(0,u[h])();i[Hi]=null}}(n,i),1===i[Gt].type&&i[Ie].destroy();const o=i[Zn];if(null!==o&&yr(i[dr])){o!==i[dr]&&T(o,i);const u=i[_i];null!==u&&u.detachView(n)}!function Xl(n){Dl.delete(n[Nr])}(i)}}function en(n,i,o){return function Rn(n,i,o){let u=i;for(;null!==u&&40&u.type;)u=(i=u).parent;if(null===u)return o[Cr];{const{componentOffset:l}=u;if(l>-1){const{encapsulation:h}=n.data[u.directiveStart+l];if(h===lt.None||h===lt.Emulated)return null}return Li(u,o)}}(n,i.parent,o)}function Gn(n,i,o,u,l){n.insertBefore(i,o,u,l)}function Zi(n,i,o){n.appendChild(i,o)}function Ca(n,i,o,u,l){null!==u?Gn(n,i,o,u,l):Zi(n,i,o)}function Ka(n,i){return n.parentNode(i)}let zu,cl,Sd,Ad,tc=function fu(n,i,o){return 40&n.type?Li(n,o):null};function Ml(n,i,o,u){const l=en(n,u,i),h=i[Ie],S=function Al(n,i,o){return tc(n,i,o)}(u.parent||i[Yr],u,i);if(null!=l)if(Array.isArray(o))for(let N=0;N<o.length;N++)Ca(h,l,o[N],S,!1);else Ca(h,l,o,S,!1);void 0!==zu&&zu(h,u,i,o,l)}function ll(n,i){if(null!==i){const o=i.type;if(3&o)return Li(i,n);if(4&o)return jc(-1,n[i.index]);if(8&o){const u=i.child;if(null!==u)return ll(n,u);{const l=n[i.index];return yr(l)?jc(-1,l):zr(l)}}if(32&o)return da(i,n)()||zr(n[i.index]);{const u=Gu(n,i);return null!==u?Array.isArray(u)?u[0]:ll(Ds(n[Cn]),u):ll(n,i.next)}}return null}function Gu(n,i){return null!==i?n[Cn][Yr].projection[i.projection]:null}function jc(n,i){const o=Qr+n+1;if(o<i.length){const u=i[o],l=u[Gt].firstChild;if(null!==l)return ll(u,l)}return i[Zs]}function Wf(n,i,o,u,l,h,E){for(;null!=o;){const S=u[o.index],N=o.type;if(E&&0===i&&(S&&ke(zr(S),u),o.flags|=2),32!=(32&o.flags))if(8&N)Wf(n,i,o.child,u,l,h,!1),ls(i,n,l,S,h);else if(32&N){const G=da(o,u);let X;for(;X=G();)ls(i,n,l,X,h);ls(i,n,l,S,h)}else 16&N?Vo(n,i,u,o,l,h):ls(i,n,l,S,h);o=E?o.projectionNext:o.next}}function $c(n,i,o,u,l,h){Wf(o,u,n.firstChild,i,l,h,!1)}function Vo(n,i,o,u,l,h){const E=o[Cn],N=E[Yr].projection[u.projection];if(Array.isArray(N))for(let G=0;G<N.length;G++)ls(i,n,l,N[G],h);else Wf(n,i,N,E[dr],l,h,!0)}function Kf(n,i,o){""===o?n.removeAttribute(i,"class"):n.setAttribute(i,"class",o)}function qf(n,i,o){const{mergedAttrs:u,classes:l,styles:h}=o;null!==u&&nr(n,i,u),null!==l&&Kf(n,i,l),null!==h&&function Rl(n,i,o){n.setAttribute(i,"style",o)}(n,i,h)}function rc(n){return function Zf(){if(void 0===cl&&(cl=null,mr.trustedTypes))try{cl=mr.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return cl}()?.createHTML(n)||n}function gm(n){Sd=n}function Th(){if(void 0===Ad&&(Ad=null,mr.trustedTypes))try{Ad=mr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Ad}function Qf(n){return Th()?.createHTML(n)||n}function ym(n){return Th()?.createScriptURL(n)||n}class ic{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${yt})`}}class vm extends ic{getTypeName(){return"HTML"}}class e_ extends ic{getTypeName(){return"Style"}}class _m extends ic{getTypeName(){return"Script"}}class t_ extends ic{getTypeName(){return"URL"}}class n_ extends ic{getTypeName(){return"ResourceURL"}}function dl(n){return n instanceof ic?n.changingThisBreaksApplicationSecurity:n}function xl(n,i){const o=function sc(n){return n instanceof ic&&n.getTypeName()||null}(n);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see ${yt})`)}return o===i}function Md(n){return new vm(n)}function bh(n){return new e_(n)}function Sh(n){return new _m(n)}function Em(n){return new t_(n)}function wm(n){return new n_(n)}class Im{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const o=(new window.DOMParser).parseFromString(rc(i),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(i):(o.removeChild(o.firstChild),o)}catch{return null}}}class Hc{constructor(i){this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(i){const o=this.inertDocument.createElement("template");return o.innerHTML=rc(i),o}}const Jf=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function oc(n){return(n=String(n)).match(Jf)?n:"unsafe:"+n}function Mu(n){const i={};for(const o of n.split(","))i[o]=!0;return i}function Ru(...n){const i={};for(const o of n)for(const u in o)o.hasOwnProperty(u)&&(i[u]=!0);return i}const ha=Mu("area,br,col,hr,img,wbr"),Ah=Mu("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Rd=Mu("rp,rt"),ac=Ru(ha,Ru(Ah,Mu("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ru(Rd,Mu("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ru(Rd,Ah)),Rh=Mu("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ku=Ru(Rh,Mu("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Mu("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),s_=Mu("script,style,template");class Na{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let o=i.firstChild,u=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?u=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,u&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let l=this.checkClobberedElement(o,o.nextSibling);if(l){o=l;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(i){const o=i.nodeName.toLowerCase();if(!ac.hasOwnProperty(o))return this.sanitizedSomething=!0,!s_.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const u=i.attributes;for(let l=0;l<u.length;l++){const h=u.item(l),E=h.name,S=E.toLowerCase();if(!Ku.hasOwnProperty(S)){this.sanitizedSomething=!0;continue}let N=h.value;Rh[S]&&(N=oc(N)),this.buf.push(" ",E,'="',Xf(N),'"')}return this.buf.push(">"),!0}endElement(i){const o=i.nodeName.toLowerCase();ac.hasOwnProperty(o)&&!ha.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(i){this.buf.push(Xf(i))}checkClobberedElement(i,o){if(o&&(i.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return o}}const Tm=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,xd=/([^\#-~ |!])/g;function Xf(n){return n.replace(/&/g,"&amp;").replace(Tm,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(xd,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let qa;function ep(n,i){let o=null;try{qa=qa||function Wu(n){const i=new Hc(n);return function Dm(){try{return!!(new window.DOMParser).parseFromString(rc(""),"text/html")}catch{return!1}}()?new Im(i):i}(n);let u=i?String(i):"";o=qa.getInertBodyElement(u);let l=5,h=u;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,u=h,h=o.innerHTML,o=qa.getInertBodyElement(u)}while(u!==h);return rc((new Na).sanitizeChildren(uc(o)||o))}finally{if(o){const u=uc(o)||o;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function uc(n){return"content"in n&&function o_(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Ws=(()=>((Ws=Ws||{})[Ws.NONE=0]="NONE",Ws[Ws.HTML=1]="HTML",Ws[Ws.STYLE=2]="STYLE",Ws[Ws.SCRIPT=3]="SCRIPT",Ws[Ws.URL=4]="URL",Ws[Ws.RESOURCE_URL=5]="RESOURCE_URL",Ws))();function pr(n){const i=xu();return i?Qf(i.sanitize(Ws.HTML,n)||""):xl(n,"HTML")?Qf(dl(n)):ep(function Ch(){return void 0!==Sd?Sd:typeof document<"u"?document:void 0}(),st(n))}function Pd(n){const i=xu();return i?i.sanitize(Ws.URL,n)||"":xl(n,"URL")?dl(n):oc(st(n))}function tp(n){const i=xu();if(i)return ym(i.sanitize(Ws.RESOURCE_URL,n)||"");if(xl(n,"ResourceURL"))return ym(dl(n));throw new Le(904,!1)}function Am(n,i,o){return function u_(n,i){return"src"===i&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===i&&("base"===n||"link"===n)?tp:Pd}(i,o)(n)}function xu(){const n=Ke();return n&&n[_t]}const Ph=new Vr("ENVIRONMENT_INITIALIZER"),Pl=new Vr("INJECTOR",-1),np=new Vr("INJECTOR_DEF_TYPES");class lc{get(i,o=ki){if(o===ki){const u=new Error(`NullInjectorError: No provider for ${Me(i)}!`);throw u.name="NullInjectorError",u}return o}}function Mm(n){return{\u0275providers:n}}function Rm(...n){return{\u0275providers:zc(0,n),\u0275fromNgModule:!0}}function zc(n,...i){const o=[],u=new Set;let l;return ge(i,h=>{const E=h;rp(E,o,[],u)&&(l||(l=[]),l.push(E))}),void 0!==l&&xm(l,o),o}function xm(n,i){for(let o=0;o<n.length;o++){const{providers:l}=n[o];Gc(l,h=>{i.push(h)})}}function rp(n,i,o,u){if(!(n=oe(n)))return!1;let l=null,h=Vn(n);const E=!h&&an(n);if(h||E){if(E&&!E.standalone)return!1;l=n}else{const N=n.ngModule;if(h=Vn(N),!h)return!1;l=N}const S=u.has(l);if(E){if(S)return!1;if(u.add(l),E.dependencies){const N="function"==typeof E.dependencies?E.dependencies():E.dependencies;for(const G of N)rp(G,i,o,u)}}else{if(!h)return!1;{if(null!=h.imports&&!S){let G;u.add(l);try{ge(h.imports,X=>{rp(X,i,o,u)&&(G||(G=[]),G.push(X))})}finally{}void 0!==G&&xm(G,i)}if(!S){const G=Vs(l)||(()=>new l);i.push({provide:l,useFactory:G,deps:xt},{provide:np,useValue:l,multi:!0},{provide:Ph,useValue:()=>Vt(l),multi:!0})}const N=h.providers;null==N||S||Gc(N,X=>{i.push(X)})}}return l!==n&&void 0!==n.providers}function Gc(n,i){for(let o of n)fe(o)&&(o=o.\u0275providers),Array.isArray(o)?Gc(o,i):i(o)}const Oh=Ee({provide:String,useValue:Ee});function Nh(n){return null!==n&&"object"==typeof n&&Oh in n}function cc(n){return"function"==typeof n}const Ol=new Vr("Set Injector scope."),pu={},Nm={};let kh;function Nd(){return void 0===kh&&(kh=new lc),kh}class gu{}class Fh extends gu{get destroyed(){return this._destroyed}constructor(i,o,u,l){super(),this.parent=o,this.source=u,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Lh(i,E=>this.processProvider(E)),this.records.set(Pl,Kc(void 0,this)),l.has("environment")&&this.records.set(gu,Kc(void 0,this));const h=this.records.get(Ol);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(np.multi,xt,zt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const o=Dn(this),u=xr(void 0);try{return i()}finally{Dn(o),xr(u)}}get(i,o=ki,u=zt.Default){this.assertNotDestroyed(),u=tr(u);const l=Dn(this),h=xr(void 0);try{if(!(u&zt.SkipSelf)){let S=this.records.get(i);if(void 0===S){const N=function Fm(n){return"function"==typeof n||"object"==typeof n&&n instanceof Vr}(i)&&Ze(i);S=N&&this.injectableDefInScope(N)?Kc(kd(i),pu):null,this.records.set(i,S)}if(null!=S)return this.hydrate(i,S)}return(u&zt.Self?Nd():this.parent).get(i,o=u&zt.Optional&&o===ki?null:o)}catch(E){if("NullInjectorError"===E.name){if((E[_r]=E[_r]||[]).unshift(Me(i)),l)throw E;return function Pr(n,i,o,u){const l=n[_r];throw i[ir]&&l.unshift(i[ir]),n.message=function ye(n,i,o,u=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==ui?n.slice(2):n;let l=Me(i);if(Array.isArray(i))l=i.map(Me).join(" -> ");else if("object"==typeof i){let h=[];for(let E in i)if(i.hasOwnProperty(E)){let S=i[E];h.push(E+":"+("string"==typeof S?JSON.stringify(S):Me(S)))}l=`{${h.join(", ")}}`}return`${o}${u?"("+u+")":""}[${l}]: ${n.replace(Fr,"\n  ")}`}("\n"+n.message,l,o,u),n[$r]=l,n[_r]=null,n}(E,i,"R3InjectorError",this.source)}throw E}finally{xr(h),Dn(l)}}resolveInjectorInitializers(){const i=Dn(this),o=xr(void 0);try{const u=this.get(Ph.multi,xt,zt.Self);for(const l of u)l()}finally{Dn(i),xr(o)}}toString(){const i=[],o=this.records;for(const u of o.keys())i.push(Me(u));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Le(205,!1)}processProvider(i){let o=cc(i=oe(i))?i:oe(i&&i.provide);const u=function sp(n){return Nh(n)?Kc(void 0,n.useValue):Kc(km(n),pu)}(i);if(cc(i)||!0!==i.multi)this.records.get(o);else{let l=this.records.get(o);l||(l=Kc(void 0,pu,!0),l.factory=()=>Pt(l.multi),this.records.set(o,l)),o=i,l.multi.push(i)}this.records.set(o,u)}hydrate(i,o){return o.value===pu&&(o.value=Nm,o.value=o.factory()),"object"==typeof o.value&&o.value&&function ti(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(i){if(!i.providedIn)return!1;const o=oe(i.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function kd(n){const i=Ze(n),o=null!==i?i.factory:Vs(n);if(null!==o)return o;if(n instanceof Vr)throw new Le(204,!1);if(n instanceof Function)return function ip(n){const i=n.length;if(i>0)throw function Ot(n,i){const o=[];for(let u=0;u<n;u++)o.push(i);return o}(i,"?"),new Le(204,!1);const o=function On(n){return n&&(n[cn]||n[gi])||null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new Le(204,!1)}function km(n,i,o){let u;if(cc(n)){const l=oe(n);return Vs(l)||kd(l)}if(Nh(n))u=()=>oe(n.useValue);else if(function Wc(n){return!(!n||!n.useFactory)}(n))u=()=>n.useFactory(...Pt(n.deps||[]));else if(function Pm(n){return!(!n||!n.useExisting)}(n))u=()=>Vt(oe(n.useExisting));else{const l=oe(n&&(n.useClass||n.provide));if(!function ao(n){return!!n.deps}(n))return Vs(l)||kd(l);u=()=>new l(...Pt(n.deps))}return u}function Kc(n,i,o=!1){return{factory:n,value:i,multi:o?[]:void 0}}function Lh(n,i){for(const o of n)Array.isArray(o)?Lh(o,i):o&&fe(o)?Lh(o.\u0275providers,i):i(o)}class op{}class Fd{}class Um{resolveComponentFactory(i){throw function Lm(n){const i=Error(`No component factory found for ${Me(n)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=n,i}(i)}}let dc=(()=>{class n{}return n.NULL=new Um,n})();function Ld(){return qu(hi(),Ke())}function qu(n,i){return new hl(Li(n,i))}let hl=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=Ld,n})();function Vh(n){return n instanceof hl?n.nativeElement:n}class ap{}let Bm=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function jm(){const n=Ke(),o=di(hi().index,n);return(Ei(o)?o:n)[Ie]}(),n})(),d_=(()=>{class n{}return n.\u0275prov=ze({token:n,providedIn:"root",factory:()=>null}),n})();class up{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const lp=new up("15.2.9"),cp={},dp="ngOriginalError";function hp(n){return n[dp]}class hc{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i);this._console.error("ERROR",i),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&hp(i);for(;o&&hp(o);)o=hp(o);return o||null}}function Pu(n){return n instanceof Function?n():n}function Gm(n,i,o){let u=n.length;for(;;){const l=n.indexOf(i,o);if(-1===l)return l;if(0===l||n.charCodeAt(l-1)<=32){const h=i.length;if(l+h===u||n.charCodeAt(l+h)<=32)return l}o=l+1}}const Zc="ng-template";function gp(n,i,o){let u=0,l=!0;for(;u<n.length;){let h=n[u++];if("string"==typeof h&&l){const E=n[u++];if(o&&"class"===h&&-1!==Gm(E.toLowerCase(),i,0))return!0}else{if(1===h){for(;u<n.length&&"string"==typeof(h=n[u++]);)if(h.toLowerCase()===i)return!0;return!1}"number"==typeof h&&(l=!1)}}return!1}function Wm(n){return 4===n.type&&n.value!==Zc}function Km(n,i,o){return i===(4!==n.type||o?n.value:Zc)}function mp(n,i,o){let u=4;const l=n.attrs||[],h=function v_(n){for(let i=0;i<n.length;i++)if(ii(n[i]))return i;return n.length}(l);let E=!1;for(let S=0;S<i.length;S++){const N=i[S];if("number"!=typeof N){if(!E)if(4&u){if(u=2|1&u,""!==N&&!Km(n,N,o)||""===N&&1===i.length){if(mu(u))return!1;E=!0}}else{const G=8&u?N:i[++S];if(8&u&&null!==n.attrs){if(!gp(n.attrs,G,o)){if(mu(u))return!1;E=!0}continue}const ce=m_(8&u?"class":N,l,Wm(n),o);if(-1===ce){if(mu(u))return!1;E=!0;continue}if(""!==G){let Ne;Ne=ce>h?"":l[ce+1].toLowerCase();const Xe=8&u?Ne:null;if(Xe&&-1!==Gm(Xe,G,0)||2&u&&G!==Ne){if(mu(u))return!1;E=!0}}}}else{if(!E&&!mu(u)&&!mu(N))return!1;if(E&&mu(N))continue;E=!1,u=N|1&u}}return mu(u)||E}function mu(n){return 0==(1&n)}function m_(n,i,o,u){if(null===i)return-1;let l=0;if(u||!o){let h=!1;for(;l<i.length;){const E=i[l];if(E===n)return l;if(3===E||6===E)h=!0;else{if(1===E||2===E){let S=i[++l];for(;"string"==typeof S;)S=i[++l];continue}if(4===E)break;if(0===E){l+=4;continue}}l+=h?1:2}return-1}return function __(n,i){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const u=n[o];if("number"==typeof u)return-1;if(u===i)return o;o++}return-1}(i,n)}function yp(n,i,o=!1){for(let u=0;u<i.length;u++)if(mp(n,i[u],o))return!0;return!1}function fc(n,i){return n?":not("+i.trim()+")":i}function qm(n){let i=n[0],o=1,u=2,l="",h=!1;for(;o<n.length;){let E=n[o];if("string"==typeof E)if(2&u){const S=n[++o];l+="["+E+(S.length>0?'="'+S+'"':"")+"]"}else 8&u?l+="."+E:4&u&&(l+=" "+E);else""!==l&&!mu(E)&&(i+=fc(h,l),l=""),u=E,h=h||!mu(u);o++}return""!==l&&(i+=fc(h,l)),i}const Wn={};function vp(n){Ym(gn(),Ke(),Ii()+n,!1)}function Ym(n,i,o,u){if(!u)if(3==(3&i[Fn])){const h=n.preOrderCheckHooks;null!==h&&vs(i,h,o)}else{const h=n.preOrderHooks;null!==h&&iu(i,h,0,o)}ss(o)}function wp(n,i=null,o=null,u){const l=Ip(n,i,o,u);return l.resolveInjectorInitializers(),l}function Ip(n,i=null,o=null,u,l=new Set){const h=[o||xt,Rm(n)];return u=u||("object"==typeof n?void 0:Me(n)),new Fh(h,i||Nd(),u||null,l)}let mc=(()=>{class n{static create(o,u){if(Array.isArray(o))return wp({name:""},u,o,"");{const l=o.name??"";return wp({name:l},o.parent,o.providers,l)}}}return n.THROW_IF_NOT_FOUND=ki,n.NULL=new lc,n.\u0275prov=ze({token:n,providedIn:"any",factory:()=>Vt(Pl)}),n.__NG_ELEMENT_ID__=-1,n})();function Zu(n,i=zt.Default){const o=Ke();return null===o?Vt(n,i):wu(hi(),o,oe(n),i)}function Rp(){throw new Error("invalid")}function Qo(n,i){const o=n.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const h=o[u+1];if(-1!==h){const E=n.data[h];Sa(o[u]),E.contentQueries(2,i[h],h)}}}function yc(n,i,o,u,l,h,E,S,N,G,X){const ce=i.blueprint.slice();return ce[Cr]=l,ce[Fn]=76|u,(null!==X||n&&1024&n[Fn])&&(ce[Fn]|=1024),Ms(ce),ce[dr]=ce[Bn]=n,ce[Or]=o,ce[Ae]=E||n&&n[Ae],ce[Ie]=S||n&&n[Ie],ce[_t]=N||n&&n[_t]||null,ce[Pe]=G||n&&n[Pe]||null,ce[Yr]=h,ce[Nr]=function Ql(){return Ga++}(),ce[ci]=X,ce[Cn]=2==i.type?n[Cn]:ce,ce}function vc(n,i,o,u,l){let h=n.data[i];if(null===h)h=function Yu(n,i,o,u,l){const h=La(),E=yo(),N=n.data[i]=function C_(n,i,o,u,l,h){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,E?h:h&&h.parent,o,i,u,l);return null===n.firstChild&&(n.firstChild=N),null!==h&&(E?null==h.child&&null!==N.parent&&(h.child=N):null===h.next&&(h.next=N,N.prev=h)),N}(n,i,o,u,l),function na(){return kn.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=o,h.value=u,h.attrs=l;const E=function xo(){const n=kn.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();h.injectorIndex=null===E?-1:E.injectorIndex}return Qi(h,!0),h}function Qu(n,i,o,u){if(0===o)return-1;const l=i.length;for(let h=0;h<o;h++)i.push(u),n.blueprint.push(u),n.data.push(null);return l}function Wh(n,i,o){xs(i);try{const u=n.viewQuery;null!==u&&Bp(1,u,o);const l=n.template;null!==l&&ay(n,i,l,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Qo(n,i),n.staticViewQueries&&Bp(2,n.viewQuery,o);const h=n.components;null!==h&&function Gh(n,i){for(let o=0;o<i.length;o++)Up(n,i[o])}(i,h)}catch(u){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),u}finally{i[Fn]&=-5,Va()}}function Ju(n,i,o,u){const l=i[Fn];if(128!=(128&l)){xs(i);try{Ms(i),function Rs(n){return kn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&ay(n,i,o,2,u);const E=3==(3&l);if(E){const G=n.preOrderCheckHooks;null!==G&&vs(i,G,null)}else{const G=n.preOrderHooks;null!==G&&iu(i,G,0,null),M(i,0)}if(function zd(n){for(let i=ul(n);null!==i;i=Di(i)){if(!i[Fs])continue;const o=i[lo];for(let u=0;u<o.length;u++){const l=o[u];512&l[Fn]||go(l[dr],1),l[Fn]|=512}}}(i),function Vp(n){for(let i=ul(n);null!==i;i=Di(i))for(let o=Qr;o<i.length;o++){const u=i[o],l=u[Gt];Lr(u)&&Ju(l,u,l.template,u[Or])}}(i),null!==n.contentQueries&&Qo(n,i),E){const G=n.contentCheckHooks;null!==G&&vs(i,G)}else{const G=n.contentHooks;null!==G&&iu(i,G,1),M(i,1)}!function sy(n,i){const o=n.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const l=o[u];if(l<0)ss(~l);else{const h=l,E=o[++u],S=o[++u];ru(E,h),S(2,i[h])}}}finally{ss(-1)}}(n,i);const S=n.components;null!==S&&function oy(n,i){for(let o=0;o<i.length;o++)Qh(n,i[o])}(i,S);const N=n.viewQuery;if(null!==N&&Bp(2,N,u),E){const G=n.viewCheckHooks;null!==G&&vs(i,G)}else{const G=n.viewHooks;null!==G&&iu(i,G,2),M(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[Fn]&=-41,512&i[Fn]&&(i[Fn]&=-513,go(i[dr],-1))}finally{Va()}}}function ay(n,i,o,u,l){const h=Ii(),E=2&u;try{ss(-1),E&&i.length>Er&&Ym(n,i,Er,!1),Yn(E?2:0,l),o(u,l)}finally{ss(h),Yn(E?3:1,l)}}function Ll(n,i,o){if(Hr(i)){const l=i.directiveEnd;for(let h=i.directiveStart;h<l;h++){const E=n.data[h];E.contentQueries&&E.contentQueries(1,o[h],h)}}}function Kh(n,i,o){Qe()&&(function S_(n,i,o,u){const l=o.directiveStart,h=o.directiveEnd;Ys(o)&&function x_(n,i,o){const u=Li(i,n),l=xp(o),h=n[Ae],E=Jh(n,yc(n,l,null,o.onPush?32:16,u,i,h,h.createRenderer(u,o),null,null,null));n[i.index]=E}(i,o,n.data[l+o.componentOffset]),n.firstCreatePass||ou(o,i),ke(u,i);const E=o.initialInputs;for(let S=l;S<h;S++){const N=n.data[S],G=ar(i,n,S,o);ke(G,i),null!==E&&P_(0,S-l,G,N,0,E),Ai(N)&&(di(o.index,i)[Or]=ar(i,n,S,o))}}(n,i,o,Li(o,i)),64==(64&o.flags)&&fy(n,i,o))}function Xu(n,i,o=Li){const u=i.localNames;if(null!==u){let l=i.index+1;for(let h=0;h<u.length;h+=2){const E=u[h+1],S=-1===E?o(i,n):n[E];n[l++]=S}}}function xp(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=Pp(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):i}function Pp(n,i,o,u,l,h,E,S,N,G){const X=Er+u,ce=X+l,Ne=function uy(n,i){const o=[];for(let u=0;u<i;u++)o.push(u<n?null:Wn);return o}(X,ce),Xe="function"==typeof G?G():G;return Ne[Gt]={type:n,blueprint:Ne,template:o,queries:null,viewQuery:S,declTNode:i,data:Ne.slice().fill(null,X),bindingStartIndex:X,expandoStartIndex:ce,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof E?E():E,firstChild:null,schemas:N,consts:Xe,incompleteFirstPass:!1}}function Op(n,i,o,u){const l=yy(i);null===o?l.push(u):(l.push(o),n.firstCreatePass&&jp(n).push(u,l.length-1))}function Hd(n,i,o,u){for(let l in n)if(n.hasOwnProperty(l)){o=null===o?{}:o;const h=n[l];null===u?ly(o,i,l,h):u.hasOwnProperty(l)&&ly(o,i,u[l],h)}return o}function ly(n,i,o,u){n.hasOwnProperty(o)?n[o].push(i,u):n[o]=[i,u]}function Za(n,i,o,u,l,h,E,S){const N=Li(i,o);let X,G=i.inputs;!S&&null!=G&&(X=G[u])?(Vl(n,o,X,u,l),Ys(i)&&function dy(n,i){const o=di(i,n);16&o[Fn]||(o[Fn]|=32)}(o,i.index)):3&i.type&&(u=function cy(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(u),l=null!=E?E(l,i.value||"",u):l,h.setProperty(N,u,l))}function Zh(n,i,o,u){if(Qe()){const l=null===u?null:{"":-1},h=function Uo(n,i){const o=n.directiveRegistry;let u=null,l=null;if(o)for(let h=0;h<o.length;h++){const E=o[h];if(yp(i,E.selectors,!1))if(u||(u=[]),Ai(E))if(null!==E.findHostDirectiveDefs){const S=[];l=l||new Map,E.findHostDirectiveDefs(E,S,l),u.unshift(...S,E),Fp(n,i,S.length)}else u.unshift(E),Fp(n,i,0);else l=l||new Map,E.findHostDirectiveDefs?.(E,u,l),u.push(E)}return null===u?null:[u,l]}(n,o);let E,S;null===h?E=S=null:[E,S]=h,null!==E&&Np(n,i,o,E,l,S),l&&function A_(n,i,o){if(i){const u=n.localNames=[];for(let l=0;l<i.length;l+=2){const h=o[i[l+1]];if(null==h)throw new Le(-301,!1);u.push(i[l],h)}}}(o,u,l)}o.mergedAttrs=Ki(o.mergedAttrs,o.attrs)}function Np(n,i,o,u,l,h){for(let G=0;G<u.length;G++)qo(ou(o,i),n,u[G].type);!function R_(n,i,o){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+o,n.providerIndexes=i}(o,n.data.length,u.length);for(let G=0;G<u.length;G++){const X=u[G];X.providersResolver&&X.providersResolver(X)}let E=!1,S=!1,N=Qu(n,i,u.length,null);for(let G=0;G<u.length;G++){const X=u[G];o.mergedAttrs=Ki(o.mergedAttrs,X.hostAttrs),Lp(n,o,i,N,X),M_(N,X,l),null!==X.contentQueries&&(o.flags|=4),(null!==X.hostBindings||null!==X.hostAttrs||0!==X.hostVars)&&(o.flags|=64);const ce=X.type.prototype;!E&&(ce.ngOnChanges||ce.ngOnInit||ce.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(o.index),E=!0),!S&&(ce.ngOnChanges||ce.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(o.index),S=!0),N++}!function T_(n,i,o){const l=i.directiveEnd,h=n.data,E=i.attrs,S=[];let N=null,G=null;for(let X=i.directiveStart;X<l;X++){const ce=h[X],Ne=o?o.get(ce):null,bt=Ne?Ne.outputs:null;N=Hd(ce.inputs,X,N,Ne?Ne.inputs:null),G=Hd(ce.outputs,X,G,bt);const Kt=null===N||null===E||Wm(i)?null:py(N,X,E);S.push(Kt)}null!==N&&(N.hasOwnProperty("class")&&(i.flags|=8),N.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=S,i.inputs=N,i.outputs=G}(n,o,h)}function fy(n,i,o){const u=o.directiveStart,l=o.directiveEnd,h=o.index,E=function vu(){return kn.lFrame.currentDirectiveIndex}();try{ss(h);for(let S=u;S<l;S++){const N=n.data[S],G=i[S];fi(S),(null!==N.hostBindings||0!==N.hostVars||null!==N.hostAttrs)&&kp(N,G)}}finally{ss(-1),fi(E)}}function kp(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function Fp(n,i,o){i.componentOffset=o,(n.components??(n.components=[])).push(i.index)}function M_(n,i,o){if(o){if(i.exportAs)for(let u=0;u<i.exportAs.length;u++)o[i.exportAs[u]]=n;Ai(i)&&(o[""]=n)}}function Lp(n,i,o,u,l){n.data[u]=l;const h=l.factory||(l.factory=Vs(l.type)),E=new de(h,Ai(l),Zu);n.blueprint[u]=E,o[u]=E,function b_(n,i,o,u,l){const h=l.hostBindings;if(h){let E=n.hostBindingOpCodes;null===E&&(E=n.hostBindingOpCodes=[]);const S=~i.index;(function hy(n){let i=n.length;for(;i>0;){const o=n[--i];if("number"==typeof o&&o<0)return o}return 0})(E)!=S&&E.push(S),E.push(o,u,h)}}(n,i,u,Qu(n,o,l.hostVars,Wn),l)}function Ya(n,i,o,u,l,h){const E=Li(n,i);!function ed(n,i,o,u,l,h,E){if(null==h)n.removeAttribute(i,l,o);else{const S=null==E?st(h):E(h,u||"",l);n.setAttribute(i,l,S,o)}}(i[Ie],E,h,n.value,o,u,l)}function P_(n,i,o,u,l,h){const E=h[i];if(null!==E){const S=u.setInput;for(let N=0;N<E.length;){const G=E[N++],X=E[N++],ce=E[N++];null!==S?u.setInput(o,ce,G,X):o[X]=ce}}}function py(n,i,o){let u=null,l=0;for(;l<o.length;){const h=o[l];if(0!==h)if(5!==h){if("number"==typeof h)break;if(n.hasOwnProperty(h)){null===u&&(u=[]);const E=n[h];for(let S=0;S<E.length;S+=2)if(E[S]===i){u.push(h,E[S+1],o[l+1]);break}}l+=2}else l+=2;else l+=4}return u}function Yh(n,i,o,u){return[n,!0,!1,i,null,0,u,o,null,null]}function Qh(n,i){const o=di(i,n);if(Lr(o)){const u=o[Gt];48&o[Fn]?Ju(u,o,u.template,o[Or]):o[li]>0&&Gd(o)}}function Gd(n){for(let u=ul(n);null!==u;u=Di(u))for(let l=Qr;l<u.length;l++){const h=u[l];if(Lr(h))if(512&h[Fn]){const E=h[Gt];Ju(E,h,E.template,h[Or])}else h[li]>0&&Gd(h)}const o=n[Gt].components;if(null!==o)for(let u=0;u<o.length;u++){const l=di(o[u],n);Lr(l)&&l[li]>0&&Gd(l)}}function Up(n,i){const o=di(i,n),u=o[Gt];(function gy(n,i){for(let o=i.length;o<n.blueprint.length;o++)i.push(n.blueprint[o])})(u,o),Wh(u,o,o[Or])}function Jh(n,i){return n[Rt]?n[Tn][sr]=i:n[Rt]=i,n[Tn]=i,i}function Wd(n){for(;n;){n[Fn]|=32;const i=Ds(n);if(zi(n)&&!i)return n;n=i}return null}function Kd(n,i,o,u=!0){const l=i[Ae];l.begin&&l.begin();try{Ju(n,i,n.template,o)}catch(E){throw u&&Ec(i,E),E}finally{l.end&&l.end()}}function Bp(n,i,o){Sa(0),i(n,o)}function yy(n){return n[Hi]||(n[Hi]=[])}function jp(n){return n.cleanup||(n.cleanup=[])}function Ec(n,i){const o=n[Pe],u=o?o.get(hc,null):null;u&&u.handleError(i)}function Vl(n,i,o,u,l){for(let h=0;h<o.length;){const E=o[h++],S=o[h++],N=i[E],G=n.data[E];null!==G.setInput?G.setInput(N,l,u,S):N[S]=l}}function Ou(n,i,o){const u=Us(i,n);!function Cd(n,i,o){n.setValue(i,o)}(n[Ie],u,o)}function wc(n,i,o){let u=o?n.styles:null,l=o?n.classes:null,h=0;if(null!==i)for(let E=0;E<i.length;E++){const S=i[E];"number"==typeof S?h=S:1==h?l=pe(l,S):2==h&&(u=pe(u,S+": "+i[++E]+";"))}o?n.styles=u:n.stylesWithoutHost=u,o?n.classes=l:n.classesWithoutHost=l}function qd(n,i,o,u,l=!1){for(;null!==o;){const h=i[o.index];if(null!==h&&u.push(zr(h)),yr(h))for(let S=Qr;S<h.length;S++){const N=h[S],G=N[Gt].firstChild;null!==G&&qd(N[Gt],N,G,u)}const E=o.type;if(8&E)qd(n,i,o.child,u);else if(32&E){const S=da(o,i);let N;for(;N=S();)u.push(N)}else if(16&E){const S=Gu(i,o);if(Array.isArray(S))u.push(...S);else{const N=Ds(i[Cn]);qd(N[Gt],N,S,u,!0)}}o=l?o.projectionNext:o.next}return u}class td{get rootNodes(){const i=this._lView,o=i[Gt];return qd(o,i,o.firstChild,[])}constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Or]}set context(i){this._lView[Or]=i}get destroyed(){return 128==(128&this._lView[Fn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[dr];if(yr(i)){const o=i[hs],u=o?o.indexOf(this):-1;u>-1&&(K(i,u),nt(o,u))}this._attachedToViewContainer=!1}ne(this._lView[Gt],this._lView)}onDestroy(i){Op(this._lView[Gt],this._lView,null,i)}markForCheck(){Wd(this._cdRefInjectingView||this._lView)}detach(){this._lView[Fn]&=-65}reattach(){this._lView[Fn]|=64}detectChanges(){Kd(this._lView[Gt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Le(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Gs(n,i){$c(n,i,i[Ie],2,null,null)}(this._lView[Gt],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Le(902,!1);this._appRef=i}}class _y extends td{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;Kd(i[Gt],i,i[Or],!1)}checkNoChanges(){}get context(){return null}}class Ey extends dc{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=an(i);return new nd(o,this.ngModule)}}function Xh(n){const i=[];for(let o in n)n.hasOwnProperty(o)&&i.push({propName:n[o],templateName:o});return i}class $p{constructor(i,o){this.injector=i,this.parentInjector=o}get(i,o,u){u=tr(u);const l=this.injector.get(i,cp,u);return l!==cp||o===cp?l:this.parentInjector.get(i,o,u)}}class nd extends Fd{get inputs(){return Xh(this.componentDef.inputs)}get outputs(){return Xh(this.componentDef.outputs)}constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function E_(n){return n.map(qm).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}create(i,o,u,l){let h=(l=l||this.ngModule)instanceof gu?l:l?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const E=h?new $p(i,h):i,S=E.get(ap,null);if(null===S)throw new Le(407,!1);const N=E.get(d_,null),G=S.createRenderer(null,this.componentDef),X=this.componentDef.selectors[0][0]||"div",ce=u?function D_(n,i,o){return n.selectRootElement(i,o===lt.ShadowDom)}(G,u,this.componentDef.encapsulation):Lo(G,X,function N_(n){const i=n.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(X)),Ne=this.componentDef.onPush?288:272,Xe=Pp(0,null,null,1,0,null,null,null,null,null),bt=yc(null,Xe,null,Ne,null,null,S,G,N,E,null);let Kt,yn;xs(bt);try{const Pn=this.componentDef;let rr,Nt=null;Pn.findHostDirectiveDefs?(rr=[],Nt=new Map,Pn.findHostDirectiveDefs(Pn,rr,Nt),rr.push(Pn)):rr=[Pn];const gr=function ef(n,i){const o=n[Gt],u=Er;return n[u]=i,vc(o,u,2,"#host",null)}(bt,ce),ks=function Zd(n,i,o,u,l,h,E,S){const N=l[Gt];!function tf(n,i,o,u){for(const l of n)i.mergedAttrs=Ki(i.mergedAttrs,l.hostAttrs);null!==i.mergedAttrs&&(wc(i,i.mergedAttrs,!0),null!==o&&qf(u,o,i))}(u,n,i,E);const G=h.createRenderer(i,o),X=yc(l,xp(o),null,o.onPush?32:16,l[n.index],n,h,G,S||null,null,null);return N.firstCreatePass&&Fp(N,n,u.length-1),Jh(l,X),l[n.index]=X}(gr,ce,Pn,rr,bt,S,G);yn=gs(Xe,Er),ce&&function zp(n,i,o,u){if(u)nr(n,o,["ng-version",lp.full]);else{const{attrs:l,classes:h}=function Zm(n){const i=[],o=[];let u=1,l=2;for(;u<n.length;){let h=n[u];if("string"==typeof h)2===l?""!==h&&i.push(h,n[++u]):8===l&&o.push(h);else{if(!mu(l))break;l=h}u++}return{attrs:i,classes:o}}(i.selectors[0]);l&&nr(n,o,l),h&&h.length>0&&Kf(n,o,h.join(" "))}}(G,Pn,ce,u),void 0!==o&&function Gp(n,i,o){const u=n.projection=[];for(let l=0;l<i.length;l++){const h=o[l];u.push(null!=h?Array.from(h):null)}}(yn,this.ngContentSelectors,o),Kt=function Hp(n,i,o,u,l,h){const E=hi(),S=l[Gt],N=Li(E,l);Np(S,l,E,o,null,u);for(let X=0;X<o.length;X++)ke(ar(l,S,E.directiveStart+X,E),l);fy(S,l,E),N&&ke(N,l);const G=ar(l,S,E.directiveStart+E.componentOffset,E);if(n[Or]=l[Or]=G,null!==h)for(const X of h)X(G,i);return Ll(S,E,n),G}(ks,Pn,rr,Nt,bt,[Dy]),Wh(Xe,bt,null)}finally{Va()}return new wy(this.componentType,Kt,qu(yn,bt),bt,yn)}}class wy extends op{constructor(i,o,u,l,h){super(),this.location=u,this._rootLView=l,this._tNode=h,this.instance=o,this.hostView=this.changeDetectorRef=new _y(l),this.componentType=i}setInput(i,o){const u=this._tNode.inputs;let l;if(null!==u&&(l=u[i])){const h=this._rootLView;Vl(h[Gt],h,l,i,o),Wd(di(this._tNode.index,h))}}get injector(){return new as(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function Dy(){const n=hi();ro(Ke()[Gt],n)}function nf(n){let i=function Cy(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const u=[n];for(;i;){let l;if(Ai(n))l=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Le(903,!1);l=i.\u0275dir}if(l){if(o){u.push(l);const E=n;E.inputs=Yd(n.inputs),E.declaredInputs=Yd(n.declaredInputs),E.outputs=Yd(n.outputs);const S=l.hostBindings;S&&fa(n,S);const N=l.viewQuery,G=l.contentQueries;if(N&&k_(n,N),G&&F_(n,G),Ce(n.inputs,l.inputs),Ce(n.declaredInputs,l.declaredInputs),Ce(n.outputs,l.outputs),Ai(l)&&l.data.animation){const X=n.data;X.animation=(X.animation||[]).concat(l.data.animation)}}const h=l.features;if(h)for(let E=0;E<h.length;E++){const S=h[E];S&&S.ngInherit&&S(n),S===nf&&(o=!1)}}i=Object.getPrototypeOf(i)}!function rf(n){let i=0,o=null;for(let u=n.length-1;u>=0;u--){const l=n[u];l.hostVars=i+=l.hostVars,l.hostAttrs=Ki(l.hostAttrs,o=Ki(o,l.hostAttrs))}}(u)}function Yd(n){return n===Ge?{}:n===xt?[]:n}function k_(n,i){const o=n.viewQuery;n.viewQuery=o?(u,l)=>{i(u,l),o(u,l)}:i}function F_(n,i){const o=n.contentQueries;n.contentQueries=o?(u,l,h)=>{i(u,l,h),o(u,l,h)}:i}function fa(n,i){const o=n.hostBindings;n.hostBindings=o?(u,l)=>{i(u,l),o(u,l)}:i}function rd(n){return!!Ic(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Ic(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function ba(n,i,o){return n[i]=o}function Io(n,i,o){return!Object.is(n[i],o)&&(n[i]=o,!0)}function Nu(n,i,o,u){const l=Io(n,i,o);return Io(n,i+1,u)||l}function id(n,i,o,u,l){const h=Nu(n,i,o,u);return Io(n,i+2,l)||h}function Jd(n,i,o,u){const l=Ke();return Io(l,ys(),i)&&(gn(),Ya(Tr(),l,n,i,o,u)),Jd}function Ja(n,i,o,u){return Io(n,ys(),o)?i+st(o)+u:Wn}function My(n,i,o,u,l,h,E,S){const N=Ke(),G=gn(),X=n+Er,ce=G.firstCreatePass?function Qp(n,i,o,u,l,h,E,S,N){const G=i.consts,X=vc(i,n,4,E||null,Wi(G,S));Zh(i,o,X,Wi(G,N)),ro(i,X);const ce=X.tView=Pp(2,X,u,l,h,i.directiveRegistry,i.pipeRegistry,null,i.schemas,G);return null!==i.queries&&(i.queries.template(i,X),ce.queries=i.queries.embeddedTView(X)),X}(X,G,N,i,o,u,l,h,E):G.data[X];Qi(ce,!1);const Ne=N[Ie].createComment("");Ml(G,N,Ne,ce),ke(Ne,N),Jh(N,N[X]=Yh(Ne,N,Ne,ce)),co(ce)&&Kh(G,N,ce),null!=E&&Xu(N,ce,S)}function Ry(n){return bi(function vo(){return kn.lFrame.contextLView}(),Er+n)}function eh(n,i,o){const u=Ke();return Io(u,ys(),i)&&Za(gn(),Tr(),u,n,i,u[Ie],o,!1),eh}function Xp(n,i,o,u,l){const E=l?"class":"style";Vl(n,o,i.inputs[E],E,u)}function th(n,i,o,u){const l=Ke(),h=gn(),E=Er+n,S=l[Ie],N=h.firstCreatePass?function eg(n,i,o,u,l,h){const E=i.consts,N=vc(i,n,2,u,Wi(E,l));return Zh(i,o,N,Wi(E,h)),null!==N.attrs&&wc(N,N.attrs,!1),null!==N.mergedAttrs&&wc(N,N.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,N),N}(E,h,l,i,o,u):h.data[E],G=l[E]=Lo(S,i,function No(){return kn.lFrame.currentNamespace}()),X=co(N);return Qi(N,!0),qf(S,G,N),32!=(32&N.flags)&&Ml(h,l,G,N),0===function L(){return kn.lFrame.elementDepthCount}()&&ke(G,l),function O(){kn.lFrame.elementDepthCount++}(),X&&(Kh(h,l,N),Ll(h,N,l)),null!==u&&Xu(l,N),th}function ud(){let n=hi();yo()?no():(n=n.parent,Qi(n,!1));const i=n;!function J(){kn.lFrame.elementDepthCount--}();const o=gn();return o.firstCreatePass&&(ro(o,n),Hr(n)&&o.queries.elementEnd(n)),null!=i.classesWithoutHost&&function lr(n){return 0!=(8&n.flags)}(i)&&Xp(o,i,Ke(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function cr(n){return 0!=(16&n.flags)}(i)&&Xp(o,i,Ke(),i.stylesWithoutHost,!1),ud}function nh(n,i,o,u){return th(n,i,o,u),ud(),nh}function fl(n,i,o){const u=Ke(),l=gn(),h=n+Er,E=l.firstCreatePass?function tg(n,i,o,u,l){const h=i.consts,E=Wi(h,u),S=vc(i,n,8,"ng-container",E);return null!==E&&wc(S,E,!0),Zh(i,o,S,Wi(h,l)),null!==i.queries&&i.queries.elementStart(i,S),S}(h,l,u,i,o):l.data[h];Qi(E,!0);const S=u[h]=u[Ie].createComment("");return Ml(l,u,S,E),ke(S,u),co(E)&&(Kh(l,u,E),Ll(l,E,u)),null!=o&&Xu(u,E),fl}function ku(){let n=hi();const i=gn();return yo()?no():(n=n.parent,Qi(n,!1)),i.firstCreatePass&&(ro(i,n),Hr(n)&&i.queries.elementEnd(n)),ku}function bc(){return Ke()}function Hl(n){return!!n&&"function"==typeof n.then}function ng(n){return!!n&&"function"==typeof n.subscribe}const Sc=ng;function rg(n,i,o,u){const l=Ke(),h=gn(),E=hi();return function df(n,i,o,u,l,h,E){const S=co(u),G=n.firstCreatePass&&jp(n),X=i[Or],ce=yy(i);let Ne=!0;if(3&u.type||E){const Kt=Li(u,i),yn=E?E(Kt):Kt,Pn=ce.length,rr=E?gr=>E(zr(gr[u.index])):u.index;let Nt=null;if(!E&&S&&(Nt=function ig(n,i,o,u){const l=n.cleanup;if(null!=l)for(let h=0;h<l.length-1;h+=2){const E=l[h];if(E===o&&l[h+1]===u){const S=i[Hi],N=l[h+2];return S.length>N?S[N]:null}"string"==typeof E&&(h+=2)}return null}(n,i,l,u.index)),null!==Nt)(Nt.__ngLastListenerFn__||Nt).__ngNextListenerFn__=h,Nt.__ngLastListenerFn__=h,Ne=!1;else{h=ff(u,i,X,h,!1);const gr=o.listen(yn,l,h);ce.push(h,gr),G&&G.push(l,rr,Pn,Pn+1)}}else h=ff(u,i,X,h,!1);const Xe=u.outputs;let bt;if(Ne&&null!==Xe&&(bt=Xe[l])){const Kt=bt.length;if(Kt)for(let yn=0;yn<Kt;yn+=2){const ks=i[bt[yn]][bt[yn+1]].subscribe(h),So=ce.length;ce.push(h,ks),G&&G.push(l,u.index,So,-(So+1))}}}(h,l,l[Ie],E,n,i,u),rg}function hf(n,i,o,u){try{return Yn(6,i,o),!1!==o(u)}catch(l){return Ec(n,l),!1}finally{Yn(7,i,o)}}function ff(n,i,o,u,l){return function h(E){if(E===Function)return u;Wd(n.componentOffset>-1?di(n.index,i):i);let N=hf(i,o,u,E),G=h.__ngNextListenerFn__;for(;G;)N=hf(i,o,G,E)&&N,G=G.__ngNextListenerFn__;return l&&!1===N&&(E.preventDefault(),E.returnValue=!1),N}}function Py(n=1){return function Ma(n){return(kn.lFrame.contextLView=function Go(n,i){for(;n>0;)i=i[Bn],n--;return i}(n,kn.lFrame.contextLView))[Or]}(n)}function ag(n,i,o){return rh(n,"",i,"",o),ag}function rh(n,i,o,u,l){const h=Ke(),E=Ja(h,i,o,u);return E!==Wn&&Za(gn(),Tr(),h,n,E,h[Ie],l,!1),rh}function pf(n,i){return n<<17|i<<2}function el(n){return n>>17&32767}function pg(n){return 2|n}function pl(n){return(131068&n)>>2}function gg(n,i){return-131069&n|i<<2}function gf(n){return 1|n}function Vy(n,i,o,u,l){const h=n[o+1],E=null===i;let S=u?el(h):pl(h),N=!1;for(;0!==S&&(!1===N||E);){const X=n[S+1];vg(n[S],i)&&(N=!0,n[S+1]=u?gf(X):pg(X)),S=u?el(X):pl(X)}N&&(n[o+1]=u?pg(h):gf(h))}function vg(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&Mt(n,i)>=0}const Do={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function mf(n){return n.substring(Do.key,Do.keyEnd)}function G_(n){return n.substring(Do.value,Do.valueEnd)}function yf(n,i){const o=Do.textEnd;return o===i?-1:(i=Do.keyEnd=function W_(n,i,o){for(;i<o&&n.charCodeAt(i)>32;)i++;return i}(n,Do.key=i,o),zl(n,i,o))}function Ac(n,i){const o=Do.textEnd;let u=Do.key=zl(n,i,o);return o===u?-1:(u=Do.keyEnd=function Ig(n,i,o){let u;for(;i<o&&(45===(u=n.charCodeAt(i))||95===u||(-33&u)>=65&&(-33&u)<=90||u>=48&&u<=57);)i++;return i}(n,u,o),u=tl(n,u,o),u=Do.value=zl(n,u,o),u=Do.valueEnd=function Dg(n,i,o){let u=-1,l=-1,h=-1,E=i,S=E;for(;E<o;){const N=n.charCodeAt(E++);if(59===N)return S;34===N||39===N?S=E=Uy(n,N,E,o):i===E-4&&85===h&&82===l&&76===u&&40===N?S=E=Uy(n,41,E,o):N>32&&(S=E),h=l,l=u,u=-33&N}return S}(n,u,o),tl(n,u,o))}function wg(n){Do.key=0,Do.keyEnd=0,Do.value=0,Do.valueEnd=0,Do.textEnd=n.length}function zl(n,i,o){for(;i<o&&n.charCodeAt(i)<=32;)i++;return i}function tl(n,i,o,u){return(i=zl(n,i,o))<o&&i++,i}function Uy(n,i,o,u){let l=-1,h=o;for(;h<u;){const E=n.charCodeAt(h++);if(E==i&&92!==l)return h;l=92==E&&92===l?0:E}throw new Error}function Cg(n,i,o){return eu(n,i,o,!1),Cg}function Tg(n,i){return eu(n,i,null,!0),Tg}function Xa(n){Fu(Ef,K_,n,!1)}function K_(n,i){for(let o=function Eg(n){return wg(n),Ac(n,zl(n,0,Do.textEnd))}(i);o>=0;o=Ac(i,o))Ef(n,mf(i),G_(i))}function vf(n){Fu(Mg,nl,n,!0)}function nl(n,i){for(let o=function _g(n){return wg(n),yf(n,zl(n,0,Do.textEnd))}(i);o>=0;o=yf(i,o))rn(n,mf(i),!0)}function eu(n,i,o,u){const l=Ke(),h=gn(),E=js(2);h.firstUpdatePass&&bg(h,n,E,u),i!==Wn&&Io(l,E,i)&&oh(h,h.data[Ii()],l,l[Ie],n,l[E+1]=function Hy(n,i){return null==n||""===n||("string"==typeof i?n+=i:"object"==typeof n&&(n=Me(dl(n)))),n}(i,o),u,E)}function Fu(n,i,o,u){const l=gn(),h=js(2);l.firstUpdatePass&&bg(l,null,h,u);const E=Ke();if(o!==Wn&&Io(E,h,o)){const S=l.data[Ii()];if(Mc(S,u)&&!_f(l,h)){let N=u?S.classesWithoutHost:S.stylesWithoutHost;null!==N&&(o=pe(N,o||"")),Xp(l,S,E,o,u)}else!function Y_(n,i,o,u,l,h,E,S){l===Wn&&(l=xt);let N=0,G=0,X=0<l.length?l[0]:null,ce=0<h.length?h[0]:null;for(;null!==X||null!==ce;){const Ne=N<l.length?l[N+1]:void 0,Xe=G<h.length?h[G+1]:void 0;let Kt,bt=null;X===ce?(N+=2,G+=2,Ne!==Xe&&(bt=ce,Kt=Xe)):null===ce||null!==X&&X<ce?(N+=2,bt=X):(G+=2,bt=ce,Kt=Xe),null!==bt&&oh(n,i,o,u,bt,Kt,E,S),X=N<l.length?l[N]:null,ce=G<h.length?h[G]:null}}(l,S,E,E[Ie],E[h+1],E[h+1]=function Ag(n,i,o){if(null==o||""===o)return xt;const u=[],l=dl(o);if(Array.isArray(l))for(let h=0;h<l.length;h++)n(u,l[h],!0);else if("object"==typeof l)for(const h in l)l.hasOwnProperty(h)&&n(u,h,l[h]);else"string"==typeof l&&i(u,l);return u}(n,i,o),u,h)}}function _f(n,i){return i>=n.expandoStartIndex}function bg(n,i,o,u){const l=n.data;if(null===l[o+1]){const h=l[Ii()],E=_f(n,o);Mc(h,u)&&null===i&&!E&&(i=!1),i=function Sg(n,i,o,u){const l=Oo(n);let h=u?i.residualClasses:i.residualStyles;if(null===l)0===(u?i.classBindings:i.styleBindings)&&(o=sh(o=ih(null,n,i,o,u),i.attrs,u),h=null);else{const E=i.directiveStylingLast;if(-1===E||n[E]!==l)if(o=ih(l,n,i,o,u),null===h){let N=function jy(n,i,o){const u=o?i.classBindings:i.styleBindings;if(0!==pl(u))return n[el(u)]}(n,i,u);void 0!==N&&Array.isArray(N)&&(N=ih(null,n,i,N[1],u),N=sh(N,i.attrs,u),function q_(n,i,o,u){n[el(o?i.classBindings:i.styleBindings)]=u}(n,i,u,N))}else h=function Z_(n,i,o){let u;const l=i.directiveEnd;for(let h=1+i.directiveStylingLast;h<l;h++)u=sh(u,n[h].hostAttrs,o);return sh(u,i.attrs,o)}(n,i,u)}return void 0!==h&&(u?i.residualClasses=h:i.residualStyles=h),o}(l,h,i,u),function z_(n,i,o,u,l,h){let E=h?i.classBindings:i.styleBindings,S=el(E),N=pl(E);n[u]=o;let X,G=!1;if(Array.isArray(o)?(X=o[1],(null===X||Mt(o,X)>0)&&(G=!0)):X=o,l)if(0!==N){const Ne=el(n[S+1]);n[u+1]=pf(Ne,S),0!==Ne&&(n[Ne+1]=gg(n[Ne+1],u)),n[S+1]=function fg(n,i){return 131071&n|i<<17}(n[S+1],u)}else n[u+1]=pf(S,0),0!==S&&(n[S+1]=gg(n[S+1],u)),S=u;else n[u+1]=pf(N,0),0===S?S=u:n[N+1]=gg(n[N+1],u),N=u;G&&(n[u+1]=pg(n[u+1])),Vy(n,X,u,!0),Vy(n,X,u,!1),function yg(n,i,o,u,l){const h=l?n.residualClasses:n.residualStyles;null!=h&&"string"==typeof i&&Mt(h,i)>=0&&(o[u+1]=gf(o[u+1]))}(i,X,n,u,h),E=pf(S,N),h?i.classBindings=E:i.styleBindings=E}(l,h,i,o,E,u)}}function ih(n,i,o,u,l){let h=null;const E=o.directiveEnd;let S=o.directiveStylingLast;for(-1===S?S=o.directiveStart:S++;S<E&&(h=i[S],u=sh(u,h.hostAttrs,l),h!==n);)S++;return null!==n&&(o.directiveStylingLast=S),u}function sh(n,i,o){const u=o?1:2;let l=-1;if(null!==i)for(let h=0;h<i.length;h++){const E=i[h];"number"==typeof E?l=E:l===u&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),rn(n,E,!!o||i[++h]))}return void 0===n?null:n}function Ef(n,i,o){rn(n,i,dl(o))}function Mg(n,i,o){const u=String(i);""!==u&&!u.includes(" ")&&rn(n,u,o)}function oh(n,i,o,u,l,h,E,S){if(!(3&i.type))return;const N=n.data,G=N[S+1],X=function mg(n){return 1==(1&n)}(G)?$y(N,i,o,l,pl(G),E):void 0;ah(X)||(ah(h)||function hg(n){return 2==(2&n)}(G)&&(h=$y(N,null,o,l,S,E)),function es(n,i,o,u,l){if(i)l?n.addClass(o,u):n.removeClass(o,u);else{let h=-1===u.indexOf("-")?void 0:ko.DashCase;null==l?n.removeStyle(o,u,h):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),h|=ko.Important),n.setStyle(o,u,l,h))}}(u,E,Us(Ii(),o),l,h))}function $y(n,i,o,u,l,h){const E=null===i;let S;for(;l>0;){const N=n[l],G=Array.isArray(N),X=G?N[1]:N,ce=null===X;let Ne=o[l+1];Ne===Wn&&(Ne=ce?xt:void 0);let Xe=ce?or(Ne,u):X===u?Ne:void 0;if(G&&!ah(Xe)&&(Xe=or(N,u)),ah(Xe)&&(S=Xe,E))return S;const bt=n[l+1];l=E?el(bt):pl(bt)}if(null!==i){let N=h?i.residualClasses:i.residualStyles;null!=N&&(S=or(N,u))}return S}function ah(n){return void 0!==n}function Mc(n,i){return 0!=(n.flags&(i?8:16))}function Rg(n,i=""){const o=Ke(),u=gn(),l=n+Er,h=u.firstCreatePass?vc(u,l,1,i,null):u.data[l],E=o[l]=function Oi(n,i){return n.createText(i)}(o[Ie],i);Ml(u,o,E,h),Qi(h,!1)}function ld(n){return wf("",n,""),ld}function wf(n,i,o){const u=Ke(),l=Ja(u,n,i,o);return l!==Wn&&Ou(u,Ii(),l),wf}function xg(n,i,o,u,l){const h=Ke(),E=function Cc(n,i,o,u,l,h){const S=Nu(n,ji(),o,l);return js(2),S?i+st(o)+u+st(l)+h:Wn}(h,n,i,o,u,l);return E!==Wn&&Ou(h,Ii(),E),xg}function Pg(n,i,o,u,l,h,E){const S=Ke(),N=function sd(n,i,o,u,l,h,E,S){const G=id(n,ji(),o,l,E);return js(3),G?i+st(o)+u+st(l)+h+st(E)+S:Wn}(S,n,i,o,u,l,h,E);return N!==Wn&&Ou(S,Ii(),N),Pg}function Ur(n,i,o){const u=Ke();if(Io(u,ys(),i)){const h=gn(),E=Tr();Za(h,E,u,n,i,function vy(n,i,o){return(null===n||Ai(n))&&(o=function to(n){for(;Array.isArray(n);){if("object"==typeof n[qs])return n;n=n[Cr]}return null}(o[i.index])),o[Ie]}(Oo(h.data),E,u),o,!0)}return Ur}const Gl=void 0;var ch=["en",[["a","p"],["AM","PM"],Gl],[["AM","PM"],Gl,Gl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Gl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Gl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Gl,"{1} 'at' {0}",Gl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ev(n){const o=Math.floor(Math.abs(n)),u=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let dd={};function Co(n){const i=function nv(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=n0(i);if(o)return o;const u=i.split("-")[0];if(o=n0(u),o)return o;if("en"===u)return ch;throw new Le(701,!1)}function tv(n){return Co(n)[er.PluralCase]}function n0(n){return n in dd||(dd[n]=mr.ng&&mr.ng.common&&mr.ng.common.locales&&mr.ng.common.locales[n]),dd[n]}var er=(()=>((er=er||{})[er.LocaleId=0]="LocaleId",er[er.DayPeriodsFormat=1]="DayPeriodsFormat",er[er.DayPeriodsStandalone=2]="DayPeriodsStandalone",er[er.DaysFormat=3]="DaysFormat",er[er.DaysStandalone=4]="DaysStandalone",er[er.MonthsFormat=5]="MonthsFormat",er[er.MonthsStandalone=6]="MonthsStandalone",er[er.Eras=7]="Eras",er[er.FirstDayOfWeek=8]="FirstDayOfWeek",er[er.WeekendRange=9]="WeekendRange",er[er.DateFormat=10]="DateFormat",er[er.TimeFormat=11]="TimeFormat",er[er.DateTimeFormat=12]="DateTimeFormat",er[er.NumberSymbols=13]="NumberSymbols",er[er.NumberFormats=14]="NumberFormats",er[er.CurrencyCode=15]="CurrencyCode",er[er.CurrencySymbol=16]="CurrencySymbol",er[er.CurrencyName=17]="CurrencyName",er[er.Currencies=18]="Currencies",er[er.Directionality=19]="Directionality",er[er.PluralCase=20]="PluralCase",er[er.ExtraData=21]="ExtraData",er))();const hd="en-US";let Gg=hd;function yd(n,i,o,u,l){if(n=oe(n),Array.isArray(n))for(let h=0;h<n.length;h++)yd(n[h],i,o,u,l);else{const h=gn(),E=Ke();let S=cc(n)?n:oe(n.provide),N=km(n);const G=hi(),X=1048575&G.providerIndexes,ce=G.directiveStart,Ne=G.providerIndexes>>20;if(cc(n)||!n.multi){const Xe=new de(N,l,Zu),bt=_v(S,i,l?X:X+Ne,ce);-1===bt?(qo(ou(G,E),h,S),Wl(h,n,i.length),i.push(S),G.directiveStart++,G.directiveEnd++,l&&(G.providerIndexes+=1048576),o.push(Xe),E.push(Xe)):(o[bt]=Xe,E[bt]=Xe)}else{const Xe=_v(S,i,X+Ne,ce),bt=_v(S,i,X,X+Ne),yn=bt>=0&&o[bt];if(l&&!yn||!l&&!(Xe>=0&&o[Xe])){qo(ou(G,E),h,S);const Pn=function jE(n,i,o,u,l){const h=new de(n,o,Zu);return h.multi=[],h.index=i,h.componentProviders=0,vv(h,l,u&&!o),h}(l?Kl:BE,o.length,l,u,N);!l&&yn&&(o[bt].providerFactory=Pn),Wl(h,n,i.length,0),i.push(S),G.directiveStart++,G.directiveEnd++,l&&(G.providerIndexes+=1048576),o.push(Pn),E.push(Pn)}else Wl(h,n,Xe>-1?Xe:bt,vv(o[l?bt:Xe],N,!l&&u));!l&&u&&yn&&o[bt].componentProviders++}}}function Wl(n,i,o,u){const l=cc(i),h=function Om(n){return!!n.useClass}(i);if(l||h){const N=(h?oe(i.useClass):i).prototype.ngOnDestroy;if(N){const G=n.destroyHooks||(n.destroyHooks=[]);if(!l&&i.multi){const X=G.indexOf(o);-1===X?G.push(o,[u,N]):G[X+1].push(u,N)}else G.push(o,N)}}}function vv(n,i,o){return o&&n.componentProviders++,n.multi.push(i)-1}function _v(n,i,o,u){for(let l=o;l<u;l++)if(i[l]===n)return l;return-1}function BE(n,i,o,u){return Ev(this.multi,[])}function Kl(n,i,o,u){const l=this.multi;let h;if(this.providerFactory){const E=this.providerFactory.componentProviders,S=ar(o,o[Gt],this.providerFactory.index,u);h=S.slice(0,E),Ev(l,h);for(let N=E;N<S.length;N++)h.push(S[N])}else h=[],Ev(l,h);return h}function Ev(n,i){for(let o=0;o<n.length;o++)i.push((0,n[o])());return i}function wv(n,i=[]){return o=>{o.providersResolver=(u,l)=>function md(n,i,o){const u=gn();if(u.firstCreatePass){const l=Ai(n);yd(o,u.data,u.blueprint,l,!0),yd(i,u.data,u.blueprint,l,!1)}}(u,l?l(n):n,i)}}class mh{}class A0{}function M0(n,i){return new Iv(n,i??null)}class Iv extends mh{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ey(this);const u=yi(i);this._bootstrapComponents=Pu(u.bootstrap),this._r3Injector=Ip(i,o,[{provide:mh,useValue:this},{provide:dc,useValue:this.componentFactoryResolver}],Me(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class Dv extends A0{constructor(i){super(),this.moduleType=i}create(i){return new Iv(this.moduleType,i)}}class R0 extends mh{constructor(i,o,u){super(),this.componentFactoryResolver=new Ey(this),this.instance=null;const l=new Fh([...i,{provide:mh,useValue:this},{provide:dc,useValue:this.componentFactoryResolver}],o||Nd(),u,new Set(["environment"]));this.injector=l,l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function Cv(n,i,o=null){return new R0(n,i,o).injector}let yh=(()=>{class n{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const u=zc(0,o.type),l=u.length>0?Cv([u],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,l)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=ze({token:n,providedIn:"environment",factory:()=>new n(Vt(gu))}),n})();function Lf(n){n.getStandaloneInjector=i=>i.get(yh).getOrCreateStandaloneInjector(n)}function F0(n,i,o,u){return tm(Ke(),Qn(),n,i,o,u)}function vh(n,i){const o=n[i];return o===Wn?void 0:o}function tm(n,i,o,u,l,h){const E=i+o;return Io(n,E,l)?ba(n,E+1,h?u.call(h,l):u(l)):vh(n,E+1)}function nm(n,i){const o=gn();let u;const l=n+Er;o.firstCreatePass?(u=function Nv(n,i){if(i)for(let o=i.length-1;o>=0;o--){const u=i[o];if(n===u.name)return u}}(i,o.pipeRegistry),o.data[l]=u,u.onDestroy&&(o.destroyHooks??(o.destroyHooks=[])).push(l,u.onDestroy)):u=o.data[l];const h=u.factory||(u.factory=Vs(u.type)),E=xr(Zu);try{const S=_a(!1),N=h();return _a(S),function Jp(n,i,o,u){o>=n.data.length&&(n.data[o]=null,n.blueprint[o]=null),i[o]=u}(o,Ke(),l,N),N}finally{xr(E)}}function Bf(n,i,o){const u=n+Er,l=Ke(),h=bi(l,u);return _h(l,u)?tm(l,Qn(),i,h.transform,o,h):h.transform(o)}function kv(n,i,o,u){const l=n+Er,h=Ke(),E=bi(h,l);return _h(h,l)?function Pv(n,i,o,u,l,h,E){const S=i+o;return Nu(n,S,l,h)?ba(n,S+2,E?u.call(E,l,h):u(l,h)):vh(n,S+2)}(h,Qn(),i,E.transform,o,u,E):E.transform(o,u)}function Fv(n,i,o,u,l){const h=n+Er,E=Ke(),S=bi(E,h);return _h(E,h)?function Uf(n,i,o,u,l,h,E,S){const N=i+o;return id(n,N,l,h,E)?ba(n,N+3,S?u.call(S,l,h,E):u(l,h,E)):vh(n,N+3)}(E,Qn(),i,S.transform,o,u,l,S):S.transform(o,u,l)}function _h(n,i){return n[Gt].data[i].pure}function im(n){return i=>{setTimeout(n,void 0,i)}}const yl=class Vv extends p.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,u){let l=i,h=o||(()=>null),E=u;if(i&&"object"==typeof i){const N=i;l=N.next?.bind(N),h=N.error?.bind(N),E=N.complete?.bind(N)}this.__isAsync&&(h=im(h),l&&(l=im(l)),E&&(E=im(E)));const S=super.subscribe({next:l,error:h,complete:E});return i instanceof F.w0&&i.add(S),S}};function rw(){return this._results[Symbol.iterator]()}class sm{get changes(){return this._changes||(this._changes=new yl)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=sm.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=rw)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const u=this;u.dirty=!1;const l=function le(n){return n.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function Q(n,i,o){if(n.length!==i.length)return!1;for(let u=0;u<n.length;u++){let l=n[u],h=i[u];if(o&&(l=o(l),h=o(h)),h!==l)return!1}return!0}(u._results,l,o))&&(u._results=l,u.length=l.length,u.last=l[this.length-1],u.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ql=(()=>{class n{}return n.__NG_ELEMENT_ID__=iw,n})();const Uv=ql,V0=class extends Uv{constructor(i,o,u){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(i,o){const u=this._declarationTContainer.tView,l=yc(this._declarationLView,u,i,16,null,u.declTNode,null,null,null,null,o||null);l[Zn]=this._declarationLView[this._declarationTContainer.index];const E=this._declarationLView[_i];return null!==E&&(l[_i]=E.createEmbeddedView(u)),Wh(u,l,i),new td(l)}};function iw(){return vd(hi(),Ke())}function vd(n,i){return 4&n.type?new V0(i,n,qu(n,i)):null}let jf=(()=>{class n{}return n.__NG_ELEMENT_ID__=U0,n})();function U0(){return j0(hi(),Ke())}const B0=jf,Bv=class extends B0{constructor(i,o,u){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=u}get element(){return qu(this._hostTNode,this._hostLView)}get injector(){return new as(this._hostTNode,this._hostLView)}get parentInjector(){const i=xi(this._hostTNode,this._hostLView);if(Xr(i)){const o=Vi(i,this._hostLView),u=Ji(i);return new as(o[Gt].data[u+8],o)}return new as(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=om(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-Qr}createEmbeddedView(i,o,u){let l,h;"number"==typeof u?l=u:null!=u&&(l=u.index,h=u.injector);const E=i.createEmbeddedView(o||{},h);return this.insert(E,l),E}createComponent(i,o,u,l,h){const E=i&&!function j(n){return"function"==typeof n}(i);let S;if(E)S=o;else{const ce=o||{};S=ce.index,u=ce.injector,l=ce.projectableNodes,h=ce.environmentInjector||ce.ngModuleRef}const N=E?i:new nd(an(i)),G=u||this.parentInjector;if(!h&&null==N.ngModule){const Ne=(E?G:this.parentInjector).get(gu,null);Ne&&(h=Ne)}const X=N.create(G,l,void 0,h);return this.insert(X.hostView,S),X}insert(i,o){const u=i._lView,l=u[Gt];if(function wi(n){return yr(n[dr])}(u)){const X=this.indexOf(i);if(-1!==X)this.detach(X);else{const ce=u[dr],Ne=new Bv(ce,ce[Yr],ce[dr]);Ne.detach(Ne.indexOf(i))}}const h=this._adjustIndex(o),E=this._lContainer;!function d(n,i,o,u){const l=Qr+u,h=o.length;u>0&&(o[l-1][sr]=i),u<h-Qr?(i[sr]=o[l],be(o,Qr+u,i)):(o.push(i),i[sr]=null),i[dr]=o;const E=i[Zn];null!==E&&o!==E&&function m(n,i){const o=n[lo];i[Cn]!==i[dr][dr][Cn]&&(n[Fs]=!0),null===o?n[lo]=[i]:o.push(i)}(E,i);const S=i[_i];null!==S&&S.insertView(n),i[Fn]|=64}(l,u,E,h);const S=jc(h,E),N=u[Ie],G=Ka(N,E[Zs]);return null!==G&&function hm(n,i,o,u,l,h){u[Cr]=l,u[Yr]=i,$c(n,u,o,1,l,h)}(l,E[Yr],N,u,G,S),i.attachToViewContainerRef(),be(am(E),h,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=om(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),u=K(this._lContainer,o);u&&(nt(am(this._lContainer),o),ne(u[Gt],u))}detach(i){const o=this._adjustIndex(i,-1),u=K(this._lContainer,o);return u&&null!=nt(am(this._lContainer),o)?new td(u):null}_adjustIndex(i,o=0){return i??this.length+o}};function om(n){return n[hs]}function am(n){return n[hs]||(n[hs]=[])}function j0(n,i){let o;const u=i[n.index];if(yr(u))o=u;else{let l;if(8&n.type)l=zr(u);else{const h=i[Ie];l=h.createComment("");const E=Li(n,i);Gn(h,Ka(h,E),l,function Bc(n,i){return n.nextSibling(i)}(h,E),!1)}i[n.index]=o=Yh(u,i,l,n),Jh(i,o)}return new Bv(o,n,i)}class jv{constructor(i){this.queryList=i,this.matches=null}clone(){return new jv(this.queryList)}setDirty(){this.queryList.setDirty()}}class $v{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const u=null!==i.contentQueries?i.contentQueries[0]:o.length,l=[];for(let h=0;h<u;h++){const E=o.getByIndex(h);l.push(this.queries[E.indexInDeclarationView].clone())}return new $v(l)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==Q0(i,o).matches&&this.queries[o].setDirty()}}class $0{constructor(i,o,u=null){this.predicate=i,this.flags=o,this.read=u}}class um{constructor(i=[]){this.queries=i}elementStart(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let u=0;u<this.length;u++){const l=null!==o?o.length:0,h=this.getByIndex(u).embeddedTView(i,l);h&&(h.indexInDeclarationView=u,null!==o?o.push(h):o=[h])}return null!==o?new um(o):null}template(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class Hv{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new Hv(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=i.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let l=0;l<u.length;l++){const h=u[l];this.matchTNodeWithReadOption(i,o,sw(o,h)),this.matchTNodeWithReadOption(i,o,os(o,i,h,!1,!1))}else u===ql?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,os(o,i,u,!1,!1))}matchTNodeWithReadOption(i,o,u){if(null!==u){const l=this.metadata.read;if(null!==l)if(l===hl||l===jf||l===ql&&4&o.type)this.addMatch(o.index,-2);else{const h=os(o,i,l,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,u)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function sw(n,i){const o=n.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===i)return o[u+1];return null}function aw(n,i,o,u){return-1===o?function ow(n,i){return 11&n.type?qu(n,i):4&n.type?vd(n,i):null}(i,n):-2===o?function uw(n,i,o){return o===hl?qu(i,n):o===ql?vd(i,n):o===jf?j0(i,n):void 0}(n,i,u):ar(n,n[Gt],o,i)}function H0(n,i,o,u){const l=i[_i].queries[u];if(null===l.matches){const h=n.data,E=o.matches,S=[];for(let N=0;N<E.length;N+=2){const G=E[N];S.push(G<0?null:aw(i,h[G],E[N+1],o.metadata.read))}l.matches=S}return l.matches}function zv(n,i,o,u){const l=n.queries.getByIndex(o),h=l.matches;if(null!==h){const E=H0(n,i,l,o);for(let S=0;S<h.length;S+=2){const N=h[S];if(N>0)u.push(E[S/2]);else{const G=h[S+1],X=i[-N];for(let ce=Qr;ce<X.length;ce++){const Ne=X[ce];Ne[Zn]===Ne[dr]&&zv(Ne[Gt],Ne,G,u)}if(null!==X[lo]){const ce=X[lo];for(let Ne=0;Ne<ce.length;Ne++){const Xe=ce[Ne];zv(Xe[Gt],Xe,G,u)}}}}}return u}function z0(n){const i=Ke(),o=gn(),u=is();Sa(u+1);const l=Q0(o,u);if(n.dirty&&function Ro(n){return 4==(4&n[Fn])}(i)===(2==(2&l.metadata.flags))){if(null===l.matches)n.reset([]);else{const h=l.crossesNgTemplate?zv(o,i,u,[]):H0(o,i,l,u);n.reset(h,Vh),n.notifyOnChanges()}return!0}return!1}function Gv(n,i,o){const u=gn();u.firstCreatePass&&(Z0(u,new $0(n,i,o),-1),2==(2&i)&&(u.staticViewQueries=!0)),q0(u,Ke(),i)}function G0(n,i,o,u){const l=gn();if(l.firstCreatePass){const h=hi();Z0(l,new $0(i,o,u),h.index),function Y0(n,i){const o=n.contentQueries||(n.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,i)}(l,n),2==(2&o)&&(l.staticContentQueries=!0)}q0(l,Ke(),o)}function W0(){return function K0(n,i){return n[_i].queries[i].queryList}(Ke(),is())}function q0(n,i,o){const u=new sm(4==(4&o));Op(n,i,u,u.destroy),null===i[_i]&&(i[_i]=new $v),i[_i].queries.push(new jv(u))}function Z0(n,i,o){null===n.queries&&(n.queries=new um),n.queries.track(new Hv(i,o))}function Q0(n,i){return n.queries.getByIndex(i)}function J0(n,i){return vd(n,i)}function lm(n){return!!yi(n)}function wh(...n){}const Iw=new Vr("Application Initializer");let qv=(()=>{class n{constructor(o){this.appInits=o,this.resolve=wh,this.reject=wh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,l)=>{this.resolve=u,this.reject=l})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const h=this.appInits[l]();if(Hl(h))o.push(h);else if(Sc(h)){const E=new Promise((S,N)=>{h.subscribe({complete:S,error:N})});o.push(E)}}Promise.all(o).then(()=>{u()}).catch(l=>{this.reject(l)}),0===o.length&&u(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)(Vt(Iw,8))},n.\u0275prov=ze({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Dw=new Vr("AppId",{providedIn:"root",factory:function Cw(){return`${aE()}${aE()}${aE()}`}});function aE(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Tw=new Vr("Platform Initializer"),rI=new Vr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),iI=new Vr("AnimationModuleType");let sI=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=ze({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Zv=new Vr("LocaleId",{providedIn:"root",factory:()=>Dr(Zv,zt.Optional|zt.SkipSelf)||function oI(){return typeof $localize<"u"&&$localize.locale||hd}()}),aI=new Vr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class uI{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let lI=(()=>{class n{compileModuleSync(o){return new Dv(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const u=this.compileModuleSync(o),h=Pu(yi(o).declarations).reduce((E,S)=>{const N=an(S);return N&&E.push(new nd(N)),E},[]);return new uI(u,h)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=ze({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const hI=(()=>Promise.resolve(0))();function uE(n){typeof Zone>"u"?hI.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class sl{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new yl(!1),this.onMicrotaskEmpty=new yl(!1),this.onStable=new yl(!1),this.onError=new yl(!1),typeof Zone>"u")throw new Le(908,!1);Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!u&&o,l.shouldCoalesceRunChangeDetection=u,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function fI(){let n=mr.requestAnimationFrame,i=mr.cancelAnimationFrame;if(typeof Zone<"u"&&n&&i){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const u=i[Zone.__symbol__("OriginalDelegate")];u&&(i=u)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function mI(n){const i=()=>{!function gI(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(mr,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,cE(n),n.isCheckStableRunning=!0,lE(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),cE(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,l,h,E,S)=>{try{return Aw(n),o.invokeTask(l,h,E,S)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||n.shouldCoalesceRunChangeDetection)&&i(),Mw(n)}},onInvoke:(o,u,l,h,E,S,N)=>{try{return Aw(n),o.invoke(l,h,E,S,N)}finally{n.shouldCoalesceRunChangeDetection&&i(),Mw(n)}},onHasTask:(o,u,l,h)=>{o.hasTask(l,h),u===l&&("microTask"==h.change?(n._hasPendingMicrotasks=h.microTask,cE(n),lE(n)):"macroTask"==h.change&&(n.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,u,l,h)=>(o.handleError(l,h),n.runOutsideAngular(()=>n.onError.emit(h)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!sl.isInAngularZone())throw new Le(909,!1)}static assertNotInAngularZone(){if(sl.isInAngularZone())throw new Le(909,!1)}run(i,o,u){return this._inner.run(i,o,u)}runTask(i,o,u,l){const h=this._inner,E=h.scheduleEventTask("NgZoneEvent: "+l,i,pI,wh,wh);try{return h.runTask(E,o,u)}finally{h.cancelTask(E)}}runGuarded(i,o,u){return this._inner.runGuarded(i,o,u)}runOutsideAngular(i){return this._outer.run(i)}}const pI={};function lE(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function cE(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Aw(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Mw(n){n._nesting--,lE(n)}class yI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new yl,this.onMicrotaskEmpty=new yl,this.onStable=new yl,this.onError=new yl}run(i,o,u){return i.apply(o,u)}runGuarded(i,o,u){return i.apply(o,u)}runOutsideAngular(i){return i()}runTask(i,o,u,l){return i.apply(o,u)}}const Rw=new Vr(""),xw=new Vr("");let dE,vI=(()=>{class n{constructor(o,u,l){this._ngZone=o,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,dE||(function _I(n){dE=n}(l),l.addToWindow(u)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{sl.assertNotInAngularZone(),uE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())uE(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,l){let h=-1;u&&u>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(E=>E.timeoutId!==h),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:h,updateCb:l})}whenStable(o,u,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,u,l){return[]}}return n.\u0275fac=function(o){return new(o||n)(Vt(sl),Vt(Pw),Vt(xw))},n.\u0275prov=ze({token:n,factory:n.\u0275fac}),n})(),Pw=(()=>{class n{constructor(){this._applications=new Map}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return dE?.findTestabilityInTree(this,o,u)??null}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=ze({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Nc=!1;let wd=null;const Ow=new Vr("AllowMultipleToken"),hE=new Vr("PlatformDestroyListeners"),Nw=new Vr("appBootstrapListener");class II{constructor(i,o){this.name=i,this.token=o}}function Fw(n,i,o=[]){const u=`Platform: ${i}`,l=new Vr(u);return(h=[])=>{let E=fE();if(!E||E.injector.get(Ow,!1)){const S=[...o,...h,{provide:l,useValue:!0}];n?n(S):function DI(n){if(wd&&!wd.get(Ow,!1))throw new Le(400,!1);wd=n;const i=n.get(Vw);(function kw(n){const i=n.get(Tw,null);i&&i.forEach(o=>o())})(n)}(function Lw(n=[],i){return mc.create({name:i,providers:[{provide:Ol,useValue:"platform"},{provide:hE,useValue:new Set([()=>wd=null])},...n]})}(S,u))}return function TI(n){const i=fE();if(!i)throw new Le(401,!1);return i}()}}function fE(){return wd?.get(Vw)??null}let Vw=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const l=function Bw(n,i){let o;return o="noop"===n?new yI:("zone.js"===n?void 0:n)||new sl(i),o}(u?.ngZone,function Uw(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(u)),h=[{provide:sl,useValue:l}];return l.run(()=>{const E=mc.create({providers:h,parent:this.injector,name:o.moduleType.name}),S=o.create(E),N=S.injector.get(hc,null);if(!N)throw new Le(402,!1);return l.runOutsideAngular(()=>{const G=l.onError.subscribe({next:X=>{N.handleError(X)}});S.onDestroy(()=>{Qv(this._modules,S),G.unsubscribe()})}),function jw(n,i,o){try{const u=o();return Hl(u)?u.catch(l=>{throw i.runOutsideAngular(()=>n.handleError(l)),l}):u}catch(u){throw i.runOutsideAngular(()=>n.handleError(u)),u}}(N,l,()=>{const G=S.injector.get(qv);return G.runInitializers(),G.donePromise.then(()=>(function o0(n){wt(n,"Expected localeId to be defined"),"string"==typeof n&&(Gg=n.toLowerCase().replace(/_/g,"-"))}(S.injector.get(Zv,hd)||hd),this._moduleDoBootstrap(S),S))})})}bootstrapModule(o,u=[]){const l=$w({},u);return function EI(n,i,o){const u=new Dv(o);return Promise.resolve(u)}(0,0,o).then(h=>this.bootstrapModuleFactory(h,l))}_moduleDoBootstrap(o){const u=o.injector.get(Yv);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(l=>u.bootstrap(l));else{if(!o.instance.ngDoBootstrap)throw new Le(-403,!1);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Le(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const o=this._injector.get(hE,null);o&&(o.forEach(u=>u()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(o){return new(o||n)(Vt(mc))},n.\u0275prov=ze({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function $w(n,i){return Array.isArray(i)?i.reduce($w,n):{...n,...i}}let Yv=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(o,u,l){this._zone=o,this._injector=u,this._exceptionHandler=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new $.y(S=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{S.next(this._stable),S.complete()})}),E=new $.y(S=>{let N;this._zone.runOutsideAngular(()=>{N=this._zone.onStable.subscribe(()=>{sl.assertNotInAngularZone(),uE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,S.next(!0))})})});const G=this._zone.onUnstable.subscribe(()=>{sl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{S.next(!1)}))});return()=>{N.unsubscribe(),G.unsubscribe()}});this.isStable=(0,re.T)(h,E.pipe((0,Z.B)()))}bootstrap(o,u){const l=o instanceof Fd;if(!this._injector.get(qv).done){!l&&hr(o);throw new Le(405,Nc)}let E;E=l?o:this._injector.get(dc).resolveComponentFactory(o),this.componentTypes.push(E.componentType);const S=function wI(n){return n.isBoundToModule}(E)?void 0:this._injector.get(mh),G=E.create(mc.NULL,[],u||E.selector,S),X=G.location.nativeElement,ce=G.injector.get(Rw,null);return ce?.registerApplication(X),G.onDestroy(()=>{this.detachView(G.hostView),Qv(this.components,G),ce?.unregisterApplication(X)}),this._loadComponent(G),G}tick(){if(this._runningTick)throw new Le(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;Qv(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const u=this._injector.get(Nw,[]);u.push(...this._bootstrapListeners),u.forEach(l=>l(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>Qv(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new Le(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(o){return new(o||n)(Vt(sl),Vt(gu),Vt(hc))},n.\u0275prov=ze({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Qv(n,i){const o=n.indexOf(i);o>-1&&n.splice(o,1)}function SI(){return!1}let AI=(()=>{class n{}return n.__NG_ELEMENT_ID__=MI,n})();function MI(n){return function RI(n,i,o){if(Ys(n)&&!o){const u=di(n.index,i);return new td(u,u)}return 47&n.type?new td(i[Cn],i):null}(hi(),Ke(),16==(16&n))}class Kw{constructor(){}supports(i){return rd(i)}create(i){return new FI(i)}}const kI=(n,i)=>i;class FI{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||kI}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,u=this._removalsHead,l=0,h=null;for(;o||u;){const E=!u||o&&o.currentIndex<Zw(u,l,h)?o:u,S=Zw(E,l,h),N=E.currentIndex;if(E===u)l--,u=u._nextRemoved;else if(o=o._next,null==E.previousIndex)l++;else{h||(h=[]);const G=S-l,X=N-l;if(G!=X){for(let Ne=0;Ne<G;Ne++){const Xe=Ne<h.length?h[Ne]:h[Ne]=0,bt=Xe+Ne;X<=bt&&bt<G&&(h[Ne]=Xe+1)}h[E.previousIndex]=X-G}}S!==N&&i(E,S,N)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!rd(i))throw new Le(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let l,h,E,o=this._itHead,u=!1;if(Array.isArray(i)){this.length=i.length;for(let S=0;S<this.length;S++)h=i[S],E=this._trackByFn(S,h),null!==o&&Object.is(o.trackById,E)?(u&&(o=this._verifyReinsertion(o,h,E,S)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,E,S),u=!0),o=o._next}else l=0,function B_(n,i){if(Array.isArray(n))for(let o=0;o<n.length;o++)i(n[o]);else{const o=n[Symbol.iterator]();let u;for(;!(u=o.next()).done;)i(u.value)}}(i,S=>{E=this._trackByFn(l,S),null!==o&&Object.is(o.trackById,E)?(u&&(o=this._verifyReinsertion(o,S,E,l)),Object.is(o.item,S)||this._addIdentityChange(o,S)):(o=this._mismatch(o,S,E,l),u=!0),o=o._next,l++}),this.length=l;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,u,l){let h;return null===i?h=this._itTail:(h=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,h,l)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(u,l))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,h,l)):i=this._addAfter(new LI(o,u),h,l),i}_verifyReinsertion(i,o,u,l){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==h?i=this._reinsertAfter(h,i._prev,l):i.currentIndex!=l&&(i.currentIndex=l,this._addToMoves(i,l)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const l=i._prevRemoved,h=i._nextRemoved;return null===l?this._removalsHead=h:l._nextRemoved=h,null===h?this._removalsTail=l:h._prevRemoved=l,this._insertAfter(i,o,u),this._addToMoves(i,u),i}_moveAfter(i,o,u){return this._unlink(i),this._insertAfter(i,o,u),this._addToMoves(i,u),i}_addAfter(i,o,u){return this._insertAfter(i,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,u){const l=null===o?this._itHead:o._next;return i._next=l,i._prev=o,null===l?this._itTail=i:l._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new qw),this._linkedRecords.put(i),i.currentIndex=u,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,u=i._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new qw),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class LI{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class VI{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,i))return u;return null}remove(i){const o=i._prevDup,u=i._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class qw{constructor(){this.map=new Map}put(i){const o=i.trackById;let u=this.map.get(o);u||(u=new VI,this.map.set(o,u)),u.add(i)}get(i,o){const l=this.map.get(i);return l?l.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Zw(n,i,o){const u=n.previousIndex;if(null===u)return u;let l=0;return o&&u<o.length&&(l=o[u]),u+i+l}class Yw{constructor(){}supports(i){return i instanceof Map||Ic(i)}create(){return new UI}}class UI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||Ic(i)))throw new Le(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(u,l)=>{if(o&&o.key===l)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(l,u);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const u=i._prev;return o._next=i,o._prev=u,i._prev=o,u&&(u._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const l=this._records.get(i);this._maybeAddToChanges(l,o);const h=l._prev,E=l._next;return h&&(h._next=E),E&&(E._prev=h),l._next=null,l._prev=null,l}const u=new BI(i);return this._records.set(i,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(u=>o(i[u],u))}}class BI{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Qw(){return new vE([new Kw])}let vE=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(null!=u){const l=u.factories.slice();o=o.concat(l)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||Qw()),deps:[[n,new Os,new jn]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(null!=u)return u;throw new Le(901,!1)}}return n.\u0275prov=ze({token:n,providedIn:"root",factory:Qw}),n})();function Jw(){return new _E([new Yw])}let _E=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(u){const l=u.factories.slice();o=o.concat(l)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||Jw()),deps:[[n,new Os,new jn]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(u)return u;throw new Le(901,!1)}}return n.\u0275prov=ze({token:n,providedIn:"root",factory:Jw}),n})();const HI=Fw(null,"core",[]);let zI=(()=>{class n{constructor(o){}}return n.\u0275fac=function(o){return new(o||n)(Vt(Yv))},n.\u0275mod=je({type:n}),n.\u0275inj=xe({}),n})();function GI(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},4006:(Ut,$e,U)=>{U.d($e,{EJ:()=>bs,Fj:()=>fe,JJ:()=>Nn,JL:()=>zt,JU:()=>Me,Kr:()=>ea,NI:()=>Pe,UX:()=>Bs,Wl:()=>ae,YN:()=>Ss,_Y:()=>Er,a5:()=>Vn,cw:()=>lt,kI:()=>Ue,qu:()=>wi,sg:()=>Ai,u:()=>ns,u5:()=>kn});var p=U(4650),F=U(6895),$=U(8996),re=U(4128),Z=U(4004);let Ee=(()=>{class B{constructor(O,J){this._renderer=O,this._elementRef=J,this.onChange=Qe=>{},this.onTouched=()=>{}}setProperty(O,J){this._renderer.setProperty(this._elementRef.nativeElement,O,J)}registerOnTouched(O){this.onTouched=O}registerOnChange(O){this.onChange=O}setDisabledState(O){this.setProperty("disabled",O)}}return B.\u0275fac=function(O){return new(O||B)(p.Y36(p.Qsj),p.Y36(p.SBq))},B.\u0275dir=p.lG2({type:B}),B})(),Ce=(()=>{class B extends Ee{}return B.\u0275fac=function(){let L;return function(J){return(L||(L=p.n5z(B)))(J||B)}}(),B.\u0275dir=p.lG2({type:B,features:[p.qOj]}),B})();const Me=new p.OlP("NgValueAccessor"),pe={provide:Me,useExisting:(0,p.Gpc)(()=>ae),multi:!0};let ae=(()=>{class B extends Ce{writeValue(O){this.setProperty("checked",O)}}return B.\u0275fac=function(){let L;return function(J){return(L||(L=p.n5z(B)))(J||B)}}(),B.\u0275dir=p.lG2({type:B,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(O,J){1&O&&p.NdJ("change",function(hn){return J.onChange(hn.target.checked)})("blur",function(){return J.onTouched()})},features:[p._Bn([pe]),p.qOj]}),B})();const se={provide:Me,useExisting:(0,p.Gpc)(()=>fe),multi:!0},Fe=new p.OlP("CompositionEventMode");let fe=(()=>{class B extends Ee{constructor(O,J,Qe){super(O,J),this._compositionMode=Qe,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function oe(){const B=(0,F.q)()?(0,F.q)().getUserAgent():"";return/android (\d+)/.test(B.toLowerCase())}())}writeValue(O){this.setProperty("value",O??"")}_handleInput(O){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(O)}_compositionStart(){this._composing=!0}_compositionEnd(O){this._composing=!1,this._compositionMode&&this.onChange(O)}}return B.\u0275fac=function(O){return new(O||B)(p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(Fe,8))},B.\u0275dir=p.lG2({type:B,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(O,J){1&O&&p.NdJ("input",function(hn){return J._handleInput(hn.target.value)})("blur",function(){return J.onTouched()})("compositionstart",function(){return J._compositionStart()})("compositionend",function(hn){return J._compositionEnd(hn.target.value)})},features:[p._Bn([se]),p.qOj]}),B})();const qe=!1;function yt(B){return null==B||("string"==typeof B||Array.isArray(B))&&0===B.length}function Le(B){return null!=B&&"number"==typeof B.length}const Be=new p.OlP("NgValidators"),st=new p.OlP("NgAsyncValidators"),It=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ue{static min(L){return function we(B){return L=>{if(yt(L.value)||yt(B))return null;const O=parseFloat(L.value);return!isNaN(O)&&O<B?{min:{min:B,actual:L.value}}:null}}(L)}static max(L){return function ot(B){return L=>{if(yt(L.value)||yt(B))return null;const O=parseFloat(L.value);return!isNaN(O)&&O>B?{max:{max:B,actual:L.value}}:null}}(L)}static required(L){return function Tt(B){return yt(B.value)?{required:!0}:null}(L)}static requiredTrue(L){return function gt(B){return!0===B.value?null:{required:!0}}(L)}static email(L){return function He(B){return yt(B.value)||It.test(B.value)?null:{email:!0}}(L)}static minLength(L){return function Dt(B){return L=>yt(L.value)||!Le(L.value)?null:L.value.length<B?{minlength:{requiredLength:B,actualLength:L.value.length}}:null}(L)}static maxLength(L){return function on(B){return L=>Le(L.value)&&L.value.length>B?{maxlength:{requiredLength:B,actualLength:L.value.length}}:null}(L)}static pattern(L){return function St(B){if(!B)return In;let L,O;return"string"==typeof B?(O="","^"!==B.charAt(0)&&(O+="^"),O+=B,"$"!==B.charAt(B.length-1)&&(O+="$"),L=new RegExp(O)):(O=B.toString(),L=B),J=>{if(yt(J.value))return null;const Qe=J.value;return L.test(Qe)?null:{pattern:{requiredPattern:O,actualValue:Qe}}}}(L)}static nullValidator(L){return null}static compose(L){return mt(L)}static composeAsync(L){return ft(L)}}function In(B){return null}function Ht(B){return null!=B}function Ci(B){const L=(0,p.QGY)(B)?(0,$.D)(B):B;if(qe&&!(0,p.CqO)(L)){let O="Expected async validator to return Promise or Observable.";throw"object"==typeof B&&(O+=" Are you using a synchronous validator where an async validator is expected?"),new p.vHH(-1101,O)}return L}function et(B){let L={};return B.forEach(O=>{L=null!=O?{...L,...O}:L}),0===Object.keys(L).length?null:L}function Ve(B,L){return L.map(O=>O(B))}function ut(B){return B.map(L=>function tt(B){return!B.validate}(L)?L:O=>L.validate(O))}function mt(B){if(!B)return null;const L=B.filter(Ht);return 0==L.length?null:function(O){return et(Ve(O,L))}}function wt(B){return null!=B?mt(ut(B)):null}function ft(B){if(!B)return null;const L=B.filter(Ht);return 0==L.length?null:function(O){const J=Ve(O,L).map(Ci);return(0,re.D)(J).pipe((0,Z.U)(et))}}function Ft(B){return null!=B?ft(ut(B)):null}function Kn(B,L){return null===B?[L]:Array.isArray(B)?[...B,L]:[B,L]}function jt(B){return B._rawValidators}function ze(B){return B._rawAsyncValidators}function ct(B){return B?Array.isArray(B)?B:[B]:[]}function xe(B,L){return Array.isArray(B)?B.includes(L):B===L}function Ze(B,L){const O=ct(L);return ct(B).forEach(Qe=>{xe(O,Qe)||O.push(Qe)}),O}function qt(B,L){return ct(L).filter(O=>!xe(B,O))}class _n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(L){this._rawValidators=L||[],this._composedValidatorFn=wt(this._rawValidators)}_setAsyncValidators(L){this._rawAsyncValidators=L||[],this._composedAsyncValidatorFn=Ft(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(L){this._onDestroyCallbacks.push(L)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(L=>L()),this._onDestroyCallbacks=[]}reset(L){this.control&&this.control.reset(L)}hasError(L,O){return!!this.control&&this.control.hasError(L,O)}getError(L,O){return this.control?this.control.getError(L,O):null}}class On extends _n{get formDirective(){return null}get path(){return null}}class Vn extends _n{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class cn{constructor(L){this._cd=L}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Nn=(()=>{class B extends cn{constructor(O){super(O)}}return B.\u0275fac=function(O){return new(O||B)(p.Y36(Vn,2))},B.\u0275dir=p.lG2({type:B,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(O,J){2&O&&p.ekj("ng-untouched",J.isUntouched)("ng-touched",J.isTouched)("ng-pristine",J.isPristine)("ng-dirty",J.isDirty)("ng-valid",J.isValid)("ng-invalid",J.isInvalid)("ng-pending",J.isPending)},features:[p.qOj]}),B})(),zt=(()=>{class B extends cn{constructor(O){super(O)}}return B.\u0275fac=function(O){return new(O||B)(p.Y36(On,10))},B.\u0275dir=p.lG2({type:B,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(O,J){2&O&&p.ekj("ng-untouched",J.isUntouched)("ng-touched",J.isTouched)("ng-pristine",J.isPristine)("ng-dirty",J.isDirty)("ng-valid",J.isValid)("ng-invalid",J.isInvalid)("ng-pending",J.isPending)("ng-submitted",J.isSubmitted)},features:[p.qOj]}),B})();function Fr(B,L){return B?`with name: '${L}'`:`at index: ${L}`}const Dn=!1,Ar="VALID",Vt="INVALID",zn="PENDING",Dr="DISABLED";function tr(B){return(Pr(B)?B.validators:B)||null}function qr(B,L){return(Pr(L)?L.asyncValidators:B)||null}function Pr(B){return null!=B&&!Array.isArray(B)&&"object"==typeof B}function ye(B,L,O){const J=B.controls;if(!(L?Object.keys(J):J).length)throw new p.vHH(1e3,Dn?function ui(B){return`\n    There are no form controls registered with this ${B?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(L):"");if(!J[O])throw new p.vHH(1001,Dn?function ir(B,L){return`Cannot find form control ${Fr(B,L)}`}(L,O):"")}function he(B,L,O){B._forEachChild((J,Qe)=>{if(void 0===O[Qe])throw new p.vHH(1002,Dn?function Zt(B,L){return`Must supply a value for form control ${Fr(B,L)}`}(L,Qe):"")})}class De{constructor(L,O){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(L),this._assignAsyncValidators(O)}get validator(){return this._composedValidatorFn}set validator(L){this._rawValidators=this._composedValidatorFn=L}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(L){this._rawAsyncValidators=this._composedAsyncValidatorFn=L}get parent(){return this._parent}get valid(){return this.status===Ar}get invalid(){return this.status===Vt}get pending(){return this.status==zn}get disabled(){return this.status===Dr}get enabled(){return this.status!==Dr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(L){this._assignValidators(L)}setAsyncValidators(L){this._assignAsyncValidators(L)}addValidators(L){this.setValidators(Ze(L,this._rawValidators))}addAsyncValidators(L){this.setAsyncValidators(Ze(L,this._rawAsyncValidators))}removeValidators(L){this.setValidators(qt(L,this._rawValidators))}removeAsyncValidators(L){this.setAsyncValidators(qt(L,this._rawAsyncValidators))}hasValidator(L){return xe(this._rawValidators,L)}hasAsyncValidator(L){return xe(this._rawAsyncValidators,L)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(L={}){this.touched=!0,this._parent&&!L.onlySelf&&this._parent.markAsTouched(L)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(L=>L.markAllAsTouched())}markAsUntouched(L={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(O=>{O.markAsUntouched({onlySelf:!0})}),this._parent&&!L.onlySelf&&this._parent._updateTouched(L)}markAsDirty(L={}){this.pristine=!1,this._parent&&!L.onlySelf&&this._parent.markAsDirty(L)}markAsPristine(L={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(O=>{O.markAsPristine({onlySelf:!0})}),this._parent&&!L.onlySelf&&this._parent._updatePristine(L)}markAsPending(L={}){this.status=zn,!1!==L.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!L.onlySelf&&this._parent.markAsPending(L)}disable(L={}){const O=this._parentMarkedDirty(L.onlySelf);this.status=Dr,this.errors=null,this._forEachChild(J=>{J.disable({...L,onlySelf:!0})}),this._updateValue(),!1!==L.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...L,skipPristineCheck:O}),this._onDisabledChange.forEach(J=>J(!0))}enable(L={}){const O=this._parentMarkedDirty(L.onlySelf);this.status=Ar,this._forEachChild(J=>{J.enable({...L,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:L.emitEvent}),this._updateAncestors({...L,skipPristineCheck:O}),this._onDisabledChange.forEach(J=>J(!1))}_updateAncestors(L){this._parent&&!L.onlySelf&&(this._parent.updateValueAndValidity(L),L.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(L){this._parent=L}getRawValue(){return this.value}updateValueAndValidity(L={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ar||this.status===zn)&&this._runAsyncValidator(L.emitEvent)),!1!==L.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!L.onlySelf&&this._parent.updateValueAndValidity(L)}_updateTreeValidity(L={emitEvent:!0}){this._forEachChild(O=>O._updateTreeValidity(L)),this.updateValueAndValidity({onlySelf:!0,emitEvent:L.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Dr:Ar}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(L){if(this.asyncValidator){this.status=zn,this._hasOwnPendingAsyncValidator=!0;const O=Ci(this.asyncValidator(this));this._asyncValidationSubscription=O.subscribe(J=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(J,{emitEvent:L})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(L,O={}){this.errors=L,this._updateControlsErrors(!1!==O.emitEvent)}get(L){let O=L;return null==O||(Array.isArray(O)||(O=O.split(".")),0===O.length)?null:O.reduce((J,Qe)=>J&&J._find(Qe),this)}getError(L,O){const J=O?this.get(O):this;return J&&J.errors?J.errors[L]:null}hasError(L,O){return!!this.getError(L,O)}get root(){let L=this;for(;L._parent;)L=L._parent;return L}_updateControlsErrors(L){this.status=this._calculateStatus(),L&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(L)}_initObservables(){this.valueChanges=new p.vpe,this.statusChanges=new p.vpe}_calculateStatus(){return this._allControlsDisabled()?Dr:this.errors?Vt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(zn)?zn:this._anyControlsHaveStatus(Vt)?Vt:Ar}_anyControlsHaveStatus(L){return this._anyControls(O=>O.status===L)}_anyControlsDirty(){return this._anyControls(L=>L.dirty)}_anyControlsTouched(){return this._anyControls(L=>L.touched)}_updatePristine(L={}){this.pristine=!this._anyControlsDirty(),this._parent&&!L.onlySelf&&this._parent._updatePristine(L)}_updateTouched(L={}){this.touched=this._anyControlsTouched(),this._parent&&!L.onlySelf&&this._parent._updateTouched(L)}_registerOnCollectionChange(L){this._onCollectionChange=L}_setUpdateStrategy(L){Pr(L)&&null!=L.updateOn&&(this._updateOn=L.updateOn)}_parentMarkedDirty(L){return!L&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(L){return null}_assignValidators(L){this._rawValidators=Array.isArray(L)?L.slice():L,this._composedValidatorFn=function Pt(B){return Array.isArray(B)?wt(B):B||null}(this._rawValidators)}_assignAsyncValidators(L){this._rawAsyncValidators=Array.isArray(L)?L.slice():L,this._composedAsyncValidatorFn=function un(B){return Array.isArray(B)?Ft(B):B||null}(this._rawAsyncValidators)}}class lt extends De{constructor(L,O,J){super(tr(O),qr(J,O)),this.controls=L,this._initObservables(),this._setUpdateStrategy(O),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(L,O){return this.controls[L]?this.controls[L]:(this.controls[L]=O,O.setParent(this),O._registerOnCollectionChange(this._onCollectionChange),O)}addControl(L,O,J={}){this.registerControl(L,O),this.updateValueAndValidity({emitEvent:J.emitEvent}),this._onCollectionChange()}removeControl(L,O={}){this.controls[L]&&this.controls[L]._registerOnCollectionChange(()=>{}),delete this.controls[L],this.updateValueAndValidity({emitEvent:O.emitEvent}),this._onCollectionChange()}setControl(L,O,J={}){this.controls[L]&&this.controls[L]._registerOnCollectionChange(()=>{}),delete this.controls[L],O&&this.registerControl(L,O),this.updateValueAndValidity({emitEvent:J.emitEvent}),this._onCollectionChange()}contains(L){return this.controls.hasOwnProperty(L)&&this.controls[L].enabled}setValue(L,O={}){he(this,!0,L),Object.keys(L).forEach(J=>{ye(this,!0,J),this.controls[J].setValue(L[J],{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O)}patchValue(L,O={}){null!=L&&(Object.keys(L).forEach(J=>{const Qe=this.controls[J];Qe&&Qe.patchValue(L[J],{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O))}reset(L={},O={}){this._forEachChild((J,Qe)=>{J.reset(L[Qe],{onlySelf:!0,emitEvent:O.emitEvent})}),this._updatePristine(O),this._updateTouched(O),this.updateValueAndValidity(O)}getRawValue(){return this._reduceChildren({},(L,O,J)=>(L[J]=O.getRawValue(),L))}_syncPendingControls(){let L=this._reduceChildren(!1,(O,J)=>!!J._syncPendingControls()||O);return L&&this.updateValueAndValidity({onlySelf:!0}),L}_forEachChild(L){Object.keys(this.controls).forEach(O=>{const J=this.controls[O];J&&L(J,O)})}_setUpControls(){this._forEachChild(L=>{L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(L){for(const[O,J]of Object.entries(this.controls))if(this.contains(O)&&L(J))return!0;return!1}_reduceValue(){return this._reduceChildren({},(O,J,Qe)=>((J.enabled||this.disabled)&&(O[Qe]=J.value),O))}_reduceChildren(L,O){let J=L;return this._forEachChild((Qe,hn)=>{J=O(J,Qe,hn)}),J}_allControlsDisabled(){for(const L of Object.keys(this.controls))if(this.controls[L].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(L){return this.controls.hasOwnProperty(L)?this.controls[L]:null}}class ve extends lt{}const ie=new p.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Te}),Te="always";function At(B,L,O=Te){Fi(B,L),L.valueAccessor.writeValue(B.value),(B.disabled||"always"===O)&&L.valueAccessor.setDisabledState?.(B.disabled),function je(B,L){L.valueAccessor.registerOnChange(O=>{B._pendingValue=O,B._pendingChange=!0,B._pendingDirty=!0,"change"===B.updateOn&&tn(B,L)})}(B,L),function xn(B,L){const O=(J,Qe)=>{L.valueAccessor.writeValue(J),Qe&&L.viewToModelUpdate(J)};B.registerOnChange(O),L._registerOnDestroy(()=>{B._unregisterOnChange(O)})}(B,L),function Ct(B,L){L.valueAccessor.registerOnTouched(()=>{B._pendingTouched=!0,"blur"===B.updateOn&&B._pendingChange&&tn(B,L),"submit"!==B.updateOn&&B.markAsTouched()})}(B,L),function Un(B,L){if(L.valueAccessor.setDisabledState){const O=J=>{L.valueAccessor.setDisabledState(J)};B.registerOnDisabledChange(O),L._registerOnDestroy(()=>{B._unregisterOnDisabledChange(O)})}}(B,L)}function dn(B,L,O=!0){const J=()=>{};L.valueAccessor&&(L.valueAccessor.registerOnChange(J),L.valueAccessor.registerOnTouched(J)),rt(B,L),B&&(L._invokeOnDestroyCallbacks(),B._registerOnCollectionChange(()=>{}))}function qn(B,L){B.forEach(O=>{O.registerOnValidatorChange&&O.registerOnValidatorChange(L)})}function Fi(B,L){const O=jt(B);null!==L.validator?B.setValidators(Kn(O,L.validator)):"function"==typeof O&&B.setValidators([O]);const J=ze(B);null!==L.asyncValidator?B.setAsyncValidators(Kn(J,L.asyncValidator)):"function"==typeof J&&B.setAsyncValidators([J]);const Qe=()=>B.updateValueAndValidity();qn(L._rawValidators,Qe),qn(L._rawAsyncValidators,Qe)}function rt(B,L){let O=!1;if(null!==B){if(null!==L.validator){const Qe=jt(B);if(Array.isArray(Qe)&&Qe.length>0){const hn=Qe.filter(Jr=>Jr!==L.validator);hn.length!==Qe.length&&(O=!0,B.setValidators(hn))}}if(null!==L.asyncValidator){const Qe=ze(B);if(Array.isArray(Qe)&&Qe.length>0){const hn=Qe.filter(Jr=>Jr!==L.asyncValidator);hn.length!==Qe.length&&(O=!0,B.setAsyncValidators(hn))}}}const J=()=>{};return qn(L._rawValidators,J),qn(L._rawAsyncValidators,J),O}function tn(B,L){B._pendingDirty&&B.markAsDirty(),B.setValue(B._pendingValue,{emitModelToViewChange:!1}),L.viewToModelUpdate(B._pendingValue),B._pendingChange=!1}function Hi(B,L){const O=B.indexOf(L);O>-1&&B.splice(O,1)}function Or(B){return"object"==typeof B&&null!==B&&2===Object.keys(B).length&&"value"in B&&"disabled"in B}const Pe=class extends De{constructor(L=null,O,J){super(tr(O),qr(J,O)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(L),this._setUpdateStrategy(O),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Pr(O)&&(O.nonNullable||O.initialValueIsDefault)&&(this.defaultValue=Or(L)?L.value:L)}setValue(L,O={}){this.value=this._pendingValue=L,this._onChange.length&&!1!==O.emitModelToViewChange&&this._onChange.forEach(J=>J(this.value,!1!==O.emitViewToModelChange)),this.updateValueAndValidity(O)}patchValue(L,O={}){this.setValue(L,O)}reset(L=this.defaultValue,O={}){this._applyFormState(L),this.markAsPristine(O),this.markAsUntouched(O),this.setValue(this.value,O),this._pendingChange=!1}_updateValue(){}_anyControls(L){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(L){this._onChange.push(L)}_unregisterOnChange(L){Hi(this._onChange,L)}registerOnDisabledChange(L){this._onDisabledChange.push(L)}_unregisterOnDisabledChange(L){Hi(this._onDisabledChange,L)}_forEachChild(L){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(L){Or(L)?(this.value=this._pendingValue=L.value,L.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=L}};let Er=(()=>{class B{}return B.\u0275fac=function(O){return new(O||B)},B.\u0275dir=p.lG2({type:B,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),B})(),hs=(()=>{class B{}return B.\u0275fac=function(O){return new(O||B)},B.\u0275mod=p.oAB({type:B}),B.\u0275inj=p.cJS({}),B})();const yr=new p.OlP("NgModelWithFormControlWarning"),co={provide:On,useExisting:(0,p.Gpc)(()=>Ai)};let Ai=(()=>{class B extends On{constructor(O,J,Qe){super(),this.callSetDisabledState=Qe,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new p.vpe,this._setValidators(O),this._setAsyncValidators(J)}ngOnChanges(O){this._checkFormPresent(),O.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(rt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(O){const J=this.form.get(O.path);return At(J,O,this.callSetDisabledState),J.updateValueAndValidity({emitEvent:!1}),this.directives.push(O),J}getControl(O){return this.form.get(O.path)}removeControl(O){dn(O.control||null,O,!1),function Fn(B,L){const O=B.indexOf(L);O>-1&&B.splice(O,1)}(this.directives,O)}addFormGroup(O){this._setUpFormContainer(O)}removeFormGroup(O){this._cleanUpFormContainer(O)}getFormGroup(O){return this.form.get(O.path)}addFormArray(O){this._setUpFormContainer(O)}removeFormArray(O){this._cleanUpFormContainer(O)}getFormArray(O){return this.form.get(O.path)}updateModel(O,J){this.form.get(O.path).setValue(J)}onSubmit(O){return this.submitted=!0,function Cr(B,L){B._syncPendingControls(),L.forEach(O=>{const J=O.control;"submit"===J.updateOn&&J._pendingChange&&(O.viewToModelUpdate(J._pendingValue),J._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(O),"dialog"===O?.target?.method}onReset(){this.resetForm()}resetForm(O){this.form.reset(O),this.submitted=!1}_updateDomValue(){this.directives.forEach(O=>{const J=O.control,Qe=this.form.get(O.path);J!==Qe&&(dn(J||null,O),(B=>B instanceof Pe)(Qe)&&(At(Qe,O,this.callSetDisabledState),O.control=Qe))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(O){const J=this.form.get(O.path);(function An(B,L){Fi(B,L)})(J,O),J.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(O){if(this.form){const J=this.form.get(O.path);J&&function an(B,L){return rt(B,L)}(J,O)&&J.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Fi(this.form,this),this._oldForm&&rt(this._oldForm,this)}_checkFormPresent(){}}return B.\u0275fac=function(O){return new(O||B)(p.Y36(Be,10),p.Y36(st,10),p.Y36(ie,8))},B.\u0275dir=p.lG2({type:B,selectors:[["","formGroup",""]],hostBindings:function(O,J){1&O&&p.NdJ("submit",function(hn){return J.onSubmit(hn)})("reset",function(){return J.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p._Bn([co]),p.qOj,p.TTD]}),B})();const Ts={provide:Vn,useExisting:(0,p.Gpc)(()=>ns)};let ns=(()=>{class B extends Vn{set isDisabled(O){}constructor(O,J,Qe,hn,Jr){super(),this._ngModelWarningConfig=Jr,this._added=!1,this.update=new p.vpe,this._ngModelWarningSent=!1,this._parent=O,this._setValidators(J),this._setAsyncValidators(Qe),this.valueAccessor=function Gt(B,L){if(!L)return null;let O,J,Qe;return Array.isArray(L),L.forEach(hn=>{hn.constructor===fe?O=hn:function Zr(B){return Object.getPrototypeOf(B.constructor)===Ce}(hn)?J=hn:Qe=hn}),Qe||J||O||null}(0,hn)}ngOnChanges(O){this._added||this._setUpControl(),function vi(B,L){if(!B.hasOwnProperty("model"))return!1;const O=B.model;return!!O.isFirstChange()||!Object.is(L,O.currentValue)}(O,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(O){this.viewModel=O,this.update.emit(O)}get path(){return function dt(B,L){return[...L.path,B]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return B._ngModelWarningSentOnce=!1,B.\u0275fac=function(O){return new(O||B)(p.Y36(On,13),p.Y36(Be,10),p.Y36(st,10),p.Y36(Me,10),p.Y36(yr,8))},B.\u0275dir=p.lG2({type:B,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[p._Bn([Ts]),p.qOj,p.TTD]}),B})();const ho={provide:Me,useExisting:(0,p.Gpc)(()=>bs),multi:!0};function Xo(B,L){return null==B?`${L}`:(L&&"object"==typeof L&&(L="Object"),`${B}: ${L}`.slice(0,50))}let bs=(()=>{class B extends Ce{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(O){this._compareWith=O}writeValue(O){this.value=O;const Qe=Xo(this._getOptionId(O),O);this.setProperty("value",Qe)}registerOnChange(O){this.onChange=J=>{this.value=this._getOptionValue(J),O(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(O){for(const J of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(J),O))return J;return null}_getOptionValue(O){const J=function $o(B){return B.split(":")[0]}(O);return this._optionMap.has(J)?this._optionMap.get(J):O}}return B.\u0275fac=function(){let L;return function(J){return(L||(L=p.n5z(B)))(J||B)}}(),B.\u0275dir=p.lG2({type:B,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(O,J){1&O&&p.NdJ("change",function(hn){return J.onChange(hn.target.value)})("blur",function(){return J.onTouched()})},inputs:{compareWith:"compareWith"},features:[p._Bn([ho]),p.qOj]}),B})(),Ss=(()=>{class B{constructor(O,J,Qe){this._element=O,this._renderer=J,this._select=Qe,this._select&&(this.id=this._select._registerOption())}set ngValue(O){null!=this._select&&(this._select._optionMap.set(this.id,O),this._setElementValue(Xo(this.id,O)),this._select.writeValue(this._select.value))}set value(O){this._setElementValue(O),this._select&&this._select.writeValue(this._select.value)}_setElementValue(O){this._renderer.setProperty(this._element.nativeElement,"value",O)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return B.\u0275fac=function(O){return new(O||B)(p.Y36(p.SBq),p.Y36(p.Qsj),p.Y36(bs,9))},B.\u0275dir=p.lG2({type:B,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),B})();const Ho={provide:Me,useExisting:(0,p.Gpc)(()=>Yi),multi:!0};function Ri(B,L){return null==B?`${L}`:("string"==typeof L&&(L=`'${L}'`),L&&"object"==typeof L&&(L="Object"),`${B}: ${L}`.slice(0,50))}let Yi=(()=>{class B extends Ce{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(O){this._compareWith=O}writeValue(O){let J;if(this.value=O,Array.isArray(O)){const Qe=O.map(hn=>this._getOptionId(hn));J=(hn,Jr)=>{hn._setSelected(Qe.indexOf(Jr.toString())>-1)}}else J=(Qe,hn)=>{Qe._setSelected(!1)};this._optionMap.forEach(J)}registerOnChange(O){this.onChange=J=>{const Qe=[],hn=J.selectedOptions;if(void 0!==hn){const Jr=hn;for(let Ke=0;Ke<Jr.length;Ke++){const mo=this._getOptionValue(Jr[Ke].value);Qe.push(mo)}}else{const Jr=J.options;for(let Ke=0;Ke<Jr.length;Ke++){const gn=Jr[Ke];if(gn.selected){const mo=this._getOptionValue(gn.value);Qe.push(mo)}}}this.value=Qe,O(Qe)}}_registerOption(O){const J=(this._idCounter++).toString();return this._optionMap.set(J,O),J}_getOptionId(O){for(const J of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(J)._value,O))return J;return null}_getOptionValue(O){const J=function Qs(B){return B.split(":")[0]}(O);return this._optionMap.has(J)?this._optionMap.get(J)._value:O}}return B.\u0275fac=function(){let L;return function(J){return(L||(L=p.n5z(B)))(J||B)}}(),B.\u0275dir=p.lG2({type:B,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(O,J){1&O&&p.NdJ("change",function(hn){return J.onChange(hn.target)})("blur",function(){return J.onTouched()})},inputs:{compareWith:"compareWith"},features:[p._Bn([Ho]),p.qOj]}),B})(),ea=(()=>{class B{constructor(O,J,Qe){this._element=O,this._renderer=J,this._select=Qe,this._select&&(this.id=this._select._registerOption(this))}set ngValue(O){null!=this._select&&(this._value=O,this._setElementValue(Ri(this.id,O)),this._select.writeValue(this._select.value))}set value(O){this._select?(this._value=O,this._setElementValue(Ri(this.id,O)),this._select.writeValue(this._select.value)):this._setElementValue(O)}_setElementValue(O){this._renderer.setProperty(this._element.nativeElement,"value",O)}_setSelected(O){this._renderer.setProperty(this._element.nativeElement,"selected",O)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return B.\u0275fac=function(O){return new(O||B)(p.Y36(p.SBq),p.Y36(p.Qsj),p.Y36(Yi,9))},B.\u0275dir=p.lG2({type:B,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),B})(),gs=(()=>{class B{}return B.\u0275fac=function(O){return new(O||B)},B.\u0275mod=p.oAB({type:B}),B.\u0275inj=p.cJS({imports:[hs]}),B})();class bi extends De{constructor(L,O,J){super(tr(O),qr(J,O)),this.controls=L,this._initObservables(),this._setUpdateStrategy(O),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(L){return this.controls[this._adjustIndex(L)]}push(L,O={}){this.controls.push(L),this._registerControl(L),this.updateValueAndValidity({emitEvent:O.emitEvent}),this._onCollectionChange()}insert(L,O,J={}){this.controls.splice(L,0,O),this._registerControl(O),this.updateValueAndValidity({emitEvent:J.emitEvent})}removeAt(L,O={}){let J=this._adjustIndex(L);J<0&&(J=0),this.controls[J]&&this.controls[J]._registerOnCollectionChange(()=>{}),this.controls.splice(J,1),this.updateValueAndValidity({emitEvent:O.emitEvent})}setControl(L,O,J={}){let Qe=this._adjustIndex(L);Qe<0&&(Qe=0),this.controls[Qe]&&this.controls[Qe]._registerOnCollectionChange(()=>{}),this.controls.splice(Qe,1),O&&(this.controls.splice(Qe,0,O),this._registerControl(O)),this.updateValueAndValidity({emitEvent:J.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(L,O={}){he(this,!1,L),L.forEach((J,Qe)=>{ye(this,!1,Qe),this.at(Qe).setValue(J,{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O)}patchValue(L,O={}){null!=L&&(L.forEach((J,Qe)=>{this.at(Qe)&&this.at(Qe).patchValue(J,{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O))}reset(L=[],O={}){this._forEachChild((J,Qe)=>{J.reset(L[Qe],{onlySelf:!0,emitEvent:O.emitEvent})}),this._updatePristine(O),this._updateTouched(O),this.updateValueAndValidity(O)}getRawValue(){return this.controls.map(L=>L.getRawValue())}clear(L={}){this.controls.length<1||(this._forEachChild(O=>O._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:L.emitEvent}))}_adjustIndex(L){return L<0?L+this.length:L}_syncPendingControls(){let L=this.controls.reduce((O,J)=>!!J._syncPendingControls()||O,!1);return L&&this.updateValueAndValidity({onlySelf:!0}),L}_forEachChild(L){this.controls.forEach((O,J)=>{L(O,J)})}_updateValue(){this.value=this.controls.filter(L=>L.enabled||this.disabled).map(L=>L.value)}_anyControls(L){return this.controls.some(O=>O.enabled&&L(O))}_setUpControls(){this._forEachChild(L=>this._registerControl(L))}_allControlsDisabled(){for(const L of this.controls)if(L.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(L){L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange)}_find(L){return this.at(L)??null}}function Lr(B){return!!B&&(void 0!==B.asyncValidators||void 0!==B.validators||void 0!==B.updateOn)}let wi=(()=>{class B{constructor(){this.useNonNullable=!1}get nonNullable(){const O=new B;return O.useNonNullable=!0,O}group(O,J=null){const Qe=this._reduceControls(O);let hn={};return Lr(J)?hn=J:null!==J&&(hn.validators=J.validator,hn.asyncValidators=J.asyncValidator),new lt(Qe,hn)}record(O,J=null){const Qe=this._reduceControls(O);return new ve(Qe,J)}control(O,J,Qe){let hn={};return this.useNonNullable?(Lr(J)?hn=J:(hn.validators=J,hn.asyncValidators=Qe),new Pe(O,{...hn,nonNullable:!0})):new Pe(O,J,Qe)}array(O,J,Qe){const hn=O.map(Jr=>this._createControl(Jr));return new bi(hn,J,Qe)}_reduceControls(O){const J={};return Object.keys(O).forEach(Qe=>{J[Qe]=this._createControl(O[Qe])}),J}_createControl(O){return O instanceof Pe||O instanceof De?O:Array.isArray(O)?this.control(O[0],O.length>1?O[1]:null,O.length>2?O[2]:null):this.control(O)}}return B.\u0275fac=function(O){return new(O||B)},B.\u0275prov=p.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"}),B})(),kn=(()=>{class B{static withConfig(O){return{ngModule:B,providers:[{provide:ie,useValue:O.callSetDisabledState??Te}]}}}return B.\u0275fac=function(O){return new(O||B)},B.\u0275mod=p.oAB({type:B}),B.\u0275inj=p.cJS({imports:[gs]}),B})(),Bs=(()=>{class B{static withConfig(O){return{ngModule:B,providers:[{provide:yr,useValue:O.warnOnNgModelWithFormControl??"always"},{provide:ie,useValue:O.callSetDisabledState??Te}]}}}return B.\u0275fac=function(O){return new(O||B)},B.\u0275mod=p.oAB({type:B}),B.\u0275inj=p.cJS({imports:[gs]}),B})()},1481:(Ut,$e,U)=>{U.d($e,{Dx:()=>En,H7:()=>De,b2:()=>Kr,q6:()=>gi,se:()=>Ht});var p=U(6895),F=U(4650);class $ extends p.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class re extends ${static makeCurrent(){(0,p.HT)(new re)}onAndCancel(_e,ie,Te){return _e.addEventListener(ie,Te,!1),()=>{_e.removeEventListener(ie,Te,!1)}}dispatchEvent(_e,ie){_e.dispatchEvent(ie)}remove(_e){_e.parentNode&&_e.parentNode.removeChild(_e)}createElement(_e,ie){return(ie=ie||this.getDefaultDocument()).createElement(_e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(_e){return _e.nodeType===Node.ELEMENT_NODE}isShadowRoot(_e){return _e instanceof DocumentFragment}getGlobalEventTarget(_e,ie){return"window"===ie?window:"document"===ie?_e:"body"===ie?_e.body:null}getBaseHref(_e){const ie=function Ee(){return Z=Z||document.querySelector("base"),Z?Z.getAttribute("href"):null}();return null==ie?null:function Me(ve){Ce=Ce||document.createElement("a"),Ce.setAttribute("href",ve);const _e=Ce.pathname;return"/"===_e.charAt(0)?_e:`/${_e}`}(ie)}resetBaseElement(){Z=null}getUserAgent(){return window.navigator.userAgent}getCookie(_e){return(0,p.Mx)(document.cookie,_e)}}let Ce,Z=null;const pe=new F.OlP("TRANSITION_ID"),se=[{provide:F.ip1,useFactory:function ae(ve,_e,ie){return()=>{ie.get(F.CZH).donePromise.then(()=>{const Te=(0,p.q)(),dt=_e.querySelectorAll(`style[ng-transition="${ve}"]`);for(let At=0;At<dt.length;At++)Te.remove(dt[At])})}},deps:[pe,p.K0,F.zs3],multi:!0}];let Fe=(()=>{class ve{build(){return new XMLHttpRequest}}return ve.\u0275fac=function(ie){return new(ie||ve)},ve.\u0275prov=F.Yz7({token:ve,factory:ve.\u0275fac}),ve})();const fe=new F.OlP("EventManagerPlugins");let qe=(()=>{class ve{constructor(ie,Te){this._zone=Te,this._eventNameToPlugin=new Map,ie.forEach(dt=>{dt.manager=this}),this._plugins=ie.slice().reverse()}addEventListener(ie,Te,dt){return this._findPluginFor(Te).addEventListener(ie,Te,dt)}addGlobalEventListener(ie,Te,dt){return this._findPluginFor(Te).addGlobalEventListener(ie,Te,dt)}getZone(){return this._zone}_findPluginFor(ie){const Te=this._eventNameToPlugin.get(ie);if(Te)return Te;const dt=this._plugins;for(let At=0;At<dt.length;At++){const dn=dt[At];if(dn.supports(ie))return this._eventNameToPlugin.set(ie,dn),dn}throw new Error(`No event manager plugin found for event ${ie}`)}}return ve.\u0275fac=function(ie){return new(ie||ve)(F.LFG(fe),F.LFG(F.R0b))},ve.\u0275prov=F.Yz7({token:ve,factory:ve.\u0275fac}),ve})();class yt{constructor(_e){this._doc=_e}addGlobalEventListener(_e,ie,Te){const dt=(0,p.q)().getGlobalEventTarget(this._doc,_e);if(!dt)throw new Error(`Unsupported event target ${dt} for event ${ie}`);return this.addEventListener(dt,ie,Te)}}let Le=(()=>{class ve{constructor(){this.usageCount=new Map}addStyles(ie){for(const Te of ie)1===this.changeUsageCount(Te,1)&&this.onStyleAdded(Te)}removeStyles(ie){for(const Te of ie)0===this.changeUsageCount(Te,-1)&&this.onStyleRemoved(Te)}onStyleRemoved(ie){}onStyleAdded(ie){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(ie,Te){const dt=this.usageCount;let At=dt.get(ie)??0;return At+=Te,At>0?dt.set(ie,At):dt.delete(ie),At}ngOnDestroy(){for(const ie of this.getAllStyles())this.onStyleRemoved(ie);this.usageCount.clear()}}return ve.\u0275fac=function(ie){return new(ie||ve)},ve.\u0275prov=F.Yz7({token:ve,factory:ve.\u0275fac}),ve})(),Be=(()=>{class ve extends Le{constructor(ie){super(),this.doc=ie,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(ie){for(const Te of this.hostNodes)this.addStyleToHost(Te,ie)}onStyleRemoved(ie){const Te=this.styleRef;Te.get(ie)?.forEach(At=>At.remove()),Te.delete(ie)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(ie){this.hostNodes.add(ie);for(const Te of this.getAllStyles())this.addStyleToHost(ie,Te)}removeHost(ie){this.hostNodes.delete(ie)}addStyleToHost(ie,Te){const dt=this.doc.createElement("style");dt.textContent=Te,ie.appendChild(dt);const At=this.styleRef.get(Te);At?At.push(dt):this.styleRef.set(Te,[dt])}resetHostNodes(){const ie=this.hostNodes;ie.clear(),ie.add(this.doc.head)}}return ve.\u0275fac=function(ie){return new(ie||ve)(F.LFG(p.K0))},ve.\u0275prov=F.Yz7({token:ve,factory:ve.\u0275fac}),ve})();const st={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},It=/%COMP%/g,He=new F.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function St(ve,_e){return _e.flat(100).map(ie=>ie.replace(It,ve))}function In(ve){return _e=>{if("__ngUnwrap__"===_e)return ve;!1===ve(_e)&&(_e.preventDefault(),_e.returnValue=!1)}}let Ht=(()=>{class ve{constructor(ie,Te,dt,At){this.eventManager=ie,this.sharedStylesHost=Te,this.appId=dt,this.removeStylesOnCompDestory=At,this.rendererByCompId=new Map,this.defaultRenderer=new Ci(ie)}createRenderer(ie,Te){if(!ie||!Te)return this.defaultRenderer;const dt=this.getOrCreateRenderer(ie,Te);return dt instanceof wt?dt.applyToHost(ie):dt instanceof mt&&dt.applyStyles(),dt}getOrCreateRenderer(ie,Te){const dt=this.rendererByCompId;let At=dt.get(Te.id);if(!At){const dn=this.eventManager,qn=this.sharedStylesHost,Un=this.removeStylesOnCompDestory;switch(Te.encapsulation){case F.ifc.Emulated:At=new wt(dn,qn,Te,this.appId,Un);break;case F.ifc.ShadowDom:return new ut(dn,qn,ie,Te);default:At=new mt(dn,qn,Te,Un)}At.onDestroy=()=>dt.delete(Te.id),dt.set(Te.id,At)}return At}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return ve.\u0275fac=function(ie){return new(ie||ve)(F.LFG(qe),F.LFG(Be),F.LFG(F.AFp),F.LFG(He))},ve.\u0275prov=F.Yz7({token:ve,factory:ve.\u0275fac}),ve})();class Ci{constructor(_e){this.eventManager=_e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(_e,ie){return ie?document.createElementNS(st[ie]||ie,_e):document.createElement(_e)}createComment(_e){return document.createComment(_e)}createText(_e){return document.createTextNode(_e)}appendChild(_e,ie){(tt(_e)?_e.content:_e).appendChild(ie)}insertBefore(_e,ie,Te){_e&&(tt(_e)?_e.content:_e).insertBefore(ie,Te)}removeChild(_e,ie){_e&&_e.removeChild(ie)}selectRootElement(_e,ie){let Te="string"==typeof _e?document.querySelector(_e):_e;if(!Te)throw new Error(`The selector "${_e}" did not match any elements`);return ie||(Te.textContent=""),Te}parentNode(_e){return _e.parentNode}nextSibling(_e){return _e.nextSibling}setAttribute(_e,ie,Te,dt){if(dt){ie=dt+":"+ie;const At=st[dt];At?_e.setAttributeNS(At,ie,Te):_e.setAttribute(ie,Te)}else _e.setAttribute(ie,Te)}removeAttribute(_e,ie,Te){if(Te){const dt=st[Te];dt?_e.removeAttributeNS(dt,ie):_e.removeAttribute(`${Te}:${ie}`)}else _e.removeAttribute(ie)}addClass(_e,ie){_e.classList.add(ie)}removeClass(_e,ie){_e.classList.remove(ie)}setStyle(_e,ie,Te,dt){dt&(F.JOm.DashCase|F.JOm.Important)?_e.style.setProperty(ie,Te,dt&F.JOm.Important?"important":""):_e.style[ie]=Te}removeStyle(_e,ie,Te){Te&F.JOm.DashCase?_e.style.removeProperty(ie):_e.style[ie]=""}setProperty(_e,ie,Te){_e[ie]=Te}setValue(_e,ie){_e.nodeValue=ie}listen(_e,ie,Te){return"string"==typeof _e?this.eventManager.addGlobalEventListener(_e,ie,In(Te)):this.eventManager.addEventListener(_e,ie,In(Te))}}function tt(ve){return"TEMPLATE"===ve.tagName&&void 0!==ve.content}class ut extends Ci{constructor(_e,ie,Te,dt){super(_e),this.sharedStylesHost=ie,this.hostEl=Te,this.shadowRoot=Te.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const At=St(dt.id,dt.styles);for(const dn of At){const qn=document.createElement("style");qn.textContent=dn,this.shadowRoot.appendChild(qn)}}nodeOrShadowRoot(_e){return _e===this.hostEl?this.shadowRoot:_e}appendChild(_e,ie){return super.appendChild(this.nodeOrShadowRoot(_e),ie)}insertBefore(_e,ie,Te){return super.insertBefore(this.nodeOrShadowRoot(_e),ie,Te)}removeChild(_e,ie){return super.removeChild(this.nodeOrShadowRoot(_e),ie)}parentNode(_e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(_e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class mt extends Ci{constructor(_e,ie,Te,dt,At=Te.id){super(_e),this.sharedStylesHost=ie,this.removeStylesOnCompDestory=dt,this.rendererUsageCount=0,this.styles=St(At,Te.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class wt extends mt{constructor(_e,ie,Te,dt,At){const dn=dt+"-"+Te.id;super(_e,ie,Te,At,dn),this.contentAttr=function Dt(ve){return"_ngcontent-%COMP%".replace(It,ve)}(dn),this.hostAttr=function on(ve){return"_nghost-%COMP%".replace(It,ve)}(dn)}applyToHost(_e){this.applyStyles(),this.setAttribute(_e,this.hostAttr,"")}createElement(_e,ie){const Te=super.createElement(_e,ie);return super.setAttribute(Te,this.contentAttr,""),Te}}let ft=(()=>{class ve extends yt{constructor(ie){super(ie)}supports(ie){return!0}addEventListener(ie,Te,dt){return ie.addEventListener(Te,dt,!1),()=>this.removeEventListener(ie,Te,dt)}removeEventListener(ie,Te,dt){return ie.removeEventListener(Te,dt)}}return ve.\u0275fac=function(ie){return new(ie||ve)(F.LFG(p.K0))},ve.\u0275prov=F.Yz7({token:ve,factory:ve.\u0275fac}),ve})();const Ft=["alt","control","meta","shift"],Kn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},jt={alt:ve=>ve.altKey,control:ve=>ve.ctrlKey,meta:ve=>ve.metaKey,shift:ve=>ve.shiftKey};let ze=(()=>{class ve extends yt{constructor(ie){super(ie)}supports(ie){return null!=ve.parseEventName(ie)}addEventListener(ie,Te,dt){const At=ve.parseEventName(Te),dn=ve.eventCallback(At.fullKey,dt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,p.q)().onAndCancel(ie,At.domEventName,dn))}static parseEventName(ie){const Te=ie.toLowerCase().split("."),dt=Te.shift();if(0===Te.length||"keydown"!==dt&&"keyup"!==dt)return null;const At=ve._normalizeKey(Te.pop());let dn="",qn=Te.indexOf("code");if(qn>-1&&(Te.splice(qn,1),dn="code."),Ft.forEach(Fi=>{const rt=Te.indexOf(Fi);rt>-1&&(Te.splice(rt,1),dn+=Fi+".")}),dn+=At,0!=Te.length||0===At.length)return null;const Un={};return Un.domEventName=dt,Un.fullKey=dn,Un}static matchEventFullKeyCode(ie,Te){let dt=Kn[ie.key]||ie.key,At="";return Te.indexOf("code.")>-1&&(dt=ie.code,At="code."),!(null==dt||!dt)&&(dt=dt.toLowerCase()," "===dt?dt="space":"."===dt&&(dt="dot"),Ft.forEach(dn=>{dn!==dt&&(0,jt[dn])(ie)&&(At+=dn+".")}),At+=dt,At===Te)}static eventCallback(ie,Te,dt){return At=>{ve.matchEventFullKeyCode(At,ie)&&dt.runGuarded(()=>Te(At))}}static _normalizeKey(ie){return"esc"===ie?"escape":ie}}return ve.\u0275fac=function(ie){return new(ie||ve)(F.LFG(p.K0))},ve.\u0275prov=F.Yz7({token:ve,factory:ve.\u0275fac}),ve})();const gi=(0,F.eFA)(F._c5,"browser",[{provide:F.Lbi,useValue:p.bD},{provide:F.g9A,useValue:function On(){re.makeCurrent()},multi:!0},{provide:p.K0,useFactory:function cn(){return(0,F.RDi)(document),document},deps:[]}]),Nn=new F.OlP(""),zt=[{provide:F.rWj,useClass:class oe{addToWindow(_e){F.dqk.getAngularTestability=(Te,dt=!0)=>{const At=_e.findTestabilityInTree(Te,dt);if(null==At)throw new Error("Could not find testability for element.");return At},F.dqk.getAllAngularTestabilities=()=>_e.getAllTestabilities(),F.dqk.getAllAngularRootElements=()=>_e.getAllRootElements(),F.dqk.frameworkStabilizers||(F.dqk.frameworkStabilizers=[]),F.dqk.frameworkStabilizers.push(Te=>{const dt=F.dqk.getAllAngularTestabilities();let At=dt.length,dn=!1;const qn=function(Un){dn=dn||Un,At--,0==At&&Te(dn)};dt.forEach(function(Un){Un.whenStable(qn)})})}findTestabilityInTree(_e,ie,Te){return null==ie?null:_e.getTestability(ie)??(Te?(0,p.q)().isShadowRoot(ie)?this.findTestabilityInTree(_e,ie.host,!0):this.findTestabilityInTree(_e,ie.parentElement,!0):null)}},deps:[]},{provide:F.lri,useClass:F.dDg,deps:[F.R0b,F.eoX,F.rWj]},{provide:F.dDg,useClass:F.dDg,deps:[F.R0b,F.eoX,F.rWj]}],Rr=[{provide:F.zSh,useValue:"root"},{provide:F.qLn,useFactory:function Vn(){return new F.qLn},deps:[]},{provide:fe,useClass:ft,multi:!0,deps:[p.K0,F.R0b,F.Lbi]},{provide:fe,useClass:ze,multi:!0,deps:[p.K0]},{provide:Ht,useClass:Ht,deps:[qe,Be,F.AFp,He]},{provide:F.FYo,useExisting:Ht},{provide:Le,useExisting:Be},{provide:Be,useClass:Be,deps:[p.K0]},{provide:qe,useClass:qe,deps:[fe,F.R0b]},{provide:p.JF,useClass:Fe,deps:[]},[]];let Kr=(()=>{class ve{constructor(ie){}static withServerTransition(ie){return{ngModule:ve,providers:[{provide:F.AFp,useValue:ie.appId},{provide:pe,useExisting:F.AFp},se]}}}return ve.\u0275fac=function(ie){return new(ie||ve)(F.LFG(Nn,12))},ve.\u0275mod=F.oAB({type:ve}),ve.\u0275inj=F.cJS({providers:[...Rr,...zt],imports:[p.ez,F.hGG]}),ve})(),En=(()=>{class ve{constructor(ie){this._doc=ie}getTitle(){return this._doc.title}setTitle(ie){this._doc.title=ie||""}}return ve.\u0275fac=function(ie){return new(ie||ve)(F.LFG(p.K0))},ve.\u0275prov=F.Yz7({token:ve,factory:function(ie){let Te=null;return Te=ie?new ie:function mr(){return new En((0,F.LFG)(p.K0))}(),Te},providedIn:"root"}),ve})();typeof window<"u"&&window;let De=(()=>{class ve{}return ve.\u0275fac=function(ie){return new(ie||ve)},ve.\u0275prov=F.Yz7({token:ve,factory:function(ie){let Te=null;return Te=ie?new(ie||ve):F.LFG(Ge),Te},providedIn:"root"}),ve})(),Ge=(()=>{class ve extends De{constructor(ie){super(),this._doc=ie}sanitize(ie,Te){if(null==Te)return null;switch(ie){case F.q3G.NONE:return Te;case F.q3G.HTML:return(0,F.qzn)(Te,"HTML")?(0,F.z3N)(Te):(0,F.EiD)(this._doc,String(Te)).toString();case F.q3G.STYLE:return(0,F.qzn)(Te,"Style")?(0,F.z3N)(Te):Te;case F.q3G.SCRIPT:if((0,F.qzn)(Te,"Script"))return(0,F.z3N)(Te);throw new Error("unsafe value used in a script context");case F.q3G.URL:return(0,F.qzn)(Te,"URL")?(0,F.z3N)(Te):(0,F.mCW)(String(Te));case F.q3G.RESOURCE_URL:if((0,F.qzn)(Te,"ResourceURL"))return(0,F.z3N)(Te);throw new Error(`unsafe value used in a resource URL context (see ${F.JZr})`);default:throw new Error(`Unexpected SecurityContext ${ie} (see ${F.JZr})`)}}bypassSecurityTrustHtml(ie){return(0,F.JVY)(ie)}bypassSecurityTrustStyle(ie){return(0,F.L6k)(ie)}bypassSecurityTrustScript(ie){return(0,F.eBb)(ie)}bypassSecurityTrustUrl(ie){return(0,F.LAX)(ie)}bypassSecurityTrustResourceUrl(ie){return(0,F.pB0)(ie)}}return ve.\u0275fac=function(ie){return new(ie||ve)(F.LFG(p.K0))},ve.\u0275prov=F.Yz7({token:ve,factory:function(ie){let Te=null;return Te=ie?new ie:function lt(ve){return new Ge(ve.get(p.K0))}(F.LFG(F.zs3)),Te},providedIn:"root"}),ve})()},6378:(Ut,$e,U)=>{U.d($e,{F0:()=>ar,rH:()=>ws,Bz:()=>nt,lC:()=>As});var p=U(4650),F=U(8996),$=U(9646),re=U(7579);class Z extends re.x{constructor(I){super(),this._value=I}get value(){return this.getValue()}_subscribe(I){const v=super._subscribe(I);return!v.closed&&I.next(this._value),v}getValue(){const{hasError:I,thrownError:v,_value:w}=this;if(I)throw v;return this._throwIfClosed(),w}next(I){super.next(this._value=I)}}var Ee=U(6805),Ce=U(9751),Me=U(4742),pe=U(4671),ae=U(3268),se=U(7669),oe=U(1810),Fe=U(5403),fe=U(9672);function qe(..._){const I=(0,se.yG)(_),v=(0,se.jO)(_),{args:w,keys:R}=(0,Me.D)(_);if(0===w.length)return(0,F.D)([],I);const q=new Ce.y(function yt(_,I,v=pe.y){return w=>{Le(I,()=>{const{length:R}=_,q=new Array(R);let ee=R,Re=R;for(let at=0;at<R;at++)Le(I,()=>{const $t=(0,F.D)(_[at],I);let Qt=!1;$t.subscribe((0,Fe.x)(w,jn=>{q[at]=jn,Qt||(Qt=!0,Re--),Re||w.next(v(q.slice()))},()=>{--ee||w.complete()}))},w)},w)}}(w,I,R?ee=>(0,oe.n)(R,ee):pe.y));return v?q.pipe((0,ae.Z)(v)):q}function Le(_,I,v){_?(0,fe.f)(v,_,I):I()}var Be=U(7272),st=U(9770),It=U(9635),Ue=U(576);function we(_,I){const v=(0,Ue.m)(_)?_:()=>_,w=R=>R.error(v());return new Ce.y(I?R=>I.schedule(w,0,R):w)}var ot=U(515),Tt=U(727),gt=U(4482);function He(){return(0,gt.e)((_,I)=>{let v=null;_._refCount++;const w=(0,Fe.x)(I,void 0,void 0,void 0,()=>{if(!_||_._refCount<=0||0<--_._refCount)return void(v=null);const R=_._connection,q=v;v=null,R&&(!q||R===q)&&R.unsubscribe(),I.unsubscribe()});_.subscribe(w),w.closed||(v=_.connect())})}class Dt extends Ce.y{constructor(I,v){super(),this.source=I,this.subjectFactory=v,this._subject=null,this._refCount=0,this._connection=null,(0,gt.A)(I)&&(this.lift=I.lift)}_subscribe(I){return this.getSubject().subscribe(I)}getSubject(){const I=this._subject;return(!I||I.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:I}=this;this._subject=this._connection=null,I?.unsubscribe()}connect(){let I=this._connection;if(!I){I=this._connection=new Tt.w0;const v=this.getSubject();I.add(this.source.subscribe((0,Fe.x)(v,void 0,()=>{this._teardown(),v.complete()},w=>{this._teardown(),v.error(w)},()=>this._teardown()))),I.closed&&(this._connection=null,I=Tt.w0.EMPTY)}return I}refCount(){return He()(this)}}var on=U(6895),St=U(4004),In=U(3900),Ht=U(5698),et=U(9300),Ve=U(5577),tt=U(590),ut=U(4351),mt=U(8505),wt=U(8421);function ft(_){return(0,gt.e)((I,v)=>{let q,w=null,R=!1;w=I.subscribe((0,Fe.x)(v,void 0,void 0,ee=>{q=(0,wt.Xf)(_(ee,ft(_)(I))),w?(w.unsubscribe(),w=null,q.subscribe(v)):R=!0})),R&&(w.unsubscribe(),w=null,q.subscribe(v))})}function Kn(_,I){return(0,gt.e)(function Ft(_,I,v,w,R){return(q,ee)=>{let Re=v,at=I,$t=0;q.subscribe((0,Fe.x)(ee,Qt=>{const jn=$t++;at=Re?_(at,Qt,jn):(Re=!0,Qt),w&&ee.next(at)},R&&(()=>{Re&&ee.next(at),ee.complete()})))}}(_,I,arguments.length>=2,!0))}function jt(_){return _<=0?()=>ot.E:(0,gt.e)((I,v)=>{let w=[];I.subscribe((0,Fe.x)(v,R=>{w.push(R),_<w.length&&w.shift()},()=>{for(const R of w)v.next(R);v.complete()},void 0,()=>{w=null}))})}var ze=U(8068),ct=U(6590);function xe(_,I){const v=arguments.length>=2;return w=>w.pipe(_?(0,et.h)((R,q)=>_(R,q,w)):pe.y,jt(1),v?(0,ct.d)(I):(0,ze.T)(()=>new Ee.K))}function _n(_){return(0,gt.e)((I,v)=>{try{I.subscribe(v)}finally{v.add(_)}})}var On=U(8189),Vn=U(1481);const cn="primary",Br=Symbol("RouteTitle");class gi{constructor(I){this.params=I||{}}has(I){return Object.prototype.hasOwnProperty.call(this.params,I)}get(I){if(this.has(I)){const v=this.params[I];return Array.isArray(v)?v[0]:v}return null}getAll(I){if(this.has(I)){const v=this.params[I];return Array.isArray(v)?v:[v]}return[]}get keys(){return Object.keys(this.params)}}function Nn(_){return new gi(_)}function zt(_,I,v){const w=v.path.split("/");if(w.length>_.length||"full"===v.pathMatch&&(I.hasChildren()||w.length<_.length))return null;const R={};for(let q=0;q<w.length;q++){const ee=w[q],Re=_[q];if(ee.startsWith(":"))R[ee.substring(1)]=Re;else if(ee!==Re.path)return null}return{consumed:_.slice(0,w.length),posParams:R}}function Kr(_,I){const v=_?Object.keys(_):void 0,w=I?Object.keys(I):void 0;if(!v||!w||v.length!=w.length)return!1;let R;for(let q=0;q<v.length;q++)if(R=v[q],!xr(_[R],I[R]))return!1;return!0}function xr(_,I){if(Array.isArray(_)&&Array.isArray(I)){if(_.length!==I.length)return!1;const v=[..._].sort(),w=[...I].sort();return v.every((R,q)=>w[q]===R)}return _===I}function jr(_){return Array.prototype.concat.apply([],_)}function $i(_){return _.length>0?_[_.length-1]:null}function En(_,I){for(const v in _)_.hasOwnProperty(v)&&I(_[v],v)}function nn(_){return(0,p.CqO)(_)?_:(0,p.QGY)(_)?(0,F.D)(Promise.resolve(_)):(0,$.of)(_)}const bn=!1,ki={exact:function Fr(_,I,v){if(!tr(_.segments,I.segments)||!Dn(_.segments,I.segments,v)||_.numberOfChildren!==I.numberOfChildren)return!1;for(const w in I.children)if(!_.children[w]||!Fr(_.children[w],I.children[w],v))return!1;return!0},subset:ir},mi={exact:function $r(_,I){return Kr(_,I)},subset:function ui(_,I){return Object.keys(I).length<=Object.keys(_).length&&Object.keys(I).every(v=>xr(_[v],I[v]))},ignored:()=>!0};function _r(_,I,v){return ki[v.paths](_.root,I.root,v.matrixParams)&&mi[v.queryParams](_.queryParams,I.queryParams)&&!("exact"===v.fragment&&_.fragment!==I.fragment)}function ir(_,I,v){return Zt(_,I,I.segments,v)}function Zt(_,I,v,w){if(_.segments.length>v.length){const R=_.segments.slice(0,v.length);return!(!tr(R,v)||I.hasChildren()||!Dn(R,v,w))}if(_.segments.length===v.length){if(!tr(_.segments,v)||!Dn(_.segments,v,w))return!1;for(const R in I.children)if(!_.children[R]||!ir(_.children[R],I.children[R],w))return!1;return!0}{const R=v.slice(0,_.segments.length),q=v.slice(_.segments.length);return!!(tr(_.segments,R)&&Dn(_.segments,R,w)&&_.children[cn])&&Zt(_.children[cn],I,q,w)}}function Dn(_,I,v){return I.every((w,R)=>mi[v](_[R].parameters,w.parameters))}class Ar{constructor(I=new Vt([],{}),v={},w=null){this.root=I,this.queryParams=v,this.fragment=w}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Nn(this.queryParams)),this._queryParamMap}toString(){return Pr.serialize(this)}}class Vt{constructor(I,v){this.segments=I,this.children=v,this.parent=null,En(v,(w,R)=>w.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ye(this)}}class zn{constructor(I,v){this.path=I,this.parameters=v}get parameterMap(){return this._parameterMap||(this._parameterMap=Nn(this.parameters)),this._parameterMap}toString(){return ie(this)}}function tr(_,I){return _.length===I.length&&_.every((v,w)=>v.path===I[w].path)}let qr=(()=>{class _{}return _.\u0275fac=function(v){return new(v||_)},_.\u0275prov=p.Yz7({token:_,factory:function(){return new un},providedIn:"root"}),_})();class un{parse(I){const v=new je(I);return new Ar(v.parseRootSegment(),v.parseQueryParams(),v.parseFragment())}serialize(I){const v=`/${he(I.root,!0)}`,w=function dt(_){const I=Object.keys(_).map(v=>{const w=_[v];return Array.isArray(w)?w.map(R=>`${lt(v)}=${lt(R)}`).join("&"):`${lt(v)}=${lt(w)}`}).filter(v=>!!v);return I.length?`?${I.join("&")}`:""}(I.queryParams);return`${v}${w}${"string"==typeof I.fragment?`#${function Ge(_){return encodeURI(_)}(I.fragment)}`:""}`}}const Pr=new un;function ye(_){return _.segments.map(I=>ie(I)).join("/")}function he(_,I){if(!_.hasChildren())return ye(_);if(I){const v=_.children[cn]?he(_.children[cn],!1):"",w=[];return En(_.children,(R,q)=>{q!==cn&&w.push(`${q}:${he(R,!1)}`)}),w.length>0?`${v}(${w.join("//")})`:v}{const v=function Pt(_,I){let v=[];return En(_.children,(w,R)=>{R===cn&&(v=v.concat(I(w,R)))}),En(_.children,(w,R)=>{R!==cn&&(v=v.concat(I(w,R)))}),v}(_,(w,R)=>R===cn?[he(_.children[cn],!1)]:[`${R}:${he(w,!1)}`]);return 1===Object.keys(_.children).length&&null!=_.children[cn]?`${ye(_)}/${v[0]}`:`${ye(_)}/(${v.join("//")})`}}function De(_){return encodeURIComponent(_).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function lt(_){return De(_).replace(/%3B/gi,";")}function xt(_){return De(_).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ve(_){return decodeURIComponent(_)}function _e(_){return ve(_.replace(/\+/g,"%20"))}function ie(_){return`${xt(_.path)}${function Te(_){return Object.keys(_).map(I=>`;${xt(I)}=${xt(_[I])}`).join("")}(_.parameters)}`}const At=/^[^\/()?;=#]+/;function dn(_){const I=_.match(At);return I?I[0]:""}const qn=/^[^=?&#]+/,Fi=/^[^&#]+/;class je{constructor(I){this.url=I,this.remaining=I}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Vt([],{}):new Vt([],this.parseChildren())}parseQueryParams(){const I={};if(this.consumeOptional("?"))do{this.parseQueryParam(I)}while(this.consumeOptional("&"));return I}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const I=[];for(this.peekStartsWith("(")||I.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),I.push(this.parseSegment());let v={};this.peekStartsWith("/(")&&(this.capture("/"),v=this.parseParens(!0));let w={};return this.peekStartsWith("(")&&(w=this.parseParens(!1)),(I.length>0||Object.keys(v).length>0)&&(w[cn]=new Vt(I,v)),w}parseSegment(){const I=dn(this.remaining);if(""===I&&this.peekStartsWith(";"))throw new p.vHH(4009,bn);return this.capture(I),new zn(ve(I),this.parseMatrixParams())}parseMatrixParams(){const I={};for(;this.consumeOptional(";");)this.parseParam(I);return I}parseParam(I){const v=dn(this.remaining);if(!v)return;this.capture(v);let w="";if(this.consumeOptional("=")){const R=dn(this.remaining);R&&(w=R,this.capture(w))}I[ve(v)]=ve(w)}parseQueryParam(I){const v=function Un(_){const I=_.match(qn);return I?I[0]:""}(this.remaining);if(!v)return;this.capture(v);let w="";if(this.consumeOptional("=")){const ee=function rt(_){const I=_.match(Fi);return I?I[0]:""}(this.remaining);ee&&(w=ee,this.capture(w))}const R=_e(v),q=_e(w);if(I.hasOwnProperty(R)){let ee=I[R];Array.isArray(ee)||(ee=[ee],I[R]=ee),ee.push(q)}else I[R]=q}parseParens(I){const v={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const w=dn(this.remaining),R=this.remaining[w.length];if("/"!==R&&")"!==R&&";"!==R)throw new p.vHH(4010,bn);let q;w.indexOf(":")>-1?(q=w.slice(0,w.indexOf(":")),this.capture(q),this.capture(":")):I&&(q=cn);const ee=this.parseChildren();v[q]=1===Object.keys(ee).length?ee[cn]:new Vt([],ee),this.consumeOptional("//")}return v}peekStartsWith(I){return this.remaining.startsWith(I)}consumeOptional(I){return!!this.peekStartsWith(I)&&(this.remaining=this.remaining.substring(I.length),!0)}capture(I){if(!this.consumeOptional(I))throw new p.vHH(4011,bn)}}function Ct(_){return _.segments.length>0?new Vt([],{[cn]:_}):_}function tn(_){const I={};for(const w of Object.keys(_.children)){const q=tn(_.children[w]);(q.segments.length>0||q.hasChildren())&&(I[w]=q)}return function xn(_){if(1===_.numberOfChildren&&_.children[cn]){const I=_.children[cn];return new Vt(_.segments.concat(I.segments),I.children)}return _}(new Vt(_.segments,I))}function An(_){return _ instanceof Ar}const an=!1;function yi(_,I,v,w,R){if(0===v.length)return Zr(I.root,I.root,I.root,w,R);const q=function Fn(_){if("string"==typeof _[0]&&1===_.length&&"/"===_[0])return new Gt(!0,0,_);let I=0,v=!1;const w=_.reduce((R,q,ee)=>{if("object"==typeof q&&null!=q){if(q.outlets){const Re={};return En(q.outlets,(at,$t)=>{Re[$t]="string"==typeof at?at.split("/"):at}),[...R,{outlets:Re}]}if(q.segmentPath)return[...R,q.segmentPath]}return"string"!=typeof q?[...R,q]:0===ee?(q.split("/").forEach((Re,at)=>{0==at&&"."===Re||(0==at&&""===Re?v=!0:".."===Re?I++:""!=Re&&R.push(Re))}),R):[...R,q]},[]);return new Gt(v,I,w)}(v);return q.toRoot()?Zr(I.root,I.root,new Vt([],{}),w,R):function ee(at){const $t=function li(_,I,v,w){if(_.isAbsolute)return new dr(I.root,!0,0);if(-1===w)return new dr(v,v===I.root,0);return function Yr(_,I,v){let w=_,R=I,q=v;for(;q>R;){if(q-=R,w=w.parent,!w)throw new p.vHH(4005,an&&"Invalid number of '../'");R=w.segments.length}return new dr(w,!1,R-q)}(v,w+(ds(_.commands[0])?0:1),_.numberOfDoubleDots)}(q,I,_.snapshot?._urlSegment,at),Qt=$t.processChildren?Pe($t.segmentGroup,$t.index,q.commands):Or($t.segmentGroup,$t.index,q.commands);return Zr(I.root,$t.segmentGroup,Qt,w,R)}(_.snapshot?._lastPathIndex)}function ds(_){return"object"==typeof _&&null!=_&&!_.outlets&&!_.segmentPath}function vi(_){return"object"==typeof _&&null!=_&&_.outlets}function Zr(_,I,v,w,R){let ee,q={};w&&En(w,(at,$t)=>{q[$t]=Array.isArray(at)?at.map(Qt=>`${Qt}`):`${at}`}),ee=_===I?v:Cr(_,I,v);const Re=Ct(tn(ee));return new Ar(Re,q,R)}function Cr(_,I,v){const w={};return En(_.children,(R,q)=>{w[q]=R===I?v:Cr(R,I,v)}),new Vt(_.segments,w)}class Gt{constructor(I,v,w){if(this.isAbsolute=I,this.numberOfDoubleDots=v,this.commands=w,I&&w.length>0&&ds(w[0]))throw new p.vHH(4003,an&&"Root segment cannot have matrix parameters");const R=w.find(vi);if(R&&R!==$i(w))throw new p.vHH(4004,an&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class dr{constructor(I,v,w){this.segmentGroup=I,this.processChildren=v,this.index=w}}function Or(_,I,v){if(_||(_=new Vt([],{})),0===_.segments.length&&_.hasChildren())return Pe(_,I,v);const w=function Ae(_,I,v){let w=0,R=I;const q={match:!1,pathIndex:0,commandIndex:0};for(;R<_.segments.length;){if(w>=v.length)return q;const ee=_.segments[R],Re=v[w];if(vi(Re))break;const at=`${Re}`,$t=w<v.length-1?v[w+1]:null;if(R>0&&void 0===at)break;if(at&&$t&&"object"==typeof $t&&void 0===$t.outlets){if(!Tn(at,$t,ee))return q;w+=2}else{if(!Tn(at,{},ee))return q;w++}R++}return{match:!0,pathIndex:R,commandIndex:w}}(_,I,v),R=v.slice(w.commandIndex);if(w.match&&w.pathIndex<_.segments.length){const q=new Vt(_.segments.slice(0,w.pathIndex),{});return q.children[cn]=new Vt(_.segments.slice(w.pathIndex),_.children),Pe(q,0,R)}return w.match&&0===R.length?new Vt(_.segments,{}):w.match&&!_.hasChildren()?Ie(_,I,v):w.match?Pe(_,0,R):Ie(_,I,v)}function Pe(_,I,v){if(0===v.length)return new Vt(_.segments,{});{const w=function Hi(_){return vi(_[0])?_[0].outlets:{[cn]:_}}(v),R={};if(!w[cn]&&_.children[cn]&&1===_.numberOfChildren&&0===_.children[cn].segments.length){const q=Pe(_.children[cn],I,v);return new Vt(_.segments,q.children)}return En(w,(q,ee)=>{"string"==typeof q&&(q=[q]),null!==q&&(R[ee]=Or(_.children[ee],I,q))}),En(_.children,(q,ee)=>{void 0===w[ee]&&(R[ee]=q)}),new Vt(_.segments,R)}}function Ie(_,I,v){const w=_.segments.slice(0,I);let R=0;for(;R<v.length;){const q=v[R];if(vi(q)){const at=_t(q.outlets);return new Vt(w,at)}if(0===R&&ds(v[0])){w.push(new zn(_.segments[I].path,Rt(v[0]))),R++;continue}const ee=vi(q)?q.outlets[cn]:`${q}`,Re=R<v.length-1?v[R+1]:null;ee&&Re&&ds(Re)?(w.push(new zn(ee,Rt(Re))),R+=2):(w.push(new zn(ee,{})),R++)}return new Vt(w,{})}function _t(_){const I={};return En(_,(v,w)=>{"string"==typeof v&&(v=[v]),null!==v&&(I[w]=Ie(new Vt([],{}),0,v))}),I}function Rt(_){const I={};return En(_,(v,w)=>I[w]=`${v}`),I}function Tn(_,I,v){return _==v.path&&Kr(I,v.parameters)}const Bn="imperative";class Cn{constructor(I,v){this.id=I,this.url=v}}class Zn extends Cn{constructor(I,v,w="imperative",R=null){super(I,v),this.type=0,this.navigationTrigger=w,this.restoredState=R}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ni extends Cn{constructor(I,v,w){super(I,v),this.urlAfterRedirects=w,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class _i extends Cn{constructor(I,v,w,R){super(I,v),this.reason=w,this.code=R,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Nr extends Cn{constructor(I,v,w,R){super(I,v),this.reason=w,this.code=R,this.type=16}}class ci extends Cn{constructor(I,v,w,R){super(I,v),this.error=w,this.target=R,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Er extends Cn{constructor(I,v,w,R){super(I,v),this.urlAfterRedirects=w,this.state=R,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ts extends Cn{constructor(I,v,w,R){super(I,v),this.urlAfterRedirects=w,this.state=R,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qs extends Cn{constructor(I,v,w,R,q){super(I,v),this.urlAfterRedirects=w,this.state=R,this.shouldActivate=q,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Fs extends Cn{constructor(I,v,w,R){super(I,v),this.urlAfterRedirects=w,this.state=R,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zs extends Cn{constructor(I,v,w,R){super(I,v),this.urlAfterRedirects=w,this.state=R,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hs{constructor(I){this.route=I,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class lo{constructor(I){this.route=I,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Qr{constructor(I){this.snapshot=I,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jo{constructor(I){this.snapshot=I,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ei{constructor(I){this.snapshot=I,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yr{constructor(I){this.snapshot=I,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hr{constructor(I,v,w){this.routerEvent=I,this.position=v,this.anchor=w,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Ai=(()=>{class _{createUrlTree(v,w,R,q,ee,Re){return yi(v||w.root,R,q,ee,Re)}}return _.\u0275fac=function(v){return new(v||_)},_.\u0275prov=p.Yz7({token:_,factory:_.\u0275fac}),_})(),Ls=(()=>{class _{}return _.\u0275fac=function(v){return new(v||_)},_.\u0275prov=p.Yz7({token:_,factory:function(I){return Ai.\u0275fac(I)},providedIn:"root"}),_})();class Jo{constructor(I){this._root=I}get root(){return this._root.value}parent(I){const v=this.pathFromRoot(I);return v.length>1?v[v.length-2]:null}children(I){const v=Mi(I,this._root);return v?v.children.map(w=>w.value):[]}firstChild(I){const v=Mi(I,this._root);return v&&v.children.length>0?v.children[0].value:null}siblings(I){const v=pa(I,this._root);return v.length<2?[]:v[v.length-2].children.map(R=>R.value).filter(R=>R!==I)}pathFromRoot(I){return pa(I,this._root).map(v=>v.value)}}function Mi(_,I){if(_===I.value)return I;for(const v of I.children){const w=Mi(_,v);if(w)return w}return null}function pa(_,I){if(_===I.value)return[I];for(const v of I.children){const w=pa(_,v);if(w.length)return w.unshift(I),w}return[]}class Ts{constructor(I,v){this.value=I,this.children=v}toString(){return`TreeNode(${this.value})`}}function ns(_){const I={};return _&&_.children.forEach(v=>I[v.value.outlet]=v),I}class ho extends Jo{constructor(I,v){super(I),this.snapshot=v,ga(this,I)}toString(){return this.snapshot.toString()}}function Xo(_,I){const v=function $o(_,I){const ee=new Ri([],{},{},"",{},cn,I,null,_.root,-1,{});return new Qs("",new Ts(ee,[]))}(_,I),w=new Z([new zn("",{})]),R=new Z({}),q=new Z({}),ee=new Z({}),Re=new Z(""),at=new bs(w,R,ee,Re,q,cn,I,v.root);return at.snapshot=v.root,new ho(new Ts(at,[]),v)}class bs{constructor(I,v,w,R,q,ee,Re,at){this.url=I,this.params=v,this.queryParams=w,this.fragment=R,this.data=q,this.outlet=ee,this.component=Re,this.title=this.data?.pipe((0,St.U)($t=>$t[Br]))??(0,$.of)(void 0),this._futureSnapshot=at}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,St.U)(I=>Nn(I)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,St.U)(I=>Nn(I)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ss(_,I="emptyOnly"){const v=_.pathFromRoot;let w=0;if("always"!==I)for(w=v.length-1;w>=1;){const R=v[w],q=v[w-1];if(R.routeConfig&&""===R.routeConfig.path)w--;else{if(q.component)break;w--}}return function Ho(_){return _.reduce((I,v)=>({params:{...I.params,...v.params},data:{...I.data,...v.data},resolve:{...v.data,...I.resolve,...v.routeConfig?.data,...v._resolvedData}}),{params:{},data:{},resolve:{}})}(v.slice(w))}class Ri{get title(){return this.data?.[Br]}constructor(I,v,w,R,q,ee,Re,at,$t,Qt,jn){this.url=I,this.params=v,this.queryParams=w,this.fragment=R,this.data=q,this.outlet=ee,this.component=Re,this.routeConfig=at,this._urlSegment=$t,this._lastPathIndex=Qt,this._resolve=jn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Nn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Nn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(w=>w.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Qs extends Jo{constructor(I,v){super(v),this.url=I,ga(this,v)}toString(){return Yi(this._root)}}function ga(_,I){I.value._routerState=_,I.children.forEach(v=>ga(_,v))}function Yi(_){const I=_.children.length>0?` { ${_.children.map(Yi).join(", ")} } `:"";return`${_.value}${I}`}function ea(_){if(_.snapshot){const I=_.snapshot,v=_._futureSnapshot;_.snapshot=v,Kr(I.queryParams,v.queryParams)||_.queryParams.next(v.queryParams),I.fragment!==v.fragment&&_.fragment.next(v.fragment),Kr(I.params,v.params)||_.params.next(v.params),function Rr(_,I){if(_.length!==I.length)return!1;for(let v=0;v<_.length;++v)if(!Kr(_[v],I[v]))return!1;return!0}(I.url,v.url)||_.url.next(v.url),Kr(I.data,v.data)||_.data.next(v.data)}else _.snapshot=_._futureSnapshot,_.data.next(_._futureSnapshot.data)}function Js(_,I){const v=Kr(_.params,I.params)&&function Dr(_,I){return tr(_,I)&&_.every((v,w)=>Kr(v.parameters,I[w].parameters))}(_.url,I.url);return v&&!(!_.parent!=!I.parent)&&(!_.parent||Js(_.parent,I.parent))}function Ti(_,I,v){if(v&&_.shouldReuseRoute(I.value,v.value.snapshot)){const w=v.value;w._futureSnapshot=I.value;const R=function Vs(_,I,v){return I.children.map(w=>{for(const R of v.children)if(_.shouldReuseRoute(w.value,R.value.snapshot))return Ti(_,w,R);return Ti(_,w)})}(_,I,v);return new Ts(w,R)}{if(_.shouldAttach(I.value)){const q=_.retrieve(I.value);if(null!==q){const ee=q.route;return ee.value._futureSnapshot=I.value,ee.children=I.children.map(Re=>Ti(_,Re)),ee}}const w=function ta(_){return new bs(new Z(_.url),new Z(_.params),new Z(_.queryParams),new Z(_.fragment),new Z(_.data),_.outlet,_.component,_)}(I.value),R=I.children.map(q=>Ti(_,q));return new Ts(w,R)}}const fs="ngNavigationCancelingError";function fo(_,I){const{redirectTo:v,navigationBehaviorOptions:w}=An(I)?{redirectTo:I,navigationBehaviorOptions:void 0}:I,R=Fa(!1,0,I);return R.url=v,R.navigationBehaviorOptions=w,R}function Fa(_,I,v){const w=new Error("NavigationCancelingError: "+(_||""));return w[fs]=!0,w.cancellationCode=I,v&&(w.url=v),w}function Bi(_){return po(_)&&An(_.url)}function po(_){return _&&_[fs]}class eo{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Ao,this.attachRef=null}}let Ao=(()=>{class _{constructor(){this.contexts=new Map}onChildOutletCreated(v,w){const R=this.getOrCreateContext(v);R.outlet=w,this.contexts.set(v,R)}onChildOutletDestroyed(v){const w=this.getContext(v);w&&(w.outlet=null,w.attachRef=null)}onOutletDeactivated(){const v=this.contexts;return this.contexts=new Map,v}onOutletReAttached(v){this.contexts=v}getOrCreateContext(v){let w=this.getContext(v);return w||(w=new eo,this.contexts.set(v,w)),w}getContext(v){return this.contexts.get(v)||null}}return _.\u0275fac=function(v){return new(v||_)},_.\u0275prov=p.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();const Gi=!1;let As=(()=>{class _{constructor(){this.activated=null,this._activatedRoute=null,this.name=cn,this.activateEvents=new p.vpe,this.deactivateEvents=new p.vpe,this.attachEvents=new p.vpe,this.detachEvents=new p.vpe,this.parentContexts=(0,p.f3M)(Ao),this.location=(0,p.f3M)(p.s_b),this.changeDetector=(0,p.f3M)(p.sBO),this.environmentInjector=(0,p.f3M)(p.lqb)}ngOnChanges(v){if(v.name){const{firstChange:w,previousValue:R}=v.name;if(w)return;this.isTrackedInParentContexts(R)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(R)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(v){return this.parentContexts.getContext(v)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const v=this.parentContexts.getContext(this.name);v?.route&&(v.attachRef?this.attach(v.attachRef,v.route):this.activateWith(v.route,v.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new p.vHH(4012,Gi);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new p.vHH(4012,Gi);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new p.vHH(4012,Gi);this.location.detach();const v=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(v.instance),v}attach(v,w){this.activated=v,this._activatedRoute=w,this.location.insert(v.hostView),this.attachEvents.emit(v.instance)}deactivate(){if(this.activated){const v=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(v)}}activateWith(v,w){if(this.isActivated)throw new p.vHH(4013,Gi);this._activatedRoute=v;const R=this.location,ee=v.snapshot.component,Re=this.parentContexts.getOrCreateContext(this.name).children,at=new Yn(v,Re,R.injector);if(w&&function Mo(_){return!!_.resolveComponentFactory}(w)){const $t=w.resolveComponentFactory(ee);this.activated=R.createComponent($t,R.length,at)}else this.activated=R.createComponent(ee,{index:R.length,injector:at,environmentInjector:w??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return _.\u0275fac=function(v){return new(v||_)},_.\u0275dir=p.lG2({type:_,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[p.TTD]}),_})();class Yn{constructor(I,v,w){this.route=I,this.childContexts=v,this.parent=w}get(I,v){return I===bs?this.route:I===Ao?this.childContexts:this.parent.get(I,v)}}let ps=(()=>{class _{}return _.\u0275fac=function(v){return new(v||_)},_.\u0275cmp=p.Xpm({type:_,selectors:[["ng-component"]],standalone:!0,features:[p.jDz],decls:1,vars:0,template:function(v,w){1&v&&p._UZ(0,"router-outlet")},dependencies:[As],encapsulation:2}),_})();function zr(_,I){return _.providers&&!_._injector&&(_._injector=(0,p.MMx)(_.providers,I,`Route: ${_.path}`)),_._injector??I}function Lr(_){const I=_.children&&_.children.map(Lr),v=I?{..._,children:I}:{..._};return!v.component&&!v.loadComponent&&(I||v.loadChildren)&&v.outlet&&v.outlet!==cn&&(v.component=ps),v}function wi(_){return _.outlet||cn}function Wi(_,I){const v=_.filter(w=>wi(w)===I);return v.push(..._.filter(w=>wi(w)!==I)),v}function Ms(_){if(!_)return null;if(_.routeConfig?._injector)return _.routeConfig._injector;for(let I=_.parent;I;I=I.parent){const v=I.routeConfig;if(v?._loadedInjector)return v._loadedInjector;if(v?._injector)return v._injector}return null}class kn{constructor(I,v,w,R){this.routeReuseStrategy=I,this.futureState=v,this.currState=w,this.forwardEvent=R}activate(I){const v=this.futureState._root,w=this.currState?this.currState._root:null;this.deactivateChildRoutes(v,w,I),ea(this.futureState.root),this.activateChildRoutes(v,w,I)}deactivateChildRoutes(I,v,w){const R=ns(v);I.children.forEach(q=>{const ee=q.value.outlet;this.deactivateRoutes(q,R[ee],w),delete R[ee]}),En(R,(q,ee)=>{this.deactivateRouteAndItsChildren(q,w)})}deactivateRoutes(I,v,w){const R=I.value,q=v?v.value:null;if(R===q)if(R.component){const ee=w.getContext(R.outlet);ee&&this.deactivateChildRoutes(I,v,ee.children)}else this.deactivateChildRoutes(I,v,w);else q&&this.deactivateRouteAndItsChildren(v,w)}deactivateRouteAndItsChildren(I,v){I.value.component&&this.routeReuseStrategy.shouldDetach(I.value.snapshot)?this.detachAndStoreRouteSubtree(I,v):this.deactivateRouteAndOutlet(I,v)}detachAndStoreRouteSubtree(I,v){const w=v.getContext(I.value.outlet),R=w&&I.value.component?w.children:v,q=ns(I);for(const ee of Object.keys(q))this.deactivateRouteAndItsChildren(q[ee],R);if(w&&w.outlet){const ee=w.outlet.detach(),Re=w.children.onOutletDeactivated();this.routeReuseStrategy.store(I.value.snapshot,{componentRef:ee,route:I,contexts:Re})}}deactivateRouteAndOutlet(I,v){const w=v.getContext(I.value.outlet),R=w&&I.value.component?w.children:v,q=ns(I);for(const ee of Object.keys(q))this.deactivateRouteAndItsChildren(q[ee],R);w&&(w.outlet&&(w.outlet.deactivate(),w.children.onOutletDeactivated()),w.attachRef=null,w.resolver=null,w.route=null)}activateChildRoutes(I,v,w){const R=ns(v);I.children.forEach(q=>{this.activateRoutes(q,R[q.value.outlet],w),this.forwardEvent(new yr(q.value.snapshot))}),I.children.length&&this.forwardEvent(new jo(I.value.snapshot))}activateRoutes(I,v,w){const R=I.value,q=v?v.value:null;if(ea(R),R===q)if(R.component){const ee=w.getOrCreateContext(R.outlet);this.activateChildRoutes(I,v,ee.children)}else this.activateChildRoutes(I,v,w);else if(R.component){const ee=w.getOrCreateContext(R.outlet);if(this.routeReuseStrategy.shouldAttach(R.snapshot)){const Re=this.routeReuseStrategy.retrieve(R.snapshot);this.routeReuseStrategy.store(R.snapshot,null),ee.children.onOutletReAttached(Re.contexts),ee.attachRef=Re.componentRef,ee.route=Re.route.value,ee.outlet&&ee.outlet.attach(Re.componentRef,Re.route.value),ea(Re.route.value),this.activateChildRoutes(I,null,ee.children)}else{const Re=Ms(R.snapshot),at=Re?.get(p._Vd)??null;ee.attachRef=null,ee.route=R,ee.resolver=at,ee.injector=Re,ee.outlet&&ee.outlet.activateWith(R,ee.injector),this.activateChildRoutes(I,null,ee.children)}}else this.activateChildRoutes(I,null,w)}}class Bs{constructor(I){this.path=I,this.route=this.path[this.path.length-1]}}class B{constructor(I,v){this.component=I,this.route=v}}function L(_,I,v){const w=_._root;return Qe(w,I?I._root:null,v,[w.value])}function J(_,I){const v=Symbol(),w=I.get(_,v);return w===v?"function"!=typeof _||(0,p.Z0I)(_)?I.get(_):_:w}function Qe(_,I,v,w,R={canDeactivateChecks:[],canActivateChecks:[]}){const q=ns(I);return _.children.forEach(ee=>{(function hn(_,I,v,w,R={canDeactivateChecks:[],canActivateChecks:[]}){const q=_.value,ee=I?I.value:null,Re=v?v.getContext(_.value.outlet):null;if(ee&&q.routeConfig===ee.routeConfig){const at=function Jr(_,I,v){if("function"==typeof v)return v(_,I);switch(v){case"pathParamsChange":return!tr(_.url,I.url);case"pathParamsOrQueryParamsChange":return!tr(_.url,I.url)||!Kr(_.queryParams,I.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Js(_,I)||!Kr(_.queryParams,I.queryParams);default:return!Js(_,I)}}(ee,q,q.routeConfig.runGuardsAndResolvers);at?R.canActivateChecks.push(new Bs(w)):(q.data=ee.data,q._resolvedData=ee._resolvedData),Qe(_,I,q.component?Re?Re.children:null:v,w,R),at&&Re&&Re.outlet&&Re.outlet.isActivated&&R.canDeactivateChecks.push(new B(Re.outlet.component,ee))}else ee&&Ke(I,Re,R),R.canActivateChecks.push(new Bs(w)),Qe(_,null,q.component?Re?Re.children:null:v,w,R)})(ee,q[ee.value.outlet],v,w.concat([ee.value]),R),delete q[ee.value.outlet]}),En(q,(ee,Re)=>Ke(ee,v.getContext(Re),R)),R}function Ke(_,I,v){const w=ns(_),R=_.value;En(w,(q,ee)=>{Ke(q,R.component?I?I.children.getContext(ee):null:I,v)}),v.canDeactivateChecks.push(new B(R.component&&I&&I.outlet&&I.outlet.isActivated?I.outlet.component:null,R))}function gn(_){return"function"==typeof _}function vo(_){return _ instanceof Ee.K||"EmptyError"===_?.name}const rs=Symbol("INITIAL_VALUE");function ms(){return(0,In.w)(_=>qe(_.map(I=>I.pipe((0,Ht.q)(1),function Ci(..._){const I=(0,se.yG)(_);return(0,gt.e)((v,w)=>{(I?(0,Be.z)(_,v,I):(0,Be.z)(_,v)).subscribe(w)})}(rs)))).pipe((0,St.U)(I=>{for(const v of I)if(!0!==v){if(v===rs)return rs;if(!1===v||v instanceof Ar)return v}return!0}),(0,et.h)(I=>I!==rs),(0,Ht.q)(1)))}function fi(_){return(0,It.z)((0,mt.b)(I=>{if(An(I))throw fo(0,I)}),(0,St.U)(I=>!0===I))}const is={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Sa(_,I,v,w,R){const q=zo(_,I,v);return q.matched?function Oo(_,I,v,w){const R=I.canMatch;if(!R||0===R.length)return(0,$.of)(!0);const q=R.map(ee=>{const Re=J(ee,_);return nn(function Qi(_){return _&&gn(_.canMatch)}(Re)?Re.canMatch(I,v):_.runInContext(()=>Re(I,v)))});return(0,$.of)(q).pipe(ms(),fi())}(w=zr(I,w),I,v).pipe((0,St.U)(ee=>!0===ee?q:{...is})):(0,$.of)(q)}function zo(_,I,v){if(""===I.path)return"full"===I.pathMatch&&(_.hasChildren()||v.length>0)?{...is}:{matched:!0,consumedSegments:[],remainingSegments:v,parameters:{},positionalParamSegments:{}};const R=(I.matcher||zt)(v,_,I);if(!R)return{...is};const q={};En(R.posParams,(Re,at)=>{q[at]=Re.path});const ee=R.consumed.length>0?{...q,...R.consumed[R.consumed.length-1].parameters}:q;return{matched:!0,consumedSegments:R.consumed,remainingSegments:v.slice(R.consumed.length),parameters:ee,positionalParamSegments:R.posParams??{}}}function ra(_,I,v,w){if(v.length>0&&function ia(_,I,v){return v.some(w=>sa(_,I,w)&&wi(w)!==cn)}(_,v,w)){const q=new Vt(I,function ya(_,I,v,w){const R={};R[cn]=w,w._sourceSegment=_,w._segmentIndexShift=I.length;for(const q of v)if(""===q.path&&wi(q)!==cn){const ee=new Vt([],{});ee._sourceSegment=_,ee._segmentIndexShift=I.length,R[wi(q)]=ee}return R}(_,I,w,new Vt(v,_.children)));return q._sourceSegment=_,q._segmentIndexShift=I.length,{segmentGroup:q,slicedSegments:[]}}if(0===v.length&&function Aa(_,I,v){return v.some(w=>sa(_,I,w))}(_,v,w)){const q=new Vt(_.segments,function xs(_,I,v,w,R){const q={};for(const ee of w)if(sa(_,v,ee)&&!R[wi(ee)]){const Re=new Vt([],{});Re._sourceSegment=_,Re._segmentIndexShift=I.length,q[wi(ee)]=Re}return{...R,...q}}(_,I,v,w,_.children));return q._sourceSegment=_,q._segmentIndexShift=I.length,{segmentGroup:q,slicedSegments:v}}const R=new Vt(_.segments,_.children);return R._sourceSegment=_,R._segmentIndexShift=I.length,{segmentGroup:R,slicedSegments:v}}function sa(_,I,v){return(!(_.hasChildren()||I.length>0)||"full"!==v.pathMatch)&&""===v.path}function Va(_,I,v,w){return!!(wi(_)===w||w!==cn&&sa(I,v,_))&&("**"===_.path||zo(I,_,v).matched)}function Ma(_,I,v){return 0===I.length&&!_.children[v]}const Go=!1;class Ii{constructor(I){this.segmentGroup=I||null}}class ss{constructor(I){this.urlTree=I}}function Tr(_){return we(new Ii(_))}function Ua(_){return we(new ss(_))}class No{constructor(I,v,w,R,q){this.injector=I,this.configLoader=v,this.urlSerializer=w,this.urlTree=R,this.config=q,this.allowRedirects=!0}apply(){const I=ra(this.urlTree.root,[],[],this.config).segmentGroup,v=new Vt(I.segments,I.children);return this.expandSegmentGroup(this.injector,this.config,v,cn).pipe((0,St.U)(q=>this.createUrlTree(tn(q),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ft(q=>{if(q instanceof ss)return this.allowRedirects=!1,this.match(q.urlTree);throw q instanceof Ii?this.noMatchError(q):q}))}match(I){return this.expandSegmentGroup(this.injector,this.config,I.root,cn).pipe((0,St.U)(R=>this.createUrlTree(tn(R),I.queryParams,I.fragment))).pipe(ft(R=>{throw R instanceof Ii?this.noMatchError(R):R}))}noMatchError(I){return new p.vHH(4002,Go)}createUrlTree(I,v,w){const R=Ct(I);return new Ar(R,v,w)}expandSegmentGroup(I,v,w,R){return 0===w.segments.length&&w.hasChildren()?this.expandChildren(I,v,w).pipe((0,St.U)(q=>new Vt([],q))):this.expandSegment(I,w,v,w.segments,R,!0)}expandChildren(I,v,w){const R=[];for(const q of Object.keys(w.children))"primary"===q?R.unshift(q):R.push(q);return(0,F.D)(R).pipe((0,ut.b)(q=>{const ee=w.children[q],Re=Wi(v,q);return this.expandSegmentGroup(I,Re,ee,q).pipe((0,St.U)(at=>({segment:at,outlet:q})))}),Kn((q,ee)=>(q[ee.outlet]=ee.segment,q),{}),xe())}expandSegment(I,v,w,R,q,ee){return(0,F.D)(w).pipe((0,ut.b)(Re=>this.expandSegmentAgainstRoute(I,v,w,Re,R,q,ee).pipe(ft($t=>{if($t instanceof Ii)return(0,$.of)(null);throw $t}))),(0,tt.P)(Re=>!!Re),ft((Re,at)=>{if(vo(Re))return Ma(v,R,q)?(0,$.of)(new Vt([],{})):Tr(v);throw Re}))}expandSegmentAgainstRoute(I,v,w,R,q,ee,Re){return Va(R,v,q,ee)?void 0===R.redirectTo?this.matchSegmentAgainstRoute(I,v,R,q,ee):Re&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(I,v,w,R,q,ee):Tr(v):Tr(v)}expandSegmentAgainstRouteUsingRedirect(I,v,w,R,q,ee){return"**"===R.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(I,w,R,ee):this.expandRegularSegmentAgainstRouteUsingRedirect(I,v,w,R,q,ee)}expandWildCardWithParamsAgainstRouteUsingRedirect(I,v,w,R){const q=this.applyRedirectCommands([],w.redirectTo,{});return w.redirectTo.startsWith("/")?Ua(q):this.lineralizeSegments(w,q).pipe((0,Ve.z)(ee=>{const Re=new Vt(ee,{});return this.expandSegment(I,Re,v,ee,R,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(I,v,w,R,q,ee){const{matched:Re,consumedSegments:at,remainingSegments:$t,positionalParamSegments:Qt}=zo(v,R,q);if(!Re)return Tr(v);const jn=this.applyRedirectCommands(at,R.redirectTo,Qt);return R.redirectTo.startsWith("/")?Ua(jn):this.lineralizeSegments(R,jn).pipe((0,Ve.z)(Pi=>this.expandSegment(I,v,w,Pi.concat($t),ee,!1)))}matchSegmentAgainstRoute(I,v,w,R,q){return"**"===w.path?(I=zr(w,I),w.loadChildren?(w._loadedRoutes?(0,$.of)({routes:w._loadedRoutes,injector:w._loadedInjector}):this.configLoader.loadChildren(I,w)).pipe((0,St.U)(Re=>(w._loadedRoutes=Re.routes,w._loadedInjector=Re.injector,new Vt(R,{})))):(0,$.of)(new Vt(R,{}))):Sa(v,w,R,I).pipe((0,In.w)(({matched:ee,consumedSegments:Re,remainingSegments:at})=>ee?this.getChildConfig(I=w._injector??I,w,R).pipe((0,Ve.z)(Qt=>{const jn=Qt.injector??I,Pi=Qt.routes,{segmentGroup:Os,slicedSegments:ln}=ra(v,Re,at,Pi),Sn=new Vt(Os.segments,Os.children);if(0===ln.length&&Sn.hasChildren())return this.expandChildren(jn,Pi,Sn).pipe((0,St.U)(Is=>new Vt(Re,Is)));if(0===Pi.length&&0===ln.length)return(0,$.of)(new Vt(Re,{}));const fn=wi(w)===q;return this.expandSegment(jn,Sn,Pi,ln,fn?cn:q,!0).pipe((0,St.U)(oi=>new Vt(Re.concat(oi.segments),oi.children)))})):Tr(v)))}getChildConfig(I,v,w){return v.children?(0,$.of)({routes:v.children,injector:I}):v.loadChildren?void 0!==v._loadedRoutes?(0,$.of)({routes:v._loadedRoutes,injector:v._loadedInjector}):function vu(_,I,v,w){const R=I.canLoad;if(void 0===R||0===R.length)return(0,$.of)(!0);const q=R.map(ee=>{const Re=J(ee,_);return nn(function ma(_){return _&&gn(_.canLoad)}(Re)?Re.canLoad(I,v):_.runInContext(()=>Re(I,v)))});return(0,$.of)(q).pipe(ms(),fi())}(I,v,w).pipe((0,Ve.z)(R=>R?this.configLoader.loadChildren(I,v).pipe((0,mt.b)(q=>{v._loadedRoutes=q.routes,v._loadedInjector=q.injector})):function Ba(_){return we(Fa(Go,3))}())):(0,$.of)({routes:[],injector:I})}lineralizeSegments(I,v){let w=[],R=v.root;for(;;){if(w=w.concat(R.segments),0===R.numberOfChildren)return(0,$.of)(w);if(R.numberOfChildren>1||!R.children[cn])return I.redirectTo,we(new p.vHH(4e3,Go));R=R.children[cn]}}applyRedirectCommands(I,v,w){return this.applyRedirectCreateUrlTree(v,this.urlSerializer.parse(v),I,w)}applyRedirectCreateUrlTree(I,v,w,R){const q=this.createSegmentGroup(I,v.root,w,R);return new Ar(q,this.createQueryParams(v.queryParams,this.urlTree.queryParams),v.fragment)}createQueryParams(I,v){const w={};return En(I,(R,q)=>{if("string"==typeof R&&R.startsWith(":")){const Re=R.substring(1);w[q]=v[Re]}else w[q]=R}),w}createSegmentGroup(I,v,w,R){const q=this.createSegments(I,v.segments,w,R);let ee={};return En(v.children,(Re,at)=>{ee[at]=this.createSegmentGroup(I,Re,w,R)}),new Vt(q,ee)}createSegments(I,v,w,R){return v.map(q=>q.path.startsWith(":")?this.findPosParam(I,q,R):this.findOrReturn(q,w))}findPosParam(I,v,w){const R=w[v.path.substring(1)];if(!R)throw new p.vHH(4001,Go);return R}findOrReturn(I,v){let w=0;for(const R of v){if(R.path===I.path)return v.splice(w),R;w++}return I}}class vs{}class H{constructor(I,v,w,R,q,ee,Re){this.injector=I,this.rootComponentType=v,this.config=w,this.urlTree=R,this.url=q,this.paramsInheritanceStrategy=ee,this.urlSerializer=Re}recognize(){const I=ra(this.urlTree.root,[],[],this.config.filter(v=>void 0===v.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,I,cn).pipe((0,St.U)(v=>{if(null===v)return null;const w=new Ri([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},cn,this.rootComponentType,null,this.urlTree.root,-1,{}),R=new Ts(w,v),q=new Qs(this.url,R);return this.inheritParamsAndData(q._root),q}))}inheritParamsAndData(I){const v=I.value,w=Ss(v,this.paramsInheritanceStrategy);v.params=Object.freeze(w.params),v.data=Object.freeze(w.data),I.children.forEach(R=>this.inheritParamsAndData(R))}processSegmentGroup(I,v,w,R){return 0===w.segments.length&&w.hasChildren()?this.processChildren(I,v,w):this.processSegment(I,v,w,w.segments,R)}processChildren(I,v,w){return(0,F.D)(Object.keys(w.children)).pipe((0,ut.b)(R=>{const q=w.children[R],ee=Wi(v,R);return this.processSegmentGroup(I,ee,q,R)}),Kn((R,q)=>R&&q?(R.push(...q),R):null),function Ze(_,I=!1){return(0,gt.e)((v,w)=>{let R=0;v.subscribe((0,Fe.x)(w,q=>{const ee=_(q,R++);(ee||I)&&w.next(q),!ee&&w.complete()}))})}(R=>null!==R),(0,ct.d)(null),xe(),(0,St.U)(R=>{if(null===R)return null;const q=it(R);return function k(_){_.sort((I,v)=>I.value.outlet===cn?-1:v.value.outlet===cn?1:I.value.outlet.localeCompare(v.value.outlet))}(q),q}))}processSegment(I,v,w,R,q){return(0,F.D)(v).pipe((0,ut.b)(ee=>this.processSegmentAgainstRoute(ee._injector??I,ee,w,R,q)),(0,tt.P)(ee=>!!ee),ft(ee=>{if(vo(ee))return Ma(w,R,q)?(0,$.of)([]):(0,$.of)(null);throw ee}))}processSegmentAgainstRoute(I,v,w,R,q){if(v.redirectTo||!Va(v,w,R,q))return(0,$.of)(null);let ee;if("**"===v.path){const Re=R.length>0?$i(R).parameters:{},at=br(w)+R.length,$t=new Ri(R,Re,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,cr(v),wi(v),v.component??v._loadedComponent??null,v,vn(w),at,$n(v));ee=(0,$.of)({snapshot:$t,consumedSegments:[],remainingSegments:[]})}else ee=Sa(w,v,R,I).pipe((0,St.U)(({matched:Re,consumedSegments:at,remainingSegments:$t,parameters:Qt})=>{if(!Re)return null;const jn=br(w)+at.length;return{snapshot:new Ri(at,Qt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,cr(v),wi(v),v.component??v._loadedComponent??null,v,vn(w),jn,$n(v)),consumedSegments:at,remainingSegments:$t}}));return ee.pipe((0,In.w)(Re=>{if(null===Re)return(0,$.of)(null);const{snapshot:at,consumedSegments:$t,remainingSegments:Qt}=Re;I=v._injector??I;const jn=v._loadedInjector??I,Pi=function Y(_){return _.children?_.children:_.loadChildren?_._loadedRoutes:[]}(v),{segmentGroup:Os,slicedSegments:ln}=ra(w,$t,Qt,Pi.filter(fn=>void 0===fn.redirectTo));if(0===ln.length&&Os.hasChildren())return this.processChildren(jn,Pi,Os).pipe((0,St.U)(fn=>null===fn?null:[new Ts(at,fn)]));if(0===Pi.length&&0===ln.length)return(0,$.of)([new Ts(at,[])]);const Sn=wi(v)===q;return this.processSegment(jn,Pi,Os,ln,Sn?cn:q).pipe((0,St.U)(fn=>null===fn?null:[new Ts(at,fn)]))}))}}function de(_){const I=_.value.routeConfig;return I&&""===I.path&&void 0===I.redirectTo}function it(_){const I=[],v=new Set;for(const w of _){if(!de(w)){I.push(w);continue}const R=I.find(q=>w.value.routeConfig===q.value.routeConfig);void 0!==R?(R.children.push(...w.children),v.add(R)):I.push(w)}for(const w of v){const R=it(w.children);I.push(new Ts(w.value,R))}return I.filter(w=>!v.has(w))}function vn(_){let I=_;for(;I._sourceSegment;)I=I._sourceSegment;return I}function br(_){let I=_,v=I._segmentIndexShift??0;for(;I._sourceSegment;)I=I._sourceSegment,v+=I._segmentIndexShift??0;return v-1}function cr(_){return _.data||{}}function $n(_){return _.resolve||{}}function Xr(_){return"string"==typeof _.title||null===_.title}function Ji(_){return(0,In.w)(I=>{const v=_(I);return v?(0,F.D)(v).pipe((0,St.U)(()=>I)):(0,$.of)(I)})}const Vi=new p.OlP("ROUTES");let va=(()=>{class _{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,p.f3M)(p.Sil)}loadComponent(v){if(this.componentLoaders.get(v))return this.componentLoaders.get(v);if(v._loadedComponent)return(0,$.of)(v._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(v);const w=nn(v.loadComponent()).pipe((0,St.U)(Vu),(0,mt.b)(q=>{this.onLoadEndListener&&this.onLoadEndListener(v),v._loadedComponent=q}),_n(()=>{this.componentLoaders.delete(v)})),R=new Dt(w,()=>new re.x).pipe(He());return this.componentLoaders.set(v,R),R}loadChildren(v,w){if(this.childrenLoaders.get(w))return this.childrenLoaders.get(w);if(w._loadedRoutes)return(0,$.of)({routes:w._loadedRoutes,injector:w._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(w);const q=this.loadModuleFactoryOrRoutes(w.loadChildren).pipe((0,St.U)(Re=>{this.onLoadEndListener&&this.onLoadEndListener(w);let at,$t,Qt=!1;Array.isArray(Re)?$t=Re:(at=Re.create(v).injector,$t=jr(at.get(Vi,[],p.XFs.Self|p.XFs.Optional)));return{routes:$t.map(Lr),injector:at}}),_n(()=>{this.childrenLoaders.delete(w)})),ee=new Dt(q,()=>new re.x).pipe(He());return this.childrenLoaders.set(w,ee),ee}loadModuleFactoryOrRoutes(v){return nn(v()).pipe((0,St.U)(Vu),(0,Ve.z)(w=>w instanceof p.YKP||Array.isArray(w)?(0,$.of)(w):(0,F.D)(this.compiler.compileModuleAsync(w))))}}return _.\u0275fac=function(v){return new(v||_)},_.\u0275prov=p.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();function Vu(_){return function _a(_){return _&&"object"==typeof _&&"default"in _}(_)?_.default:_}let Ps=(()=>{class _{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new re.x,this.configLoader=(0,p.f3M)(va),this.environmentInjector=(0,p.f3M)(p.lqb),this.urlSerializer=(0,p.f3M)(qr),this.rootContexts=(0,p.f3M)(Ao),this.navigationId=0,this.afterPreactivation=()=>(0,$.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=R=>this.events.next(new lo(R)),this.configLoader.onLoadStartListener=R=>this.events.next(new hs(R))}complete(){this.transitions?.complete()}handleNavigationRequest(v){const w=++this.navigationId;this.transitions?.next({...this.transitions.value,...v,id:w})}setupNavigations(v){return this.transitions=new Z({id:0,targetPageId:0,currentUrlTree:v.currentUrlTree,currentRawUrl:v.currentUrlTree,extractedUrl:v.urlHandlingStrategy.extract(v.currentUrlTree),urlAfterRedirects:v.urlHandlingStrategy.extract(v.currentUrlTree),rawUrl:v.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Bn,restoredState:null,currentSnapshot:v.routerState.snapshot,targetSnapshot:null,currentRouterState:v.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,et.h)(w=>0!==w.id),(0,St.U)(w=>({...w,extractedUrl:v.urlHandlingStrategy.extract(w.rawUrl)})),(0,In.w)(w=>{let R=!1,q=!1;return(0,$.of)(w).pipe((0,mt.b)(ee=>{this.currentNavigation={id:ee.id,initialUrl:ee.rawUrl,extractedUrl:ee.extractedUrl,trigger:ee.source,extras:ee.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,In.w)(ee=>{const Re=v.browserUrlTree.toString(),at=!v.navigated||ee.extractedUrl.toString()!==Re||Re!==v.currentUrlTree.toString();if(!at&&"reload"!==(ee.extras.onSameUrlNavigation??v.onSameUrlNavigation)){const Qt="";return this.events.next(new Nr(ee.id,v.serializeUrl(w.rawUrl),Qt,0)),v.rawUrlTree=ee.rawUrl,ee.resolve(null),ot.E}if(v.urlHandlingStrategy.shouldProcessUrl(ee.rawUrl))return su(ee.source)&&(v.browserUrlTree=ee.extractedUrl),(0,$.of)(ee).pipe((0,In.w)(Qt=>{const jn=this.transitions?.getValue();return this.events.next(new Zn(Qt.id,this.urlSerializer.serialize(Qt.extractedUrl),Qt.source,Qt.restoredState)),jn!==this.transitions?.getValue()?ot.E:Promise.resolve(Qt)}),function Wo(_,I,v,w){return(0,In.w)(R=>function Lu(_,I,v,w,R){return new No(_,I,v,w,R).apply()}(_,I,v,R.extractedUrl,w).pipe((0,St.U)(q=>({...R,urlAfterRedirects:q}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,v.config),(0,mt.b)(Qt=>{this.currentNavigation={...this.currentNavigation,finalUrl:Qt.urlAfterRedirects},w.urlAfterRedirects=Qt.urlAfterRedirects}),function ri(_,I,v,w,R){return(0,Ve.z)(q=>function M(_,I,v,w,R,q,ee="emptyOnly"){return new H(_,I,v,w,R,ee,q).recognize().pipe((0,In.w)(Re=>null===Re?function iu(_){return new Ce.y(I=>I.error(_))}(new vs):(0,$.of)(Re)))}(_,I,v,q.urlAfterRedirects,w.serialize(q.urlAfterRedirects),w,R).pipe((0,St.U)(ee=>({...q,targetSnapshot:ee}))))}(this.environmentInjector,this.rootComponentType,v.config,this.urlSerializer,v.paramsInheritanceStrategy),(0,mt.b)(Qt=>{if(w.targetSnapshot=Qt.targetSnapshot,"eager"===v.urlUpdateStrategy){if(!Qt.extras.skipLocationChange){const Pi=v.urlHandlingStrategy.merge(Qt.urlAfterRedirects,Qt.rawUrl);v.setBrowserUrl(Pi,Qt)}v.browserUrlTree=Qt.urlAfterRedirects}const jn=new Er(Qt.id,this.urlSerializer.serialize(Qt.extractedUrl),this.urlSerializer.serialize(Qt.urlAfterRedirects),Qt.targetSnapshot);this.events.next(jn)}));if(at&&v.urlHandlingStrategy.shouldProcessUrl(v.rawUrlTree)){const{id:Qt,extractedUrl:jn,source:Pi,restoredState:Os,extras:ln}=ee,Sn=new Zn(Qt,this.urlSerializer.serialize(jn),Pi,Os);this.events.next(Sn);const fn=Xo(jn,this.rootComponentType).snapshot;return w={...ee,targetSnapshot:fn,urlAfterRedirects:jn,extras:{...ln,skipLocationChange:!1,replaceUrl:!1}},(0,$.of)(w)}{const Qt="";return this.events.next(new Nr(ee.id,v.serializeUrl(w.extractedUrl),Qt,1)),v.rawUrlTree=ee.rawUrl,ee.resolve(null),ot.E}}),(0,mt.b)(ee=>{const Re=new ts(ee.id,this.urlSerializer.serialize(ee.extractedUrl),this.urlSerializer.serialize(ee.urlAfterRedirects),ee.targetSnapshot);this.events.next(Re)}),(0,St.U)(ee=>w={...ee,guards:L(ee.targetSnapshot,ee.currentSnapshot,this.rootContexts)}),function Qn(_,I){return(0,Ve.z)(v=>{const{targetSnapshot:w,currentSnapshot:R,guards:{canActivateChecks:q,canDeactivateChecks:ee}}=v;return 0===ee.length&&0===q.length?(0,$.of)({...v,guardsResult:!0}):function ji(_,I,v,w){return(0,F.D)(_).pipe((0,Ve.z)(R=>function ru(_,I,v,w,R){const q=I&&I.routeConfig?I.routeConfig.canDeactivate:null;if(!q||0===q.length)return(0,$.of)(!0);const ee=q.map(Re=>{const at=Ms(I)??R,$t=J(Re,at);return nn(function xo(_){return _&&gn(_.canDeactivate)}($t)?$t.canDeactivate(_,I,v,w):at.runInContext(()=>$t(_,I,v,w))).pipe((0,tt.P)())});return(0,$.of)(ee).pipe(ms())}(R.component,R.route,v,I,w)),(0,tt.P)(R=>!0!==R,!0))}(ee,w,R,_).pipe((0,Ve.z)(Re=>Re&&function mo(_){return"boolean"==typeof _}(Re)?function Rs(_,I,v,w){return(0,F.D)(I).pipe((0,ut.b)(R=>(0,Be.z)(function js(_,I){return null!==_&&I&&I(new Qr(_)),(0,$.of)(!0)}(R.route.parent,w),function ys(_,I){return null!==_&&I&&I(new Ei(_)),(0,$.of)(!0)}(R.route,w),function Po(_,I,v){const w=I[I.length-1],q=I.slice(0,I.length-1).reverse().map(ee=>function O(_){const I=_.routeConfig?_.routeConfig.canActivateChild:null;return I&&0!==I.length?{node:_,guards:I}:null}(ee)).filter(ee=>null!==ee).map(ee=>(0,st.P)(()=>{const Re=ee.guards.map(at=>{const $t=Ms(ee.node)??v,Qt=J(at,$t);return nn(function La(_){return _&&gn(_.canActivateChild)}(Qt)?Qt.canActivateChild(w,_):$t.runInContext(()=>Qt(w,_))).pipe((0,tt.P)())});return(0,$.of)(Re).pipe(ms())}));return(0,$.of)(q).pipe(ms())}(_,R.path,v),function na(_,I,v){const w=I.routeConfig?I.routeConfig.canActivate:null;if(!w||0===w.length)return(0,$.of)(!0);const R=w.map(q=>(0,st.P)(()=>{const ee=Ms(I)??v,Re=J(q,ee);return nn(function hi(_){return _&&gn(_.canActivate)}(Re)?Re.canActivate(I,_):ee.runInContext(()=>Re(I,_))).pipe((0,tt.P)())}));return(0,$.of)(R).pipe(ms())}(_,R.route,v))),(0,tt.P)(R=>!0!==R,!0))}(w,q,_,I):(0,$.of)(Re)),(0,St.U)(Re=>({...v,guardsResult:Re})))})}(this.environmentInjector,ee=>this.events.next(ee)),(0,mt.b)(ee=>{if(w.guardsResult=ee.guardsResult,An(ee.guardsResult))throw fo(0,ee.guardsResult);const Re=new qs(ee.id,this.urlSerializer.serialize(ee.extractedUrl),this.urlSerializer.serialize(ee.urlAfterRedirects),ee.targetSnapshot,!!ee.guardsResult);this.events.next(Re)}),(0,et.h)(ee=>!!ee.guardsResult||(v.restoreHistory(ee),this.cancelNavigationTransition(ee,"",3),!1)),Ji(ee=>{if(ee.guards.canActivateChecks.length)return(0,$.of)(ee).pipe((0,mt.b)(Re=>{const at=new Fs(Re.id,this.urlSerializer.serialize(Re.extractedUrl),this.urlSerializer.serialize(Re.urlAfterRedirects),Re.targetSnapshot);this.events.next(at)}),(0,In.w)(Re=>{let at=!1;return(0,$.of)(Re).pipe(function nr(_,I){return(0,Ve.z)(v=>{const{targetSnapshot:w,guards:{canActivateChecks:R}}=v;if(!R.length)return(0,$.of)(v);let q=0;return(0,F.D)(R).pipe((0,ut.b)(ee=>function ii(_,I,v,w){const R=_.routeConfig,q=_._resolve;return void 0!==R?.title&&!Xr(R)&&(q[Br]=R.title),function Sr(_,I,v,w){const R=function Ki(_){return[...Object.keys(_),...Object.getOwnPropertySymbols(_)]}(_);if(0===R.length)return(0,$.of)({});const q={};return(0,F.D)(R).pipe((0,Ve.z)(ee=>function _s(_,I,v,w){const R=Ms(I)??w,q=J(_,R);return nn(q.resolve?q.resolve(I,v):R.runInContext(()=>q(I,v)))}(_[ee],I,v,w).pipe((0,tt.P)(),(0,mt.b)(Re=>{q[ee]=Re}))),jt(1),function qt(_){return(0,St.U)(()=>_)}(q),ft(ee=>vo(ee)?ot.E:we(ee)))}(q,_,I,w).pipe((0,St.U)(ee=>(_._resolvedData=ee,_.data=Ss(_,v).resolve,R&&Xr(R)&&(_.data[Br]=R.title),null)))}(ee.route,w,_,I)),(0,mt.b)(()=>q++),jt(1),(0,Ve.z)(ee=>q===R.length?(0,$.of)(v):ot.E))})}(v.paramsInheritanceStrategy,this.environmentInjector),(0,mt.b)({next:()=>at=!0,complete:()=>{at||(v.restoreHistory(Re),this.cancelNavigationTransition(Re,"",2))}}))}),(0,mt.b)(Re=>{const at=new Zs(Re.id,this.urlSerializer.serialize(Re.extractedUrl),this.urlSerializer.serialize(Re.urlAfterRedirects),Re.targetSnapshot);this.events.next(at)}))}),Ji(ee=>{const Re=at=>{const $t=[];at.routeConfig?.loadComponent&&!at.routeConfig._loadedComponent&&$t.push(this.configLoader.loadComponent(at.routeConfig).pipe((0,mt.b)(Qt=>{at.component=Qt}),(0,St.U)(()=>{})));for(const Qt of at.children)$t.push(...Re(Qt));return $t};return qe(Re(ee.targetSnapshot.root)).pipe((0,ct.d)(),(0,Ht.q)(1))}),Ji(()=>this.afterPreactivation()),(0,St.U)(ee=>{const Re=function Xs(_,I,v){const w=Ti(_,I._root,v?v._root:void 0);return new ho(w,I)}(v.routeReuseStrategy,ee.targetSnapshot,ee.currentRouterState);return w={...ee,targetRouterState:Re}}),(0,mt.b)(ee=>{v.currentUrlTree=ee.urlAfterRedirects,v.rawUrlTree=v.urlHandlingStrategy.merge(ee.urlAfterRedirects,ee.rawUrl),v.routerState=ee.targetRouterState,"deferred"===v.urlUpdateStrategy&&(ee.extras.skipLocationChange||v.setBrowserUrl(v.rawUrlTree,ee),v.browserUrlTree=ee.urlAfterRedirects)}),((_,I,v)=>(0,St.U)(w=>(new kn(I,w.targetRouterState,w.currentRouterState,v).activate(_),w)))(this.rootContexts,v.routeReuseStrategy,ee=>this.events.next(ee)),(0,Ht.q)(1),(0,mt.b)({next:ee=>{R=!0,this.lastSuccessfulNavigation=this.currentNavigation,v.navigated=!0,this.events.next(new ni(ee.id,this.urlSerializer.serialize(ee.extractedUrl),this.urlSerializer.serialize(v.currentUrlTree))),v.titleStrategy?.updateTitle(ee.targetRouterState.snapshot),ee.resolve(!0)},complete:()=>{R=!0}}),_n(()=>{R||q||this.cancelNavigationTransition(w,"",1),this.currentNavigation?.id===w.id&&(this.currentNavigation=null)}),ft(ee=>{if(q=!0,po(ee)){Bi(ee)||(v.navigated=!0,v.restoreHistory(w,!0));const Re=new _i(w.id,this.urlSerializer.serialize(w.extractedUrl),ee.message,ee.cancellationCode);if(this.events.next(Re),Bi(ee)){const at=v.urlHandlingStrategy.merge(ee.url,v.rawUrlTree),$t={skipLocationChange:w.extras.skipLocationChange,replaceUrl:"eager"===v.urlUpdateStrategy||su(w.source)};v.scheduleNavigation(at,Bn,null,$t,{resolve:w.resolve,reject:w.reject,promise:w.promise})}else w.resolve(!1)}else{v.restoreHistory(w,!0);const Re=new ci(w.id,this.urlSerializer.serialize(w.extractedUrl),ee,w.targetSnapshot??void 0);this.events.next(Re);try{w.resolve(v.errorHandler(ee))}catch(at){w.reject(at)}}return ot.E}))}))}cancelNavigationTransition(v,w,R){const q=new _i(v.id,this.urlSerializer.serialize(v.extractedUrl),w,R);this.events.next(q),v.resolve(!1)}}return _.\u0275fac=function(v){return new(v||_)},_.\u0275prov=p.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();function su(_){return _!==Bn}let Es=(()=>{class _{buildTitle(v){let w,R=v.root;for(;void 0!==R;)w=this.getResolvedTitleForRoute(R)??w,R=R.children.find(q=>q.outlet===cn);return w}getResolvedTitleForRoute(v){return v.data[Br]}}return _.\u0275fac=function(v){return new(v||_)},_.\u0275prov=p.Yz7({token:_,factory:function(){return(0,p.f3M)(ol)},providedIn:"root"}),_})(),ol=(()=>{class _ extends Es{constructor(v){super(),this.title=v}updateTitle(v){const w=this.buildTitle(v);void 0!==w&&this.title.setTitle(w)}}return _.\u0275fac=function(v){return new(v||_)(p.LFG(Vn.Dx))},_.\u0275prov=p.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})(),ou=(()=>{class _{}return _.\u0275fac=function(v){return new(v||_)},_.\u0275prov=p.Yz7({token:_,factory:function(){return(0,p.f3M)(_u)},providedIn:"root"}),_})();class Ko{shouldDetach(I){return!1}store(I,v){}shouldAttach(I){return!1}retrieve(I){return null}shouldReuseRoute(I,v){return I.routeConfig===v.routeConfig}}let _u=(()=>{class _ extends Ko{}return _.\u0275fac=function(){let I;return function(w){return(I||(I=p.n5z(_)))(w||_)}}(),_.\u0275prov=p.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();const qo=new p.OlP("",{providedIn:"root",factory:()=>({})});let Zo=(()=>{class _{}return _.\u0275fac=function(v){return new(v||_)},_.\u0275prov=p.Yz7({token:_,factory:function(){return(0,p.f3M)(Eu)},providedIn:"root"}),_})(),Eu=(()=>{class _{shouldProcessUrl(v){return!0}extract(v){return v}merge(v,w){return v}}return _.\u0275fac=function(v){return new(v||_)},_.\u0275prov=p.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();function wu(_){throw _}function au(_,I,v){return I.parse("/")}const Si={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},os={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ar=(()=>{class _{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,p.f3M)(p.c2e),this.isNgZoneEnabled=!1,this.options=(0,p.f3M)(qo,{optional:!0})||{},this.errorHandler=this.options.errorHandler||wu,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||au,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,p.f3M)(Zo),this.routeReuseStrategy=(0,p.f3M)(ou),this.urlCreationStrategy=(0,p.f3M)(Ls),this.titleStrategy=(0,p.f3M)(Es),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=jr((0,p.f3M)(Vi,{optional:!0})??[]),this.navigationTransitions=(0,p.f3M)(Ps),this.urlSerializer=(0,p.f3M)(qr),this.location=(0,p.f3M)(on.Ye),this.isNgZoneEnabled=(0,p.f3M)(p.R0b)instanceof p.R0b&&p.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ar,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Xo(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(v=>{this.lastSuccessfulId=v.id,this.currentPageId=this.browserPageId??0},v=>{this.console.warn(`Unhandled Navigation Error: ${v}`)})}resetRootComponentType(v){this.routerState.root.component=v,this.navigationTransitions.rootComponentType=v}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const v=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Bn,v)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(v=>{const w="popstate"===v.type?"popstate":"hashchange";"popstate"===w&&setTimeout(()=>{this.navigateToSyncWithBrowser(v.url,w,v.state)},0)}))}navigateToSyncWithBrowser(v,w,R){const q={replaceUrl:!0},ee=R?.navigationId?R:null;if(R){const at={...R};delete at.navigationId,delete at.\u0275routerPageId,0!==Object.keys(at).length&&(q.state=at)}const Re=this.parseUrl(v);this.scheduleNavigation(Re,w,ee,q)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(v){this.config=v.map(Lr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(v,w={}){const{relativeTo:R,queryParams:q,fragment:ee,queryParamsHandling:Re,preserveFragment:at}=w,$t=at?this.currentUrlTree.fragment:ee;let Qt=null;switch(Re){case"merge":Qt={...this.currentUrlTree.queryParams,...q};break;case"preserve":Qt=this.currentUrlTree.queryParams;break;default:Qt=q||null}return null!==Qt&&(Qt=this.removeEmptyProps(Qt)),this.urlCreationStrategy.createUrlTree(R,this.routerState,this.currentUrlTree,v,Qt,$t??null)}navigateByUrl(v,w={skipLocationChange:!1}){const R=An(v)?v:this.parseUrl(v),q=this.urlHandlingStrategy.merge(R,this.rawUrlTree);return this.scheduleNavigation(q,Bn,null,w)}navigate(v,w={skipLocationChange:!1}){return function ja(_){for(let I=0;I<_.length;I++){const v=_[I];if(null==v)throw new p.vHH(4008,false)}}(v),this.navigateByUrl(this.createUrlTree(v,w),w)}serializeUrl(v){return this.urlSerializer.serialize(v)}parseUrl(v){let w;try{w=this.urlSerializer.parse(v)}catch(R){w=this.malformedUriErrorHandler(R,this.urlSerializer,v)}return w}isActive(v,w){let R;if(R=!0===w?{...Si}:!1===w?{...os}:w,An(v))return _r(this.currentUrlTree,v,R);const q=this.parseUrl(v);return _r(this.currentUrlTree,q,R)}removeEmptyProps(v){return Object.keys(v).reduce((w,R)=>{const q=v[R];return null!=q&&(w[R]=q),w},{})}scheduleNavigation(v,w,R,q,ee){if(this.disposed)return Promise.resolve(!1);let Re,at,$t,Qt;return ee?(Re=ee.resolve,at=ee.reject,$t=ee.promise):$t=new Promise((jn,Pi)=>{Re=jn,at=Pi}),Qt="computed"===this.canceledNavigationResolution?R&&R.\u0275routerPageId?R.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:Qt,source:w,restoredState:R,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:v,extras:q,resolve:Re,reject:at,promise:$t,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),$t.catch(jn=>Promise.reject(jn))}setBrowserUrl(v,w){const R=this.urlSerializer.serialize(v);if(this.location.isCurrentPathEqualTo(R)||w.extras.replaceUrl){const ee={...w.extras.state,...this.generateNgRouterState(w.id,this.browserPageId)};this.location.replaceState(R,"",ee)}else{const q={...w.extras.state,...this.generateNgRouterState(w.id,w.targetPageId)};this.location.go(R,"",q)}}restoreHistory(v,w=!1){if("computed"===this.canceledNavigationResolution){const q=this.currentPageId-(this.browserPageId??this.currentPageId);0!==q?this.location.historyGo(q):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===q&&(this.resetState(v),this.browserUrlTree=v.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(w&&this.resetState(v),this.resetUrlToCurrentUrlTree())}resetState(v){this.routerState=v.currentRouterState,this.currentUrlTree=v.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,v.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(v,w){return"computed"===this.canceledNavigationResolution?{navigationId:v,\u0275routerPageId:w}:{navigationId:v}}}return _.\u0275fac=function(v){return new(v||_)},_.\u0275prov=p.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})(),ws=(()=>{class _{constructor(v,w,R,q,ee,Re){this.router=v,this.route=w,this.tabIndexAttribute=R,this.renderer=q,this.el=ee,this.locationStrategy=Re,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new re.x;const at=ee.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===at||"area"===at,this.isAnchorElement?this.subscription=v.events.subscribe($t=>{$t instanceof ni&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(v){this._preserveFragment=(0,p.D6c)(v)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(v){this._skipLocationChange=(0,p.D6c)(v)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(v){this._replaceUrl=(0,p.D6c)(v)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(v){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",v)}ngOnChanges(v){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(v){null!=v?(this.commands=Array.isArray(v)?v:[v],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(v,w,R,q,ee){return!!(null===this.urlTree||this.isAnchorElement&&(0!==v||w||R||q||ee||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const v=null===this.href?null:(0,p.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",v)}applyAttributeValue(v,w){const R=this.renderer,q=this.el.nativeElement;null!==w?R.setAttribute(q,v,w):R.removeAttribute(q,v)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return _.\u0275fac=function(v){return new(v||_)(p.Y36(ar),p.Y36(bs),p.$8M("tabindex"),p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(on.S$))},_.\u0275dir=p.lG2({type:_,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(v,w){1&v&&p.NdJ("click",function(q){return w.onClick(q.button,q.ctrlKey,q.shiftKey,q.altKey,q.metaKey)}),2&v&&p.uIk("target",w.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[p.TTD]}),_})();class wa{}let Iu=(()=>{class _{constructor(v,w,R,q,ee){this.router=v,this.injector=R,this.preloadingStrategy=q,this.loader=ee}setUpPreloading(){this.subscription=this.router.events.pipe((0,et.h)(v=>v instanceof ni),(0,ut.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(v,w){const R=[];for(const q of w){q.providers&&!q._injector&&(q._injector=(0,p.MMx)(q.providers,v,`Route: ${q.path}`));const ee=q._injector??v,Re=q._loadedInjector??ee;(q.loadChildren&&!q._loadedRoutes&&void 0===q.canLoad||q.loadComponent&&!q._loadedComponent)&&R.push(this.preloadConfig(ee,q)),(q.children||q._loadedRoutes)&&R.push(this.processRoutes(Re,q.children??q._loadedRoutes))}return(0,F.D)(R).pipe((0,On.J)())}preloadConfig(v,w){return this.preloadingStrategy.preload(w,()=>{let R;R=w.loadChildren&&void 0===w.canLoad?this.loader.loadChildren(v,w):(0,$.of)(null);const q=R.pipe((0,Ve.z)(ee=>null===ee?(0,$.of)(void 0):(w._loadedRoutes=ee.routes,w._loadedInjector=ee.injector,this.processRoutes(ee.injector??v,ee.routes))));if(w.loadComponent&&!w._loadedComponent){const ee=this.loader.loadComponent(w);return(0,F.D)([q,ee]).pipe((0,On.J)())}return q})}}return _.\u0275fac=function(v){return new(v||_)(p.LFG(ar),p.LFG(p.Sil),p.LFG(p.lqb),p.LFG(wa),p.LFG(va))},_.\u0275prov=p.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();const us=new p.OlP("");let ei=(()=>{class _{constructor(v,w,R,q,ee={}){this.urlSerializer=v,this.transitions=w,this.viewportScroller=R,this.zone=q,this.options=ee,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},ee.scrollPositionRestoration=ee.scrollPositionRestoration||"disabled",ee.anchorScrolling=ee.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(v=>{v instanceof Zn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=v.navigationTrigger,this.restoredId=v.restoredState?v.restoredState.navigationId:0):v instanceof ni&&(this.lastId=v.id,this.scheduleScrollEvent(v,this.urlSerializer.parse(v.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(v=>{v instanceof Hr&&(v.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(v.position):v.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(v.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(v,w){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Hr(v,"popstate"===this.lastSource?this.store[this.restoredId]:null,w))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return _.\u0275fac=function(v){p.$Z()},_.\u0275prov=p.Yz7({token:_,factory:_.\u0275fac}),_})();var si=(()=>((si=si||{})[si.COMPLETE=0]="COMPLETE",si[si.FAILED=1]="FAILED",si[si.REDIRECTING=2]="REDIRECTING",si))();const Eo=!1;function pi(_,I){return{\u0275kind:_,\u0275providers:I}}const Xi=new p.OlP("",{providedIn:"root",factory:()=>!1});function Pa(){const _=(0,p.f3M)(p.zs3);return I=>{const v=_.get(p.z2F);if(I!==v.components[0])return;const w=_.get(ar),R=_.get(Uu);1===_.get(ua)&&w.initialNavigation(),_.get(la,null,p.XFs.Optional)?.setUpPreloading(),_.get(us,null,p.XFs.Optional)?.init(),w.resetRootComponentType(v.componentTypes[0]),R.closed||(R.next(),R.complete(),R.unsubscribe())}}const Uu=new p.OlP(Eo?"bootstrap done indicator":"",{factory:()=>new re.x}),ua=new p.OlP(Eo?"initial navigation":"",{providedIn:"root",factory:()=>1});function ju(){let _=[];return _=Eo?[{provide:p.Xts,multi:!0,useFactory:()=>{const I=(0,p.f3M)(ar);return()=>I.events.subscribe(v=>{console.group?.(`Router Event: ${v.constructor.name}`),console.log(function Ys(_){if(!("type"in _))return`Unknown Router Event: ${_.constructor.name}`;switch(_.type){case 14:return`ActivationEnd(path: '${_.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${_.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${_.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${_.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${_.id}, url: '${_.url}', urlAfterRedirects: '${_.urlAfterRedirects}', state: ${_.state}, shouldActivate: ${_.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${_.id}, url: '${_.url}', urlAfterRedirects: '${_.urlAfterRedirects}', state: ${_.state})`;case 2:return`NavigationCancel(id: ${_.id}, url: '${_.url}')`;case 16:return`NavigationSkipped(id: ${_.id}, url: '${_.url}')`;case 1:return`NavigationEnd(id: ${_.id}, url: '${_.url}', urlAfterRedirects: '${_.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${_.id}, url: '${_.url}', error: ${_.error})`;case 0:return`NavigationStart(id: ${_.id}, url: '${_.url}')`;case 6:return`ResolveEnd(id: ${_.id}, url: '${_.url}', urlAfterRedirects: '${_.urlAfterRedirects}', state: ${_.state})`;case 5:return`ResolveStart(id: ${_.id}, url: '${_.url}', urlAfterRedirects: '${_.urlAfterRedirects}', state: ${_.state})`;case 10:return`RouteConfigLoadEnd(path: ${_.route.path})`;case 9:return`RouteConfigLoadStart(path: ${_.route.path})`;case 4:return`RoutesRecognized(id: ${_.id}, url: '${_.url}', urlAfterRedirects: '${_.urlAfterRedirects}', state: ${_.state})`;case 15:return`Scroll(anchor: '${_.anchor}', position: '${_.position?`${_.position[0]}, ${_.position[1]}`:null}')`}}(v)),console.log(v),console.groupEnd?.()})}}]:[],pi(1,_)}const la=new p.OlP(Eo?"router preloader":"");function P(_){return pi(0,[{provide:la,useExisting:Iu},{provide:wa,useExisting:_}])}const j=!1,le=new p.OlP(j?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),ge=[on.Ye,{provide:qr,useClass:un},ar,Ao,{provide:bs,useFactory:function io(_){return _.routerState.root},deps:[ar]},va,j?{provide:Xi,useValue:!0}:[]];function be(){return new p.PXZ("Router",ar)}let nt=(()=>{class _{constructor(v){}static forRoot(v,w){return{ngModule:_,providers:[ge,j&&w?.enableTracing?ju().\u0275providers:[],{provide:Vi,multi:!0,useValue:v},{provide:le,useFactory:We,deps:[[ar,new p.FiY,new p.tp0]]},{provide:qo,useValue:w||{}},w?.useHash?{provide:on.S$,useClass:on.Do}:{provide:on.S$,useClass:on.b0},{provide:us,useFactory:()=>{const _=(0,p.f3M)(on.EM),I=(0,p.f3M)(p.R0b),v=(0,p.f3M)(qo),w=(0,p.f3M)(Ps),R=(0,p.f3M)(qr);return v.scrollOffset&&_.setOffset(v.scrollOffset),new ei(R,w,_,I,v)}},w?.preloadingStrategy?P(w.preloadingStrategy).\u0275providers:[],{provide:p.PXZ,multi:!0,useFactory:be},w?.initialNavigation?kt(w):[],[{provide:rn,useFactory:Pa},{provide:p.tb,multi:!0,useExisting:rn}]]}}static forChild(v){return{ngModule:_,providers:[{provide:Vi,multi:!0,useValue:v}]}}}return _.\u0275fac=function(v){return new(v||_)(p.LFG(le,8))},_.\u0275mod=p.oAB({type:_}),_.\u0275inj=p.cJS({imports:[ps]}),_})();function We(_){if(j&&_)throw new p.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function kt(_){return["disabled"===_.initialNavigation?pi(3,[{provide:p.ip1,multi:!0,useFactory:()=>{const I=(0,p.f3M)(ar);return()=>{I.setUpLocationChangeListener()}}},{provide:ua,useValue:2}]).\u0275providers:[],"enabledBlocking"===_.initialNavigation?pi(2,[{provide:ua,useValue:0},{provide:p.ip1,multi:!0,deps:[p.zs3],useFactory:I=>{const v=I.get(on.V_,Promise.resolve());return()=>v.then(()=>new Promise(w=>{const R=I.get(ar),q=I.get(Uu);(function _o(_,I){_.events.pipe((0,et.h)(v=>v instanceof ni||v instanceof _i||v instanceof ci||v instanceof Nr),(0,St.U)(v=>v instanceof ni||v instanceof Nr?si.COMPLETE:v instanceof _i&&(0===v.code||1===v.code)?si.REDIRECTING:si.FAILED),(0,et.h)(v=>v!==si.REDIRECTING),(0,Ht.q)(1)).subscribe(()=>{I()})})(R,()=>{w(!0)}),I.get(Ps).afterPreactivation=()=>(w(!0),q.closed?(0,$.of)(void 0):q),R.initialNavigation()}))}}]).\u0275providers:[]]}const rn=new p.OlP(j?"Router Initializer":"")},3942:(Ut,$e,U)=>{U.d($e,{Z:()=>qe});var p=U(2090),F=U(4859),$=U(6881),re=U(1877);class Z{constructor(Le,Be){this._delegate=Le,this.firebase=Be,(0,$._addComponent)(Le,new F.wA("app-compat",()=>this,"PUBLIC")),this.container=Le.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Le){this._delegate.automaticDataCollectionEnabled=Le}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Le=>{this._delegate.checkDestroyed(),Le()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,$.deleteApp)(this._delegate)))}_getService(Le,Be=$._DEFAULT_ENTRY_NAME){var st;this._delegate.checkDestroyed();const It=this._delegate.container.getProvider(Le);return!It.isInitialized()&&"EXPLICIT"===(null===(st=It.getComponent())||void 0===st?void 0:st.instantiationMode)&&It.initialize(),It.getImmediate({identifier:Be})}_removeServiceInstance(Le,Be=$._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Le).clearInstance(Be)}_addComponent(Le){(0,$._addComponent)(this._delegate,Le)}_addOrOverwriteComponent(Le){(0,$._addOrOverwriteComponent)(this._delegate,Le)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ce=new p.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ae=function pe(){const yt=function Me(yt){const Le={},Be={__esModule:!0,initializeApp:function Ue(gt,He={}){const Dt=$.initializeApp(gt,He);if((0,p.r3)(Le,Dt.name))return Le[Dt.name];const on=new yt(Dt,Be);return Le[Dt.name]=on,on},app:It,registerVersion:$.registerVersion,setLogLevel:$.setLogLevel,onLog:$.onLog,apps:null,SDK_VERSION:$.SDK_VERSION,INTERNAL:{registerComponent:function ot(gt){const He=gt.name,Dt=He.replace("-compat","");if($._registerComponent(gt)&&"PUBLIC"===gt.type){const on=(St=It())=>{if("function"!=typeof St[Dt])throw Ce.create("invalid-app-argument",{appName:He});return St[Dt]()};void 0!==gt.serviceProps&&(0,p.ZB)(on,gt.serviceProps),Be[Dt]=on,yt.prototype[Dt]=function(...St){return this._getService.bind(this,He).apply(this,gt.multipleInstances?St:[])}}return"PUBLIC"===gt.type?Be[Dt]:null},removeApp:function st(gt){delete Le[gt]},useAsService:function Tt(gt,He){return"serverAuth"===He?null:He},modularAPIs:$}};function It(gt){if(!(0,p.r3)(Le,gt=gt||$._DEFAULT_ENTRY_NAME))throw Ce.create("no-app",{appName:gt});return Le[gt]}return Be.default=Be,Object.defineProperty(Be,"apps",{get:function we(){return Object.keys(Le).map(gt=>Le[gt])}}),It.App=yt,Be}(Z);return yt.INTERNAL=Object.assign(Object.assign({},yt.INTERNAL),{createFirebaseNamespace:pe,extendNamespace:function Le(Be){(0,p.ZB)(yt,Be)},createSubscribe:p.ne,ErrorFactory:p.LL,deepExtend:p.ZB}),yt}(),se=new re.Yd("@firebase/app-compat");if((0,p.jU)()&&void 0!==self.firebase){se.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const yt=self.firebase.SDK_VERSION;yt&&yt.indexOf("LITE")>=0&&se.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const qe=ae;!function fe(yt){(0,$.registerVersion)("@firebase/app-compat","0.2.11",yt)}()},6881:(Ut,$e,U)=>{U.r($e),U.d($e,{FirebaseError:()=>re.ZR,SDK_VERSION:()=>Zt,_DEFAULT_ENTRY_NAME:()=>jr,_addComponent:()=>nn,_addOrOverwriteComponent:()=>bn,_apps:()=>mr,_clearComponents:()=>$r,_components:()=>En,_getProvider:()=>mi,_registerComponent:()=>ki,_removeServiceInstance:()=>_r,deleteApp:()=>zn,getApp:()=>Ar,getApps:()=>Vt,initializeApp:()=>Dn,onLog:()=>Pt,registerVersion:()=>tr,setLogLevel:()=>qr});var p=U(5861),F=U(4859),$=U(1877),re=U(2090);const Z=(rt,je)=>je.some(Ct=>rt instanceof Ct);let Ee,Ce;const ae=new WeakMap,se=new WeakMap,oe=new WeakMap,Fe=new WeakMap,fe=new WeakMap;let Le={get(rt,je,Ct){if(rt instanceof IDBTransaction){if("done"===je)return se.get(rt);if("objectStoreNames"===je)return rt.objectStoreNames||oe.get(rt);if("store"===je)return Ct.objectStoreNames[1]?void 0:Ct.objectStore(Ct.objectStoreNames[0])}return Ue(rt[je])},set:(rt,je,Ct)=>(rt[je]=Ct,!0),has:(rt,je)=>rt instanceof IDBTransaction&&("done"===je||"store"===je)||je in rt};function It(rt){return"function"==typeof rt?function st(rt){return rt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function pe(){return Ce||(Ce=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(rt)?function(...je){return rt.apply(we(this),je),Ue(ae.get(this))}:function(...je){return Ue(rt.apply(we(this),je))}:function(je,...Ct){const tn=rt.call(we(this),je,...Ct);return oe.set(tn,je.sort?je.sort():[je]),Ue(tn)}}(rt):(rt instanceof IDBTransaction&&function yt(rt){if(se.has(rt))return;const je=new Promise((Ct,tn)=>{const xn=()=>{rt.removeEventListener("complete",An),rt.removeEventListener("error",an),rt.removeEventListener("abort",an)},An=()=>{Ct(),xn()},an=()=>{tn(rt.error||new DOMException("AbortError","AbortError")),xn()};rt.addEventListener("complete",An),rt.addEventListener("error",an),rt.addEventListener("abort",an)});se.set(rt,je)}(rt),Z(rt,function Me(){return Ee||(Ee=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(rt,Le):rt)}function Ue(rt){if(rt instanceof IDBRequest)return function qe(rt){const je=new Promise((Ct,tn)=>{const xn=()=>{rt.removeEventListener("success",An),rt.removeEventListener("error",an)},An=()=>{Ct(Ue(rt.result)),xn()},an=()=>{tn(rt.error),xn()};rt.addEventListener("success",An),rt.addEventListener("error",an)});return je.then(Ct=>{Ct instanceof IDBCursor&&ae.set(Ct,rt)}).catch(()=>{}),fe.set(je,rt),je}(rt);if(Fe.has(rt))return Fe.get(rt);const je=It(rt);return je!==rt&&(Fe.set(rt,je),fe.set(je,rt)),je}const we=rt=>fe.get(rt),gt=["get","getKey","getAll","getAllKeys","count"],He=["put","add","delete","clear"],Dt=new Map;function on(rt,je){if(!(rt instanceof IDBDatabase)||je in rt||"string"!=typeof je)return;if(Dt.get(je))return Dt.get(je);const Ct=je.replace(/FromIndex$/,""),tn=je!==Ct,xn=He.includes(Ct);if(!(Ct in(tn?IDBIndex:IDBObjectStore).prototype)||!xn&&!gt.includes(Ct))return;const An=function(){var an=(0,p.Z)(function*(ur,...Hn){const hr=this.transaction(ur,xn?"readwrite":"readonly");let yi=hr.store;return tn&&(yi=yi.index(Hn.shift())),(yield Promise.all([yi[Ct](...Hn),xn&&hr.done]))[0]});return function(Hn){return an.apply(this,arguments)}}();return Dt.set(je,An),An}!function Be(rt){Le=rt(Le)}(rt=>({...rt,get:(je,Ct,tn)=>on(je,Ct)||rt.get(je,Ct,tn),has:(je,Ct)=>!!on(je,Ct)||rt.has(je,Ct)}));class St{constructor(je){this.container=je}getPlatformInfoString(){return this.container.getProviders().map(Ct=>{if(function In(rt){return"VERSION"===rt.getComponent()?.type}(Ct)){const tn=Ct.getImmediate();return`${tn.library}/${tn.version}`}return null}).filter(Ct=>Ct).join(" ")}}const Ht="@firebase/app",et=new $.Yd("@firebase/app"),jr="[DEFAULT]",$i={[Ht]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},mr=new Map,En=new Map;function nn(rt,je){try{rt.container.addComponent(je)}catch(Ct){et.debug(`Component ${je.name} failed to register with FirebaseApp ${rt.name}`,Ct)}}function bn(rt,je){rt.container.addOrOverwriteComponent(je)}function ki(rt){const je=rt.name;if(En.has(je))return et.debug(`There were multiple attempts to register component ${je}.`),!1;En.set(je,rt);for(const Ct of mr.values())nn(Ct,rt);return!0}function mi(rt,je){const Ct=rt.container.getProvider("heartbeat").getImmediate({optional:!0});return Ct&&Ct.triggerHeartbeat(),rt.container.getProvider(je)}function _r(rt,je,Ct=jr){mi(rt,je).clearInstance(Ct)}function $r(){En.clear()}const ui=new re.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ir{constructor(je,Ct,tn){this._isDeleted=!1,this._options=Object.assign({},je),this._config=Object.assign({},Ct),this._name=Ct.name,this._automaticDataCollectionEnabled=Ct.automaticDataCollectionEnabled,this._container=tn,this.container.addComponent(new F.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(je){this.checkDestroyed(),this._automaticDataCollectionEnabled=je}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(je){this._isDeleted=je}checkDestroyed(){if(this.isDeleted)throw ui.create("app-deleted",{appName:this._name})}}const Zt="9.22.1";function Dn(rt,je={}){let Ct=rt;"object"!=typeof je&&(je={name:je});const tn=Object.assign({name:jr,automaticDataCollectionEnabled:!1},je),xn=tn.name;if("string"!=typeof xn||!xn)throw ui.create("bad-app-name",{appName:String(xn)});if(Ct||(Ct=(0,re.aH)()),!Ct)throw ui.create("no-options");const An=mr.get(xn);if(An){if((0,re.vZ)(Ct,An.options)&&(0,re.vZ)(tn,An.config))return An;throw ui.create("duplicate-app",{appName:xn})}const an=new F.H0(xn);for(const Hn of En.values())an.addComponent(Hn);const ur=new ir(Ct,tn,an);return mr.set(xn,ur),ur}function Ar(rt=jr){const je=mr.get(rt);if(!je&&rt===jr&&(0,re.aH)())return Dn();if(!je)throw ui.create("no-app",{appName:rt});return je}function Vt(){return Array.from(mr.values())}function zn(rt){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,p.Z)(function*(rt){const je=rt.name;mr.has(je)&&(mr.delete(je),yield Promise.all(rt.container.getProviders().map(Ct=>Ct.delete())),rt.isDeleted=!0)})).apply(this,arguments)}function tr(rt,je,Ct){var tn;let xn=null!==(tn=$i[rt])&&void 0!==tn?tn:rt;Ct&&(xn+=`-${Ct}`);const An=xn.match(/\s|\//),an=je.match(/\s|\//);if(An||an){const ur=[`Unable to register library "${xn}" with version "${je}":`];return An&&ur.push(`library name "${xn}" contains illegal characters (whitespace or "/")`),An&&an&&ur.push("and"),an&&ur.push(`version name "${je}" contains illegal characters (whitespace or "/")`),void et.warn(ur.join(" "))}ki(new F.wA(`${xn}-version`,()=>({library:xn,version:je}),"VERSION"))}function Pt(rt,je){if(null!==rt&&"function"!=typeof rt)throw ui.create("invalid-log-argument");(0,$.Am)(rt,je)}function qr(rt){(0,$.Ub)(rt)}const un="firebase-heartbeat-database",Pr=1,ye="firebase-heartbeat-store";let he=null;function De(){return he||(he=function ot(rt,je,{blocked:Ct,upgrade:tn,blocking:xn,terminated:An}={}){const an=indexedDB.open(rt,je),ur=Ue(an);return tn&&an.addEventListener("upgradeneeded",Hn=>{tn(Ue(an.result),Hn.oldVersion,Hn.newVersion,Ue(an.transaction),Hn)}),Ct&&an.addEventListener("blocked",Hn=>Ct(Hn.oldVersion,Hn.newVersion,Hn)),ur.then(Hn=>{An&&Hn.addEventListener("close",()=>An()),xn&&Hn.addEventListener("versionchange",hr=>xn(hr.oldVersion,hr.newVersion,hr))}).catch(()=>{}),ur}(un,Pr,{upgrade:(rt,je)=>{0===je&&rt.createObjectStore(ye)}}).catch(rt=>{throw ui.create("idb-open",{originalErrorMessage:rt.message})})),he}function Ge(){return(Ge=(0,p.Z)(function*(rt){try{return yield(yield De()).transaction(ye).objectStore(ye).get(_e(rt))}catch(je){if(je instanceof re.ZR)et.warn(je.message);else{const Ct=ui.create("idb-get",{originalErrorMessage:je?.message});et.warn(Ct.message)}}})).apply(this,arguments)}function xt(rt,je){return ve.apply(this,arguments)}function ve(){return(ve=(0,p.Z)(function*(rt,je){try{const tn=(yield De()).transaction(ye,"readwrite");yield tn.objectStore(ye).put(je,_e(rt)),yield tn.done}catch(Ct){if(Ct instanceof re.ZR)et.warn(Ct.message);else{const tn=ui.create("idb-set",{originalErrorMessage:Ct?.message});et.warn(tn.message)}}})).apply(this,arguments)}function _e(rt){return`${rt.name}!${rt.options.appId}`}class dt{constructor(je){this.container=je,this._heartbeatsCache=null;const Ct=this.container.getProvider("app").getImmediate();this._storage=new qn(Ct),this._heartbeatsCachePromise=this._storage.read().then(tn=>(this._heartbeatsCache=tn,tn))}triggerHeartbeat(){var je=this;return(0,p.Z)(function*(){const tn=je.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),xn=At();if(null===je._heartbeatsCache&&(je._heartbeatsCache=yield je._heartbeatsCachePromise),je._heartbeatsCache.lastSentHeartbeatDate!==xn&&!je._heartbeatsCache.heartbeats.some(An=>An.date===xn))return je._heartbeatsCache.heartbeats.push({date:xn,agent:tn}),je._heartbeatsCache.heartbeats=je._heartbeatsCache.heartbeats.filter(An=>{const an=new Date(An.date).valueOf();return Date.now()-an<=2592e6}),je._storage.overwrite(je._heartbeatsCache)})()}getHeartbeatsHeader(){var je=this;return(0,p.Z)(function*(){if(null===je._heartbeatsCache&&(yield je._heartbeatsCachePromise),null===je._heartbeatsCache||0===je._heartbeatsCache.heartbeats.length)return"";const Ct=At(),{heartbeatsToSend:tn,unsentEntries:xn}=function dn(rt,je=1024){const Ct=[];let tn=rt.slice();for(const xn of rt){const An=Ct.find(an=>an.agent===xn.agent);if(An){if(An.dates.push(xn.date),Un(Ct)>je){An.dates.pop();break}}else if(Ct.push({agent:xn.agent,dates:[xn.date]}),Un(Ct)>je){Ct.pop();break}tn=tn.slice(1)}return{heartbeatsToSend:Ct,unsentEntries:tn}}(je._heartbeatsCache.heartbeats),An=(0,re.L)(JSON.stringify({version:2,heartbeats:tn}));return je._heartbeatsCache.lastSentHeartbeatDate=Ct,xn.length>0?(je._heartbeatsCache.heartbeats=xn,yield je._storage.overwrite(je._heartbeatsCache)):(je._heartbeatsCache.heartbeats=[],je._storage.overwrite(je._heartbeatsCache)),An})()}}function At(){return(new Date).toISOString().substring(0,10)}class qn{constructor(je){this.app=je,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,p.Z)(function*(){return!!(0,re.hl)()&&(0,re.eu)().then(()=>!0).catch(()=>!1)})()}read(){var je=this;return(0,p.Z)(function*(){return(yield je._canUseIndexedDBPromise)&&(yield function lt(rt){return Ge.apply(this,arguments)}(je.app))||{heartbeats:[]}})()}overwrite(je){var Ct=this;return(0,p.Z)(function*(){var tn;if(yield Ct._canUseIndexedDBPromise){const An=yield Ct.read();return xt(Ct.app,{lastSentHeartbeatDate:null!==(tn=je.lastSentHeartbeatDate)&&void 0!==tn?tn:An.lastSentHeartbeatDate,heartbeats:je.heartbeats})}})()}add(je){var Ct=this;return(0,p.Z)(function*(){var tn;if(yield Ct._canUseIndexedDBPromise){const An=yield Ct.read();return xt(Ct.app,{lastSentHeartbeatDate:null!==(tn=je.lastSentHeartbeatDate)&&void 0!==tn?tn:An.lastSentHeartbeatDate,heartbeats:[...An.heartbeats,...je.heartbeats]})}})()}}function Un(rt){return(0,re.L)(JSON.stringify({version:2,heartbeats:rt})).length}!function Fi(rt){ki(new F.wA("platform-logger",je=>new St(je),"PRIVATE")),ki(new F.wA("heartbeat",je=>new dt(je),"PRIVATE")),tr(Ht,"0.9.11",rt),tr(Ht,"0.9.11","esm2017"),tr("fire-js","")}("")},4859:(Ut,$e,U)=>{U.d($e,{H0:()=>Me,wA:()=>$});var p=U(5861),F=U(2090);class ${constructor(ae,se,oe){this.name=ae,this.instanceFactory=se,this.type=oe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ae){return this.instantiationMode=ae,this}setMultipleInstances(ae){return this.multipleInstances=ae,this}setServiceProps(ae){return this.serviceProps=ae,this}setInstanceCreatedCallback(ae){return this.onInstanceCreated=ae,this}}const re="[DEFAULT]";class Z{constructor(ae,se){this.name=ae,this.container=se,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ae){const se=this.normalizeInstanceIdentifier(ae);if(!this.instancesDeferred.has(se)){const oe=new F.BH;if(this.instancesDeferred.set(se,oe),this.isInitialized(se)||this.shouldAutoInitialize())try{const Fe=this.getOrInitializeService({instanceIdentifier:se});Fe&&oe.resolve(Fe)}catch{}}return this.instancesDeferred.get(se).promise}getImmediate(ae){var se;const oe=this.normalizeInstanceIdentifier(ae?.identifier),Fe=null!==(se=ae?.optional)&&void 0!==se&&se;if(!this.isInitialized(oe)&&!this.shouldAutoInitialize()){if(Fe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:oe})}catch(fe){if(Fe)return null;throw fe}}getComponent(){return this.component}setComponent(ae){if(ae.name!==this.name)throw Error(`Mismatching Component ${ae.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ae,this.shouldAutoInitialize()){if(function Ce(pe){return"EAGER"===pe.instantiationMode}(ae))try{this.getOrInitializeService({instanceIdentifier:re})}catch{}for(const[se,oe]of this.instancesDeferred.entries()){const Fe=this.normalizeInstanceIdentifier(se);try{const fe=this.getOrInitializeService({instanceIdentifier:Fe});oe.resolve(fe)}catch{}}}}clearInstance(ae=re){this.instancesDeferred.delete(ae),this.instancesOptions.delete(ae),this.instances.delete(ae)}delete(){var ae=this;return(0,p.Z)(function*(){const se=Array.from(ae.instances.values());yield Promise.all([...se.filter(oe=>"INTERNAL"in oe).map(oe=>oe.INTERNAL.delete()),...se.filter(oe=>"_delete"in oe).map(oe=>oe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ae=re){return this.instances.has(ae)}getOptions(ae=re){return this.instancesOptions.get(ae)||{}}initialize(ae={}){const{options:se={}}=ae,oe=this.normalizeInstanceIdentifier(ae.instanceIdentifier);if(this.isInitialized(oe))throw Error(`${this.name}(${oe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Fe=this.getOrInitializeService({instanceIdentifier:oe,options:se});for(const[fe,qe]of this.instancesDeferred.entries())oe===this.normalizeInstanceIdentifier(fe)&&qe.resolve(Fe);return Fe}onInit(ae,se){var oe;const Fe=this.normalizeInstanceIdentifier(se),fe=null!==(oe=this.onInitCallbacks.get(Fe))&&void 0!==oe?oe:new Set;fe.add(ae),this.onInitCallbacks.set(Fe,fe);const qe=this.instances.get(Fe);return qe&&ae(qe,Fe),()=>{fe.delete(ae)}}invokeOnInitCallbacks(ae,se){const oe=this.onInitCallbacks.get(se);if(oe)for(const Fe of oe)try{Fe(ae,se)}catch{}}getOrInitializeService({instanceIdentifier:ae,options:se={}}){let oe=this.instances.get(ae);if(!oe&&this.component&&(oe=this.component.instanceFactory(this.container,{instanceIdentifier:(pe=ae,pe===re?void 0:pe),options:se}),this.instances.set(ae,oe),this.instancesOptions.set(ae,se),this.invokeOnInitCallbacks(oe,ae),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ae,oe)}catch{}var pe;return oe||null}normalizeInstanceIdentifier(ae=re){return this.component?this.component.multipleInstances?ae:re:ae}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Me{constructor(ae){this.name=ae,this.providers=new Map}addComponent(ae){const se=this.getProvider(ae.name);if(se.isComponentSet())throw new Error(`Component ${ae.name} has already been registered with ${this.name}`);se.setComponent(ae)}addOrOverwriteComponent(ae){this.getProvider(ae.name).isComponentSet()&&this.providers.delete(ae.name),this.addComponent(ae)}getProvider(ae){if(this.providers.has(ae))return this.providers.get(ae);const se=new Z(ae,this);return this.providers.set(ae,se),se}getProviders(){return Array.from(this.providers.values())}}},1877:(Ut,$e,U)=>{U.d($e,{Am:()=>pe,Ub:()=>Me,Yd:()=>Ce,in:()=>F});const p=[];var F=(()=>{return(ae=F||(F={}))[ae.DEBUG=0]="DEBUG",ae[ae.VERBOSE=1]="VERBOSE",ae[ae.INFO=2]="INFO",ae[ae.WARN=3]="WARN",ae[ae.ERROR=4]="ERROR",ae[ae.SILENT=5]="SILENT",F;var ae})();const $={debug:F.DEBUG,verbose:F.VERBOSE,info:F.INFO,warn:F.WARN,error:F.ERROR,silent:F.SILENT},re=F.INFO,Z={[F.DEBUG]:"log",[F.VERBOSE]:"log",[F.INFO]:"info",[F.WARN]:"warn",[F.ERROR]:"error"},Ee=(ae,se,...oe)=>{if(se<ae.logLevel)return;const Fe=(new Date).toISOString(),fe=Z[se];if(!fe)throw new Error(`Attempted to log a message with an invalid logType (value: ${se})`);console[fe](`[${Fe}]  ${ae.name}:`,...oe)};class Ce{constructor(se){this.name=se,this._logLevel=re,this._logHandler=Ee,this._userLogHandler=null,p.push(this)}get logLevel(){return this._logLevel}set logLevel(se){if(!(se in F))throw new TypeError(`Invalid value "${se}" assigned to \`logLevel\``);this._logLevel=se}setLogLevel(se){this._logLevel="string"==typeof se?$[se]:se}get logHandler(){return this._logHandler}set logHandler(se){if("function"!=typeof se)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=se}get userLogHandler(){return this._userLogHandler}set userLogHandler(se){this._userLogHandler=se}debug(...se){this._userLogHandler&&this._userLogHandler(this,F.DEBUG,...se),this._logHandler(this,F.DEBUG,...se)}log(...se){this._userLogHandler&&this._userLogHandler(this,F.VERBOSE,...se),this._logHandler(this,F.VERBOSE,...se)}info(...se){this._userLogHandler&&this._userLogHandler(this,F.INFO,...se),this._logHandler(this,F.INFO,...se)}warn(...se){this._userLogHandler&&this._userLogHandler(this,F.WARN,...se),this._logHandler(this,F.WARN,...se)}error(...se){this._userLogHandler&&this._userLogHandler(this,F.ERROR,...se),this._logHandler(this,F.ERROR,...se)}}function Me(ae){p.forEach(se=>{se.setLogLevel(ae)})}function pe(ae,se){for(const oe of p){let Fe=null;se&&se.level&&(Fe=$[se.level]),oe.userLogHandler=null===ae?null:(fe,qe,...yt)=>{const Le=yt.map(Be=>{if(null==Be)return null;if("string"==typeof Be)return Be;if("number"==typeof Be||"boolean"==typeof Be)return Be.toString();if(Be instanceof Error)return Be.message;try{return JSON.stringify(Be)}catch{return null}}).filter(Be=>Be).join(" ");qe>=(Fe??fe.logLevel)&&ae({level:F[qe].toLowerCase(),message:Le,args:yt,type:fe.name})}}}},259:(Ut,$e,U)=>{U.d($e,{C6:()=>p.getApps,KN:()=>p.registerVersion,Mq:()=>p.getApp,ZF:()=>p.initializeApp});var p=U(6881);(0,p.registerVersion)("firebase","9.22.1","app")},4322:(Ut,$e,U)=>{U.d($e,{v0:()=>p.o,w$:()=>p.ae});var p=U(1389);U(2090),U(6881),U(1877),U(4859)},9260:(Ut,$e,U)=>{U.d($e,{Z:()=>p.Z});var p=U(3942);p.Z.registerVersion("firebase","9.22.1","app-compat")},8242:(Ut,$e,U)=>{U.d($e,{e7:()=>se,to:()=>pe});var p=U(4650),F=U(4006),$=U(6895);const re=["captchaWrapperElem"];let Z=(()=>{class oe{constructor(fe){this.zone=fe,this.scriptElemId="ngx-catpcha-script",this.windowGrecaptcha="grecaptcha",this.windowGrecaptchaEnterprise="enterprise",this.windowOnLoadCallbackProperty="ngx_captcha_onload_callback",this.windowOnLoadEnterpriseCallbackProperty="ngx_captcha_onload_enterprise_callback",this.globalDomain="recaptcha.net",this.defaultDomain="google.com",this.enterpriseApi="enterprise.js",this.defaultApi="api.js"}registerCaptchaScript(fe,qe,yt,Le){if(this.grecaptchaScriptLoaded(fe.useEnterprise))return void this.zone.run(fe.useEnterprise?()=>{yt(window[this.windowGrecaptcha][this.windowGrecaptchaEnterprise])}:()=>{yt(window[this.windowGrecaptcha])});fe.useEnterprise?window[this.getCallbackName(!0)]=()=>this.zone.run(yt.bind(this,window[this.windowGrecaptcha][this.windowGrecaptchaEnterprise])):window[this.getCallbackName(!1)]=()=>this.zone.run(yt.bind(this,window[this.windowGrecaptcha]));const Be=document.createElement("script");Be.id=this.scriptElemId,Be.innerHTML="",Be.src=this.getCaptchaScriptUrl(fe,qe,Le),Be.async=!0,Be.defer=!0,document.getElementsByTagName("head")[0].appendChild(Be)}cleanup(){const fe=document.getElementById(this.scriptElemId);fe&&fe.remove(),window[this.getCallbackName()]=void 0,window[this.windowGrecaptcha]=void 0}grecaptchaScriptLoaded(fe){return!!(window[this.getCallbackName(fe)]&&window[this.windowGrecaptcha]&&(fe&&window[this.windowGrecaptcha][this.windowGrecaptchaEnterprise]||window[this.windowGrecaptcha].execute))}getCallbackName(fe){return fe?this.windowOnLoadEnterpriseCallbackProperty:this.windowOnLoadCallbackProperty}getLanguageParam(fe){return fe?`&hl=${fe}`:""}getCaptchaScriptUrl(fe,qe,yt){return`https://www.${fe.useGlobalDomain?this.globalDomain:this.defaultDomain}/recaptcha/${fe.useEnterprise?this.enterpriseApi:this.defaultApi}?onload=${this.getCallbackName(fe.useEnterprise)}&render=${qe}${this.getLanguageParam(yt)}`}}return oe.\u0275fac=function(fe){return new(fe||oe)(p.LFG(p.R0b))},oe.\u0275prov=p.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})(),Ee=(()=>{class oe{constructor(fe,qe,yt,Le){this.renderer=fe,this.zone=qe,this.injector=yt,this.scriptService=Le,this.captchaElemPrefix="ngx_captcha_id_",this.setupCaptcha=!0,this.useGlobalDomain=!1,this.useEnterprise=!1,this.type="image",this.tabIndex=0,this.success=new p.vpe,this.load=new p.vpe,this.reset=new p.vpe,this.ready=new p.vpe,this.error=new p.vpe,this.expire=new p.vpe,this.setupAfterLoad=!1,this.resetCaptchaAfterSuccess=!1,this.onChange=Be=>{},this.onTouched=Be=>{},this.isLoaded=!1}ngAfterViewInit(){this.control=this.injector.get(F.a5,void 0,p.XFs.Optional)?.control}ngAfterViewChecked(){this.setupCaptcha&&(this.setupCaptcha=!1,this.setupComponent())}ngOnChanges(fe){fe&&fe.hl&&!fe.hl.firstChange&&fe.hl.currentValue!==fe.hl.previousValue&&this.scriptService.cleanup(),fe&&fe.useGlobalDomain&&!fe.useGlobalDomain.firstChange&&fe.useGlobalDomain.currentValue!==fe.useGlobalDomain.previousValue&&this.scriptService.cleanup(),this.setupCaptcha=!0}getResponse(){return this.reCaptchaApi.getResponse(this.captchaId)}getCaptchaId(){return this.captchaId}resetCaptcha(){this.zone.run(()=>{this.reCaptchaApi.reset(),this.onChange(void 0),this.onTouched(void 0),this.reset.next()})}getCurrentResponse(){return this.currentResponse}reloadCaptcha(){this.setupComponent()}ensureCaptchaElem(fe){const qe=document.getElementById(fe);if(!qe)throw Error(`Captcha element with id '${fe}' was not found`);this.captchaElem=qe}renderReCaptcha(){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.captchaId=this.reCaptchaApi.render(this.captchaElemId,this.getCaptchaProperties()),this.ready.next()},0)})}handleCallback(fe){this.currentResponse=fe,this.success.next(fe),this.zone.run(()=>{this.onChange(fe),this.onTouched(fe)}),this.resetCaptchaAfterSuccess&&this.resetCaptcha()}getPseudoUniqueNumber(){return(new Date).getUTCMilliseconds()+Math.floor(9999*Math.random())}setupComponent(){this.captchaSpecificSetup(),this.createAndSetCaptchaElem(),this.scriptService.registerCaptchaScript({useGlobalDomain:this.useGlobalDomain,useEnterprise:this.useEnterprise},"explicit",fe=>{this.onloadCallback(fe)},this.hl)}onloadCallback(fe){if(this.reCaptchaApi=fe,!this.reCaptchaApi)throw Error("ReCaptcha Api was not initialized correctly");this.isLoaded=!0,this.load.next(),this.renderReCaptcha(),this.setupAfterLoad&&(this.setupAfterLoad=!1,this.setupComponent())}generateNewElemId(){return this.captchaElemPrefix+this.getPseudoUniqueNumber()}createAndSetCaptchaElem(){if(this.captchaElemId=this.generateNewElemId(),!this.captchaElemId)throw Error("Captcha elem Id is not set");if(!this.captchaWrapperElem)throw Error("Captcha DOM element is not initialized");this.captchaWrapperElem.nativeElement.innerHTML="";const fe=this.renderer.createElement("div");fe.id=this.captchaElemId,this.renderer.appendChild(this.captchaWrapperElem.nativeElement,fe),setTimeout(()=>{this.captchaElemId&&this.ensureCaptchaElem(this.captchaElemId)},0)}writeValue(fe){}registerOnChange(fe){this.onChange=fe}registerOnTouched(fe){this.onTouched=fe}handleErrorCallback(){this.zone.run(()=>{this.onChange(void 0),this.onTouched(void 0)}),this.error.next()}handleExpireCallback(){this.expire.next(),this.resetCaptcha()}}return oe.\u0275fac=function(fe){return new(fe||oe)(p.Y36(p.Qsj),p.Y36(p.R0b),p.Y36(p.zs3),p.Y36(Z))},oe.\u0275dir=p.lG2({type:oe,inputs:{siteKey:"siteKey",useGlobalDomain:"useGlobalDomain",useEnterprise:"useEnterprise",type:"type",hl:"hl",tabIndex:"tabIndex"},outputs:{success:"success",load:"load",reset:"reset",ready:"ready",error:"error",expire:"expire"},features:[p.TTD]}),oe})();var Ce=(()=>{return(oe=Ce||(Ce={}))[oe.InvisibleReCaptcha=0]="InvisibleReCaptcha",oe[oe.ReCaptcha2=1]="ReCaptcha2",Ce;var oe})();let pe=(()=>{class oe extends Ee{constructor(fe,qe,yt,Le){super(fe,qe,yt,Le),this.renderer=fe,this.zone=qe,this.injector=yt,this.scriptService=Le,this.windowOnErrorCallbackProperty="ngx_captcha_error_callback",this.windowOnExpireCallbackProperty="ngx_captcha_expire_callback",this.theme="light",this.size="normal",this.recaptchaType=Ce.ReCaptcha2}ngOnChanges(fe){super.ngOnChanges(fe)}ngOnDestroy(){window[this.windowOnErrorCallbackProperty]={},window[this.windowOnExpireCallbackProperty]={}}captchaSpecificSetup(){this.registerCallbacks()}getCaptchaProperties(){return{sitekey:this.siteKey,callback:fe=>this.zone.run(()=>this.handleCallback(fe)),"expired-callback":()=>this.zone.run(()=>this.handleExpireCallback()),"error-callback":()=>this.zone.run(()=>this.handleErrorCallback()),theme:this.theme,type:this.type,size:this.size,tabindex:this.tabIndex}}registerCallbacks(){window[this.windowOnErrorCallbackProperty]=super.handleErrorCallback.bind(this),window[this.windowOnExpireCallbackProperty]=super.handleExpireCallback.bind(this)}}return oe.\u0275fac=function(fe){return new(fe||oe)(p.Y36(p.Qsj),p.Y36(p.R0b),p.Y36(p.zs3),p.Y36(Z))},oe.\u0275cmp=p.Xpm({type:oe,selectors:[["ngx-recaptcha2"]],viewQuery:function(fe,qe){if(1&fe&&p.Gf(re,5),2&fe){let yt;p.iGM(yt=p.CRH())&&(qe.captchaWrapperElem=yt.first)}},inputs:{theme:"theme",size:"size"},features:[p._Bn([{provide:F.JU,useExisting:(0,p.Gpc)(()=>oe),multi:!0}]),p.qOj,p.TTD],decls:2,vars:0,consts:[["captchaWrapperElem",""]],template:function(fe,qe){1&fe&&p._UZ(0,"div",null,0)},encapsulation:2}),oe})(),ae=(()=>{class oe{constructor(fe,qe){this.scriptService=fe,this.zone=qe}execute(fe,qe,yt,Le,Be){this.executeAsPromise(fe,qe,Le).then(yt).catch(st=>Be?Be(st):console.error(st))}executeAsPromise(fe,qe,yt){return new Promise((Le,Be)=>{this.scriptService.registerCaptchaScript(yt||{},fe,Ue=>{this.zone.runOutsideAngular(()=>{try{Ue.execute(fe,{action:qe}).then(we=>this.zone.run(()=>Le(we)))}catch(we){Be(we)}})})})}}return oe.\u0275fac=function(fe){return new(fe||oe)(p.LFG(Z),p.LFG(p.R0b))},oe.\u0275prov=p.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})(),se=(()=>{class oe{}return oe.\u0275fac=function(fe){return new(fe||oe)},oe.\u0275mod=p.oAB({type:oe}),oe.\u0275inj=p.cJS({providers:[Z,ae],imports:[$.ez]}),oe})()},2018:(Ut,$e,U)=>{function p(ze){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ct){return typeof ct}:function(ct){return ct&&"function"==typeof Symbol&&ct.constructor===Symbol&&ct!==Symbol.prototype?"symbol":typeof ct})(ze)}function re(ze,ct,xe){return(ct=function $(ze){var ct=function F(ze,ct){if("object"!==p(ze)||null===ze)return ze;var xe=ze[Symbol.toPrimitive];if(void 0!==xe){var Ze=xe.call(ze,ct||"default");if("object"!==p(Ze))return Ze;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===ct?String:Number)(ze)}(ze,"string");return"symbol"===p(ct)?ct:String(ct)}(ct))in ze?Object.defineProperty(ze,ct,{value:xe,enumerable:!0,configurable:!0,writable:!0}):ze[ct]=xe,ze}U.d($e,{Rh:()=>wt,_W:()=>Ve});var Z=U(4650),Ee=U(7340),Ce=U(6895),Me=U(7579),pe=U(1481);const ae=["toast-component",""];function se(ze,ct){if(1&ze){const xe=Z.EpF();Z.TgZ(0,"button",5),Z.NdJ("click",function(){Z.CHM(xe);const qt=Z.oxw();return Z.KtG(qt.remove())}),Z.TgZ(1,"span",6),Z._uU(2,"\xd7"),Z.qZA()()}}function oe(ze,ct){if(1&ze&&(Z.ynx(0),Z._uU(1),Z.BQk()),2&ze){const xe=Z.oxw(2);Z.xp6(1),Z.hij("[",xe.duplicatesCount+1,"]")}}function Fe(ze,ct){if(1&ze&&(Z.TgZ(0,"div"),Z._uU(1),Z.YNc(2,oe,2,1,"ng-container",4),Z.qZA()),2&ze){const xe=Z.oxw();Z.Tol(xe.options.titleClass),Z.uIk("aria-label",xe.title),Z.xp6(1),Z.hij(" ",xe.title," "),Z.xp6(1),Z.Q6J("ngIf",xe.duplicatesCount)}}function fe(ze,ct){if(1&ze&&Z._UZ(0,"div",7),2&ze){const xe=Z.oxw();Z.Tol(xe.options.messageClass),Z.Q6J("innerHTML",xe.message,Z.oJD)}}function qe(ze,ct){if(1&ze&&(Z.TgZ(0,"div",8),Z._uU(1),Z.qZA()),2&ze){const xe=Z.oxw();Z.Tol(xe.options.messageClass),Z.uIk("aria-label",xe.message),Z.xp6(1),Z.hij(" ",xe.message," ")}}function yt(ze,ct){if(1&ze&&(Z.TgZ(0,"div"),Z._UZ(1,"div",9),Z.qZA()),2&ze){const xe=Z.oxw();Z.xp6(1),Z.Udp("width",xe.width+"%")}}class Tt{constructor(ct,xe){re(this,"_attachedHost",void 0),re(this,"component",void 0),re(this,"viewContainerRef",void 0),re(this,"injector",void 0),this.component=ct,this.injector=xe}attach(ct,xe){return this._attachedHost=ct,ct.attach(this,xe)}detach(){const ct=this._attachedHost;if(ct)return this._attachedHost=void 0,ct.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(ct){this._attachedHost=ct}}class gt{constructor(){re(this,"_attachedPortal",void 0),re(this,"_disposeFn",void 0)}attach(ct,xe){return this._attachedPortal=ct,this.attachComponentPortal(ct,xe)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(ct){this._disposeFn=ct}}class He{constructor(ct){re(this,"_overlayRef",void 0),re(this,"componentInstance",void 0),re(this,"duplicatesCount",0),re(this,"_afterClosed",new Me.x),re(this,"_activate",new Me.x),re(this,"_manualClose",new Me.x),re(this,"_resetTimeout",new Me.x),re(this,"_countDuplicate",new Me.x),this._overlayRef=ct}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(ct,xe){ct&&this._resetTimeout.next(),xe&&this._countDuplicate.next(++this.duplicatesCount)}}class Dt{constructor(ct,xe,Ze,qt,_n,On){re(this,"toastId",void 0),re(this,"config",void 0),re(this,"message",void 0),re(this,"title",void 0),re(this,"toastType",void 0),re(this,"toastRef",void 0),re(this,"_onTap",new Me.x),re(this,"_onAction",new Me.x),this.toastId=ct,this.config=xe,this.message=Ze,this.title=qt,this.toastType=_n,this.toastRef=On,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(ct){this._onAction.next(ct)}onAction(){return this._onAction.asObservable()}}const St=new Z.OlP("ToastConfig");class In extends gt{constructor(ct,xe,Ze){super(),re(this,"_hostDomElement",void 0),re(this,"_componentFactoryResolver",void 0),re(this,"_appRef",void 0),this._hostDomElement=ct,this._componentFactoryResolver=xe,this._appRef=Ze}attachComponentPortal(ct,xe){const Ze=this._componentFactoryResolver.resolveComponentFactory(ct.component);let qt;return qt=Ze.create(ct.injector),this._appRef.attachView(qt.hostView),this.setDisposeFn(()=>{this._appRef.detachView(qt.hostView),qt.destroy()}),xe?this._hostDomElement.insertBefore(this._getComponentRootNode(qt),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(qt)),qt}_getComponentRootNode(ct){return ct.hostView.rootNodes[0]}}let Ht=(()=>{class ze{constructor(){re(this,"_document",(0,Z.f3M)(Ce.K0)),re(this,"_containerElement",void 0)}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const xe=this._document.createElement("div");xe.classList.add("overlay-container"),xe.setAttribute("aria-live","polite"),this._document.body.appendChild(xe),this._containerElement=xe}}return re(ze,"\u0275fac",function(xe){return new(xe||ze)}),re(ze,"\u0275prov",Z.Yz7({token:ze,factory:ze.\u0275fac,providedIn:"root"})),ze})();class Ci{constructor(ct){re(this,"_portalHost",void 0),this._portalHost=ct}attach(ct,xe=!0){return this._portalHost.attach(ct,xe)}detach(){return this._portalHost.detach()}}let et=(()=>{class ze{constructor(){re(this,"_overlayContainer",(0,Z.f3M)(Ht)),re(this,"_componentFactoryResolver",(0,Z.f3M)(Z._Vd)),re(this,"_appRef",(0,Z.f3M)(Z.z2F)),re(this,"_document",(0,Z.f3M)(Ce.K0)),re(this,"_paneElements",new Map)}create(xe,Ze){return this._createOverlayRef(this.getPaneElement(xe,Ze))}getPaneElement(xe="",Ze){return this._paneElements.get(Ze)||this._paneElements.set(Ze,{}),this._paneElements.get(Ze)[xe]||(this._paneElements.get(Ze)[xe]=this._createPaneElement(xe,Ze)),this._paneElements.get(Ze)[xe]}_createPaneElement(xe,Ze){const qt=this._document.createElement("div");return qt.id="toast-container",qt.classList.add(xe),qt.classList.add("toast-container"),Ze?Ze.getContainerElement().appendChild(qt):this._overlayContainer.getContainerElement().appendChild(qt),qt}_createPortalHost(xe){return new In(xe,this._componentFactoryResolver,this._appRef)}_createOverlayRef(xe){return new Ci(this._createPortalHost(xe))}}return re(ze,"\u0275fac",function(xe){return new(xe||ze)}),re(ze,"\u0275prov",Z.Yz7({token:ze,factory:ze.\u0275fac,providedIn:"root"})),ze})(),Ve=(()=>{class ze{constructor(xe,Ze,qt,_n,On){re(this,"overlay",void 0),re(this,"_injector",void 0),re(this,"sanitizer",void 0),re(this,"ngZone",void 0),re(this,"toastrConfig",void 0),re(this,"currentlyActive",0),re(this,"toasts",[]),re(this,"overlayContainer",void 0),re(this,"previousToastMessage",void 0),re(this,"index",0),this.overlay=Ze,this._injector=qt,this.sanitizer=_n,this.ngZone=On,this.toastrConfig={...xe.default,...xe.config},xe.config.iconClasses&&(this.toastrConfig.iconClasses={...xe.default.iconClasses,...xe.config.iconClasses})}show(xe,Ze,qt={},_n=""){return this._preBuildNotification(_n,xe,Ze,this.applyConfig(qt))}success(xe,Ze,qt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",xe,Ze,this.applyConfig(qt))}error(xe,Ze,qt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",xe,Ze,this.applyConfig(qt))}info(xe,Ze,qt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",xe,Ze,this.applyConfig(qt))}warning(xe,Ze,qt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",xe,Ze,this.applyConfig(qt))}clear(xe){for(const Ze of this.toasts)if(void 0!==xe){if(Ze.toastId===xe)return void Ze.toastRef.manualClose()}else Ze.toastRef.manualClose()}remove(xe){const Ze=this._findToast(xe);if(!Ze||(Ze.activeToast.toastRef.close(),this.toasts.splice(Ze.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const qt=this.toasts[this.currentlyActive].toastRef;qt.isInactive()||(this.currentlyActive=this.currentlyActive+1,qt.activate())}return!0}findDuplicate(xe="",Ze="",qt,_n){const{includeTitleDuplicates:On}=this.toastrConfig;for(const Vn of this.toasts)if((!On||On&&Vn.title===xe)&&Vn.message===Ze)return Vn.toastRef.onDuplicate(qt,_n),Vn;return null}applyConfig(xe={}){return{...this.toastrConfig,...xe}}_findToast(xe){for(let Ze=0;Ze<this.toasts.length;Ze++)if(this.toasts[Ze].toastId===xe)return{index:Ze,activeToast:this.toasts[Ze]};return null}_preBuildNotification(xe,Ze,qt,_n){return _n.onActivateTick?this.ngZone.run(()=>this._buildNotification(xe,Ze,qt,_n)):this._buildNotification(xe,Ze,qt,_n)}_buildNotification(xe,Ze,qt,_n){if(!_n.toastComponent)throw new Error("toastComponent required");const On=this.findDuplicate(qt,Ze,this.toastrConfig.resetTimeoutOnDuplicate&&_n.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&qt||Ze)&&this.toastrConfig.preventDuplicates&&null!==On)return On;this.previousToastMessage=Ze;let Vn=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(Vn=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const cn=this.overlay.create(_n.positionClass,this.overlayContainer);this.index=this.index+1;let Br=Ze;Ze&&_n.enableHtml&&(Br=this.sanitizer.sanitize(Z.q3G.HTML,Ze));const gi=new He(cn),Nn=new Dt(this.index,_n,Br,qt,xe,gi),Rr=Z.zs3.create({providers:[{provide:Dt,useValue:Nn}],parent:this._injector}),Kr=new Tt(_n.toastComponent,Rr),xr=cn.attach(Kr,_n.newestOnTop);gi.componentInstance=xr.instance;const jr={toastId:this.index,title:qt||"",message:Ze||"",toastRef:gi,onShown:gi.afterActivate(),onHidden:gi.afterClosed(),onTap:Nn.onTap(),onAction:Nn.onAction(),portal:xr};return Vn||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{jr.toastRef.activate()})),this.toasts.push(jr),jr}}return re(ze,"\u0275fac",function(xe){return new(xe||ze)(Z.LFG(St),Z.LFG(et),Z.LFG(Z.zs3),Z.LFG(pe.H7),Z.LFG(Z.R0b))}),re(ze,"\u0275prov",Z.Yz7({token:ze,factory:ze.\u0275fac,providedIn:"root"})),ze})();const ut={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class ze{get displayStyle(){if("inactive"===this.state.value)return"none"}constructor(xe,Ze,qt){re(this,"toastrService",void 0),re(this,"toastPackage",void 0),re(this,"ngZone",void 0),re(this,"message",void 0),re(this,"title",void 0),re(this,"options",void 0),re(this,"duplicatesCount",void 0),re(this,"originalTimeout",void 0),re(this,"width",-1),re(this,"toastClasses",""),re(this,"state",void 0),re(this,"timeout",void 0),re(this,"intervalId",void 0),re(this,"hideTime",void 0),re(this,"sub",void 0),re(this,"sub1",void 0),re(this,"sub2",void 0),re(this,"sub3",void 0),this.toastrService=xe,this.toastPackage=Ze,this.ngZone=qt,this.message=Ze.message,this.title=Ze.title,this.options=Ze.config,this.originalTimeout=Ze.config.timeOut,this.toastClasses=`${Ze.toastType} ${Ze.config.toastClass}`,this.sub=Ze.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=Ze.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=Ze.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=Ze.toastRef.countDuplicate().subscribe(_n=>{this.duplicatesCount=_n}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const xe=(new Date).getTime();this.width=(this.hideTime-xe)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(xe,Ze){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(xe),Ze)):this.timeout=setTimeout(()=>xe(),Ze)}outsideInterval(xe,Ze){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(xe),Ze)):this.intervalId=setInterval(()=>xe(),Ze)}runInsideAngular(xe){this.ngZone?this.ngZone.run(()=>xe()):xe()}}return re(ze,"\u0275fac",function(xe){return new(xe||ze)(Z.Y36(Ve),Z.Y36(Dt),Z.Y36(Z.R0b))}),re(ze,"\u0275cmp",Z.Xpm({type:ze,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(xe,Ze){1&xe&&Z.NdJ("click",function(){return Ze.tapToast()})("mouseenter",function(){return Ze.stickAround()})("mouseleave",function(){return Ze.delayedHideToast()}),2&xe&&(Z.d8E("@flyInOut",Ze.state),Z.Tol(Ze.toastClasses),Z.Udp("display",Ze.displayStyle))},standalone:!0,features:[Z.jDz],attrs:ae,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(xe,Ze){1&xe&&(Z.YNc(0,se,3,0,"button",0),Z.YNc(1,Fe,3,5,"div",1),Z.YNc(2,fe,1,3,"div",2),Z.YNc(3,qe,2,4,"div",3),Z.YNc(4,yt,2,2,"div",4)),2&xe&&(Z.Q6J("ngIf",Ze.options.closeButton),Z.xp6(1),Z.Q6J("ngIf",Ze.title),Z.xp6(1),Z.Q6J("ngIf",Ze.message&&Ze.options.enableHtml),Z.xp6(1),Z.Q6J("ngIf",Ze.message&&!Ze.options.enableHtml),Z.xp6(1),Z.Q6J("ngIf",Ze.options.progressBar))},dependencies:[Ce.O5],encapsulation:2,data:{animation:[(0,Ee.X$)("flyInOut",[(0,Ee.SB)("inactive",(0,Ee.oB)({opacity:0})),(0,Ee.SB)("active",(0,Ee.oB)({opacity:1})),(0,Ee.SB)("removed",(0,Ee.oB)({opacity:0})),(0,Ee.eR)("inactive => active",(0,Ee.jt)("{{ easeTime }}ms {{ easing }}")),(0,Ee.eR)("active => removed",(0,Ee.jt)("{{ easeTime }}ms {{ easing }}"))])]}})),ze})()},mt=(ze={})=>(0,Z.MR2)([{provide:St,useValue:{default:ut,config:ze}}]);let wt=(()=>{class ze{static forRoot(xe={}){return{ngModule:ze,providers:[mt(xe)]}}}return re(ze,"\u0275fac",function(xe){return new(xe||ze)}),re(ze,"\u0275mod",Z.oAB({type:ze})),re(ze,"\u0275inj",Z.cJS({})),ze})()},5861:(Ut,$e,U)=>{function p($,re,Z,Ee,Ce,Me,pe){try{var ae=$[Me](pe),se=ae.value}catch(oe){return void Z(oe)}ae.done?re(se):Promise.resolve(se).then(Ee,Ce)}function F($){return function(){var re=this,Z=arguments;return new Promise(function(Ee,Ce){var Me=$.apply(re,Z);function pe(se){p(Me,Ee,Ce,pe,ae,"next",se)}function ae(se){p(Me,Ee,Ce,pe,ae,"throw",se)}pe(void 0)})}}U.d($e,{Z:()=>F})}},Ut=>{Ut(Ut.s=4754)}]);