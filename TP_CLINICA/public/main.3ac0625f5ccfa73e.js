"use strict";(self.webpackChunkTP_CLINICA=self.webpackChunkTP_CLINICA||[]).push([[179],{2313:(jt,je,j)=>{j.d(je,{nm:()=>nr});var y=j(4976),Z=(j(4650),j(3692),j(259),j(5861)),we=j(6881),Ce=j(4859),Ae=j(2090),ve=j(1877);const se=new Map,oe={activated:!1,tokenObservers:[]},de={initialized:!1,enabled:!1};function Ge(Re){return se.get(Re)||Object.assign({},oe)}function gt(){return de}const mt="https://content-firebaseappcheck.googleapis.com/v1",pt="exchangeDebugToken",Dt={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class _e{constructor(Te,be,yt,At,En){if(this.operation=Te,this.retryPolicy=be,this.getWaitDuration=yt,this.lowerBound=At,this.upperBound=En,this.pending=null,this.nextErrorWaitInterval=At,At>En)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Te){var be=this;return(0,Z.Z)(function*(){be.stop();try{be.pending=new Ae.BH,yield function nt(Re){return new Promise(Te=>{setTimeout(Te,Re)})}(be.getNextRun(Te)),be.pending.resolve(),yield be.pending.promise,be.pending=new Ae.BH,yield be.operation(),be.pending.resolve(),yield be.pending.promise,be.process(!0).catch(()=>{})}catch(yt){be.retryPolicy(yt)?be.process(!1).catch(()=>{}):be.stop()}})()}getNextRun(Te){if(Te)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const be=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),be}}}const ht=new Ae.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function xt(Re){if(!Ge(Re).activated)throw ht.create("use-before-activation",{appName:Re.name})}function mn(Re,Te){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,Z.Z)(function*({url:Re,body:Te},be){const yt={"Content-Type":"application/json"},At=be.getImmediate({optional:!0});if(At){const Wr=yield At.getHeartbeatsHeader();Wr&&(yt["X-Firebase-Client"]=Wr)}const En={method:"POST",body:JSON.stringify(Te),headers:yt};let Fn,pn;try{Fn=yield fetch(Re,En)}catch(Wr){throw ht.create("fetch-network-error",{originalErrorMessage:Wr?.message})}if(200!==Fn.status)throw ht.create("fetch-status-error",{httpStatus:Fn.status});try{pn=yield Fn.json()}catch(Wr){throw ht.create("fetch-parse-error",{originalErrorMessage:Wr?.message})}const Wn=pn.ttl.match(/^([\d.]+)(s)$/);if(!Wn||!Wn[2]||isNaN(Number(Wn[1])))throw ht.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${pn.ttl}`});const jr=1e3*Number(Wn[1]),ei=Date.now();return{token:pn.token,expireTimeMillis:ei+jr,issuedAtTimeMillis:ei}})).apply(this,arguments)}function ke(Re,Te){const{projectId:be,appId:yt,apiKey:At}=Re.options;return{url:`${mt}/projects/${be}/apps/${yt}:${pt}?key=${At}`,body:{debug_token:Te}}}const Je="firebase-app-check-database",it=1,ft="firebase-app-check-store";let ct=null;function Me(Re,Te){return He.apply(this,arguments)}function He(){return(He=(0,Z.Z)(function*(Re,Te){const yt=(yield function Nt(){return ct||(ct=new Promise((Re,Te)=>{try{const be=indexedDB.open(Je,it);be.onsuccess=yt=>{Re(yt.target.result)},be.onerror=yt=>{var At;Te(ht.create("storage-open",{originalErrorMessage:null===(At=yt.target.error)||void 0===At?void 0:At.message}))},be.onupgradeneeded=yt=>{0===yt.oldVersion&&yt.target.result.createObjectStore(ft,{keyPath:"compositeKey"})}}catch(be){Te(ht.create("storage-open",{originalErrorMessage:be?.message}))}}),ct)}()).transaction(ft,"readwrite"),En=yt.objectStore(ft).put({compositeKey:Re,value:Te});return new Promise((Fn,pn)=>{En.onsuccess=Wn=>{Fn()},yt.onerror=Wn=>{var jr;pn(ht.create("storage-set",{originalErrorMessage:null===(jr=Wn.target.error)||void 0===jr?void 0:jr.message}))}})})).apply(this,arguments)}const Vn=new ve.Yd("@firebase/app-check");function ci(Re,Te){return(0,Ae.hl)()?function Bt(Re,Te){return Me(function Rn(Re){return`${Re.options.appId}-${Re.name}`}(Re),Te)}(Re,Te).catch(be=>{Vn.warn(`Failed to write token to IndexedDB. Error: ${be}`)}):Promise.resolve()}function Dr(){return gt().enabled}function vr(){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,Z.Z)(function*(){const Re=gt();if(Re.enabled&&Re.token)return Re.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Ri={error:"UNKNOWN_ERROR"};function fr(Re){return Ae.US.encodeString(JSON.stringify(Re),!1)}function Qt(Re){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,Z.Z)(function*(Re,Te=!1){const be=Re.app;xt(be);const yt=Ge(be);let En,At=yt.token;if(At&&!ur(At)&&(yt.token=void 0,At=void 0),!At){const Wn=yield yt.cachedTokenPromise;Wn&&(ur(Wn)?At=Wn:yield ci(be,void 0))}if(!Te&&At&&ur(At))return{token:At.token};let pn,Fn=!1;if(Dr()){yt.exchangeTokenPromise||(yt.exchangeTokenPromise=mn(ke(be,yield vr()),Re.heartbeatServiceProvider).finally(()=>{yt.exchangeTokenPromise=void 0}),Fn=!0);const Wn=yield yt.exchangeTokenPromise;return yield ci(be,Wn),yt.token=Wn,{token:Wn.token}}try{yt.exchangeTokenPromise||(yt.exchangeTokenPromise=yt.provider.getToken().finally(()=>{yt.exchangeTokenPromise=void 0}),Fn=!0),At=yield Ge(be).exchangeTokenPromise}catch(Wn){"appCheck/throttled"===Wn.code?Vn.warn(Wn.message):Vn.error(Wn),En=Wn}return At?En?pn=ur(At)?{token:At.token,internalError:En}:Yt(En):(pn={token:At.token},yt.token=At,yield ci(be,At)):pn=Yt(En),Fn&&function Ur(Re,Te){const be=Ge(Re).tokenObservers;for(const yt of be)try{"EXTERNAL"===yt.type&&null!=Te.error?yt.error(Te.error):yt.next(Te)}catch{}}(be,pn),pn})).apply(this,arguments)}function vn(Re){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,Z.Z)(function*(Re){const Te=Re.app;xt(Te);const{provider:be}=Ge(Te);if(Dr()){const yt=yield vr(),{token:At}=yield mn(ke(Te,yt),Re.heartbeatServiceProvider);return{token:At}}{const{token:yt}=yield be.getToken();return{token:yt}}})).apply(this,arguments)}function Er(Re,Te){const be=Ge(Re),yt=be.tokenObservers.filter(At=>At.next!==Te);0===yt.length&&be.tokenRefresher&&be.tokenRefresher.isRunning()&&be.tokenRefresher.stop(),be.tokenObservers=yt}function Oi(Re){const{app:Te}=Re,be=Ge(Te);let yt=be.tokenRefresher;yt||(yt=function Vr(Re){const{app:Te}=Re;return new _e((0,Z.Z)(function*(){let yt;if(yt=Ge(Te).token?yield Qt(Re,!0):yield Qt(Re),yt.error)throw yt.error;if(yt.internalError)throw yt.internalError}),()=>!0,()=>{const be=Ge(Te);if(be.token){let yt=be.token.issuedAtTimeMillis+.5*(be.token.expireTimeMillis-be.token.issuedAtTimeMillis)+3e5;return yt=Math.min(yt,be.token.expireTimeMillis-3e5),Math.max(0,yt-Date.now())}return 0},Dt.RETRIAL_MIN_WAIT,Dt.RETRIAL_MAX_WAIT)}(Re),be.tokenRefresher=yt),!yt.isRunning()&&be.isTokenAutoRefreshEnabled&&yt.start()}function ur(Re){return Re.expireTimeMillis-Date.now()>0}function Yt(Re){return{token:fr(Ri),error:Re}}class kn{constructor(Te,be){this.app=Te,this.heartbeatServiceProvider=be}_delete(){const{tokenObservers:Te}=Ge(this.app);for(const be of Te)Er(this.app,be.next);return Promise.resolve()}}const Xt="app-check-internal";!function Sn(){(0,we._registerComponent)(new Ce.wA("app-check",Re=>function Rr(Re,Te){return new kn(Re,Te)}(Re.getProvider("app").getImmediate(),Re.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Re,Te,be)=>{Re.getProvider(Xt).initialize()})),(0,we._registerComponent)(new Ce.wA(Xt,Re=>function Vt(Re){return{getToken:Te=>Qt(Re,Te),getLimitedUseToken:()=>vn(Re),addTokenListener:Te=>function si(Re,Te,be,yt){const{app:At}=Re,En=Ge(At);if(En.tokenObservers=[...En.tokenObservers,{next:be,error:yt,type:Te}],En.token&&ur(En.token)){const pn=En.token;Promise.resolve().then(()=>{be({token:pn.token}),Oi(Re)}).catch(()=>{})}En.cachedTokenPromise.then(()=>Oi(Re))}(Re,"INTERNAL",Te),removeTokenListener:Te=>Er(Re.app,Te)}}(Re.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,we.registerVersion)("@firebase/app-check","0.8.0")}();class nr{constructor(){return(0,y.vb)("app-check")}}typeof window<"u"&&window},3692:(jt,je,j)=>{j.d(je,{Ot:()=>ie,ZF:()=>We,hX:()=>Ge,z6:()=>Z});var y=j(259),L=j(4650),q=j(4976);class ie{constructor(_e){return _e}}class Z{constructor(){return(0,y.C6)()}}const Ae=new L.OlP("angularfire2._apps"),ve={provide:ie,useFactory:function Ce(Le){return Le&&1===Le.length?Le[0]:new ie((0,y.Mq)())},deps:[[new L.FiY,Ae]]},se={provide:Z,deps:[[new L.FiY,Ae]]};function oe(Le){return(_e,nt)=>{const It=_e.runOutsideAngular(()=>Le(nt));return new ie(It)}}let de=(()=>{class Le{constructor(nt){(0,y.KN)("angularfire",q.q4.full,"core"),(0,y.KN)("angularfire",q.q4.full,"app"),(0,y.KN)("angular",L.q4F.full,nt.toString())}}return Le.\u0275fac=function(nt){return new(nt||Le)(L.LFG(L.Lbi))},Le.\u0275mod=L.oAB({type:Le}),Le.\u0275inj=L.cJS({providers:[ve,se]}),Le})();function Ge(Le,..._e){return{ngModule:de,providers:[{provide:Ae,useFactory:oe(Le),multi:!0,deps:[L.R0b,L.zs3,q.HU,..._e]}]}}const We=(0,q.u3)(y.ZF,!0)},1205:(jt,je,j)=>{j.d(je,{zQ:()=>yi,ww:()=>Qe});var y=j(4650),L=j(7579),q=j(9646),ie=j(9751),Z=j(8996),we=j(6451),Ce=j(5363),Ae=j(3900),ve=j(4004),se=j(6063);class oe extends L.x{constructor(Je=1/0,it=1/0,ft=se.l){super(),this._bufferSize=Je,this._windowTime=it,this._timestampProvider=ft,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=it===1/0,this._bufferSize=Math.max(1,Je),this._windowTime=Math.max(1,it)}next(Je){const{isStopped:it,_buffer:ft,_infiniteTimeWindow:_t,_timestampProvider:ct,_windowTime:Nt}=this;it||(ft.push(Je),!_t&&ft.push(ct.now()+Nt)),this._trimBuffer(),super.next(Je)}_subscribe(Je){this._throwIfClosed(),this._trimBuffer();const it=this._innerSubscribe(Je),{_infiniteTimeWindow:ft,_buffer:_t}=this,ct=_t.slice();for(let Nt=0;Nt<ct.length&&!Je.closed;Nt+=ft?1:2)Je.next(ct[Nt]);return this._checkFinalizedStatuses(Je),it}_trimBuffer(){const{_bufferSize:Je,_timestampProvider:it,_buffer:ft,_infiniteTimeWindow:_t}=this,ct=(_t?1:2)*Je;if(Je<1/0&&ct<ft.length&&ft.splice(0,ft.length-ct),!_t){const Nt=it.now();let Gn=0;for(let Bt=1;Bt<ft.length&&ft[Bt]<=Nt;Bt+=2)Gn=Bt;Gn&&ft.splice(0,Gn+1)}}}var de=j(3099);function Ge(ke,Je,it){let ft,_t=!1;return ke&&"object"==typeof ke?({bufferSize:ft=1/0,windowTime:Je=1/0,refCount:_t=!1,scheduler:it}=ke):ft=ke??1/0,(0,de.B)({connector:()=>new oe(ft,Je,it),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:_t})}var Ze=j(590),gt=j(576);function mt(ke,Je){return(0,gt.m)(Je)?(0,Ae.w)(()=>ke,Je):(0,Ae.w)(()=>ke)}var We=j(9468),rt=j(9300),pt=j(4976),Dt=j(2011),Le=j(6895),_e=j(2313),nt=j(9260);const ht=new y.OlP("angularfire2.auth.use-emulator"),Ue=new y.OlP("angularfire2.auth.settings"),xt=new y.OlP("angularfire2.auth.tenant-id"),nn=new y.OlP("angularfire2.auth.langugage-code"),bt=new y.OlP("angularfire2.auth.use-device-language"),mn=new y.OlP("angularfire.auth.persistence");let yi=(()=>{class ke{constructor(it,ft,_t,ct,Nt,Gn,Bt,Ve,ut,Me,He,qt){const fn=new L.x,Rn=(0,q.of)(void 0).pipe((0,Ce.Q)(Nt.outsideAngular),(0,Ae.w)(()=>ct.runOutsideAngular(()=>j.e(568).then(j.bind(j,9568)))),(0,ve.U)(()=>(0,Dt.on)(it,ct,ft)),(0,ve.U)(Vn=>((ke,Je,it,ft,_t,ct,Nt,Gn)=>(0,Dt.cc)(`${ke.name}.auth`,"AngularFireAuth",ke.name,()=>{const Bt=Je.runOutsideAngular(()=>ke.auth());if(it&&Bt.useEmulator(...it),ft&&(Bt.tenantId=ft),Bt.languageCode=_t,ct&&Bt.useDeviceLanguage(),Nt)for(const[Ve,ut]of Object.entries(Nt))Bt.settings[Ve]=ut;return Gn&&Bt.setPersistence(Gn),Bt},[it,ft,_t,ct,Nt,Gn]))(Vn,ct,Gn,Ve,ut,Me,Bt,He)),Ge({bufferSize:1,refCount:!1}));if((0,Le.PM)(_t))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,q.of)(null);else{Rn.pipe((0,Ze.P)()).subscribe();const an=Rn.pipe((0,Ae.w)(On=>On.getRedirectResult().then(zt=>zt,()=>null)),pt.iC,Ge({bufferSize:1,refCount:!1})),Gr=Rn.pipe((0,Ae.w)(On=>new ie.y(zt=>({unsubscribe:ct.runOutsideAngular(()=>On.onAuthStateChanged(Dr=>zt.next(Dr),Dr=>zt.error(Dr),()=>zt.complete()))})))),ci=Rn.pipe((0,Ae.w)(On=>new ie.y(zt=>({unsubscribe:ct.runOutsideAngular(()=>On.onIdTokenChanged(Dr=>zt.next(Dr),Dr=>zt.error(Dr),()=>zt.complete()))}))));this.authState=an.pipe(mt(Gr),(0,We.R)(Nt.outsideAngular),(0,Ce.Q)(Nt.insideAngular)),this.user=an.pipe(mt(ci),(0,We.R)(Nt.outsideAngular),(0,Ce.Q)(Nt.insideAngular)),this.idToken=this.user.pipe((0,Ae.w)(On=>On?(0,Z.D)(On.getIdToken()):(0,q.of)(null))),this.idTokenResult=this.user.pipe((0,Ae.w)(On=>On?(0,Z.D)(On.getIdTokenResult()):(0,q.of)(null))),this.credential=(0,we.T)(an,fn,this.authState.pipe((0,rt.h)(On=>!On))).pipe((0,ve.U)(On=>On?.user?On:null),(0,We.R)(Nt.outsideAngular),(0,Ce.Q)(Nt.insideAngular))}return(0,Dt.pX)(this,Rn,ct,{spy:{apply:(Vn,an,Gr)=>{(Vn.startsWith("signIn")||Vn.startsWith("createUser"))&&Gr.then(ci=>fn.next(ci))}}})}}return ke.\u0275fac=function(it){return new(it||ke)(y.LFG(Dt.Dh),y.LFG(Dt.xv,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(pt.HU),y.LFG(ht,8),y.LFG(Ue,8),y.LFG(xt,8),y.LFG(nn,8),y.LFG(bt,8),y.LFG(mn,8),y.LFG(_e.nm,8))},ke.\u0275prov=y.Yz7({token:ke,factory:ke.\u0275fac,providedIn:"any"}),ke})(),Qe=(()=>{class ke{constructor(){nt.Z.registerVersion("angularfire",pt.q4.full,"auth-compat")}}return ke.\u0275fac=function(it){return new(it||ke)},ke.\u0275mod=y.oAB({type:ke}),ke.\u0275inj=y.cJS({providers:[yi]}),ke})()},2011:(jt,je,j)=>{j.d(je,{Dh:()=>Ae,GT:()=>we,cc:()=>Ze,hO:()=>Ge,on:()=>se,pX:()=>Z,xv:()=>ve});var y=j(4650),L=j(9260),q=j(4976);jt=j.hmd(jt);const ie=["ngOnDestroy"],Z=(rt,pt,Dt,Le={})=>new Proxy(rt,{get:(_e,nt)=>Dt.runOutsideAngular(()=>{var It;if(rt[nt])return!(null===(It=Le?.spy)||void 0===It)&&It.get&&Le.spy.get(nt,rt[nt]),rt[nt];if(ie.indexOf(nt)>-1)return()=>{};const ht=pt.toPromise().then(Ue=>{const xt=Ue&&Ue[nt];return"function"==typeof xt?xt.bind(Ue):xt&&xt.then?xt.then(nn=>Dt.run(()=>nn)):Dt.run(()=>xt)});return new Proxy(()=>{},{get:(Ue,xt)=>ht[xt],apply:(Ue,xt,nn)=>ht.then(bt=>{var mn;const Ht=bt&&bt(...nn);return!(null===(mn=Le?.spy)||void 0===mn)&&mn.apply&&Le.spy.apply(nt,nn,Ht),Ht})})})}),we=(rt,pt)=>{pt.forEach(Dt=>{Object.getOwnPropertyNames(Dt.prototype||Dt).forEach(Le=>{Object.defineProperty(rt.prototype,Le,Object.getOwnPropertyDescriptor(Dt.prototype||Dt,Le))})})};class Ce{constructor(pt){return pt}}const Ae=new y.OlP("angularfire2.app.options"),ve=new y.OlP("angularfire2.app.name");function se(rt,pt,Dt){const _e="object"==typeof Dt&&Dt||{};_e.name=_e.name||"string"==typeof Dt&&Dt||"[DEFAULT]";const It=L.Z.apps.filter(ht=>ht&&ht.name===_e.name)[0]||pt.runOutsideAngular(()=>L.Z.initializeApp(rt,_e));try{JSON.stringify(rt)!==JSON.stringify(It.options)&&oe("error",`${It.name} Firebase App already initialized with different options${jt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ce(It)}const oe=(rt,...pt)=>{(0,y.X6Q)()&&typeof console<"u"&&console[rt](...pt)},de={provide:Ce,useFactory:se,deps:[Ae,y.R0b,[new y.FiY,ve]]};let Ge=(()=>{class rt{constructor(Dt){L.Z.registerVersion("angularfire",q.q4.full,"core"),L.Z.registerVersion("angularfire",q.q4.full,"app-compat"),L.Z.registerVersion("angular",y.q4F.full,Dt.toString())}static initializeApp(Dt,Le){return{ngModule:rt,providers:[{provide:Ae,useValue:Dt},{provide:ve,useValue:Le}]}}}return rt.\u0275fac=function(Dt){return new(Dt||rt)(y.LFG(y.Lbi))},rt.\u0275mod=y.oAB({type:rt}),rt.\u0275inj=y.cJS({providers:[de]}),rt})();function Ze(rt,pt,Dt,Le,_e){const[,nt,It]=globalThis.\u0275AngularfireInstanceCache.find(ht=>ht[0]===rt)||[];if(nt)return function gt(rt,pt){try{return rt.toString()===pt.toString()}catch{return rt===pt}}(_e,It)||(We("error",`${pt} was already initialized on the ${Dt} Firebase App with different settings.${mt?" You may need to reload as Firebase is not HMR aware.":""}`),We("warn",{is:_e,was:It})),nt;{const ht=Le();return globalThis.\u0275AngularfireInstanceCache.push([rt,ht,_e]),ht}}const mt=!!jt.hot,We=(rt,...pt)=>{(0,y.X6Q)()&&typeof console<"u"&&console[rt](...pt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},3132:(jt,je,j)=>{j.d(je,{gg:()=>ql,Um:()=>om,hJ:()=>z0,BS:()=>um,oe:()=>K0,JU:()=>Y0,PL:()=>lm,ad:()=>cm,Xo:()=>Hf,Cm:()=>am,IO:()=>dm,pl:()=>vd,r7:()=>_w,ar:()=>oE});var y=j(4976),L=j(4650),q=j(3692),ie=j(259);j(4322);class Ae{constructor(){return(0,y.vb)("auth")}}var Rt,ur=j(2313),Yt=j(5861),kn=j(6881),Rr=j(4859),Vt=j(1877),$n=j(2090),Or=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},er={},qr=qr||{},ln=Or||self;function Nr(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function fe(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var Ee="closure_uid_"+(1e9*Math.random()>>>0),st=0;function Be(r,e,t){return r.call.apply(r.bind,arguments)}function Mt(r,e,t){if(!r)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,s),r.apply(e,a)}}return function(){return r.apply(e,arguments)}}function me(r,e,t){return(me=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Be:Mt).apply(null,arguments)}function ye(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),r.apply(this,s)}}function re(r,e){function t(){}t.prototype=e.prototype,r.$=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.ac=function(s,a,c){for(var f=Array(arguments.length-2),b=2;b<arguments.length;b++)f[b-2]=arguments[b];return e.prototype[a].apply(s,f)}}function Ie(){this.s=this.s,this.o=this.o}Ie.prototype.s=!1,Ie.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function le(r){Object.prototype.hasOwnProperty.call(r,Ee)&&r[Ee]||(r[Ee]=++st)}(this)},Ie.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Tt=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1};function cn(r){const e=r.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=r[s];return t}return[]}function tr(r,e){for(let t=1;t<arguments.length;t++){const s=arguments[t];if(Nr(s)){const a=r.length||0,c=s.length||0;r.length=a+c;for(let f=0;f<c;f++)r[a+f]=s[f]}else r.push(s)}}function Nn(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}Nn.prototype.h=function(){this.defaultPrevented=!0};var Pi=function(){if(!ln.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{ln.addEventListener("test",()=>{},e),ln.removeEventListener("test",()=>{},e)}catch{}return r}();function Xe(r){return/^[\s\xa0]*$/.test(r)}function Fe(){var r=ln.navigator;return r&&(r=r.userAgent)?r:""}function wt(r){return-1!=Fe().indexOf(r)}function Xt(r){return Xt[" "](r),r}Xt[" "]=function(){};var bs,r,An=wt("Opera"),on=wt("Trident")||wt("MSIE"),nr=wt("Edge"),Bn=nr||on,Br=wt("Gecko")&&!(-1!=Fe().toLowerCase().indexOf("webkit")&&!wt("Edge"))&&!(wt("Trident")||wt("MSIE"))&&!wt("Edge"),oi=-1!=Fe().toLowerCase().indexOf("webkit")&&!wt("Edge");function Ts(){var r=ln.document;return r?r.documentMode:void 0}e:{var xi="",or=(r=Fe(),Br?/rv:([^\);]+)(\)|;)/.exec(r):nr?/Edge\/([\d\.]+)/.exec(r):on?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):oi?/WebKit\/(\S+)/.exec(r):An?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(or&&(xi=or?or[1]:""),on){var $t=Ts();if(null!=$t&&$t>parseFloat(xi)){bs=String($t);break e}}bs=xi}var pr=ln.document&&on&&(Ts()||parseInt(bs,10))||void 0;function wi(r,e){if(Nn.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,s=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(Br){e:{try{Xt(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:Zr[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&wi.$.h.call(this)}}re(wi,Nn);var Zr={2:"touch",3:"pen",4:"mouse"};wi.prototype.h=function(){wi.$.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var cs="closure_listenable_"+(1e6*Math.random()|0),kr=0;function Re(r,e,t,s,a){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.la=a,this.key=++kr,this.fa=this.ia=!1}function Te(r){r.fa=!0,r.listener=null,r.proxy=null,r.src=null,r.la=null}function be(r,e,t){for(const s in r)e.call(t,r[s],s,r)}function At(r){const e={};for(const t in r)e[t]=r[t];return e}const En="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Fn(r,e){let t,s;for(let a=1;a<arguments.length;a++){for(t in s=arguments[a],s)r[t]=s[t];for(let c=0;c<En.length;c++)t=En[c],Object.prototype.hasOwnProperty.call(s,t)&&(r[t]=s[t])}}function pn(r){this.src=r,this.g={},this.h=0}function Wn(r,e){var t=e.type;if(t in r.g){var c,s=r.g[t],a=Tt(s,e);(c=0<=a)&&Array.prototype.splice.call(s,a,1),c&&(Te(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function jr(r,e,t,s){for(var a=0;a<r.length;++a){var c=r[a];if(!c.fa&&c.listener==e&&c.capture==!!t&&c.la==s)return a}return-1}pn.prototype.add=function(r,e,t,s,a){var c=r.toString();(r=this.g[c])||(r=this.g[c]=[],this.h++);var f=jr(r,e,s,a);return-1<f?(e=r[f],t||(e.ia=!1)):((e=new Re(e,this.src,c,!!s,a)).ia=t,r.push(e)),e};var ei="closure_lm_"+(1e6*Math.random()|0),Wr={};function ai(r,e,t,s,a){if(s&&s.once)return Ko(r,e,t,s,a);if(Array.isArray(e)){for(var c=0;c<e.length;c++)ai(r,e[c],t,s,a);return null}return t=di(t),r&&r[cs]?r.O(e,t,fe(s)?!!s.capture:!!s,a):wr(r,e,t,!1,s,a)}function wr(r,e,t,s,a,c){if(!e)throw Error("Invalid event type");var f=fe(a)?!!a.capture:!!a,b=Kr(r);if(b||(r[ei]=b=new pn(r)),(t=b.add(e,t,s,f,c)).proxy)return t;if(s=function ns(){const e=Vs;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=s,s.src=r,s.listener=t,r.addEventListener)Pi||(a=f),void 0===a&&(a=!1),r.addEventListener(e.toString(),s,a);else if(r.attachEvent)r.attachEvent(rs(e.toString()),s);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(s)}return t}function Ko(r,e,t,s,a){if(Array.isArray(e)){for(var c=0;c<e.length;c++)Ko(r,e[c],t,s,a);return null}return t=di(t),r&&r[cs]?r.P(e,t,fe(s)?!!s.capture:!!s,a):wr(r,e,t,!0,s,a)}function Mo(r,e,t,s,a){if(Array.isArray(e))for(var c=0;c<e.length;c++)Mo(r,e[c],t,s,a);else s=fe(s)?!!s.capture:!!s,t=di(t),r&&r[cs]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=jr(c=r.g[e],t,s,a))&&(Te(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete r.g[e],r.h--))):r&&(r=Kr(r))&&(e=r.g[e.toString()],r=-1,e&&(r=jr(e,t,s,a)),(t=-1<r?e[r]:null)&&Zi(t))}function Zi(r){if("number"!=typeof r&&r&&!r.fa){var e=r.src;if(e&&e[cs])Wn(e.i,r);else{var t=r.type,s=r.proxy;e.removeEventListener?e.removeEventListener(t,s,r.capture):e.detachEvent?e.detachEvent(rs(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=Kr(e))?(Wn(t,r),0==t.h&&(t.src=null,e[ei]=null)):Te(r)}}}function rs(r){return r in Wr?Wr[r]:Wr[r]="on"+r}function Vs(r,e){if(r.fa)r=!0;else{e=new wi(e,this);var t=r.listener,s=r.la||r.src;r.ia&&Zi(r),r=t.call(s,e)}return r}function Kr(r){return(r=r[ei])instanceof pn?r:null}var oa="__closure_events_fn_"+(1e9*Math.random()>>>0);function di(r){return"function"==typeof r?r:(r[oa]||(r[oa]=function(e){return r.handleEvent(e)}),r[oa])}function _r(){Ie.call(this),this.i=new pn(this),this.S=this,this.J=null}function $r(r,e){var t,s=r.J;if(s)for(t=[];s;s=s.J)t.push(s);if(r=r.S,s=e.type||e,"string"==typeof e)e=new Nn(e,r);else if(e instanceof Nn)e.target=e.target||r;else{var a=e;Fn(e=new Nn(s,r),a)}if(a=!0,t)for(var c=t.length-1;0<=c;c--){var f=e.g=t[c];a=to(f,s,!0,e)&&a}if(a=to(f=e.g=r,s,!0,e)&&a,a=to(f,s,!1,e)&&a,t)for(c=0;c<t.length;c++)a=to(f=e.g=t[c],s,!1,e)&&a}function to(r,e,t,s){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,c=0;c<e.length;++c){var f=e[c];if(f&&!f.fa&&f.capture==t){var b=f.listener,V=f.la||f.src;f.ia&&Wn(r.i,f),a=!1!==b.call(V,s)&&a}}return a&&!s.defaultPrevented}re(_r,Ie),_r.prototype[cs]=!0,_r.prototype.removeEventListener=function(r,e,t,s){Mo(this,r,e,t,s)},_r.prototype.N=function(){if(_r.$.N.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],s=0;s<t.length;s++)Te(t[s]);delete r.g[e],r.h--}}this.J=null},_r.prototype.O=function(r,e,t,s){return this.i.add(String(r),e,!1,t,s)},_r.prototype.P=function(r,e,t,s){return this.i.add(String(r),e,!0,t,s)};var Us=ln.JSON.stringify;function ds(){var r=ga;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var qo=new class Ii{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Gi,r=>r.reset());class Gi{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function aa(r){var e=1;r=r.split(":");const t=[];for(;0<e&&r.length;)t.push(r.shift()),e--;return r.length&&t.push(r.join(":")),t}function Ss(r){ln.setTimeout(()=>{throw r},0)}let hs,js=!1,ga=new class Bs{constructor(){this.h=this.g=null}add(e,t){const s=qo.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}},ma=()=>{const r=ln.Promise.resolve(void 0);hs=()=>{r.then(As)}};var As=()=>{for(var r;r=ds();){try{r.h.call(r.g)}catch(t){Ss(t)}var e=qo;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}js=!1};function no(r,e){_r.call(this),this.h=r||1,this.g=e||ln,this.j=me(this.qb,this),this.l=Date.now()}function Zo(r){r.ga=!1,r.T&&(r.g.clearTimeout(r.T),r.T=null)}function Bi(r,e,t){if("function"==typeof r)t&&(r=me(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=me(r.handleEvent,r)}return 2147483647<Number(e)?-1:ln.setTimeout(r,e||0)}function ho(r){r.g=Bi(()=>{r.g=null,r.i&&(r.i=!1,ho(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}re(no,_r),(Rt=no.prototype).ga=!1,Rt.T=null,Rt.qb=function(){if(this.ga){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-r):(this.T&&(this.g.clearTimeout(this.T),this.T=null),$r(this,"tick"),this.ga&&(Zo(this),this.start()))}},Rt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Rt.N=function(){no.$.N.call(this),Zo(this),delete this.g};class Ta extends Ie{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ho(this)}N(){super.N(),this.g&&(ln.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yi(r){Ie.call(this),this.h=r,this.g={}}re(Yi,Ie);var Yo=[];function Ro(r,e,t,s){Array.isArray(t)||(t&&(Yo[0]=t.toString()),t=Yo);for(var a=0;a<t.length;a++){var c=ai(e,t[a],s||r.handleEvent,!1,r.h||r);if(!c)break;r.g[c.key]=c}}function $s(r){be(r.g,function(e,t){this.g.hasOwnProperty(t)&&Zi(e)},r),r.g={}}function vi(){this.g=!0}function Hs(r,e,t,s){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ba(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var s=t[r];if(!(2>s.length)){var a=s[1];if(Array.isArray(a)&&!(1>a.length)){var c=a[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var f=1;f<a.length;f++)a[f]=""}}}return Us(t)}catch{return e}}(r,t)+(s?" "+s:"")})}Yi.prototype.N=function(){Yi.$.N.call(this),$s(this)},Yi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},vi.prototype.Ea=function(){this.g=!1},vi.prototype.info=function(){};var Di={},po=null;function ro(){return po=po||new _r}function Oo(r){Nn.call(this,Di.Ta,r)}function Wi(r){const e=ro();$r(e,new Oo(e))}function fs(r,e){Nn.call(this,Di.STAT_EVENT,r),this.stat=e}function Jn(r){const e=ro();$r(e,new fs(e,r))}function Ci(r,e){Nn.call(this,Di.Ua,r),this.size=e}function Qi(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return ln.setTimeout(function(){r()},e)}Di.Ta="serverreachability",re(Oo,Nn),Di.STAT_EVENT="statevent",re(fs,Nn),Di.Ua="timingevent",re(Ci,Nn);var Tr={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Rs={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function go(){}function Sa(){}go.prototype.h=null;var Po,ps={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ti(){Nn.call(this,"d")}function Yr(){Nn.call(this,"c")}function Ji(){}function bi(r,e,t,s){this.l=r,this.j=e,this.m=t,this.W=s||1,this.U=new Yi(this),this.P=hi,this.V=new no(r=Bn?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new gs}function gs(){this.i=null,this.g="",this.h=!1}re(Ti,Nn),re(Yr,Nn),re(Ji,go),Ji.prototype.g=function(){return new XMLHttpRequest},Ji.prototype.i=function(){return{}},Po=new Ji;var hi=45e3,is={},Pn={};function mo(r,e,t){r.L=1,r.v=ji(zs(e)),r.s=t,r.S=!0,U(r,null)}function U(r,e){r.G=Date.now(),tt(r),r.A=zs(r.v);var t=r.A,s=r.W;Array.isArray(s)||(s=[String(s)]),xo(t.i,"t",s),r.C=0,t=r.l.J,r.h=new gs,r.g=uu(r.l,t?e:null,!r.s),0<r.O&&(r.M=new Ta(me(r.Pa,r,r.g),r.O)),Ro(r.U,r.g,"readystatechange",r.nb),e=r.I?At(r.I):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ha(r.A,r.u,r.s,e)):(r.u="GET",r.g.ha(r.A,r.u,null,e)),Wi(),function Ms(r,e,t,s,a,c){r.info(function(){if(r.g)if(c)for(var f="",b=c.split("&"),V=0;V<b.length;V++){var H=b[V].split("=");if(1<H.length){var ee=H[0];H=H[1];var ge=ee.split("_");f=2<=ge.length&&"type"==ge[1]?f+(ee+"=")+H+"&":f+(ee+"=redacted&")}}else f=null;else f=c;return"XMLHTTP REQ ("+s+") [attempt "+a+"]: "+e+"\n"+t+"\n"+f})}(r.j,r.u,r.A,r.m,r.W,r.s)}function F(r){return!!r.g&&"GET"==r.u&&2!=r.L&&r.l.Ha}function k(r,e,t){let a,s=!0;for(;!r.J&&r.C<t.length;){if(a=te(r,t),a==Pn){4==e&&(r.o=4,Jn(14),s=!1),Hs(r.j,r.m,null,"[Incomplete Response]");break}if(a==is){r.o=4,Jn(15),Hs(r.j,r.m,t,"[Invalid Chunk]"),s=!1;break}Hs(r.j,r.m,a,null),yo(r,a)}F(r)&&a!=Pn&&a!=is&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,Jn(16),s=!1),r.i=r.i&&s,s?0<t.length&&!r.ba&&(r.ba=!0,(e=r.l).g==r&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),za(e),e.M=!0,Jn(11))):(Hs(r.j,r.m,t,"[Invalid Chunked Response]"),_n(r),Ye(r))}function te(r,e){var t=r.C,s=e.indexOf("\n",t);return-1==s?Pn:(t=Number(e.substring(t,s)),isNaN(t)?is:(s+=1)+t>e.length?Pn:(e=e.slice(s,s+t),r.C=s+t,e))}function tt(r){r.Y=Date.now()+r.P,In(r,r.P)}function In(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=Qi(me(r.lb,r),e)}function Qr(r){r.B&&(ln.clearTimeout(r.B),r.B=null)}function Ye(r){0==r.l.H||r.J||li(r.l,r)}function _n(r){Qr(r);var e=r.M;e&&"function"==typeof e.sa&&e.sa(),r.M=null,Zo(r.V),$s(r.U),r.g&&(e=r.g,r.g=null,e.abort(),e.sa())}function yo(r,e){try{var t=r.l;if(0!=t.H&&(t.g==r||_o(t.i,r)))if(!r.K&&_o(t.i,r)&&3==t.H){try{var s=t.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var a=s;if(0==a[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<r.G))break e;Ga(t),$i(t)}sl(t),Jn(18)}}else t.Fa=a[1],0<t.Fa-t.V&&37500>a[2]&&t.G&&0==t.A&&!t.v&&(t.v=Qi(me(t.ib,t),6e3));if(1>=No(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Uo(t,11)}else if((r.K||t.g==r)&&Ga(t),!Xe(e))for(a=t.Ja.g.parse(e),e=0;e<a.length;e++){let H=a[e];if(t.V=H[0],H=H[1],2==t.H)if("c"==H[0]){t.K=H[1],t.pa=H[2];const ee=H[3];null!=ee&&(t.ra=ee,t.l.info("VER="+t.ra));const ge=H[4];null!=ge&&(t.Ga=ge,t.l.info("SVER="+t.Ga));const ze=H[5];null!=ze&&"number"==typeof ze&&0<ze&&(t.L=s=1.5*ze,t.l.info("backChannelRequestTimeoutMs_="+s)),s=t;const vt=r.g;if(vt){const Ut=vt.g?vt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ut){var c=s.i;c.g||-1==Ut.indexOf("spdy")&&-1==Ut.indexOf("quic")&&-1==Ut.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&(br(c,c.h),c.h=null))}if(s.F){const dn=vt.g?vt.g.getResponseHeader("X-HTTP-Session-Id"):null;dn&&(s.Da=dn,Kn(s.I,s.F,dn))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-r.G,t.l.info("Handshake RTT: "+t.S+"ms"));var f=r;if((s=t).wa=la(s,s.J?s.pa:null,s.Y),f.K){Gs(s.i,f);var b=f,V=s.L;V&&b.setTimeout(V),b.B&&(Qr(b),tt(b)),s.g=f}else ks(s);0<t.j.length&&Oa(t)}else"stop"!=H[0]&&"close"!=H[0]||Uo(t,7);else 3==t.H&&("stop"==H[0]||"close"==H[0]?"stop"==H[0]?Uo(t,7):Es(t):"noop"!=H[0]&&t.h&&t.h.Aa(H),t.A=0)}Wi()}catch{}}function Fa(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(Nr(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var t=function fi(r){if(r.ta&&"function"==typeof r.ta)return r.ta();if(!r.Z||"function"!=typeof r.Z){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(Nr(r)||"string"==typeof r){var e=[];r=r.length;for(var t=0;t<r;t++)e.push(t);return e}e=[],t=0;for(const s in r)e[t++]=s;return e}}}(r),s=function io(r){if(r.Z&&"function"==typeof r.Z)return r.Z();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(Nr(r)){for(var e=[],t=r.length,s=0;s<t;s++)e.push(r[s]);return e}for(s in e=[],t=0,r)e[t++]=r[s];return e}(r),a=s.length,c=0;c<a;c++)e.call(void 0,s[c],t&&t[c],r)}(Rt=bi.prototype).setTimeout=function(r){this.P=r},Rt.nb=function(r){r=r.target;const e=this.M;e&&3==rr(r)?e.l():this.Pa(r)},Rt.Pa=function(r){try{if(r==this.g)e:{const ee=rr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>ee)&&(3!=ee||Bn||this.g&&(this.h.h||this.g.ja()||Si(this.g)))){this.J||4!=ee||7==e||Wi(),Qr(this);var t=this.g.da();this.ca=t;t:if(F(this)){var s=Si(this.g);r="";var a=s.length,c=4==rr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){_n(this),Ye(this);var f="";break t}this.h.i=new ln.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,r+=this.h.i.decode(s[e],{stream:c&&e==a-1});s.splice(0,a),this.h.g+=r,this.C=0,f=this.h.g}else f=this.g.ja();if(this.i=200==t,function ya(r,e,t,s,a,c,f){r.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+c+" "+f})}(this.j,this.u,this.A,this.m,this.W,ee,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var b,V=this.g;if((b=V.g?V.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Xe(b)){var H=b;break t}}H=null}if(!(t=H)){this.i=!1,this.o=3,Jn(12),_n(this),Ye(this);break e}Hs(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yo(this,t)}this.S?(k(this,ee,f),Bn&&this.i&&3==ee&&(Ro(this.U,this.V,"tick",this.mb),this.V.start())):(Hs(this.j,this.m,f,null),yo(this,f)),4==ee&&_n(this),this.i&&!this.J&&(4==ee?li(this.l,this):(this.i=!1,tt(this)))}else(function Ks(r){const e={};r=(r.g&&2<=rr(r)&&r.g.getAllResponseHeaders()||"").split("\r\n");for(let s=0;s<r.length;s++){if(Xe(r[s]))continue;var t=aa(r[s]);const a=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const c=e[a]||[];e[a]=c,c.push(t)}!function yt(r,e){for(const t in r)e.call(void 0,r[t],t,r)}(e,function(s){return s.join(", ")})})(this.g),400==t&&0<f.indexOf("Unknown SID")?(this.o=3,Jn(12)):(this.o=0,Jn(13)),_n(this),Ye(this)}}}catch{}},Rt.mb=function(){if(this.g){var r=rr(this.g),e=this.g.ja();this.C<e.length&&(Qr(this),k(this,r,e),this.i&&4!=r&&tt(this))}},Rt.cancel=function(){this.J=!0,_n(this)},Rt.lb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function fo(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Wi(),Jn(17)),_n(this),this.o=2,Ye(this)):In(this,this.Y-r)};var Qo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Os(r){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof Os){this.h=r.h,Jo(this,r.j),this.s=r.s,this.g=r.g,Xi(this,r.m),this.l=r.l;var e=r.i,t=new Xo;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Ps(this,t),this.o=r.o}else r&&(e=String(r).match(Qo))?(this.h=!1,Jo(this,e[1]||"",!0),this.s=xs(e[2]||""),this.g=xs(e[3]||"",!0),Xi(this,e[4]),this.l=xs(e[5]||"",!0),Ps(this,e[6]||"",!0),this.o=xs(e[7]||"")):(this.h=!1,this.i=new Xo(null,this.h))}function zs(r){return new Os(r)}function Jo(r,e,t){r.j=t?xs(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function Xi(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function Ps(r,e,t){e instanceof Xo?(r.i=e,function Va(r,e){e&&!r.j&&(vs(r),r.i=null,r.g.forEach(function(t,s){var a=s.toLowerCase();s!=a&&(Ma(this,s),xo(this,a,t))},r)),r.j=e}(r.i,r.h)):(t||(e=ys(e,Vu)),r.i=new Xo(e,r.h))}function Kn(r,e,t){r.i.set(e,t)}function ji(r){return Kn(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function xs(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function ys(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,so),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function so(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}Os.prototype.toString=function(){var r=[],e=this.j;e&&r.push(ys(e,Aa,!0),":");var t=this.g;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(ys(e,Aa,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&r.push("/"),r.push(ys(t,"/"==t.charAt(0)?La:vo,!0))),(t=this.i.toString())&&r.push("?",t),(t=this.o)&&r.push("#",ys(t,pi)),r.join("")};var Aa=/[#\/\?@]/g,vo=/[#\?:]/g,La=/[#\?]/g,Vu=/[#\?@]/g,pi=/#/g;function Xo(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function vs(r){r.g||(r.g=new Map,r.h=0,r.i&&function ms(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var s=r[t].indexOf("="),a=null;if(0<=s){var c=r[t].substring(0,s);a=r[t].substring(s+1)}else c=r[t];e(c,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Ma(r,e){vs(r),e=Ns(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function ea(r,e){return vs(r),e=Ns(r,e),r.g.has(e)}function xo(r,e,t){Ma(r,e),0<t.length&&(r.i=null,r.g.set(Ns(r,e),cn(t)),r.h+=t.length)}function Ns(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function Ra(r){this.l=r||ta,r=ln.PerformanceNavigationTiming?0<(r=ln.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(ln.g&&ln.g.Ka&&ln.g.Ka()&&ln.g.Ka().ec),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Rt=Xo.prototype).add=function(r,e){vs(this),this.i=null,r=Ns(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},Rt.forEach=function(r,e){vs(this),this.g.forEach(function(t,s){t.forEach(function(a){r.call(e,a,s,this)},this)},this)},Rt.ta=function(){vs(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let s=0;s<e.length;s++){const a=r[s];for(let c=0;c<a.length;c++)t.push(e[s])}return t},Rt.Z=function(r){vs(this);let e=[];if("string"==typeof r)ea(this,r)&&(e=e.concat(this.g.get(Ns(this,r))));else{r=Array.from(this.g.values());for(let t=0;t<r.length;t++)e=e.concat(r[t])}return e},Rt.set=function(r,e){return vs(this),this.i=null,ea(this,r=Ns(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},Rt.get=function(r,e){return r&&0<(r=this.Z(r)).length?String(r[0]):e},Rt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var s=e[t];const c=encodeURIComponent(String(s)),f=this.Z(s);for(s=0;s<f.length;s++){var a=c;""!==f[s]&&(a+="="+encodeURIComponent(String(f[s]))),r.push(a)}}return this.i=r.join("&")};var ta=10;function na(r){return!!r.h||!!r.g&&r.g.size>=r.j}function No(r){return r.h?1:r.g?r.g.size:0}function _o(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function br(r,e){r.g?r.g.add(e):r.h=e}function Gs(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function Sr(r){if(null!=r.h)return r.i.concat(r.h.F);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.F);return e}return cn(r.i)}Ra.prototype.cancel=function(){if(this.i=Sr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}};var Ua=class{stringify(r){return ln.JSON.stringify(r,void 0)}parse(r){return ln.JSON.parse(r,void 0)}};function ua(){this.g=new Ua}function Ba(r,e,t){const s=t||"";try{Fa(r,function(a,c){let f=a;fe(a)&&(f=Us(a)),e.push(s+c+"="+encodeURIComponent(f))})}catch(a){throw e.push(s+"type="+encodeURIComponent("_badmap")),a}}function ko(r,e,t,s,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(s)}catch{}}function Ws(r){this.l=r.fc||null,this.j=r.ob||!1}function ra(r,e){_r.call(this),this.F=r,this.u=e,this.m=void 0,this.readyState=_a,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}re(Ws,go),Ws.prototype.g=function(){return new ra(this.l,this.j)},Ws.prototype.i=function(r){return function(){return r}}({}),re(ra,_r);var _a=0;function ja(r){r.j.read().then(r.Xa.bind(r)).catch(r.ka.bind(r))}function R(r){r.readyState=4,r.l=null,r.j=null,r.A=null,$(r)}function $(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(Rt=ra.prototype).open=function(r,e){if(this.readyState!=_a)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,$(this)},Rt.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.F||ln).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Rt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,R(this)),this.readyState=_a},Rt.$a=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,$(this)),this.g&&(this.readyState=3,$(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ln.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ja(this)}else r.text().then(this.Za.bind(this),this.ka.bind(this))},Rt.Xa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?R(this):$(this),3==this.readyState&&ja(this)}},Rt.Za=function(r){this.g&&(this.response=this.responseText=r,R(this))},Rt.Ya=function(r){this.g&&(this.response=r,R(this))},Rt.ka=function(){this.g&&R(this)},Rt.setRequestHeader=function(r,e){this.v.append(r,e)},Rt.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},Rt.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(ra.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var x=ln.JSON.parse;function Y(r){_r.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=ce,this.L=this.M=!1}re(Y,_r);var ce="",$e=/^https?$/i,Et=["POST","PUT"];function gr(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,dr(r),jn(r)}function dr(r){r.F||(r.F=!0,$r(r,"complete"),$r(r,"error"))}function hr(r){if(r.h&&typeof qr<"u"&&(!r.C[1]||4!=rr(r)||2!=r.da()))if(r.v&&4==rr(r))Bi(r.La,0,r);else if($r(r,"readystatechange"),4==rr(r)){r.h=!1;try{const f=r.da();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===f){var a=String(r.I).match(Qo)[1]||null;!a&&ln.self&&ln.self.location&&(a=ln.self.location.protocol.slice(0,-1)),s=!$e.test(a?a.toLowerCase():"")}t=s}if(t)$r(r,"complete"),$r(r,"success");else{r.m=6;try{var c=2<rr(r)?r.g.statusText:""}catch{c=""}r.j=c+" ["+r.da()+"]",dr(r)}}finally{jn(r)}}}function jn(r,e){if(r.g){ti(r);const t=r.g,s=r.C[0]?()=>{}:null;r.g=null,r.C=null,e||$r(r,"ready");try{t.onreadystatechange=s}catch{}}}function ti(r){r.g&&r.L&&(r.g.ontimeout=null),r.A&&(ln.clearTimeout(r.A),r.A=null)}function rr(r){return r.g?r.g.readyState:0}function Si(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.K){case ce:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function ki(r){let e="";return be(r,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}function qs(r,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=ki(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):Kn(r,e,t))}function ui(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function _s(r){this.Ga=0,this.j=[],this.l=new vi,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ui("failFast",!1,r),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ui("baseRetryDelayMs",5e3,r),this.hb=ui("retryDelaySeedMs",1e4,r),this.eb=ui("forwardChannelMaxRetries",2,r),this.xa=ui("forwardChannelRequestTimeoutMs",2e4,r),this.va=r&&r.xmlHttpFactory||void 0,this.Ha=r&&r.dc||!1,this.L=void 0,this.J=r&&r.supportsCrossDomainXhr||!1,this.K="",this.i=new Ra(r&&r.concurrentRequestLimit),this.Ja=new ua,this.P=r&&r.fastHandshake||!1,this.O=r&&r.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=r&&r.bc||!1,r&&r.Ea&&this.l.Ea(),r&&r.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&r&&r.detectBufferingProxy||!1,this.qa=void 0,r&&r.longPollingTimeout&&0<r.longPollingTimeout&&(this.qa=r.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Es(r){if($a(r),3==r.H){var e=r.W++,t=zs(r.I);if(Kn(t,"SID",r.K),Kn(t,"RID",e),Kn(t,"TYPE","terminate"),Fo(r,t),(e=new bi(r,r.l,e)).L=2,e.v=ji(zs(t)),t=!1,ln.navigator&&ln.navigator.sendBeacon)try{t=ln.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&ln.Image&&((new Image).src=e.v,t=!0),t||(e.g=uu(e.l,null),e.g.ha(e.v)),e.G=Date.now(),tt(e)}Iu(r)}function $i(r){r.g&&(za(r),r.g.cancel(),r.g=null)}function $a(r){$i(r),r.u&&(ln.clearTimeout(r.u),r.u=null),Ga(r),r.i.cancel(),r.m&&("number"==typeof r.m&&ln.clearTimeout(r.m),r.m=null)}function Oa(r){if(!na(r.i)&&!r.m){r.m=!0;var e=r.Na;hs||ma(),js||(hs(),js=!0),ga.add(e,r),r.C=0}}function Ea(r,e){var t;t=e?e.m:r.W++;const s=zs(r.I);Kn(s,"SID",r.K),Kn(s,"RID",t),Kn(s,"AID",r.V),Fo(r,s),r.o&&r.s&&qs(s,r.o,r.s),t=new bi(r,r.l,t,r.C+1),null===r.o&&(t.I=r.s),e&&(r.j=e.F.concat(r.j)),e=Ha(r,t,1e3),t.setTimeout(Math.round(.5*r.xa)+Math.round(.5*r.xa*Math.random())),br(r.i,t),mo(t,s,e)}function Fo(r,e){r.na&&be(r.na,function(t,s){Kn(e,s,t)}),r.h&&Fa({},function(t,s){Kn(e,s,t)})}function Ha(r,e,t){t=Math.min(r.j.length,t);var s=r.h?me(r.h.Va,r.h,r):null;e:{var a=r.j;let c=-1;for(;;){const f=["count="+t];-1==c?0<t?(c=a[0].g,f.push("ofs="+c)):c=0:f.push("ofs="+c);let b=!0;for(let V=0;V<t;V++){let H=a[V].g;const ee=a[V].map;if(H-=c,0>H)c=Math.max(0,a[V].g-100),b=!1;else try{Ba(ee,f,"req"+H+"_")}catch{s&&s(ee)}}if(b){s=f.join("&");break e}}}return r=r.j.splice(0,t),e.F=r,s}function ks(r){if(!r.g&&!r.u){r.ba=1;var e=r.Ma;hs||ma(),js||(hs(),js=!0),ga.add(e,r),r.A=0}}function sl(r){return!(r.g||r.u||3<=r.A||(r.ba++,r.u=Qi(me(r.Ma,r),Vo(r,r.A)),r.A++,0))}function za(r){null!=r.B&&(ln.clearTimeout(r.B),r.B=null)}function Lo(r){r.g=new bi(r,r.l,"rpc",r.ba),null===r.o&&(r.g.I=r.s),r.g.O=0;var e=zs(r.wa);Kn(e,"RID","rpc"),Kn(e,"SID",r.K),Kn(e,"AID",r.V),Kn(e,"CI",r.G?"0":"1"),!r.G&&r.qa&&Kn(e,"TO",r.qa),Kn(e,"TYPE","xmlhttp"),Fo(r,e),r.o&&r.s&&qs(e,r.o,r.s),r.L&&r.g.setTimeout(r.L);var t=r.g;r=r.pa,t.L=1,t.v=ji(zs(e)),t.s=null,t.S=!0,U(t,r)}function Ga(r){null!=r.v&&(ln.clearTimeout(r.v),r.v=null)}function li(r,e){var t=null;if(r.g==e){Ga(r),za(r),r.g=null;var s=2}else{if(!_o(r.i,e))return;t=e.F,Gs(r.i,e),s=1}if(0!=r.H)if(e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.G;var a=r.C;$r(s=ro(),new Ci(s,t)),Oa(r)}else ks(r);else if(3==(a=e.o)||0==a&&0<e.ca||!(1==s&&function il(r,e){return!(No(r.i)>=r.i.j-(r.m?1:0)||(r.m?(r.j=e.F.concat(r.j),0):1==r.H||2==r.H||r.C>=(r.cb?0:r.eb)||(r.m=Qi(me(r.Na,r,e),Vo(r,r.C)),r.C++,0)))}(r,e)||2==s&&sl(r)))switch(t&&0<t.length&&(e=r.i,e.i=e.i.concat(t)),a){case 1:Uo(r,5);break;case 4:Uo(r,10);break;case 3:Uo(r,6);break;default:Uo(r,2)}}function Vo(r,e){let t=r.ab+Math.floor(Math.random()*r.hb);return r.isActive()||(t*=2),t*e}function Uo(r,e){if(r.l.info("Error code "+e),2==e){var t=null;r.h&&(t=null);var s=me(r.pb,r);t||(t=new Os("//www.google.com/images/cleardot.gif"),ln.location&&"http"==ln.location.protocol||Jo(t,"https"),ji(t)),function wu(r,e){const t=new vi;if(ln.Image){const s=new Image;s.onload=ye(ko,t,s,"TestLoadImage: loaded",!0,e),s.onerror=ye(ko,t,s,"TestLoadImage: error",!1,e),s.onabort=ye(ko,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=ye(ko,t,s,"TestLoadImage: timeout",!1,e),ln.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=r}else e(!1)}(t.toString(),s)}else Jn(2);r.H=0,r.h&&r.h.za(e),Iu(r),$a(r)}function Iu(r){if(r.H=0,r.ma=[],r.h){const e=Sr(r.i);(0!=e.length||0!=r.j.length)&&(tr(r.ma,e),tr(r.ma,r.j),r.i.i.length=0,cn(r.j),r.j.length=0),r.h.ya()}}function la(r,e,t){var s=t instanceof Os?zs(t):new Os(t);if(""!=s.g)e&&(s.g=e+"."+s.g),Xi(s,s.m);else{var a=ln.location;s=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var c=new Os(null);s&&Jo(c,s),e&&(c.g=e),a&&Xi(c,a),t&&(c.l=t),s=c}return e=r.Da,(t=r.F)&&e&&Kn(s,t,e),Kn(s,"VER",r.ra),Fo(r,s),s}function uu(r,e,t){if(e&&!r.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Y(t&&r.Ha&&!r.va?new Ws({ob:!0}):r.va)).Oa(r.J),e}function Wa(){}function _i(){if(on&&!(10<=Number(pr)))throw Error("Environmental error: no available transport.")}function ws(r,e){_r.call(this),this.g=new _s(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(r?r["X-WebChannel-Client-Profile"]=e.Ca:r={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=r,(r=e&&e.cc)&&!Xe(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Xe(e)&&(this.g.F=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new Is(this)}function Dn(r){Ti.call(this),r.__headers__&&(this.headers=r.__headers__,this.statusCode=r.__status__,delete r.__headers__,delete r.__status__);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function ca(){Yr.call(this),this.status=1}function Is(r){this.g=r}function es(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Pa(r,e,t){t||(t=0);var s=Array(16);if("string"==typeof e)for(var a=0;16>a;++a)s[a]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(a=0;16>a;++a)s[a]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var c=r.g[3],f=(e=r.g[0])+(c^(t=r.g[1])&((a=r.g[2])^c))+s[0]+3614090360&4294967295;f=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=t+(f<<7&4294967295|f>>>25))+((f=c+(a^e&(t^a))+s[1]+3905402710&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^c&(e^t))+s[2]+606105819&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(c^e))+s[3]+3250441966&4294967295)<<22&4294967295|f>>>10))+((f=e+(c^t&(a^c))+s[4]+4118548399&4294967295)<<7&4294967295|f>>>25))+((f=c+(a^e&(t^a))+s[5]+1200080426&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^c&(e^t))+s[6]+2821735955&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(c^e))+s[7]+4249261313&4294967295)<<22&4294967295|f>>>10))+((f=e+(c^t&(a^c))+s[8]+1770035416&4294967295)<<7&4294967295|f>>>25))+((f=c+(a^e&(t^a))+s[9]+2336552879&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^c&(e^t))+s[10]+4294925233&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(c^e))+s[11]+2304563134&4294967295)<<22&4294967295|f>>>10))+((f=e+(c^t&(a^c))+s[12]+1804603682&4294967295)<<7&4294967295|f>>>25))+((f=c+(a^e&(t^a))+s[13]+4254626195&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^c&(e^t))+s[14]+2792965006&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(c^e))+s[15]+1236535329&4294967295)<<22&4294967295|f>>>10))+((f=e+(a^c&(t^a))+s[1]+4129170786&4294967295)<<5&4294967295|f>>>27))+((f=c+(t^a&(e^t))+s[6]+3225465664&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(c^e))+s[11]+643717713&4294967295)<<14&4294967295|f>>>18))+((f=t+(c^e&(a^c))+s[0]+3921069994&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^c&(t^a))+s[5]+3593408605&4294967295)<<5&4294967295|f>>>27))+((f=c+(t^a&(e^t))+s[10]+38016083&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(c^e))+s[15]+3634488961&4294967295)<<14&4294967295|f>>>18))+((f=t+(c^e&(a^c))+s[4]+3889429448&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^c&(t^a))+s[9]+568446438&4294967295)<<5&4294967295|f>>>27))+((f=c+(t^a&(e^t))+s[14]+3275163606&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(c^e))+s[3]+4107603335&4294967295)<<14&4294967295|f>>>18))+((f=t+(c^e&(a^c))+s[8]+1163531501&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^c&(t^a))+s[13]+2850285829&4294967295)<<5&4294967295|f>>>27))+((f=c+(t^a&(e^t))+s[2]+4243563512&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(c^e))+s[7]+1735328473&4294967295)<<14&4294967295|f>>>18))+((f=t+(c^e&(a^c))+s[12]+2368359562&4294967295)<<20&4294967295|f>>>12))+((f=e+(t^a^c)+s[5]+4294588738&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^t^a)+s[8]+2272392833&4294967295)<<11&4294967295|f>>>21))+((f=a+(c^e^t)+s[11]+1839030562&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^c^e)+s[14]+4259657740&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^c)+s[1]+2763975236&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^t^a)+s[4]+1272893353&4294967295)<<11&4294967295|f>>>21))+((f=a+(c^e^t)+s[7]+4139469664&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^c^e)+s[10]+3200236656&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^c)+s[13]+681279174&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^t^a)+s[0]+3936430074&4294967295)<<11&4294967295|f>>>21))+((f=a+(c^e^t)+s[3]+3572445317&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^c^e)+s[6]+76029189&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^c)+s[9]+3654602809&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^t^a)+s[12]+3873151461&4294967295)<<11&4294967295|f>>>21))+((f=a+(c^e^t)+s[15]+530742520&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^c^e)+s[2]+3299628645&4294967295)<<23&4294967295|f>>>9))+((f=e+(a^(t|~c))+s[0]+4096336452&4294967295)<<6&4294967295|f>>>26))+((f=c+(t^(e|~a))+s[7]+1126891415&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(c|~t))+s[14]+2878612391&4294967295)<<15&4294967295|f>>>17))+((f=t+(c^(a|~e))+s[5]+4237533241&4294967295)<<21&4294967295|f>>>11))+((f=e+(a^(t|~c))+s[12]+1700485571&4294967295)<<6&4294967295|f>>>26))+((f=c+(t^(e|~a))+s[3]+2399980690&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(c|~t))+s[10]+4293915773&4294967295)<<15&4294967295|f>>>17))+((f=t+(c^(a|~e))+s[1]+2240044497&4294967295)<<21&4294967295|f>>>11))+((f=e+(a^(t|~c))+s[8]+1873313359&4294967295)<<6&4294967295|f>>>26))+((f=c+(t^(e|~a))+s[15]+4264355552&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(c|~t))+s[6]+2734768916&4294967295)<<15&4294967295|f>>>17))+((f=t+(c^(a|~e))+s[13]+1309151649&4294967295)<<21&4294967295|f>>>11))+((c=(e=t+((f=e+(a^(t|~c))+s[4]+4149444226&4294967295)<<6&4294967295|f>>>26))+((f=c+(t^(e|~a))+s[11]+3174756917&4294967295)<<10&4294967295|f>>>22))^((a=c+((f=a+(e^(c|~t))+s[2]+718787259&4294967295)<<15&4294967295|f>>>17))|~e))+s[9]+3951481745&4294967295,r.g[0]=r.g[0]+e&4294967295,r.g[1]=r.g[1]+(a+(f<<21&4294967295|f>>>11))&4294967295,r.g[2]=r.g[2]+a&4294967295,r.g[3]=r.g[3]+c&4294967295}function Fr(r,e){this.h=e;for(var t=[],s=!0,a=r.length-1;0<=a;a--){var c=0|r[a];s&&c==e||(t[a]=c,s=!1)}this.g=t}(Rt=Y.prototype).Oa=function(r){this.M=r},Rt.ha=function(r,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+r);e=e?e.toUpperCase():"GET",this.I=r,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Po.g(),this.C=function Ni(r){return r.h||(r.h=r.i())}(this.u?this.u:Po),this.g.onreadystatechange=me(this.La,this);try{this.G=!0,this.g.open(e,String(r),!0),this.G=!1}catch(c){return void gr(this,c)}if(r=t||"",t=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var a in s)t.set(a,s[a]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const c of s.keys())t.set(c,s.get(c))}s=Array.from(t.keys()).find(c=>"content-type"==c.toLowerCase()),a=ln.FormData&&r instanceof ln.FormData,!(0<=Tt(Et,e))||s||a||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,f]of t)this.g.setRequestHeader(c,f);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ti(this),0<this.B&&((this.L=function un(r){return on&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=me(this.ua,this)):this.A=Bi(this.ua,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(c){gr(this,c)}},Rt.ua=function(){typeof qr<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,$r(this,"timeout"),this.abort(8))},Rt.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,$r(this,"complete"),$r(this,"abort"),jn(this))},Rt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),jn(this,!0)),Y.$.N.call(this)},Rt.La=function(){this.s||(this.G||this.v||this.l?hr(this):this.kb())},Rt.kb=function(){hr(this)},Rt.isActive=function(){return!!this.g},Rt.da=function(){try{return 2<rr(this)?this.g.status:-1}catch{return-1}},Rt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Rt.Wa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),x(e)}},Rt.Ia=function(){return this.m},Rt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Rt=_s.prototype).ra=8,Rt.H=1,Rt.Na=function(r){if(this.m)if(this.m=null,1==this.H){if(!r){this.W=Math.floor(1e5*Math.random()),r=this.W++;const a=new bi(this,this.l,r);let c=this.s;if(this.U&&(c?(c=At(c),Fn(c,this.U)):c=this.U),null!==this.o||this.O||(a.I=c,c=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var s=this.j[t];if(void 0===(s="__data__"in s.map&&"string"==typeof(s=s.map.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Ha(this,a,e),Kn(t=zs(this.I),"RID",r),Kn(t,"CVER",22),this.F&&Kn(t,"X-HTTP-Session-Id",this.F),Fo(this,t),c&&(this.O?e="headers="+encodeURIComponent(String(ki(c)))+"&"+e:this.o&&qs(t,this.o,c)),br(this.i,a),this.bb&&Kn(t,"TYPE","init"),this.P?(Kn(t,"$req",e),Kn(t,"SID","null"),a.aa=!0,mo(a,t,null)):mo(a,t,e),this.H=2}}else 3==this.H&&(r?Ea(this,r):0==this.j.length||na(this.i)||Ea(this))},Rt.Ma=function(){if(this.u=null,Lo(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var r=2*this.S;this.l.info("BP detection timer enabled: "+r),this.B=Qi(me(this.jb,this),r)}},Rt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Jn(10),$i(this),Lo(this))},Rt.ib=function(){null!=this.v&&(this.v=null,$i(this),sl(this),Jn(19))},Rt.pb=function(r){r?(this.l.info("Successfully pinged google.com"),Jn(2)):(this.l.info("Failed to ping google.com"),Jn(1))},Rt.isActive=function(){return!!this.h&&this.h.isActive(this)},(Rt=Wa.prototype).Ba=function(){},Rt.Aa=function(){},Rt.za=function(){},Rt.ya=function(){},Rt.isActive=function(){return!0},Rt.Va=function(){},_i.prototype.g=function(r,e){return new ws(r,e)},re(ws,_r),ws.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var r=this.g,e=this.l,t=this.h||void 0;Jn(0),r.Y=e,r.na=t||{},r.G=r.aa,r.I=la(r,null,r.Y),Oa(r)},ws.prototype.close=function(){Es(this.g)},ws.prototype.u=function(r){var e=this.g;if("string"==typeof r){var t={};t.__data__=r,r=t}else this.v&&((t={}).__data__=Us(r),r=t);e.j.push(new class{constructor(r,e){this.g=r,this.map=e}}(e.fb++,r)),3==e.H&&Oa(e)},ws.prototype.N=function(){this.g.h=null,delete this.j,Es(this.g),delete this.g,ws.$.N.call(this)},re(Dn,Ti),re(ca,Yr),re(Is,Wa),Is.prototype.Ba=function(){$r(this.g,"a")},Is.prototype.Aa=function(r){$r(this.g,new Dn(r))},Is.prototype.za=function(r){$r(this.g,new ca)},Is.prototype.ya=function(){$r(this.g,"b")},re(es,function lu(){this.blockSize=-1}),es.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},es.prototype.j=function(r,e){void 0===e&&(e=r.length);for(var t=e-this.blockSize,s=this.m,a=this.h,c=0;c<e;){if(0==a)for(;c<=t;)Pa(this,r,c),c+=this.blockSize;if("string"==typeof r){for(;c<e;)if(s[a++]=r.charCodeAt(c++),a==this.blockSize){Pa(this,s),a=0;break}}else for(;c<e;)if(s[a++]=r[c++],a==this.blockSize){Pa(this,s),a=0;break}}this.h=a,this.i+=e},es.prototype.l=function(){var r=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);r[0]=128;for(var e=1;e<r.length-8;++e)r[e]=0;var t=8*this.i;for(e=r.length-8;e<r.length;++e)r[e]=255&t,t/=256;for(this.j(r),r=Array(16),e=t=0;4>e;++e)for(var s=0;32>s;s+=8)r[t++]=this.g[e]>>>s&255;return r};var Ka={};function Uu(r){return-128<=r&&128>r?function Sn(r,e){var t=Ka;return Object.prototype.hasOwnProperty.call(t,r)?t[r]:t[r]=e(r)}(r,function(e){return new Fr([0|e],0>e?-1:0)}):new Fr([0|r],0>r?-1:0)}function ss(r){if(isNaN(r)||!isFinite(r))return Bo;if(0>r)return g(ss(-r));for(var e=[],t=1,s=0;r>=t;s++)e[s]=r/t|0,t*=Fi;return new Fr(e,0)}var Fi=4294967296,Bo=Uu(0),Eo=Uu(1),Du=Uu(16777216);function oo(r){if(0!=r.h)return!1;for(var e=0;e<r.g.length;e++)if(0!=r.g[e])return!1;return!0}function N(r){return-1==r.h}function g(r){for(var e=r.g.length,t=[],s=0;s<e;s++)t[s]=~r.g[s];return new Fr(t,~r.h).add(Eo)}function v(r,e){return r.add(g(e))}function A(r,e){for(;(65535&r[e])!=r[e];)r[e+1]+=r[e]>>>16,r[e]&=65535,e++}function B(r,e){this.g=r,this.h=e}function Q(r,e){if(oo(e))throw Error("division by zero");if(oo(r))return new B(Bo,Bo);if(N(r))return e=Q(g(r),e),new B(g(e.g),g(e.h));if(N(e))return e=Q(r,g(e)),new B(g(e.g),e.h);if(30<r.g.length){if(N(r)||N(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Eo,s=e;0>=s.X(r);)t=he(t),s=he(s);var a=pe(t,1),c=pe(s,1);for(s=pe(s,2),t=pe(t,2);!oo(s);){var f=c.add(s);0>=f.X(r)&&(a=a.add(t),c=f),s=pe(s,1),t=pe(t,1)}return e=v(r,a.R(e)),new B(a,e)}for(a=Bo;0<=r.X(e);){for(t=Math.max(1,Math.floor(r.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,s-48),f=(c=ss(t)).R(e);N(f)||0<f.X(r);)f=(c=ss(t-=s)).R(e);oo(c)&&(c=Eo),a=a.add(c),r=v(r,f)}return new B(a,r)}function he(r){for(var e=r.g.length+1,t=[],s=0;s<e;s++)t[s]=r.D(s)<<1|r.D(s-1)>>>31;return new Fr(t,r.h)}function pe(r,e){var t=e>>5;e%=32;for(var s=r.g.length-t,a=[],c=0;c<s;c++)a[c]=0<e?r.D(c+t)>>>e|r.D(c+t+1)<<32-e:r.D(c+t);return new Fr(a,r.h)}(Rt=Fr.prototype).ea=function(){if(N(this))return-g(this).ea();for(var r=0,e=1,t=0;t<this.g.length;t++){var s=this.D(t);r+=(0<=s?s:Fi+s)*e,e*=Fi}return r},Rt.toString=function(r){if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if(oo(this))return"0";if(N(this))return"-"+g(this).toString(r);for(var e=ss(Math.pow(r,6)),t=this,s="";;){var a=Q(t,e).g,c=((0<(t=v(t,a.R(e))).g.length?t.g[0]:t.h)>>>0).toString(r);if(oo(t=a))return c+s;for(;6>c.length;)c="0"+c;s=c+s}},Rt.D=function(r){return 0>r?0:r<this.g.length?this.g[r]:this.h},Rt.X=function(r){return N(r=v(this,r))?-1:oo(r)?0:1},Rt.abs=function(){return N(this)?g(this):this},Rt.add=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0,a=0;a<=e;a++){var c=s+(65535&this.D(a))+(65535&r.D(a)),f=(c>>>16)+(this.D(a)>>>16)+(r.D(a)>>>16);s=f>>>16,t[a]=(f&=65535)<<16|(c&=65535)}return new Fr(t,-2147483648&t[t.length-1]?-1:0)},Rt.R=function(r){if(oo(this)||oo(r))return Bo;if(N(this))return N(r)?g(this).R(g(r)):g(g(this).R(r));if(N(r))return g(this.R(g(r)));if(0>this.X(Du)&&0>r.X(Du))return ss(this.ea()*r.ea());for(var e=this.g.length+r.g.length,t=[],s=0;s<2*e;s++)t[s]=0;for(s=0;s<this.g.length;s++)for(var a=0;a<r.g.length;a++){var c=this.D(s)>>>16,f=65535&this.D(s),b=r.D(a)>>>16,V=65535&r.D(a);t[2*s+2*a]+=f*V,A(t,2*s+2*a),t[2*s+2*a+1]+=c*V,A(t,2*s+2*a+1),t[2*s+2*a+1]+=f*b,A(t,2*s+2*a+1),t[2*s+2*a+2]+=c*b,A(t,2*s+2*a+2)}for(s=0;s<e;s++)t[s]=t[2*s+1]<<16|t[2*s];for(s=e;s<2*e;s++)t[s]=0;return new Fr(t,0)},Rt.gb=function(r){return Q(this,r).h},Rt.and=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)&r.D(s);return new Fr(t,this.h&r.h)},Rt.or=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)|r.D(s);return new Fr(t,this.h|r.h)},Rt.xor=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)^r.D(s);return new Fr(t,this.h^r.h)},_i.prototype.createWebChannel=_i.prototype.g,ws.prototype.send=ws.prototype.u,ws.prototype.open=ws.prototype.m,ws.prototype.close=ws.prototype.close,Tr.NO_ERROR=0,Tr.TIMEOUT=8,Tr.HTTP_ERROR=6,Rs.COMPLETE="complete",Sa.EventType=ps,ps.OPEN="a",ps.CLOSE="b",ps.ERROR="c",ps.MESSAGE="d",_r.prototype.listen=_r.prototype.O,Y.prototype.listenOnce=Y.prototype.P,Y.prototype.getLastError=Y.prototype.Sa,Y.prototype.getLastErrorCode=Y.prototype.Ia,Y.prototype.getStatus=Y.prototype.da,Y.prototype.getResponseJson=Y.prototype.Wa,Y.prototype.getResponseText=Y.prototype.ja,Y.prototype.send=Y.prototype.ha,Y.prototype.setWithCredentials=Y.prototype.Oa,es.prototype.digest=es.prototype.l,es.prototype.reset=es.prototype.reset,es.prototype.update=es.prototype.j,Fr.prototype.add=Fr.prototype.add,Fr.prototype.multiply=Fr.prototype.R,Fr.prototype.modulo=Fr.prototype.gb,Fr.prototype.compare=Fr.prototype.X,Fr.prototype.toNumber=Fr.prototype.ea,Fr.prototype.toString=Fr.prototype.toString,Fr.prototype.getBits=Fr.prototype.D,Fr.fromNumber=ss,Fr.fromString=function qa(r,e){if(0==r.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==r.charAt(0))return g(qa(r.substring(1),e));if(0<=r.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=ss(Math.pow(e,8)),s=Bo,a=0;a<r.length;a+=8){var c=Math.min(8,r.length-a),f=parseInt(r.substring(a,a+c),e);8>c?(c=ss(Math.pow(e,c)),s=s.R(c).add(ss(f))):s=(s=s.R(t)).add(ss(f))}return s};var xe=er.createWebChannelTransport=function(){return new _i},at=er.getStatEventTarget=function(){return ro()},Wt=er.ErrorCode=Tr,Gt=er.EventType=Rs,Un=er.Event=Di,yn=er.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ft=er.FetchXmlHttpFactory=Ws,Cn=er.WebChannel=Sa,ar=er.XhrIo=Y,Xn=er.Md5=es,ir=er.Integer=Fr;const Jr="@firebase/firestore";class lr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}lr.UNAUTHENTICATED=new lr(null),lr.GOOGLE_CREDENTIALS=new lr("google-credentials-uid"),lr.FIRST_PARTY=new lr("first-party-uid"),lr.MOCK_USER=new lr("mock-user");let os="9.22.1";const gi=new Vt.Yd("@firebase/firestore");function Hi(){return gi.logLevel}function St(r,...e){if(gi.logLevel<=Vt.in.DEBUG){const t=e.map(Zs);gi.debug(`Firestore (${os}): ${r}`,...t)}}function Ar(r,...e){if(gi.logLevel<=Vt.in.ERROR){const t=e.map(Zs);gi.error(`Firestore (${os}): ${r}`,...t)}}function ni(r,...e){if(gi.logLevel<=Vt.in.WARN){const t=e.map(Zs);gi.warn(`Firestore (${os}): ${r}`,...t)}}function Zs(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function en(r="Unexpected state"){const e=`FIRESTORE (${os}) INTERNAL ASSERTION FAILED: `+r;throw Ar(e),new Error(e)}function _(r,e){r||en()}function p(r,e){return r}const w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class M extends $n.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class W{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class J{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Se{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(lr.UNAUTHENTICATED))}shutdown(){}}class et{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class kt{constructor(e){this.t=e,this.currentUser=lr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let a=this.i;const c=H=>this.i!==a?(a=this.i,t(H)):Promise.resolve();let f=new W;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new W,e.enqueueRetryable(()=>c(this.currentUser))};const b=()=>{const H=f;e.enqueueRetryable((0,Yt.Z)(function*(){yield H.promise,yield c(s.currentUser)}))},V=H=>{St("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=H,this.auth.addAuthTokenListener(this.o),b()};this.t.onInit(H=>V(H)),setTimeout(()=>{if(!this.auth){const H=this.t.getImmediate({optional:!0});H?V(H):(St("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new W)}},0),b()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(St("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(_("string"==typeof s.accessToken),new J(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return _(null===e||"string"==typeof e),new lr(e)}}class Ot{constructor(e,t,s){this.h=e,this.l=t,this.m=s,this.type="FirstParty",this.user=lr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class qn{constructor(e,t,s){this.h=e,this.l=t,this.m=s}getToken(){return Promise.resolve(new Ot(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(lr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Li{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Hr{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const s=c=>{null!=c.error&&St("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.T;return this.T=c.token,St("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const a=c=>{St("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.I.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.I.getImmediate({optional:!0});c?a(c):St("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(_("string"==typeof t.token),this.T=t.token,new Li(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function zi(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}class ri{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=zi(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<t&&(s+=e.charAt(a[c]%e.length))}return s}}function Ln(r,e){return r<e?-1:r>e?1:0}function xa(r,e,t){return r.length===e.length&&r.every((s,a)=>t(s,e[a]))}class Vi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new M(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new M(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new M(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new M(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Vi.fromMillis(Date.now())}static fromDate(e){return Vi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new Vi(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ln(this.nanoseconds,e.nanoseconds):Ln(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class wn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new wn(e)}static min(){return new wn(new Vi(0,0))}static max(){return new wn(new Vi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class du{constructor(e,t,s){void 0===t?t=0:t>e.length&&en(),void 0===s?s=e.length-t:s>e.length-t&&en(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===du.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof du?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const c=e.get(a),f=t.get(a);if(c<f)return-1;if(c>f)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Pr extends du{construct(e,t,s){return new Pr(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new M(w.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new Pr(t)}static emptyPath(){return new Pr([])}}const wd=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ki extends du{construct(e,t,s){return new Ki(e,t,s)}static isValidIdentifier(e){return wd.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ki.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ki(["__name__"])}static fromServerFormat(e){const t=[];let s="",a=0;const c=()=>{if(0===s.length)throw new M(w.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let f=!1;for(;a<e.length;){const b=e[a];if("\\"===b){if(a+1===e.length)throw new M(w.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const V=e[a+1];if("\\"!==V&&"."!==V&&"`"!==V)throw new M(w.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=V,a+=2}else"`"===b?(f=!f,a++):"."!==b||f?(s+=b,a++):(c(),a++)}if(c(),f)throw new M(w.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ki(t)}static emptyPath(){return new Ki([])}}class rn{constructor(e){this.path=e}static fromPath(e){return new rn(Pr.fromString(e))}static fromName(e){return new rn(Pr.fromString(e).popFirst(5))}static empty(){return new rn(Pr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Pr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Pr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new rn(new Pr(e.slice()))}}function Dd(r){return new Ys(r.readTime,r.key,-1)}class Ys{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Ys(wn.min(),rn.empty(),-1)}static max(){return new Ys(wn.max(),rn.empty(),-1)}}function wl(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=rn.comparator(r.documentKey,e.documentKey),0!==t?t:Ln(r.largestBatchId,e.largestBatchId))}const Bu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Zl{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function da(r){return Il.apply(this,arguments)}function Il(){return Il=(0,Yt.Z)(function*(r){if(r.code!==w.FAILED_PRECONDITION||r.message!==Bu)throw r;St("LocalStore","Unexpectedly lost primary lease")}),Il.apply(this,arguments)}class Ke{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&en(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ke((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(t,c).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ke?t:Ke.resolve(t)}catch(t){return Ke.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ke.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ke.reject(t)}static resolve(e){return new Ke((t,s)=>{t(e)})}static reject(e){return new Ke((t,s)=>{s(e)})}static waitFor(e){return new Ke((t,s)=>{let a=0,c=0,f=!1;e.forEach(b=>{++a,b.next(()=>{++c,f&&c===a&&t()},V=>s(V))}),f=!0,c===a&&t()})}static or(e){let t=Ke.resolve(!1);for(const s of e)t=t.next(a=>a?Ke.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,c)=>{s.push(t.call(this,a,c))}),this.waitFor(s)}static mapArray(e,t){return new Ke((s,a)=>{const c=e.length,f=new Array(c);let b=0;for(let V=0;V<c;V++){const H=V;t(e[H]).next(ee=>{f[H]=ee,++b,b===c&&s(f)},ee=>a(ee))}})}static doWhile(e,t){return new Ke((s,a)=>{const c=()=>{!0===e()?t().next(()=>{c()},a):s()};c()})}}function wa(r){return"IndexedDbTransactionError"===r.name}let ao=(()=>{class r{constructor(t,s){this.previousValue=t,s&&(s.sequenceNumberHandler=a=>this.ot(a),this.ut=a=>s.writeSequenceNumber(a))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return r.ct=-1,r})();function jo(r){return null==r}function hu(r){return 0===r&&1/r==-1/0}function Vc(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Mu(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function ul(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class mi{constructor(e,t){this.comparator=e,this.root=t||us.EMPTY}insert(e,t){return new mi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,us.BLACK,null,null))}remove(e){return new mi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,us.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(0===a)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bl(this.root,e,this.comparator,!1)}getReverseIterator(){return new bl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bl(this.root,e,this.comparator,!0)}}class bl{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?s(e.key,t):1,t&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class us{constructor(e,t,s,a,c){this.key=e,this.value=t,this.color=s??us.RED,this.left=a??us.EMPTY,this.right=c??us.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,c){return new us(e??this.key,t??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,t,s),null):0===c?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return us.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return us.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,us.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,us.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw en();const e=this.left.check();if(e!==this.right.check())throw en();return e+(this.isRed()?0:1)}}us.EMPTY=null,us.RED=!0,us.BLACK=!1,us.EMPTY=new class{constructor(){this.size=0}get key(){throw en()}get value(){throw en()}get color(){throw en()}get left(){throw en()}get right(){throw en()}copy(r,e,t,s,a){return this}insert(r,e,t){return new us(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ai{constructor(e){this.comparator=e,this.data=new mi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Cd(this.data.getIterator())}getIteratorFrom(e){return new Cd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Ai)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=s.getNext().key;if(0!==this.comparator(a,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ai(this.comparator);return t.data=e,t}}class Cd{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ho{constructor(e){this.fields=e,e.sort(Ki.comparator)}static empty(){return new Ho([])}unionWith(e){let t=new Ai(Ki.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Ho(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return xa(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class Td extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Js{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Td("Invalid base64 string: "+a):a}}(e);return new Js(t)}static fromUint8Array(e){const t=function(s){let a="";for(let c=0;c<s.length;++c)a+=String.fromCharCode(s[c]);return a}(e);return new Js(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ln(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Js.EMPTY_BYTE_STRING=new Js("");const D=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function d(r){if(_(!!r),"string"==typeof r){let e=0;const t=D.exec(r);if(_(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:m(r.seconds),nanos:m(r.nanos)}}function m(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function T(r){return"string"==typeof r?Js.fromBase64String(r):Js.fromUint8Array(r)}function K(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=r?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function ne(r){const e=r.mapValue.fields.__previous_value__;return K(e)?ne(e):e}function Oe(r){const e=d(r.mapValue.fields.__local_write_time__.timestampValue);return new Vi(e.seconds,e.nanos)}class lt{constructor(e,t,s,a,c,f,b,V,H){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=b,this.longPollingOptions=V,this.useFetchStreams=H}}class Lt{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Lt("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Lt&&e.projectId===this.projectId&&e.database===this.database}}const tn={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Hn(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?K(r)?4:Bc(r)?9007199254740991:10:en()}function qi(r,e){if(r===e)return!0;const t=Hn(r);if(t!==Hn(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Oe(r).isEqual(Oe(e));case 3:return function(s,a){if("string"==typeof s.timestampValue&&"string"==typeof a.timestampValue&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const c=d(s.timestampValue),f=d(a.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return a=e,T(r.bytesValue).isEqual(T(a.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(s,a){return m(s.geoPointValue.latitude)===m(a.geoPointValue.latitude)&&m(s.geoPointValue.longitude)===m(a.geoPointValue.longitude)}(r,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return m(s.integerValue)===m(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const c=m(s.doubleValue),f=m(a.doubleValue);return c===f?hu(c)===hu(f):isNaN(c)&&isNaN(f)}return!1}(r,e);case 9:return xa(r.arrayValue.values||[],e.arrayValue.values||[],qi);case 10:return function(s,a){const c=s.mapValue.fields||{},f=a.mapValue.fields||{};if(Vc(c)!==Vc(f))return!1;for(const b in c)if(c.hasOwnProperty(b)&&(void 0===f[b]||!qi(c[b],f[b])))return!1;return!0}(r,e);default:return en()}var a}function Ia(r,e){return void 0!==(r.values||[]).find(t=>qi(t,e))}function Ja(r,e){if(r===e)return 0;const t=Hn(r),s=Hn(e);if(t!==s)return Ln(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ln(r.booleanValue,e.booleanValue);case 2:return function(a,c){const f=m(a.integerValue||a.doubleValue),b=m(c.integerValue||c.doubleValue);return f<b?-1:f>b?1:f===b?0:isNaN(f)?isNaN(b)?0:-1:1}(r,e);case 3:return Ih(r.timestampValue,e.timestampValue);case 4:return Ih(Oe(r),Oe(e));case 5:return Ln(r.stringValue,e.stringValue);case 6:return function(a,c){const f=T(a),b=T(c);return f.compareTo(b)}(r.bytesValue,e.bytesValue);case 7:return function(a,c){const f=a.split("/"),b=c.split("/");for(let V=0;V<f.length&&V<b.length;V++){const H=Ln(f[V],b[V]);if(0!==H)return H}return Ln(f.length,b.length)}(r.referenceValue,e.referenceValue);case 8:return function(a,c){const f=Ln(m(a.latitude),m(c.latitude));return 0!==f?f:Ln(m(a.longitude),m(c.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(a,c){const f=a.values||[],b=c.values||[];for(let V=0;V<f.length&&V<b.length;++V){const H=Ja(f[V],b[V]);if(H)return H}return Ln(f.length,b.length)}(r.arrayValue,e.arrayValue);case 10:return function(a,c){if(a===tn.mapValue&&c===tn.mapValue)return 0;if(a===tn.mapValue)return 1;if(c===tn.mapValue)return-1;const f=a.fields||{},b=Object.keys(f),V=c.fields||{},H=Object.keys(V);b.sort(),H.sort();for(let ee=0;ee<b.length&&ee<H.length;++ee){const ge=Ln(b[ee],H[ee]);if(0!==ge)return ge;const ze=Ja(f[b[ee]],V[H[ee]]);if(0!==ze)return ze}return Ln(b.length,H.length)}(r.mapValue,e.mapValue);default:throw en()}}function Ih(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return Ln(r,e);const t=d(r),s=d(e),a=Ln(t.seconds,s.seconds);return 0!==a?a:Ln(t.nanos,s.nanos)}function Xa(r){return Uc(r)}function Uc(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(s){const a=d(s);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?T(r.bytesValue).toBase64():"referenceValue"in r?rn.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(s){let a="[",c=!0;for(const f of s.values||[])c?c=!1:a+=",",a+=Uc(f);return a+"]"}(r.arrayValue):"mapValue"in r?function(s){const a=Object.keys(s.fields||{}).sort();let c="{",f=!0;for(const b of a)f?f=!1:c+=",",c+=`${b}:${Uc(s.fields[b])}`;return c+"}"}(r.mapValue):en();var e}function mu(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function ec(r){return!!r&&"integerValue"in r}function $u(r){return!!r&&"arrayValue"in r}function tc(r){return!!r&&"nullValue"in r}function Ml(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ll(r){return!!r&&"mapValue"in r}function Hu(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Mu(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Hu(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Hu(r.arrayValue.values[t]);return e}return Object.assign({},r)}function Bc(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}class zo{constructor(e){this.value=e}static empty(){return new zo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!ll(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hu(t)}setAll(e){let t=Ki.emptyPath(),s={},a=[];e.forEach((f,b)=>{if(!t.isImmediateParentOf(b)){const V=this.getFieldsMap(t);this.applyChanges(V,s,a),s={},a=[],t=b.popLast()}f?s[b.lastSegment()]=Hu(f):a.push(b.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,s,a)}delete(e){const t=this.field(e.popLast());ll(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return qi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];ll(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){Mu(t,(a,c)=>e[a]=c);for(const a of s)delete e[a]}clone(){return new zo(Hu(this.value))}}function pm(r){const e=[];return Mu(r.fields,(t,s)=>{const a=new Ki([t]);if(ll(s)){const c=pm(s.mapValue).fields;if(0===c.length)e.push(a);else for(const f of c)e.push(a.child(f))}else e.push(a)}),new Ho(e)}class ts{constructor(e,t,s,a,c,f,b){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=c,this.data=f,this.documentState=b}static newInvalidDocument(e){return new ts(e,0,wn.min(),wn.min(),wn.min(),zo.empty(),0)}static newFoundDocument(e,t,s,a){return new ts(e,1,t,wn.min(),s,a,0)}static newNoDocument(e,t){return new ts(e,2,t,wn.min(),wn.min(),zo.empty(),0)}static newUnknownDocument(e,t){return new ts(e,3,t,wn.min(),wn.min(),zo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(wn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ts&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ts(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Rl{constructor(e,t){this.position=e,this.inclusive=t}}function Kf(r,e,t){let s=0;for(let a=0;a<r.position.length;a++){const c=e[a],f=r.position[a];if(s=c.field.isKeyField()?rn.comparator(rn.fromName(f.referenceValue),t.key):Ja(f,t.data.field(c.field)),"desc"===c.dir&&(s*=-1),0!==s)break}return s}function qf(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!qi(r.position[t],e.position[t]))return!1;return!0}class cl{constructor(e,t="asc"){this.field=e,this.dir=t}}function Zf(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class nc{}class zr extends nc{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,s):new mm(e,t,s):"array-contains"===t?new Qv(e,s):"in"===t?new _m(e,s):"not-in"===t?new Jv(e,s):"array-contains-any"===t?new Xv(e,s):new zr(e,t,s)}static createKeyFieldInFilter(e,t,s){return"in"===t?new ym(e,s):new rc(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ja(t,this.value)):null!==t&&Hn(this.value)===Hn(t)&&this.matchesComparison(Ja(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return en()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Mi extends nc{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Mi(e,t)}matches(e){return bd(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function bd(r){return"and"===r.op}function Sd(r){return function gm(r){for(const e of r.filters)if(e instanceof Mi)return!1;return!0}(r)&&bd(r)}function Dh(r){if(r instanceof zr)return r.field.canonicalString()+r.op.toString()+Xa(r.value);if(Sd(r))return r.filters.map(e=>Dh(e)).join(",");{const e=r.filters.map(t=>Dh(t)).join(",");return`${r.op}(${e})`}}function Ad(r,e){return r instanceof zr?(t=r,(s=e)instanceof zr&&t.op===s.op&&t.field.isEqual(s.field)&&qi(t.value,s.value)):r instanceof Mi?function(t,s){return s instanceof Mi&&t.op===s.op&&t.filters.length===s.filters.length&&t.filters.reduce((a,c,f)=>a&&Ad(c,s.filters[f]),!0)}(r,e):void en();var t,s}function Qf(r){return r instanceof zr?`${(e=r).field.canonicalString()} ${e.op} ${Xa(e.value)}`:r instanceof Mi?function(e){return e.op.toString()+" {"+e.getFilters().map(Qf).join(" ,")+"}"}(r):"Filter";var e}class mm extends zr{constructor(e,t,s){super(e,t,s),this.key=rn.fromName(s.referenceValue)}matches(e){const t=rn.comparator(e.key,this.key);return this.matchesComparison(t)}}class ym extends zr{constructor(e,t){super(e,"in",t),this.keys=vm(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class rc extends zr{constructor(e,t){super(e,"not-in",t),this.keys=vm(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function vm(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>rn.fromName(s.referenceValue))}class Qv extends zr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return $u(t)&&Ia(t.arrayValue,this.value)}}class _m extends zr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ia(this.value.arrayValue,t)}}class Jv extends zr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ia(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ia(this.value.arrayValue,t)}}class Xv extends zr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!$u(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Ia(this.value.arrayValue,s))}}class dl{constructor(e,t=null,s=[],a=[],c=null,f=null,b=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=f,this.endAt=b,this.dt=null}}function Ol(r,e=null,t=[],s=[],a=null,c=null,f=null){return new dl(r,e,t,s,a,c,f)}function ic(r){const e=p(r);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Dh(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(a=s).field.canonicalString()+a.dir;var a}).join(","),jo(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Xa(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Xa(s)).join(",")),e.dt=t}return e.dt}function Md(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!Zf(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Ad(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!qf(r.startAt,e.startAt)&&qf(r.endAt,e.endAt)}function Th(r){return rn.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}class zu{constructor(e,t=null,s=[],a=[],c=null,f="F",b=null,V=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=f,this.startAt=b,this.endAt=V,this.wt=null,this._t=null}}function $c(r){return new zu(r)}function Dm(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function Jf(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function sc(r){for(const e of r.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Ru(r){return null!==r.collectionGroup}function Ou(r){const e=p(r);if(null===e.wt){e.wt=[];const t=sc(e),s=Jf(e);if(null!==t&&null===s)t.isKeyField()||e.wt.push(new cl(t)),e.wt.push(new cl(Ki.keyField(),"asc"));else{let a=!1;for(const c of e.explicitOrderBy)e.wt.push(c),c.field.isKeyField()&&(a=!0);if(!a){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new cl(Ki.keyField(),c))}}}return e.wt}function fa(r){const e=p(r);if(!e._t)if("F"===e.limitType)e._t=Ol(e.path,e.collectionGroup,Ou(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const c of Ou(e))t.push(new cl(c.field,"desc"===c.dir?"asc":"desc"));const s=e.endAt?new Rl(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new Rl(e.startAt.position,e.startAt.inclusive):null;e._t=Ol(e.path,e.collectionGroup,t,e.filters,e.limit,s,a)}return e._t}function Sh(r,e){e.getFirstInequalityField(),sc(r);const t=r.filters.concat([e]);return new zu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Rd(r,e,t){return new zu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Ah(r,e){return Md(fa(r),fa(e))&&r.limitType===e.limitType}function e_(r){return`${ic(fa(r))}|lt:${r.limitType}`}function Cm(r){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(s=>Qf(s)).join(", ")}]`),jo(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(s=>{return`${(a=s).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Xa(s)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Xa(s)).join(",")),`Target(${t})`}(fa(r))}; limitType=${r.limitType})`}function oc(r,e){return e.isFoundDocument()&&function(t,s){const a=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):rn.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(r,e)&&function(t,s){for(const a of Ou(t))if(!a.field.isKeyField()&&null===s.data.field(a.field))return!1;return!0}(r,e)&&function(t,s){for(const a of t.filters)if(!a.matches(s))return!1;return!0}(r,e)&&(s=e,!((t=r).startAt&&!function(a,c,f){const b=Kf(a,c,f);return a.inclusive?b<=0:b<0}(t.startAt,Ou(t),s)||t.endAt&&!function(a,c,f){const b=Kf(a,c,f);return a.inclusive?b>=0:b>0}(t.endAt,Ou(t),s)));var t,s}function t_(r){return(e,t)=>{let s=!1;for(const a of Ou(r)){const c=EE(a,e,t);if(0!==c)return c;s=s||a.field.isKeyField()}return 0}}function EE(r,e,t){const s=r.field.isKeyField()?rn.comparator(e.key,t.key):function(a,c,f){const b=c.data.field(a),V=f.data.field(a);return null!==b&&null!==V?Ja(b,V):en()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return en()}}class Gu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[a,c]of s)if(this.equalsFn(a,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(void 0===a)return this.inner[s]=[[e,t]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return 1===s.length?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Mu(this.inner,(t,s)=>{for(const[a,c]of s)e(a,c)})}isEmpty(){return ul(this.inner)}size(){return this.innerSize}}const n_=new mi(rn.comparator);function Na(){return n_}const Tm=new mi(rn.comparator);function Od(...r){let e=Tm;for(const t of r)e=e.insert(t.key,t);return e}function Xf(r){let e=Tm;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function eu(){return ac()}function ep(){return ac()}function ac(){return new Gu(r=>r.toString(),(r,e)=>r.isEqual(e))}const r_=new mi(rn.comparator),Xs=new Ai(rn.comparator);function mr(...r){let e=Xs;for(const t of r)e=e.add(t);return e}const i_=new Ai(Ln);function tp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hu(e)?"-0":e}}function bm(r){return{integerValue:""+r}}function Sm(r,e){return function fu(r){return"number"==typeof r&&Number.isInteger(r)&&!hu(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}(e)?bm(e):tp(r,e)}class Rh{constructor(){this._=void 0}}function s_(r,e,t){return r instanceof xd?function(s,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&K(a)&&(a=ne(a)),a&&(c.fields.__previous_value__=a),{mapValue:c}}(t,e):r instanceof Pu?Oh(r,e):r instanceof Pl?np(r,e):function(s,a){const c=o_(s,a),f=Mm(c)+Mm(s.gt);return ec(c)&&ec(s.gt)?bm(f):tp(s.serializer,f)}(r,e)}function Am(r,e,t){return r instanceof Pu?Oh(r,e):r instanceof Pl?np(r,e):t}function o_(r,e){return r instanceof uc?ec(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class xd extends Rh{}class Pu extends Rh{constructor(e){super(),this.elements=e}}function Oh(r,e){const t=Rm(e);for(const s of r.elements)t.some(a=>qi(a,s))||t.push(s);return{arrayValue:{values:t}}}class Pl extends Rh{constructor(e){super(),this.elements=e}}function np(r,e){let t=Rm(e);for(const s of r.elements)t=t.filter(a=>!qi(a,s));return{arrayValue:{values:t}}}class uc extends Rh{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Mm(r){return m(r.integerValue||r.doubleValue)}function Rm(r){return $u(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class rp{constructor(e,t){this.version=e,this.transformResults=t}}class Cs{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Cs}static exists(e){return new Cs(void 0,e)}static updateTime(e){return new Cs(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zc(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class Ph{}function xh(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new vu(r.key,Cs.none()):new xl(r.key,r.data,Cs.none());{const t=r.data,s=zo.empty();let a=new Ai(Ki.comparator);for(let c of e.fields)if(!a.has(c)){let f=t.field(c);null===f&&c.length>1&&(c=c.popLast(),f=t.field(c)),null===f?s.delete(c):s.set(c,f),a=a.add(c)}return new yu(r.key,s,new Ho(a.toArray()),Cs.none())}}function Pm(r,e,t){r instanceof xl?function(s,a,c){const f=s.value.clone(),b=Nh(s.fieldTransforms,a,c.transformResults);f.setAll(b),a.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(r,e,t):r instanceof yu?function(s,a,c){if(!zc(s.precondition,a))return void a.convertToUnknownDocument(c.version);const f=Nh(s.fieldTransforms,a,c.transformResults),b=a.data;b.setAll(Nm(s)),b.setAll(f),a.convertToFoundDocument(c.version,b).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Gc(r,e,t,s){return r instanceof xl?function(a,c,f,b){if(!zc(a.precondition,c))return f;const V=a.value.clone(),H=Nd(a.fieldTransforms,b,c);return V.setAll(H),c.convertToFoundDocument(c.version,V).setHasLocalMutations(),null}(r,e,t,s):r instanceof yu?function(a,c,f,b){if(!zc(a.precondition,c))return f;const V=Nd(a.fieldTransforms,b,c),H=c.data;return H.setAll(Nm(a)),H.setAll(V),c.convertToFoundDocument(c.version,H).setHasLocalMutations(),null===f?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(ee=>ee.field))}(r,e,t,s):(f=t,zc(r.precondition,c=e)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f);var c,f}function lc(r,e){let t=null;for(const s of r.fieldTransforms){const a=e.data.field(s.field),c=o_(s.transform,a||null);null!=c&&(null===t&&(t=zo.empty()),t.set(s.field,c))}return t||null}function xm(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===s||t&&s&&xa(t,s,(a,c)=>function Om(r,e){return r.field.isEqual(e.field)&&(s=e.transform,(t=r.transform)instanceof Pu&&s instanceof Pu||t instanceof Pl&&s instanceof Pl?xa(t.elements,s.elements,qi):t instanceof uc&&s instanceof uc?qi(t.gt,s.gt):t instanceof xd&&s instanceof xd);var t,s}(a,c))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,s}class xl extends Ph{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class yu extends Ph{constructor(e,t,s,a,c=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Nm(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function Nh(r,e,t){const s=new Map;_(r.length===t.length);for(let a=0;a<t.length;a++){const c=r[a],f=c.transform,b=e.data.field(c.field);s.set(c.field,Am(f,b,t[a]))}return s}function Nd(r,e,t){const s=new Map;for(const a of r){const c=a.transform,f=t.data.field(a.field);s.set(a.field,s_(c,f,e))}return s}class vu extends Ph{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kh extends Ph{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class kd{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&Pm(c,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Gc(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Gc(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=ep();return this.mutations.forEach(a=>{const c=e.get(a.key),f=c.overlayedDocument;let b=this.applyToLocalView(f,c.mutatedFields);b=t.has(a.key)?null:b;const V=xh(f,b);null!==V&&s.set(a.key,V),f.isValidDocument()||f.convertToNoDocument(wn.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),mr())}isEqual(e){return this.batchId===e.batchId&&xa(this.mutations,e.mutations,(t,s)=>xm(t,s))&&xa(this.baseMutations,e.baseMutations,(t,s)=>xm(t,s))}}class ip{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){_(e.mutations.length===s.length);let a=r_;const c=e.mutations;for(let f=0;f<c.length;f++)a=a.insert(c[f].key,s[f].version);return new ip(e,t,s,a)}}class sp{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Wc{constructor(e,t){this.count=e,this.unchangedNames=t}}var lo,Xr;function Fh(r){if(void 0===r)return Ar("GRPC error has no .code"),w.UNKNOWN;switch(r){case lo.OK:return w.OK;case lo.CANCELLED:return w.CANCELLED;case lo.UNKNOWN:return w.UNKNOWN;case lo.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case lo.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case lo.INTERNAL:return w.INTERNAL;case lo.UNAVAILABLE:return w.UNAVAILABLE;case lo.UNAUTHENTICATED:return w.UNAUTHENTICATED;case lo.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case lo.NOT_FOUND:return w.NOT_FOUND;case lo.ALREADY_EXISTS:return w.ALREADY_EXISTS;case lo.PERMISSION_DENIED:return w.PERMISSION_DENIED;case lo.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case lo.ABORTED:return w.ABORTED;case lo.OUT_OF_RANGE:return w.OUT_OF_RANGE;case lo.UNIMPLEMENTED:return w.UNIMPLEMENTED;case lo.DATA_LOSS:return w.DATA_LOSS;default:return en()}}(Xr=lo||(lo={}))[Xr.OK=0]="OK",Xr[Xr.CANCELLED=1]="CANCELLED",Xr[Xr.UNKNOWN=2]="UNKNOWN",Xr[Xr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xr[Xr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xr[Xr.NOT_FOUND=5]="NOT_FOUND",Xr[Xr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xr[Xr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xr[Xr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xr[Xr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xr[Xr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xr[Xr.ABORTED=10]="ABORTED",Xr[Xr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xr[Xr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xr[Xr.INTERNAL=13]="INTERNAL",Xr[Xr.UNAVAILABLE=14]="UNAVAILABLE",Xr[Xr.DATA_LOSS=15]="DATA_LOSS";class op{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Fd}static getOrCreateInstance(){return null===Fd&&(Fd=new op),Fd}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Fd=null;const Vm=new ir([4294967295,4294967295],0);function a_(r){const e=function Lm(){return new TextEncoder}().encode(r),t=new Xn;return t.update(e),new Uint8Array(t.digest())}function Um(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ir([t,s],0),new ir([a,c],0)]}class cc{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Ld(`Invalid padding: ${t}`);if(s<0)throw new Ld(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new Ld(`Invalid hash count: ${s}`);if(0===e.length&&0!==t)throw new Ld(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=ir.fromNumber(this.It)}Et(e,t,s){let a=e.add(t.multiply(ir.fromNumber(s)));return 1===a.compare(Vm)&&(a=new ir([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=a_(e),[s,a]=Um(t);for(let c=0;c<this.hashCount;c++){const f=this.Et(s,a,c);if(!this.At(f))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new cc(c,a,t);return s.forEach(b=>f.insert(b)),f}insert(e){if(0===this.It)return;const t=a_(e),[s,a]=Um(t);for(let c=0;c<this.hashCount;c++){const f=this.Et(s,a,c);this.Rt(f)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Ld extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Wu{constructor(e,t,s,a,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,hl.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Wu(wn.min(),a,new mi(Ln),Na(),mr())}}class hl{constructor(e,t,s,a,c){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new hl(s,t,mr(),mr(),mr())}}class Lh{constructor(e,t,s,a){this.Pt=e,this.removedTargetIds=t,this.key=s,this.bt=a}}class ap{constructor(e,t){this.targetId=e,this.Vt=t}}class Bm{constructor(e,t,s=Js.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class jm{constructor(){this.St=0,this.Dt=lp(),this.Ct=Js.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=mr(),t=mr(),s=mr();return this.Dt.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:en()}}),new hl(this.Ct,this.xt,e,t,s)}Ft(){this.Nt=!1,this.Dt=lp()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class u_{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Na(),this.zt=up(),this.Wt=new mi(Ln)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const s=this.Zt(t);switch(e.state){case 0:this.te(t)&&s.$t(e.resumeToken);break;case 1:s.Ut(),s.kt||s.Ft(),s.$t(e.resumeToken);break;case 2:s.Ut(),s.kt||this.removeTarget(t);break;case 3:this.te(t)&&(s.Kt(),s.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),s.$t(e.resumeToken));break;default:en()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((s,a)=>{this.te(a)&&t(a)})}ne(e){var t;const s=e.targetId,a=e.Vt.count,c=this.se(s);if(c){const f=c.target;if(Th(f))if(0===a){const b=new rn(f.path);this.Yt(s,b,ts.newNoDocument(b,wn.min()))}else _(1===a);else{const b=this.ie(s);if(b!==a){const V=this.re(e,b);0!==V&&(this.ee(s),this.Wt=this.Wt.insert(s,2===V?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=op.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(H,ee,ge){var ze,vt,Ut,dn,gn,Ir;const ii={localCacheCount:ee,existenceFilterCount:ge.count},xr=ge.unchangedNames;return xr&&(ii.bloomFilter={applied:0===H,hashCount:null!==(ze=xr?.hashCount)&&void 0!==ze?ze:0,bitmapLength:null!==(dn=null===(Ut=null===(vt=xr?.bits)||void 0===vt?void 0:vt.bitmap)||void 0===Ut?void 0:Ut.length)&&void 0!==dn?dn:0,padding:null!==(Ir=null===(gn=xr?.bits)||void 0===gn?void 0:gn.padding)&&void 0!==Ir?Ir:0}),ii}(V,b,e.Vt))}}}}re(e,t){const{unchangedNames:s,count:a}=e.Vt;if(!s||!s.bits)return 1;const{bits:{bitmap:c="",padding:f=0},hashCount:b=0}=s;let V,H;try{V=T(c).toUint8Array()}catch(ee){if(ee instanceof Td)return ni("Decoding the base64 bloom filter in existence filter failed ("+ee.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw ee}try{H=new cc(V,f,b)}catch(ee){return ni(ee instanceof Ld?"BloomFilter error: ":"Applying bloom filter failed: ",ee),1}return 0===H.It?1:a!==t-this.oe(e.targetId,H)?2:0}oe(e,t){const s=this.Gt.getRemoteKeysForTarget(e);let a=0;return s.forEach(c=>{const f=this.Gt.ue(),b=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;t.vt(b)||(this.Yt(e,c,null),a++)}),a}ce(e){const t=new Map;this.Qt.forEach((c,f)=>{const b=this.se(f);if(b){if(c.current&&Th(b.target)){const V=new rn(b.target.path);null!==this.jt.get(V)||this.ae(f,V)||this.Yt(f,V,ts.newNoDocument(V,e))}c.Mt&&(t.set(f,c.Ot()),c.Ft())}});let s=mr();this.zt.forEach((c,f)=>{let b=!0;f.forEachWhile(V=>{const H=this.se(V);return!H||"TargetPurposeLimboResolution"===H.purpose||(b=!1,!1)}),b&&(s=s.add(c))}),this.jt.forEach((c,f)=>f.setReadTime(e));const a=new Wu(e,t,this.Wt,this.jt,s);return this.jt=Na(),this.zt=up(),this.Wt=new mi(Ln),a}Jt(e,t){if(!this.te(e))return;const s=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,s),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,s){if(!this.te(e))return;const a=this.Zt(e);this.ae(e,t)?a.Bt(t,1):a.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),s&&(this.jt=this.jt.insert(t,s))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new jm,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Ai(Ln),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||St("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new jm),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function up(){return new mi(rn.comparator)}function lp(){return new mi(rn.comparator)}const cp={asc:"ASCENDING",desc:"DESCENDING"},dp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},l_={and:"AND",or:"OR"};class hp{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function dc(r,e){return r.useProto3Json||jo(e)?e:{value:e}}function Kc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $m(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function c_(r,e){return Kc(r,e.toTimestamp())}function eo(r){return _(!!r),wn.fromTimestamp(function(e){const t=d(e);return new Vi(t.seconds,t.nanos)}(r))}function fp(r,e){return(t=r,new Pr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Hm(r){const e=Pr.fromString(r);return _(Zm(e)),e}function Vd(r,e){return fp(r.databaseId,e.path)}function Da(r,e){const t=Hm(e);if(t.get(1)!==r.databaseId.projectId)throw new M(w.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new M(w.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new rn(d_(t))}function xu(r,e){return fp(r.databaseId,e)}function Ud(r){return new Pr(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function d_(r){return _(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function h_(r,e,t){return{name:Vd(r,e),fields:t.value.mapValue.fields}}function Km(r,e){return{documents:[xu(r,e.path)]}}function mp(r,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=xu(r,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=xu(r,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const a=function(V){if(0!==V.length)return qm(Mi.create(V,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const c=function(V){if(0!==V.length)return V.map(H=>{return{field:Nl((ee=H).field),direction:p_(ee.dir)};var ee})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=dc(r,e.limit);var b,V;return null!==f&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt={before:(b=e.startAt).inclusive,values:b.position}),e.endAt&&(t.structuredQuery.endAt={before:!(V=e.endAt).inclusive,values:V.position}),t}function _u(r){let e=function zm(r){const e=Hm(r);return 4===e.length?Pr.emptyPath():d_(e)}(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){_(1===s);const ee=t.from[0];ee.allDescendants?a=ee.collectionId:e=e.child(ee.collectionId)}let c=[];t.where&&(c=function(ee){const ge=yp(ee);return ge instanceof Mi&&Sd(ge)?ge.getFilters():[ge]}(t.where));let f=[];t.orderBy&&(f=t.orderBy.map(ee=>{return new cl(hc((ge=ee).field),function(ze){switch(ze){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(ge.direction));var ge}));let b=null;t.limit&&(b=function(ee){let ge;return ge="object"==typeof ee?ee.value:ee,jo(ge)?null:ge}(t.limit));let V=null;var ee;t.startAt&&(V=new Rl((ee=t.startAt).values||[],!!ee.before));let H=null;return t.endAt&&(H=function(ee){return new Rl(ee.values||[],!ee.before)}(t.endAt)),function Im(r,e,t,s,a,c,f,b){return new zu(r,e,t,s,a,c,f,b)}(e,a,f,c,b,"F",V,H)}function yp(r){return void 0!==r.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=hc(e.unaryFilter.field);return zr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const s=hc(e.unaryFilter.field);return zr.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=hc(e.unaryFilter.field);return zr.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=hc(e.unaryFilter.field);return zr.create(c,"!=",{nullValue:"NULL_VALUE"});default:return en()}}(r):void 0!==r.fieldFilter?zr.create(hc((e=r).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return en()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==r.compositeFilter?function(e){return Mi.create(e.compositeFilter.filters.map(t=>yp(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return en()}}(e.compositeFilter.op))}(r):en();var e}function p_(r){return cp[r]}function g_(r){return dp[r]}function m_(r){return l_[r]}function Nl(r){return{fieldPath:r.canonicalString()}}function hc(r){return Ki.fromServerFormat(r.fieldPath)}function qm(r){return r instanceof zr?function(e){if("=="===e.op){if(Ml(e.value))return{unaryFilter:{field:Nl(e.field),op:"IS_NAN"}};if(tc(e.value))return{unaryFilter:{field:Nl(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ml(e.value))return{unaryFilter:{field:Nl(e.field),op:"IS_NOT_NAN"}};if(tc(e.value))return{unaryFilter:{field:Nl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nl(e.field),op:g_(e.op),value:e.value}}}(r):r instanceof Mi?function(e){const t=e.getFilters().map(s=>qm(s));return 1===t.length?t[0]:{compositeFilter:{op:m_(e.op),filters:t}}}(r):en()}function y_(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Zm(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}class zn{constructor(e,t,s,a,c=wn.min(),f=wn.min(),b=Js.EMPTY_BYTE_STRING,V=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=b,this.expectedCount=V}withSequenceNumber(e){return new zn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new zn(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class vp{constructor(e){this.fe=e}}function Ep(r){const e=_u({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?Rd(e,e.limit,"L"):e}class Qc{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(m(e.integerValue));else if("doubleValue"in e){const s=m(e.doubleValue);isNaN(s)?this.ye(t,13):(this.ye(t,15),hu(s)?t.pe(0):t.pe(s))}else if("timestampValue"in e){const s=e.timestampValue;this.ye(t,20),"string"==typeof s?t.Ie(s):(t.Ie(`${s.seconds||""}`),t.pe(s.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(T(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.ye(t,45),t.pe(s.latitude||0),t.pe(s.longitude||0)}else"mapValue"in e?Bc(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):en()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const s=e.fields||{};this.ye(t,55);for(const a of Object.keys(s))this.Te(a,t),this.me(s[a],t)}Pe(e,t){const s=e.values||[];this.ye(t,50);for(const a of s)this.me(a,t)}ve(e,t){this.ye(t,37),rn.fromName(e).path.forEach(s=>{this.ye(t,60),this.be(s,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Qc.Ve=new Qc;class iy{constructor(){this.rn=new $h}addToCollectionParentIndex(e,t){return this.rn.add(t),Ke.resolve()}getCollectionParents(e,t){return Ke.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Ke.resolve()}deleteFieldIndex(e,t){return Ke.resolve()}getDocumentsMatchingTarget(e,t){return Ke.resolve(null)}getIndexType(e,t){return Ke.resolve(0)}getFieldIndexes(e,t){return Ke.resolve([])}getNextCollectionGroupToUpdate(e){return Ke.resolve(null)}getMinOffset(e,t){return Ke.resolve(Ys.min())}getMinOffsetFromCollectionGroup(e,t){return Ke.resolve(Ys.min())}updateCollectionGroup(e,t,s){return Ke.resolve()}updateIndexEntries(e,t){return Ke.resolve()}}class $h{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new Ai(Pr.comparator),c=!a.has(s);return this.index[t]=a.add(s),c}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Ai(Pr.comparator)).toArray()}}new Uint8Array(0);class sa{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new sa(e,sa.DEFAULT_COLLECTION_PERCENTILE,sa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}sa.DEFAULT_COLLECTION_PERCENTILE=10,sa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sa.DEFAULT=new sa(41943040,sa.DEFAULT_COLLECTION_PERCENTILE,sa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sa.DISABLED=new sa(-1,0,0);class Yu{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Yu(0)}static Mn(){return new Yu(-1)}}class ly{constructor(){this.changes=new Gu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ts.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?Ke.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class D_{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class hy{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(null!==s&&Gc(s.mutation,a,Ho.empty(),Vi.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,mr()).next(()=>s))}getLocalViewOfDocuments(e,t,s=mr()){const a=eu();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,s).next(c=>{let f=Od();return c.forEach((b,V)=>{f=f.insert(b,V.overlayedDocument)}),f}))}getOverlayedDocuments(e,t){const s=eu();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,mr()))}populateOverlays(e,t,s){const a=[];return s.forEach(c=>{t.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((f,b)=>{t.set(f,b)})})}computeViews(e,t,s,a){let c=Na();const f=ac(),b=ac();return t.forEach((V,H)=>{const ee=s.get(H.key);a.has(H.key)&&(void 0===ee||ee.mutation instanceof yu)?c=c.insert(H.key,H):void 0!==ee?(f.set(H.key,ee.mutation.getFieldMask()),Gc(ee.mutation,H,ee.mutation.getFieldMask(),Vi.now())):f.set(H.key,Ho.empty())}),this.recalculateAndSaveOverlays(e,c).next(V=>(V.forEach((H,ee)=>f.set(H,ee)),t.forEach((H,ee)=>{var ge;return b.set(H,new D_(ee,null!==(ge=f.get(H))&&void 0!==ge?ge:null))}),b))}recalculateAndSaveOverlays(e,t){const s=ac();let a=new mi((f,b)=>f-b),c=mr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(f=>{for(const b of f)b.keys().forEach(V=>{const H=t.get(V);if(null===H)return;let ee=s.get(V)||Ho.empty();ee=b.applyToLocalView(H,ee),s.set(V,ee);const ge=(a.get(b.batchId)||mr()).add(V);a=a.insert(b.batchId,ge)})}).next(()=>{const f=[],b=a.getReverseIterator();for(;b.hasNext();){const V=b.getNext(),H=V.key,ee=V.value,ge=ep();ee.forEach(ze=>{if(!c.has(ze)){const vt=xh(t.get(ze),s.get(ze));null!==vt&&ge.set(ze,vt),c=c.add(ze)}}),f.push(this.documentOverlayCache.saveOverlays(e,H,ge))}return Ke.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return rn.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Ru(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var a}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next(c=>{const f=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-c.size):Ke.resolve(eu());let b=-1,V=c;return f.next(H=>Ke.forEach(H,(ee,ge)=>(b<ge.largestBatchId&&(b=ge.largestBatchId),c.get(ee)?Ke.resolve():this.remoteDocumentCache.getEntry(e,ee).next(ze=>{V=V.insert(ee,ze)}))).next(()=>this.populateOverlays(e,H,c)).next(()=>this.computeViews(e,V,H,mr())).next(ee=>({batchId:b,changes:Xf(ee)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new rn(t)).next(s=>{let a=Od();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const a=t.collectionGroup;let c=Od();return this.indexManager.getCollectionParents(e,a).next(f=>Ke.forEach(f,b=>{const V=(H=t,ee=b.child(a),new zu(ee,null,H.explicitOrderBy.slice(),H.filters.slice(),H.limit,H.limitType,H.startAt,H.endAt));var H,ee;return this.getDocumentsMatchingCollectionQuery(e,V,s).next(H=>{H.forEach((ee,ge)=>{c=c.insert(ee,ge)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,a))).next(c=>{a.forEach((b,V)=>{const H=V.getKey();null===c.get(H)&&(c=c.insert(H,ts.newInvalidDocument(H)))});let f=Od();return c.forEach((b,V)=>{const H=a.get(b);void 0!==H&&Gc(H.mutation,V,Ho.empty(),Vi.now()),oc(t,V)&&(f=f.insert(b,V))}),f})}}class C_{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Ke.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var s;return this.cs.set(t.id,{id:(s=t).id,version:s.version,createTime:eo(s.createTime)}),Ke.resolve()}getNamedQuery(e,t){return Ke.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(s=t).name,query:Ep(s.bundledQuery),readTime:eo(s.readTime)}),Ke.resolve();var s}}class fy{constructor(){this.overlays=new mi(rn.comparator),this.ls=new Map}getOverlay(e,t){return Ke.resolve(this.overlays.get(t))}getOverlays(e,t){const s=eu();return Ke.forEach(t,a=>this.getOverlay(e,a).next(c=>{null!==c&&s.set(a,c)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((a,c)=>{this.we(e,t,c)}),Ke.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.ls.get(s);return void 0!==a&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.ls.delete(s)),Ke.resolve()}getOverlaysForCollection(e,t,s){const a=eu(),c=t.length+1,f=new rn(t.child("")),b=this.overlays.getIteratorFrom(f);for(;b.hasNext();){const V=b.getNext().value,H=V.getKey();if(!t.isPrefixOf(H.path))break;H.path.length===c&&V.largestBatchId>s&&a.set(V.getKey(),V)}return Ke.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let c=new mi((H,ee)=>H-ee);const f=this.overlays.getIterator();for(;f.hasNext();){const H=f.getNext().value;if(H.getKey().getCollectionGroup()===t&&H.largestBatchId>s){let ee=c.get(H.largestBatchId);null===ee&&(ee=eu(),c=c.insert(H.largestBatchId,ee)),ee.set(H.getKey(),H)}}const b=eu(),V=c.getIterator();for(;V.hasNext()&&(V.getNext().value.forEach((H,ee)=>b.set(H,ee)),!(b.size()>=a)););return Ke.resolve(b)}we(e,t,s){const a=this.overlays.get(s.key);if(null!==a){const f=this.ls.get(a.largestBatchId).delete(s.key);this.ls.set(a.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new sp(t,s));let c=this.ls.get(t);void 0===c&&(c=mr(),this.ls.set(t,c)),this.ls.set(t,c.add(s.key))}}class kp{constructor(){this.fs=new Ai(Go.ds),this.ws=new Ai(Go._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const s=new Go(e,t);this.fs=this.fs.add(s),this.ws=this.ws.add(s)}gs(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.ys(new Go(e,t))}ps(e,t){e.forEach(s=>this.removeReference(s,t))}Is(e){const t=new rn(new Pr([])),s=new Go(t,e),a=new Go(t,e+1),c=[];return this.ws.forEachInRange([s,a],f=>{this.ys(f),c.push(f.key)}),c}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new rn(new Pr([])),s=new Go(t,e),a=new Go(t,e+1);let c=mr();return this.ws.forEachInRange([s,a],f=>{c=c.add(f.key)}),c}containsKey(e){const t=new Go(e,0),s=this.fs.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class Go{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return rn.comparator(e.key,t.key)||Ln(e.As,t.As)}static _s(e,t){return Ln(e.As,t.As)||rn.comparator(e.key,t.key)}}class Fp{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Ai(Go.ds)}checkEmpty(e){return Ke.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,a){const c=this.vs;this.vs++;const f=new kd(c,t,s,a);this.mutationQueue.push(f);for(const b of a)this.Rs=this.Rs.add(new Go(b.key,c)),this.indexManager.addToCollectionParentIndex(e,b.key.path.popLast());return Ke.resolve(f)}lookupMutationBatch(e,t){return Ke.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.bs(t+1),c=a<0?0:a;return Ke.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Ke.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Ke.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Go(t,0),a=new Go(t,Number.POSITIVE_INFINITY),c=[];return this.Rs.forEachInRange([s,a],f=>{const b=this.Ps(f.As);c.push(b)}),Ke.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Ai(Ln);return t.forEach(a=>{const c=new Go(a,0),f=new Go(a,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([c,f],b=>{s=s.add(b.As)})}),Ke.resolve(this.Vs(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let c=s;rn.isDocumentKey(c)||(c=c.child(""));const f=new Go(new rn(c),0);let b=new Ai(Ln);return this.Rs.forEachWhile(V=>{const H=V.key.path;return!!s.isPrefixOf(H)&&(H.length===a&&(b=b.add(V.As)),!0)},f),Ke.resolve(this.Vs(b))}Vs(e){const t=[];return e.forEach(s=>{const a=this.Ps(s);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){_(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let s=this.Rs;return Ke.forEach(t.mutations,a=>{const c=new Go(a.key,t.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Rs=s})}Cn(e){}containsKey(e,t){const s=new Go(t,0),a=this.Rs.firstAfterOrEqual(s);return Ke.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return Ke.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class T_{constructor(e){this.Ds=e,this.docs=new mi(rn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),c=a?a.size:0,f=this.Ds(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Ke.resolve(s?s.document.mutableCopy():ts.newInvalidDocument(t))}getEntries(e,t){let s=Na();return t.forEach(a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():ts.newInvalidDocument(a))}),Ke.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let c=Na();const f=t.path,b=new rn(f.child("")),V=this.docs.getIteratorFrom(b);for(;V.hasNext();){const{key:H,value:{document:ee}}=V.getNext();if(!f.isPrefixOf(H.path))break;H.path.length>f.length+1||wl(Dd(ee),s)<=0||(a.has(ee.key)||oc(t,ee))&&(c=c.insert(ee.key,ee.mutableCopy()))}return Ke.resolve(c)}getAllFromCollectionGroup(e,t,s,a){en()}Cs(e,t){return Ke.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new b_(this)}getSize(e){return Ke.resolve(this.size)}}class b_ extends ly{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?t.push(this.os.addEntry(e,a)):this.os.removeEntry(s)}),Ke.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class S_{constructor(e){this.persistence=e,this.xs=new Gu(t=>ic(t),Md),this.lastRemoteSnapshotVersion=wn.min(),this.highestTargetId=0,this.Ns=0,this.ks=new kp,this.targetCount=0,this.Ms=Yu.kn()}forEachTarget(e,t){return this.xs.forEach((s,a)=>t(a)),Ke.resolve()}getLastRemoteSnapshotVersion(e){return Ke.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ke.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Ke.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.Ns&&(this.Ns=t),Ke.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Yu(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Ke.resolve()}updateTargetData(e,t){return this.Fn(t),Ke.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Ke.resolve()}removeTargets(e,t,s){let a=0;const c=[];return this.xs.forEach((f,b)=>{b.sequenceNumber<=t&&null===s.get(b.targetId)&&(this.xs.delete(f),c.push(this.removeMatchingKeysForTargetId(e,b.targetId)),a++)}),Ke.waitFor(c).next(()=>a)}getTargetCount(e){return Ke.resolve(this.targetCount)}getTargetData(e,t){const s=this.xs.get(t)||null;return Ke.resolve(s)}addMatchingKeys(e,t,s){return this.ks.gs(t,s),Ke.resolve()}removeMatchingKeys(e,t,s){this.ks.ps(t,s);const a=this.persistence.referenceDelegate,c=[];return a&&t.forEach(f=>{c.push(a.markPotentiallyOrphaned(e,f))}),Ke.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Ke.resolve()}getMatchingKeysForTargetId(e,t){const s=this.ks.Es(t);return Ke.resolve(s)}containsKey(e,t){return Ke.resolve(this.ks.containsKey(t))}}class Lp{constructor(e,t){this.$s={},this.overlays={},this.Os=new ao(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new S_(this),this.indexManager=new iy,this.remoteDocumentCache=new T_(s=>this.referenceDelegate.Ls(s)),this.serializer=new vp(t),this.qs=new C_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new fy,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.$s[e.toKey()];return s||(s=new Fp(t,this.referenceDelegate),this.$s[e.toKey()]=s),s}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,s){St("MemoryPersistence","Starting transaction:",e);const a=new A_(this.Os.next());return this.referenceDelegate.Us(),s(a).next(c=>this.referenceDelegate.Ks(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Gs(e,t){return Ke.or(Object.values(this.$s).map(s=>()=>s.containsKey(e,t)))}}class A_ extends Zl{constructor(e){super(),this.currentSequenceNumber=e}}class nu{constructor(e){this.persistence=e,this.Qs=new kp,this.js=null}static zs(e){return new nu(e)}get Ws(){if(this.js)return this.js;throw en()}addReference(e,t,s){return this.Qs.addReference(s,t),this.Ws.delete(s.toString()),Ke.resolve()}removeReference(e,t,s){return this.Qs.removeReference(s,t),this.Ws.add(s.toString()),Ke.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Ke.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(a=>this.Ws.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(c=>this.Ws.add(c.toString()))}).next(()=>s.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ke.forEach(this.Ws,s=>{const a=rn.fromPath(s);return this.Hs(e,a).next(c=>{c||t.removeEntry(a,wn.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(s=>{s?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return Ke.or([()=>Ke.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class Up{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Fi=s,this.Bi=a}static Li(e,t){let s=mr(),a=mr();for(const c of t.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new Up(e,t.fromCache,s,a)}}class gy{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,s,a){return this.Ki(e,t).next(c=>c||this.Gi(e,t,a,s)).next(c=>c||this.Qi(e,t))}Ki(e,t){if(Dm(t))return Ke.resolve(null);let s=fa(t);return this.indexManager.getIndexType(e,s).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=Rd(t,null,"F"),s=fa(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const f=mr(...c);return this.Ui.getDocuments(e,f).next(b=>this.indexManager.getMinOffset(e,s).next(V=>{const H=this.ji(t,b);return this.zi(t,H,f,V.readTime)?this.Ki(e,Rd(t,null,"F")):this.Wi(e,H,t,V)}))})))}Gi(e,t,s,a){return Dm(t)||a.isEqual(wn.min())?this.Qi(e,t):this.Ui.getDocuments(e,s).next(c=>{const f=this.ji(t,c);return this.zi(t,f,s,a)?this.Qi(e,t):(Hi()<=Vt.in.DEBUG&&St("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Cm(t)),this.Wi(e,f,t,function El(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,a=wn.fromTimestamp(1e9===s?new Vi(t+1,0):new Vi(t,s));return new Ys(a,rn.empty(),e)}(a,-1)))})}ji(e,t){let s=new Ai(t_(e));return t.forEach((a,c)=>{oc(e,c)&&(s=s.add(c))}),s}zi(e,t,s,a){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const c="F"===e.limitType?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Qi(e,t){return Hi()<=Vt.in.DEBUG&&St("QueryEngine","Using full collection scan to execute query:",Cm(t)),this.Ui.getDocumentsMatchingQuery(e,t,Ys.min())}Wi(e,t,s,a){return this.Ui.getDocumentsMatchingQuery(e,s,a).next(c=>(t.forEach(f=>{c=c.insert(f.key,f)}),c))}}class Qh{constructor(e,t,s,a){this.persistence=e,this.Hi=t,this.serializer=a,this.Ji=new mi(Ln),this.Yi=new Gu(c=>ic(c),Md),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(s)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hy(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function Kd(r,e){return my.apply(this,arguments)}function my(){return my=(0,Yt.Z)(function*(r,e){const t=p(r);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next(c=>(a=c,t.tr(e),t.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],b=[];let V=mr();for(const H of a){f.push(H.batchId);for(const ee of H.mutations)V=V.add(ee.key)}for(const H of c){b.push(H.batchId);for(const ee of H.mutations)V=V.add(ee.key)}return t.localDocuments.getDocuments(s,V).next(H=>({er:H,removedBatchIds:f,addedBatchIds:b}))})})}),my.apply(this,arguments)}function R_(r){const e=p(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function vy(r,e){const t=p(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Vl(r,e,t){return Nu.apply(this,arguments)}function Nu(){return Nu=(0,Yt.Z)(function*(r,e,t){const s=p(r),a=s.Ji.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,a)))}catch(f){if(!wa(f))throw f;St("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ji=s.Ji.remove(e),s.Yi.delete(a.target)}),Nu.apply(this,arguments)}function Ec(r,e,t){const s=p(r);let a=wn.min(),c=mr();return s.persistence.runTransaction("Execute query","readonly",f=>function(b,V,H){const ee=p(b),ge=ee.Yi.get(H);return void 0!==ge?Ke.resolve(ee.Ji.get(ge)):ee.Bs.getTargetData(V,H)}(s,f,fa(e)).next(b=>{if(b)return a=b.lastLimboFreeSnapshotVersion,s.Bs.getMatchingKeysForTargetId(f,b.targetId).next(V=>{c=V})}).next(()=>s.Hi.getDocumentsMatchingQuery(f,e,t?a:wn.min(),t?c:mr())).next(b=>(function _y(r,e,t){let s=r.Xi.get(e)||wn.min();t.forEach((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Xi.set(e,s)}(s,function Mh(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}(e),b),{documents:b,ir:c})))}class zp{constructor(){this.activeTargetIds=function Pd(){return i_}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Dy{constructor(){this.Hr=new zp,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,s){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new zp,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Cy{Yr(e){}shutdown(){}}class tf{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){St("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){St("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let nf=null;function Yd(){return null===nf?nf=268435456+Math.round(2147483648*Math.random()):nf++,"0x"+nf.toString(16)}const P_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class x_{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const pa="WebChannelConnection";class N_ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,s,a,c){const f=Yd(),b=this.To(e,t);St("RestConnection",`Sending RPC '${e}' ${f}:`,b,s);const V={};return this.Eo(V,a,c),this.Ao(e,b,V,s).then(H=>(St("RestConnection",`Received RPC '${e}' ${f}: `,H),H),H=>{throw ni("RestConnection",`RPC '${e}' ${f} failed with error: `,H,"url: ",b,"request:",s),H})}vo(e,t,s,a,c,f){return this.Io(e,t,s,a,c)}Eo(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+os,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,c)=>e[c]=a),s&&s.headers.forEach((a,c)=>e[c]=a)}To(e,t){return`${this.mo}/v1/${t}:${P_[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,s,a){const c=Yd();return new Promise((f,b)=>{const V=new ar;V.setWithCredentials(!0),V.listenOnce(Gt.COMPLETE,()=>{try{switch(V.getLastErrorCode()){case Wt.NO_ERROR:const ee=V.getResponseJson();St(pa,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(ee)),f(ee);break;case Wt.TIMEOUT:St(pa,`RPC '${e}' ${c} timed out`),b(new M(w.DEADLINE_EXCEEDED,"Request time out"));break;case Wt.HTTP_ERROR:const ge=V.getStatus();if(St(pa,`RPC '${e}' ${c} failed with status:`,ge,"response text:",V.getResponseText()),ge>0){let ze=V.getResponseJson();Array.isArray(ze)&&(ze=ze[0]);const vt=ze?.error;if(vt&&vt.status&&vt.message){const Ut=function(dn){const gn=dn.toLowerCase().replace(/_/g,"-");return Object.values(w).indexOf(gn)>=0?gn:w.UNKNOWN}(vt.status);b(new M(Ut,vt.message))}else b(new M(w.UNKNOWN,"Server responded with status "+V.getStatus()))}else b(new M(w.UNAVAILABLE,"Connection failed."));break;default:en()}}finally{St(pa,`RPC '${e}' ${c} completed.`)}});const H=JSON.stringify(a);St(pa,`RPC '${e}' ${c} sending request:`,a),V.send(t,"POST",H,s,15)})}Ro(e,t,s){const a=Yd(),c=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=xe(),b=at(),V={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},H=this.longPollingOptions.timeoutSeconds;void 0!==H&&(V.longPollingTimeout=Math.round(1e3*H)),this.useFetchStreams&&(V.xmlHttpFactory=new Ft({})),this.Eo(V.initMessageHeaders,t,s),V.encodeInitMessageHeaders=!0;const ee=c.join("");St(pa,`Creating RPC '${e}' stream ${a}: ${ee}`,V);const ge=f.createWebChannel(ee,V);let ze=!1,vt=!1;const Ut=new x_({ro:gn=>{vt?St(pa,`Not sending because RPC '${e}' stream ${a} is closed:`,gn):(ze||(St(pa,`Opening RPC '${e}' stream ${a} transport.`),ge.open(),ze=!0),St(pa,`RPC '${e}' stream ${a} sending:`,gn),ge.send(gn))},oo:()=>ge.close()}),dn=(gn,Ir,ii)=>{gn.listen(Ir,xr=>{try{ii(xr)}catch(Wo){setTimeout(()=>{throw Wo},0)}})};return dn(ge,Cn.EventType.OPEN,()=>{vt||St(pa,`RPC '${e}' stream ${a} transport opened.`)}),dn(ge,Cn.EventType.CLOSE,()=>{vt||(vt=!0,St(pa,`RPC '${e}' stream ${a} transport closed`),Ut.wo())}),dn(ge,Cn.EventType.ERROR,gn=>{vt||(vt=!0,ni(pa,`RPC '${e}' stream ${a} transport errored:`,gn),Ut.wo(new M(w.UNAVAILABLE,"The operation could not be completed")))}),dn(ge,Cn.EventType.MESSAGE,gn=>{var Ir;if(!vt){const ii=gn.data[0];_(!!ii);const Wo=ii.error||(null===(Ir=ii[0])||void 0===Ir?void 0:Ir.error);if(Wo){St(pa,`RPC '${e}' stream ${a} received error:`,Wo);const So=Wo.status;let ls=function(_d){const Eh=lo[_d];if(void 0!==Eh)return Fh(Eh)}(So),au=Wo.message;void 0===ls&&(ls=w.INTERNAL,au="Unknown error status: "+So+" with message "+Wo.message),vt=!0,Ut.wo(new M(ls,au)),ge.close()}else St(pa,`RPC '${e}' stream ${a} received:`,ii),Ut._o(ii)}}),dn(b,Un.STAT_EVENT,gn=>{gn.stat===yn.PROXY?St(pa,`RPC '${e}' stream ${a} detected buffering proxy`):gn.stat===yn.NOPROXY&&St(pa,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{Ut.fo()},0),Ut}}function rf(){return typeof document<"u"?document:null}function Qd(r){return new hp(r,!0)}class sf{constructor(e,t,s=1e3,a=1.5,c=6e4){this.ii=e,this.timerId=t,this.Po=s,this.bo=a,this.Vo=c,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),s=Math.max(0,Date.now()-this.Co),a=Math.max(0,t-s);a>0&&St("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,a,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Wp{constructor(e,t,s,a,c,f,b,V){this.ii=e,this.$o=s,this.Oo=a,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=b,this.listener=V,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new sf(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,Yt.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,Yt.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var s=this;return(0,Yt.Z)(function*(){s.Ho(),s.Jo(),s.qo.cancel(),s.Fo++,4!==e?s.qo.reset():t&&t.code===w.RESOURCE_EXHAUSTED?(Ar(t.toString()),Ar("Using maximum backoff delay to prevent overloading the backend."),s.qo.xo()):t&&t.code===w.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Yo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.Fo===t&&this.Zo(s,a)},s=>{e(()=>{const a=new M(w.UNKNOWN,"Fetching auth token failed: "+s.message);return this.tu(a)})})}Zo(e,t){const s=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{s(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(a=>{s(()=>this.tu(a))}),this.stream.onMessage(a=>{s(()=>this.onMessage(a))})}Go(){var e=this;this.state=5,this.qo.No((0,Yt.Z)(function*(){e.state=0,e.start()}))}tu(e){return St("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(St("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class k_ extends Wp{constructor(e,t,s,a,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,f),this.serializer=c}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function Gm(r,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(V=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===V?1:"REMOVE"===V?2:"CURRENT"===V?3:"RESET"===V?4:en(),a=e.targetChange.targetIds||[],c=function(V,H){return V.useProto3Json?(_(void 0===H||"string"==typeof H),Js.fromBase64String(H||"")):(_(void 0===H||H instanceof Uint8Array),Js.fromUint8Array(H||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,b=f&&function(V){const H=void 0===V.code?w.UNKNOWN:Fh(V.code);return new M(H,V.message||"")}(f);t=new Bm(s,a,c,b||null)}else if("documentChange"in e){const s=e.documentChange,a=Da(r,s.document.name),c=eo(s.document.updateTime),f=s.document.createTime?eo(s.document.createTime):wn.min(),b=new zo({mapValue:{fields:s.document.fields}}),V=ts.newFoundDocument(a,c,f,b);t=new Lh(s.targetIds||[],s.removedTargetIds||[],V.key,V)}else if("documentDelete"in e){const s=e.documentDelete,a=Da(r,s.document),c=s.readTime?eo(s.readTime):wn.min(),f=ts.newNoDocument(a,c);t=new Lh([],s.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const s=e.documentRemove,a=Da(r,s.document);t=new Lh([],s.removedTargetIds||[],a,null)}else{if(!("filter"in e))return en();{const s=e.filter,{count:a=0,unchangedNames:c}=s,f=new Wc(a,c);t=new ap(s.targetId,f)}}var V;return t}(this.serializer,e),s=function(a){if(!("targetChange"in a))return wn.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?wn.min():c.readTime?eo(c.readTime):wn.min()}(e);return this.listener.nu(t,s)}su(e){const t={};t.database=Ud(this.serializer),t.addTarget=function(a,c){let f;const b=c.target;if(f=Th(b)?{documents:Km(a,b)}:{query:mp(a,b)},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=$m(a,c.resumeToken);const V=dc(a,c.expectedCount);null!==V&&(f.expectedCount=V)}else if(c.snapshotVersion.compareTo(wn.min())>0){f.readTime=Kc(a,c.snapshotVersion.toTimestamp());const V=dc(a,c.expectedCount);null!==V&&(f.expectedCount=V)}return f}(this.serializer,e);const s=function f_(r,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return en()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.Wo(t)}iu(e){const t={};t.database=Ud(this.serializer),t.removeTarget=e,this.Wo(t)}}class TE extends Wp{constructor(e,t,s,a,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,f),this.serializer=c,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(_(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function Wm(r,e){return r&&r.length>0?(_(void 0!==e),r.map(t=>function(s,a){let c=eo(s.updateTime?s.updateTime:a);return c.isEqual(wn.min())&&(c=eo(a)),new rp(c,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=eo(e.commitTime);return this.listener.cu(s,t)}return _(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Ud(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>function qc(r,e){let t;if(e instanceof xl)t={update:h_(r,e.key,e.value)};else if(e instanceof vu)t={delete:Vd(r,e.key)};else if(e instanceof yu)t={update:h_(r,e.key,e.data),updateMask:y_(e.fieldMask)};else{if(!(e instanceof kh))return en();t={verify:Vd(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(a,c){const f=c.transform;if(f instanceof xd)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Pu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Pl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof uc)return{fieldPath:c.field.canonicalString(),increment:f.gt};throw en()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:c_(r,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:en()),t;var a}(this.serializer,s))};this.Wo(t)}}class by extends class{}{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.lu=!1}fu(){if(this.lu)throw new M(w.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Io(e,t,s,a,c)).catch(a=>{throw"FirebaseError"===a.name?(a.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new M(w.UNKNOWN,a.toString())})}vo(e,t,s,a){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.vo(e,t,s,c,f,a)).catch(c=>{throw"FirebaseError"===c.name?(c.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new M(w.UNKNOWN,c.toString())})}terminate(){this.lu=!0}}class F_{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Ar(t),this.mu=!1):St("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class L_{constructor(e,t,s,a,c){var f=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=c,this.Pu.Yr(b=>{s.enqueueAndForget((0,Yt.Z)(function*(){var V;iu(f)&&(St("RemoteStore","Restarting streams for network reachability change."),yield(V=(0,Yt.Z)(function*(H){const ee=p(H);ee.vu.add(4),yield Ca(ee),ee.bu.set("Unknown"),ee.vu.delete(4),yield wc(ee)}),function(H){return V.apply(this,arguments)})(f))}))}),this.bu=new F_(s,a)}}function wc(r){return Kp.apply(this,arguments)}function Kp(){return Kp=(0,Yt.Z)(function*(r){if(iu(r))for(const e of r.Ru)yield e(!0)}),Kp.apply(this,arguments)}function Ca(r){return Ic.apply(this,arguments)}function Ic(){return Ic=(0,Yt.Z)(function*(r){for(const e of r.Ru)yield e(!1)}),Ic.apply(this,arguments)}function Do(r,e){const t=p(r);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),Ul(t)?Jd(t):fl(t).Ko()&&rd(t,e))}function ku(r,e){const t=p(r),s=fl(t);t.Au.delete(e),s.Ko()&&ru(t,e),0===t.Au.size&&(s.Ko()?s.jo():iu(t)&&t.bu.set("Unknown"))}function rd(r,e){if(r.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(wn.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}fl(r).su(e)}function ru(r,e){r.Vu.qt(e),fl(r).iu(e)}function Jd(r){r.Vu=new u_({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),le:e=>r.Au.get(e)||null,ue:()=>r.datastore.serializer.databaseId}),fl(r).start(),r.bu.gu()}function Ul(r){return iu(r)&&!fl(r).Uo()&&r.Au.size>0}function iu(r){return 0===p(r).vu.size}function Dc(r){r.Vu=void 0}function id(r){return Bl.apply(this,arguments)}function Bl(){return Bl=(0,Yt.Z)(function*(r){r.Au.forEach((e,t)=>{rd(r,e)})}),Bl.apply(this,arguments)}function sd(r,e){return jl.apply(this,arguments)}function jl(){return jl=(0,Yt.Z)(function*(r,e){Dc(r),Ul(r)?(r.bu.Iu(e),Jd(r)):r.bu.set("Unknown")}),jl.apply(this,arguments)}function od(r,e,t){return $l.apply(this,arguments)}function $l(){return $l=(0,Yt.Z)(function*(r,e,t){if(r.bu.set("Online"),e instanceof Bm&&2===e.state&&e.cause)try{yield(s=(0,Yt.Z)(function*(a,c){const f=c.cause;for(const b of c.targetIds)a.Au.has(b)&&(yield a.remoteSyncer.rejectListen(b,f),a.Au.delete(b),a.Vu.removeTarget(b))}),function(a,c){return s.apply(this,arguments)})(r,e)}catch(s){St("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield Xd(r,s)}else if(e instanceof Lh?r.Vu.Ht(e):e instanceof ap?r.Vu.ne(e):r.Vu.Xt(e),!t.isEqual(wn.min()))try{const s=yield R_(r.localStore);t.compareTo(s)>=0&&(yield function(a,c){const f=a.Vu.ce(c);return f.targetChanges.forEach((b,V)=>{if(b.resumeToken.approximateByteSize()>0){const H=a.Au.get(V);H&&a.Au.set(V,H.withResumeToken(b.resumeToken,c))}}),f.targetMismatches.forEach((b,V)=>{const H=a.Au.get(b);if(!H)return;a.Au.set(b,H.withResumeToken(Js.EMPTY_BYTE_STRING,H.snapshotVersion)),ru(a,b);const ee=new zn(H.target,b,V,H.sequenceNumber);rd(a,ee)}),a.remoteSyncer.applyRemoteEvent(f)}(r,t))}catch(s){St("RemoteStore","Failed to raise snapshot:",s),yield Xd(r,s)}var s}),$l.apply(this,arguments)}function Xd(r,e,t){return af.apply(this,arguments)}function af(){return af=(0,Yt.Z)(function*(r,e,t){if(!wa(e))throw e;r.vu.add(1),yield Ca(r),r.bu.set("Offline"),t||(t=()=>R_(r.localStore)),r.asyncQueue.enqueueRetryable((0,Yt.Z)(function*(){St("RemoteStore","Retrying IndexedDB access"),yield t(),r.vu.delete(1),yield wc(r)}))}),af.apply(this,arguments)}function qp(r,e){return e().catch(t=>Xd(r,t,e))}function Cc(r){return uf.apply(this,arguments)}function uf(){return uf=(0,Yt.Z)(function*(r){const e=p(r),t=Fu(e);let s=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Sy(e);)try{const a=yield vy(e.localStore,s);if(null===a){0===e.Eu.length&&t.jo();break}s=a.batchId,Ay(e,a)}catch(a){yield Xd(e,a)}Zp(e)&&Yp(e)}),uf.apply(this,arguments)}function Sy(r){return iu(r)&&r.Eu.length<10}function Ay(r,e){r.Eu.push(e);const t=Fu(r);t.Ko()&&t.ou&&t.uu(e.mutations)}function Zp(r){return iu(r)&&!Fu(r).Uo()&&r.Eu.length>0}function Yp(r){Fu(r).start()}function V_(r){return Qp.apply(this,arguments)}function Qp(){return Qp=(0,Yt.Z)(function*(r){Fu(r).hu()}),Qp.apply(this,arguments)}function My(r){return Jp.apply(this,arguments)}function Jp(){return Jp=(0,Yt.Z)(function*(r){const e=Fu(r);for(const t of r.Eu)e.uu(t.mutations)}),Jp.apply(this,arguments)}function Ry(r,e,t){return eh.apply(this,arguments)}function eh(){return eh=(0,Yt.Z)(function*(r,e,t){const s=r.Eu.shift(),a=ip.from(s,e,t);yield qp(r,()=>r.remoteSyncer.applySuccessfulWrite(a)),yield Cc(r)}),eh.apply(this,arguments)}function Xp(r,e){return eg.apply(this,arguments)}function eg(){return eg=(0,Yt.Z)(function*(r,e){var t;e&&Fu(r).ou&&(yield(t=(0,Yt.Z)(function*(s,a){if(function Fm(r){switch(r){default:return en();case w.CANCELLED:case w.UNKNOWN:case w.DEADLINE_EXCEEDED:case w.RESOURCE_EXHAUSTED:case w.INTERNAL:case w.UNAVAILABLE:case w.UNAUTHENTICATED:return!1;case w.INVALID_ARGUMENT:case w.NOT_FOUND:case w.ALREADY_EXISTS:case w.PERMISSION_DENIED:case w.FAILED_PRECONDITION:case w.ABORTED:case w.OUT_OF_RANGE:case w.UNIMPLEMENTED:case w.DATA_LOSS:return!0}}(c=a.code)&&c!==w.ABORTED){const f=s.Eu.shift();Fu(s).Qo(),yield qp(s,()=>s.remoteSyncer.rejectFailedWrite(f.batchId,a)),yield Cc(s)}var c}),function(s,a){return t.apply(this,arguments)})(r,e)),Zp(r)&&Yp(r)}),eg.apply(this,arguments)}function th(r,e){return ad.apply(this,arguments)}function ad(){return ad=(0,Yt.Z)(function*(r,e){const t=p(r);t.asyncQueue.verifyOperationInProgress(),St("RemoteStore","RemoteStore received new credentials");const s=iu(t);t.vu.add(3),yield Ca(t),s&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield wc(t)}),ad.apply(this,arguments)}function tg(){return tg=(0,Yt.Z)(function*(r,e){const t=p(r);e?(t.vu.delete(2),yield wc(t)):e||(t.vu.add(2),yield Ca(t),t.bu.set("Unknown"))}),tg.apply(this,arguments)}function fl(r){return r.Su||(r.Su=function(e,t,s){const a=p(e);return a.fu(),new k_(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(r.datastore,r.asyncQueue,{uo:id.bind(null,r),ao:sd.bind(null,r),nu:od.bind(null,r)}),r.Ru.push(function(){var e=(0,Yt.Z)(function*(t){t?(r.Su.Qo(),Ul(r)?Jd(r):r.bu.set("Unknown")):(yield r.Su.stop(),Dc(r))});return function(t){return e.apply(this,arguments)}}())),r.Su}function Fu(r){return r.Du||(r.Du=function(e,t,s){const a=p(e);return a.fu(),new TE(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(r.datastore,r.asyncQueue,{uo:V_.bind(null,r),ao:Xp.bind(null,r),au:My.bind(null,r),cu:Ry.bind(null,r)}),r.Ru.push(function(){var e=(0,Yt.Z)(function*(t){t?(r.Du.Qo(),yield Cc(r)):(yield r.Du.stop(),r.Eu.length>0&&(St("RemoteStore",`Stopping write stream with ${r.Eu.length} pending writes`),r.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),r.Du}class lf{constructor(e,t,s,a,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new W,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(e,t,s,a,c){const f=Date.now()+s,b=new lf(e,t,f,a,c);return b.start(s),b}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new M(w.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tc(r,e){if(Ar("AsyncQueue",`${e}: ${r}`),wa(r))return new M(w.UNAVAILABLE,`${e}: ${r}`);throw r}class Hl{constructor(e){this.comparator=e?(t,s)=>e(t,s)||rn.comparator(t.key,s.key):(t,s)=>rn.comparator(t.key,s.key),this.keyedMap=Od(),this.sortedSet=new mi(this.comparator)}static emptySet(e){return new Hl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Hl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new Hl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class ng{constructor(){this.Cu=new mi(rn.comparator)}track(e){const t=e.doc.key,s=this.Cu.get(t);s?0!==e.type&&3===s.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==s.type?this.Cu=this.Cu.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Cu=this.Cu.remove(t):1===e.type&&2===s.type?this.Cu=this.Cu.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):en():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,s)=>{e.push(s)}),e}}class bc{constructor(e,t,s,a,c,f,b,V,H){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=b,this.excludesMetadataChanges=V,this.hasCachedResults=H}static fromInitialDocuments(e,t,s,a,c){const f=[];return t.forEach(b=>{f.push({type:0,doc:b})}),new bc(e,t,Hl.emptySet(t),f,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ah(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class rg{constructor(){this.Nu=void 0,this.listeners=[]}}class Oy{constructor(){this.queries=new Gu(e=>e_(e),Ah),this.onlineState="Unknown",this.ku=new Set}}function ig(r,e){return cf.apply(this,arguments)}function cf(){return cf=(0,Yt.Z)(function*(r,e){const t=p(r),s=e.query;let a=!1,c=t.queries.get(s);if(c||(a=!0,c=new rg),a)try{c.Nu=yield t.onListen(s)}catch(f){const b=Tc(f,`Initialization of query '${Cm(e.query)}' failed`);return void e.onError(b)}t.queries.set(s,c),c.listeners.push(e),e.Mu(t.onlineState),c.Nu&&e.$u(c.Nu)&&sg(t)}),cf.apply(this,arguments)}function df(r,e){return hf.apply(this,arguments)}function hf(){return hf=(0,Yt.Z)(function*(r,e){const t=p(r),s=e.query;let a=!1;const c=t.queries.get(s);if(c){const f=c.listeners.indexOf(e);f>=0&&(c.listeners.splice(f,1),a=0===c.listeners.length)}if(a)return t.queries.delete(s),t.onUnlisten(s)}),hf.apply(this,arguments)}function Py(r,e){const t=p(r);let s=!1;for(const a of e){const f=t.queries.get(a.query);if(f){for(const b of f.listeners)b.$u(a)&&(s=!0);f.Nu=a}}s&&sg(t)}function U_(r,e,t){const s=p(r),a=s.queries.get(e);if(a)for(const c of a.listeners)c.onError(t);s.queries.delete(e)}function sg(r){r.ku.forEach(e=>{e.next()})}class og{constructor(e,t,s){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=s||{}}$u(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)3!==a.type&&s.push(a);e=new bc(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=bc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class lg{constructor(e){this.key=e}}class cg{constructor(e){this.key=e}}class dg{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=mr(),this.mutatedKeys=mr(),this.tc=t_(e),this.ec=new Hl(this.tc)}get nc(){return this.Yu}sc(e,t){const s=t?t.ic:new ng,a=t?t.ec:this.ec;let c=t?t.mutatedKeys:this.mutatedKeys,f=a,b=!1;const V="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,H="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((ee,ge)=>{const ze=a.get(ee),vt=oc(this.query,ge)?ge:null,Ut=!!ze&&this.mutatedKeys.has(ze.key),dn=!!vt&&(vt.hasLocalMutations||this.mutatedKeys.has(vt.key)&&vt.hasCommittedMutations);let gn=!1;ze&&vt?ze.data.isEqual(vt.data)?Ut!==dn&&(s.track({type:3,doc:vt}),gn=!0):this.rc(ze,vt)||(s.track({type:2,doc:vt}),gn=!0,(V&&this.tc(vt,V)>0||H&&this.tc(vt,H)<0)&&(b=!0)):!ze&&vt?(s.track({type:0,doc:vt}),gn=!0):ze&&!vt&&(s.track({type:1,doc:ze}),gn=!0,(V||H)&&(b=!0)),gn&&(vt?(f=f.add(vt),c=dn?c.add(ee):c.delete(ee)):(f=f.delete(ee),c=c.delete(ee)))}),null!==this.query.limit)for(;f.size>this.query.limit;){const ee="F"===this.query.limitType?f.last():f.first();f=f.delete(ee.key),c=c.delete(ee.key),s.track({type:1,doc:ee})}return{ec:f,ic:s,zi:b,mutatedKeys:c}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const a=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const c=e.ic.xu();c.sort((H,ee)=>function(ge,ze){const vt=Ut=>{switch(Ut){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return en()}};return vt(ge)-vt(ze)}(H.type,ee.type)||this.tc(H.doc,ee.doc)),this.oc(s);const f=t?this.uc():[],b=0===this.Zu.size&&this.current?1:0,V=b!==this.Xu;return this.Xu=b,0!==c.length||V?{snapshot:new bc(this.query,e.ec,a,c,e.mutatedKeys,0===b,V,!1,!!s&&s.resumeToken.approximateByteSize()>0),cc:f}:{cc:f}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new ng,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=mr(),this.ec.forEach(s=>{this.ac(s.key)&&(this.Zu=this.Zu.add(s.key))});const t=[];return e.forEach(s=>{this.Zu.has(s)||t.push(new cg(s))}),this.Zu.forEach(s=>{e.has(s)||t.push(new lg(s))}),t}hc(e){this.Yu=e.ir,this.Zu=mr();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return bc.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Ny{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class ky{constructor(e){this.key=e,this.fc=!1}}class Fy{constructor(e,t,s,a,c,f){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.dc={},this.wc=new Gu(b=>e_(b),Ah),this._c=new Map,this.mc=new Set,this.gc=new mi(rn.comparator),this.yc=new Map,this.Ic=new kp,this.Tc={},this.Ec=new Map,this.Ac=Yu.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function pf(r,e){return Ju.apply(this,arguments)}function Ju(){return Ju=(0,Yt.Z)(function*(r,e){const t=function Ef(r){const e=p(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=gf.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Cg.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=j_.bind(null,e),e.dc.nu=Py.bind(null,e.eventManager),e.dc.Pc=U_.bind(null,e.eventManager),e}(r);let s,a;const c=t.wc.get(e);if(c)s=c.targetId,t.sharedClientState.addLocalQueryTarget(s),a=c.view.lc();else{const f=yield function _c(r,e){const t=p(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.Bs.getTargetData(s,e).next(c=>c?(a=c,Ke.resolve(a)):t.Bs.allocateTargetId(s).next(f=>(a=new zn(e,f,"TargetPurposeListen",s.currentSequenceNumber),t.Bs.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.Ji.get(s.targetId);return(null===a||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(s.targetId,s),t.Yi.set(e,s.targetId)),s})}(t.localStore,fa(e)),b=t.sharedClientState.addLocalQueryTarget(f.targetId);s=f.targetId,a=yield function hg(r,e,t,s,a){return fg.apply(this,arguments)}(t,e,s,"current"===b,f.resumeToken),t.isPrimaryClient&&Do(t.remoteStore,f)}return a}),Ju.apply(this,arguments)}function fg(){return fg=(0,Yt.Z)(function*(r,e,t,s,a){r.Rc=(ge,ze,vt)=>{return(Ut=(0,Yt.Z)(function*(dn,gn,Ir,ii){let xr=gn.view.sc(Ir);xr.zi&&(xr=yield Ec(dn.localStore,gn.query,!1).then(({documents:ls})=>gn.view.sc(ls,xr)));const Wo=ii&&ii.targetChanges.get(gn.targetId),So=gn.view.applyChanges(xr,dn.isPrimaryClient,Wo);return zl(dn,gn.targetId,So.cc),So.snapshot}),function(dn,gn,Ir,ii){return Ut.apply(this,arguments)})(r,ge,ze,vt);var Ut};const c=yield Ec(r.localStore,e,!0),f=new dg(e,c.ir),b=f.sc(c.documents),V=hl.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==r.onlineState,a),H=f.applyChanges(b,r.isPrimaryClient,V);zl(r,t,H.cc);const ee=new Ny(e,t,f);return r.wc.set(e,ee),r._c.has(t)?r._c.get(t).push(e):r._c.set(t,[e]),H.snapshot}),fg.apply(this,arguments)}function pg(r,e){return pl.apply(this,arguments)}function pl(){return pl=(0,Yt.Z)(function*(r,e){const t=p(r),s=t.wc.get(e),a=t._c.get(s.targetId);if(a.length>1)return t._c.set(s.targetId,a.filter(c=>!Ah(c,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Vl(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),ku(t.remoteStore,s.targetId),Sc(t,s.targetId)}).catch(da))):(Sc(t,s.targetId),yield Vl(t.localStore,s.targetId,!0))}),pl.apply(this,arguments)}function mg(){return mg=(0,Yt.Z)(function*(r,e,t){const s=function Mg(r){const e=p(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Vy.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Co.bind(null,e),e}(r);try{const a=yield function(c,f){const b=p(c),V=Vi.now(),H=f.reduce((ze,vt)=>ze.add(vt.key),mr());let ee,ge;return b.persistence.runTransaction("Locally write mutations","readwrite",ze=>{let vt=Na(),Ut=mr();return b.Zi.getEntries(ze,H).next(dn=>{vt=dn,vt.forEach((gn,Ir)=>{Ir.isValidDocument()||(Ut=Ut.add(gn))})}).next(()=>b.localDocuments.getOverlayedDocuments(ze,vt)).next(dn=>{ee=dn;const gn=[];for(const Ir of f){const ii=lc(Ir,ee.get(Ir.key).overlayedDocument);null!=ii&&gn.push(new yu(Ir.key,ii,pm(ii.value.mapValue),Cs.exists(!0)))}return b.mutationQueue.addMutationBatch(ze,V,gn,f)}).next(dn=>{ge=dn;const gn=dn.applyToLocalDocumentSet(ee,Ut);return b.documentOverlayCache.saveOverlays(ze,dn.batchId,gn)})}).then(()=>({batchId:ge.batchId,changes:Xf(ee)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(c,f,b){let V=c.Tc[c.currentUser.toKey()];V||(V=new mi(Ln)),V=V.insert(f,b),c.Tc[c.currentUser.toKey()]=V}(s,a.batchId,t),yield Xu(s,a.changes),yield Cc(s.remoteStore)}catch(a){const c=Tc(a,"Failed to persist write");t.reject(c)}}),mg.apply(this,arguments)}function gf(r,e){return Ly.apply(this,arguments)}function Ly(){return Ly=(0,Yt.Z)(function*(r,e){const t=p(r);try{const s=yield function yy(r,e){const t=p(r),s=e.snapshotVersion;let a=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=t.Zi.newChangeBuffer({trackRemovals:!0});a=t.Ji;const b=[];e.targetChanges.forEach((ee,ge)=>{const ze=a.get(ge);if(!ze)return;b.push(t.Bs.removeMatchingKeys(c,ee.removedDocuments,ge).next(()=>t.Bs.addMatchingKeys(c,ee.addedDocuments,ge)));let vt=ze.withSequenceNumber(c.currentSequenceNumber);var Ut,dn,gn;null!==e.targetMismatches.get(ge)?vt=vt.withResumeToken(Js.EMPTY_BYTE_STRING,wn.min()).withLastLimboFreeSnapshotVersion(wn.min()):ee.resumeToken.approximateByteSize()>0&&(vt=vt.withResumeToken(ee.resumeToken,s)),a=a.insert(ge,vt),dn=vt,gn=ee,(0===(Ut=ze).resumeToken.approximateByteSize()||dn.snapshotVersion.toMicroseconds()-Ut.snapshotVersion.toMicroseconds()>=3e8||gn.addedDocuments.size+gn.modifiedDocuments.size+gn.removedDocuments.size>0)&&b.push(t.Bs.updateTargetData(c,vt))});let V=Na(),H=mr();if(e.documentUpdates.forEach(ee=>{e.resolvedLimboDocuments.has(ee)&&b.push(t.persistence.referenceDelegate.updateLimboDocument(c,ee))}),b.push(function jp(r,e,t){let s=mr(),a=mr();return t.forEach(c=>s=s.add(c)),e.getEntries(r,s).next(c=>{let f=Na();return t.forEach((b,V)=>{const H=c.get(b);V.isFoundDocument()!==H.isFoundDocument()&&(a=a.add(b)),V.isNoDocument()&&V.version.isEqual(wn.min())?(e.removeEntry(b,V.readTime),f=f.insert(b,V)):!H.isValidDocument()||V.version.compareTo(H.version)>0||0===V.version.compareTo(H.version)&&H.hasPendingWrites?(e.addEntry(V),f=f.insert(b,V)):St("LocalStore","Ignoring outdated watch update for ",b,". Current version:",H.version," Watch version:",V.version)}),{nr:f,sr:a}})}(c,f,e.documentUpdates).next(ee=>{V=ee.nr,H=ee.sr})),!s.isEqual(wn.min())){const ee=t.Bs.getLastRemoteSnapshotVersion(c).next(ge=>t.Bs.setTargetsMetadata(c,c.currentSequenceNumber,s));b.push(ee)}return Ke.waitFor(b).next(()=>f.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,V,H)).next(()=>V)}).then(c=>(t.Ji=a,c))}(t.localStore,e);e.targetChanges.forEach((a,c)=>{const f=t.yc.get(c);f&&(_(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?f.fc=!0:a.modifiedDocuments.size>0?_(f.fc):a.removedDocuments.size>0&&(_(f.fc),f.fc=!1))}),yield Xu(t,s,e)}catch(s){yield da(s)}}),Ly.apply(this,arguments)}function B_(r,e,t){const s=p(r);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const a=[];s.wc.forEach((c,f)=>{const b=f.view.Mu(e);b.snapshot&&a.push(b.snapshot)}),function(c,f){const b=p(c);b.onlineState=f;let V=!1;b.queries.forEach((H,ee)=>{for(const ge of ee.listeners)ge.Mu(f)&&(V=!0)}),V&&sg(b)}(s.eventManager,e),a.length&&s.dc.nu(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function j_(r,e,t){return yg.apply(this,arguments)}function yg(){return yg=(0,Yt.Z)(function*(r,e,t){const s=p(r);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.yc.get(e),c=a&&a.key;if(c){let f=new mi(rn.comparator);f=f.insert(c,ts.newNoDocument(c,wn.min()));const b=mr().add(c),V=new Wu(wn.min(),new Map,new mi(Ln),f,b);yield gf(s,V),s.gc=s.gc.remove(c),s.yc.delete(e),Ig(s)}else yield Vl(s.localStore,e,!1).then(()=>Sc(s,e,t)).catch(da)}),yg.apply(this,arguments)}function Vy(r,e){return vg.apply(this,arguments)}function vg(){return vg=(0,Yt.Z)(function*(r,e){const t=p(r),s=e.batch.batchId;try{const a=yield function Bp(r,e){const t=p(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),c=t.Zi.newChangeBuffer({trackRemovals:!0});return function(f,b,V,H){const ee=V.batch,ge=ee.keys();let ze=Ke.resolve();return ge.forEach(vt=>{ze=ze.next(()=>H.getEntry(b,vt)).next(Ut=>{const dn=V.docVersions.get(vt);_(null!==dn),Ut.version.compareTo(dn)<0&&(ee.applyToRemoteDocument(Ut,V),Ut.isValidDocument()&&(Ut.setReadTime(V.commitVersion),H.addEntry(Ut)))})}),ze.next(()=>f.mutationQueue.removeMutationBatch(b,ee))}(t,s,e,c).next(()=>c.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(f){let b=mr();for(let V=0;V<f.mutationResults.length;++V)f.mutationResults[V].transformResults.length>0&&(b=b.add(f.batch.mutations[V].key));return b}(e))).next(()=>t.localDocuments.getDocuments(s,a))})}(t.localStore,e);Eg(t,s,null),yf(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield Xu(t,a)}catch(a){yield da(a)}}),vg.apply(this,arguments)}function Co(r,e,t){return mf.apply(this,arguments)}function mf(){return mf=(0,Yt.Z)(function*(r,e,t){const s=p(r);try{const a=yield function(c,f){const b=p(c);return b.persistence.runTransaction("Reject batch","readwrite-primary",V=>{let H;return b.mutationQueue.lookupMutationBatch(V,f).next(ee=>(_(null!==ee),H=ee.keys(),b.mutationQueue.removeMutationBatch(V,ee))).next(()=>b.mutationQueue.performConsistencyCheck(V)).next(()=>b.documentOverlayCache.removeOverlaysForBatchId(V,H,f)).next(()=>b.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(V,H)).next(()=>b.localDocuments.getDocuments(V,H))})}(s.localStore,e);Eg(s,e,t),yf(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield Xu(s,a)}catch(a){yield da(a)}}),mf.apply(this,arguments)}function yf(r,e){(r.Ec.get(e)||[]).forEach(t=>{t.resolve()}),r.Ec.delete(e)}function Eg(r,e,t){const s=p(r);let a=s.Tc[s.currentUser.toKey()];if(a){const c=a.get(e);c&&(t?c.reject(t):c.resolve(),a=a.remove(e)),s.Tc[s.currentUser.toKey()]=a}}function Sc(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r._c.get(e))r.wc.delete(s),t&&r.dc.Pc(s,t);r._c.delete(e),r.isPrimaryClient&&r.Ic.Is(e).forEach(s=>{r.Ic.containsKey(s)||wg(r,s)})}function wg(r,e){r.mc.delete(e.path.canonicalString());const t=r.gc.get(e);null!==t&&(ku(r.remoteStore,t),r.gc=r.gc.remove(e),r.yc.delete(t),Ig(r))}function zl(r,e,t){for(const s of t)s instanceof lg?(r.Ic.addReference(s.key,e),H_(r,s)):s instanceof cg?(St("SyncEngine","Document no longer in limbo: "+s.key),r.Ic.removeReference(s.key,e),r.Ic.containsKey(s.key)||wg(r,s.key)):en()}function H_(r,e){const t=e.key,s=t.path.canonicalString();r.gc.get(t)||r.mc.has(s)||(St("SyncEngine","New document in limbo: "+t),r.mc.add(s),Ig(r))}function Ig(r){for(;r.mc.size>0&&r.gc.size<r.maxConcurrentLimboResolutions;){const e=r.mc.values().next().value;r.mc.delete(e);const t=new rn(Pr.fromString(e)),s=r.Ac.next();r.yc.set(s,new ky(t)),r.gc=r.gc.insert(t,s),Do(r.remoteStore,new zn(fa($c(t.path)),s,"TargetPurposeLimboResolution",ao.ct))}}function Xu(r,e,t){return Dg.apply(this,arguments)}function Dg(){return Dg=(0,Yt.Z)(function*(r,e,t){const s=p(r),a=[],c=[],f=[];var b;s.wc.isEmpty()||(s.wc.forEach((b,V)=>{f.push(s.Rc(V,e,t).then(H=>{if((H||t)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(V.targetId,H?.fromCache?"not-current":"current"),H){a.push(H);const ee=Up.Li(V.targetId,H);c.push(ee)}}))}),yield Promise.all(f),s.dc.nu(a),yield(b=(0,Yt.Z)(function*(V,H){const ee=p(V);try{yield ee.persistence.runTransaction("notifyLocalViewChanges","readwrite",ge=>Ke.forEach(H,ze=>Ke.forEach(ze.Fi,vt=>ee.persistence.referenceDelegate.addReference(ge,ze.targetId,vt)).next(()=>Ke.forEach(ze.Bi,vt=>ee.persistence.referenceDelegate.removeReference(ge,ze.targetId,vt)))))}catch(ge){if(!wa(ge))throw ge;St("LocalStore","Failed to update sequence numbers: "+ge)}for(const ge of H){const ze=ge.targetId;if(!ge.fromCache){const vt=ee.Ji.get(ze),dn=vt.withLastLimboFreeSnapshotVersion(vt.snapshotVersion);ee.Ji=ee.Ji.insert(ze,dn)}}}),function(V,H){return b.apply(this,arguments)})(s.localStore,c))}),Dg.apply(this,arguments)}function Uy(r,e){return By.apply(this,arguments)}function By(){return By=(0,Yt.Z)(function*(r,e){const t=p(r);if(!t.currentUser.isEqual(e)){St("SyncEngine","User change. New user:",e.toKey());const s=yield Kd(t.localStore,e);t.currentUser=e,(a=t).Ec.forEach(f=>{f.forEach(b=>{b.reject(new M(w.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Ec.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Xu(t,s.er)}var a}),By.apply(this,arguments)}function Cg(r,e){const t=p(r),s=t.yc.get(e);if(s&&s.fc)return mr().add(s.key);{let a=mr();const c=t._c.get(e);if(!c)return a;for(const f of c){const b=t.wc.get(f);a=a.unionWith(b.view.nc)}return a}}class sh{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Yt.Z)(function*(){t.serializer=Qd(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function Wd(r,e,t,s){return new Qh(r,e,t,s)}(this.persistence,new gy,e.initialUser,this.serializer)}createPersistence(e){return new Lp(nu.zs,this.serializer)}createSharedClientState(e){return new Dy}terminate(){var e=this;return(0,Yt.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Ac{initialize(e,t){var s=this;return(0,Yt.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=a=>B_(s.syncEngine,a,1),s.remoteStore.remoteSyncer.handleCredentialChange=Uy.bind(null,s.syncEngine),yield function nh(r,e){return tg.apply(this,arguments)}(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Oy}createDatastore(e){const t=Qd(e.databaseInfo.databaseId),s=new N_(e.databaseInfo);return new by(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,a=e.asyncQueue,c=b=>B_(this.syncEngine,b,0),f=tf.D()?new tf:new Cy,new L_(t,s,a,c,f);var t,s,a,c,f}createSyncEngine(e,t){return function(s,a,c,f,b,V,H){const ee=new Fy(s,a,c,f,b,V);return H&&(ee.vc=!0),ee}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Yt.Z)(function*(t){const s=p(t);St("RemoteStore","RemoteStore shutting down."),s.vu.add(5),yield Ca(s),s.Pu.shutdown(),s.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class ud{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Ar("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class zy{constructor(e,t,s,a){var c=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=lr.UNAUTHENTICATED,this.clientId=ri.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var f=(0,Yt.Z)(function*(b){St("FirestoreClient","Received user=",b.uid),yield c.authCredentialListener(b),c.user=b});return function(b){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(s,f=>(St("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}getConfiguration(){var e=this;return(0,Yt.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new M(w.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new W;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Yt.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const a=Tc(s,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function ah(r,e){return If.apply(this,arguments)}function If(){return If=(0,Yt.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),St("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(function(){var a=(0,Yt.Z)(function*(c){s.isEqual(c)||(yield Kd(e.localStore,c),s=c)});return function(c){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}),If.apply(this,arguments)}function Df(r,e){return Cf.apply(this,arguments)}function Cf(){return Cf=(0,Yt.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield function Ng(r){return kg.apply(this,arguments)}(r);St("FirestoreClient","Initializing OnlineComponentProvider");const s=yield r.getConfiguration();yield e.initialize(t,s),r.setCredentialChangeListener(a=>th(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,c)=>th(e.remoteStore,c)),r._onlineComponents=e}),Cf.apply(this,arguments)}function kg(){return kg=(0,Yt.Z)(function*(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){St("FirestoreClient","Using user provided OfflineComponentProvider");try{yield ah(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function xg(r){return"FirebaseError"===r.name?r.code===w.FAILED_PRECONDITION||r.code===w.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code}(t))throw t;ni("Error using user provided cache. Falling back to memory cache: "+t),yield ah(r,new sh)}}else St("FirestoreClient","Using default OfflineComponentProvider"),yield ah(r,new sh);return r._offlineComponents}),kg.apply(this,arguments)}function Tf(r){return Fg.apply(this,arguments)}function Fg(){return Fg=(0,Yt.Z)(function*(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(St("FirestoreClient","Using user provided OnlineComponentProvider"),yield Df(r,r._uninitializedComponentsProvider._online)):(St("FirestoreClient","Using default OnlineComponentProvider"),yield Df(r,new Ac))),r._onlineComponents}),Fg.apply(this,arguments)}function ld(r){return Vg.apply(this,arguments)}function Vg(){return Vg=(0,Yt.Z)(function*(r){const e=yield Tf(r),t=e.eventManager;return t.onListen=pf.bind(null,e.syncEngine),t.onUnlisten=pg.bind(null,e.syncEngine),t}),Vg.apply(this,arguments)}function Ug(r){const e={};return void 0!==r.timeoutSeconds&&(e.timeoutSeconds=r.timeoutSeconds),e}const Bg=new Map;function Sf(r,e,t){if(!t)throw new M(w.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function jg(r){if(!rn.isDocumentKey(r))throw new M(w.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function $g(r){if(rn.isDocumentKey(r))throw new M(w.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function uh(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":en()}function Lr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new M(w.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=uh(r);throw new M(w.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}class ev{constructor(e){var t,s;if(void 0===e.host){if(void 0!==e.ssl)throw new M(w.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new M(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Xy(r,e,t,s){if(!0===e&&!0===s)throw new M(w.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Ug(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(a){if(void 0!==a.timeoutSeconds){if(isNaN(a.timeoutSeconds))throw new M(w.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new M(w.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new M(w.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lh{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ev({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new M(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new M(w.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ev(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Se;switch(t.type){case"firstParty":return new qn(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new M(w.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Bg.get(e);t&&(St("ComponentProvider","Removing Datastore"),Bg.delete(e),t.terminate())}(this),Promise.resolve()}}class co{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new co(this.firestore,e,this._key)}}class To{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new To(this.firestore,e,this._query)}}class gl extends To{constructor(e,t,s){super(e,t,$c(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new co(this.firestore,null,new rn(e))}withConverter(e){return new gl(this.firestore,e,this._path)}}function tv(r,e,...t){if(r=(0,$n.m9)(r),Sf("collection","path",e),r instanceof lh){const s=Pr.fromString(e,...t);return $g(s),new gl(r,null,s)}{if(!(r instanceof co||r instanceof gl))throw new M(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Pr.fromString(e,...t));return $g(s),new gl(r.firestore,null,s)}}function e0(r,e,...t){if(r=(0,$n.m9)(r),1===arguments.length&&(e=ri.A()),Sf("doc","path",e),r instanceof lh){const s=Pr.fromString(e,...t);return jg(s),new co(r,null,new rn(s))}{if(!(r instanceof co||r instanceof gl))throw new M(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Pr.fromString(e,...t));return jg(s),new co(r.firestore,r instanceof gl?r.converter:null,new rn(s))}}class t0{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new sf(this,"async_queue_retry"),this.Xc=()=>{const t=rf();t&&St("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=rf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=rf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new W;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,Yt.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!wa(t))throw t;St("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(s=>{throw this.Wc=s,this.Hc=!1,Ar("INTERNAL UNHANDLED ERROR: ",function(c){let f=c.message||"";return c.stack&&(f=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),f}(s)),s}).then(s=>(this.Hc=!1,s))));return this.Gc=t,t}enqueueAfterDelay(e,t,s){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const a=lf.createAndSchedule(this,e,t,s,c=>this.na(c));return this.zc.push(a),a}Zc(){this.Wc&&en()}verifyOperationInProgress(){}sa(){var e=this;return(0,Yt.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function Hg(r){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const a of["next","error","complete"])if(a in s&&"function"==typeof s[a])return!0;return!1}(r)}class Ui extends lh{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new t0,this._persistenceKey=a?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Gg(this),this._firestoreClient.terminate()}}function Fs(r,e){const t="object"==typeof r?r:(0,kn.getApp)(),s="string"==typeof r?r:e||"(default)",a=(0,kn._getProvider)(t,"firestore").getImmediate({identifier:s});if(!a._initialized){const c=(0,$n.P0)("firestore");c&&function cd(r,e,t,s={}){var a;const c=(r=Lr(r,lh))._getSettings();if("firestore.googleapis.com"!==c.host&&c.host!==e&&ni("Host has been set in both settings() and useEmulator(), emulator host will be used"),r._setSettings(Object.assign(Object.assign({},c),{host:`${e}:${t}`,ssl:!1})),s.mockUserToken){let f,b;if("string"==typeof s.mockUserToken)f=s.mockUserToken,b=lr.MOCK_USER;else{f=(0,$n.Sg)(s.mockUserToken,null===(a=r._app)||void 0===a?void 0:a.options.projectId);const V=s.mockUserToken.sub||s.mockUserToken.user_id;if(!V)throw new M(w.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new lr(V)}r._authCredentials=new et(new J(f,b))}}(a,...c)}return a}function bo(r){return r._firestoreClient||Gg(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function Gg(r){var e,t,s;const a=r._freezeSettings(),c=(b=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new lt(r._databaseId,b,r._persistenceKey,(H=a).host,H.ssl,H.experimentalForceLongPolling,H.experimentalAutoDetectLongPolling,Ug(H.experimentalLongPollingOptions),H.useFetchStreams));var b,H;r._firestoreClient=new zy(r._authCredentials,r._appCheckCredentials,r._queue,c),null!==(t=a.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(s=a.cache)&&void 0!==s&&s._onlineComponentProvider&&(r._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.cache.kind,_offline:a.cache._offlineComponentProvider,_online:a.cache._onlineComponentProvider})}class tl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new tl(Js.fromBase64String(e))}catch(t){throw new M(w.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new tl(Js.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Mc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new M(w.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ki(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Mf{constructor(e){this._methodName=e}}class Kg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new M(w.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new M(w.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ln(this._lat,e._lat)||Ln(this._long,e._long)}}const dh=/^__.*__$/;class hh{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new yu(e,this.data,this.fieldMask,t,this.fieldTransforms):new xl(e,this.data,t,this.fieldTransforms)}}class iv{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new yu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function sv(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw en()}}class Rf{constructor(e,t,s,a,c,f){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,void 0===c&&this.ua(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Rf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:s,la:!1});return a.fa(e),a}da(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:s,la:!1});return a.ua(),a}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Nf(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(sv(this.ca)&&dh.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class ov{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Qd(e)}ya(e,t,s,a=!1){return new Rf({ca:e,methodName:t,ga:s,path:Ki.emptyPath(),la:!1,ma:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rc(r){const e=r._freezeSettings(),t=Qd(r._databaseId);return new ov(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Of(r,e,t,s,a,c={}){const f=r.ya(c.merge||c.mergeFields?2:0,e,t,a);Pf("Data must be an object, but it was:",f,s);const b=av(s,f);let V,H;if(c.merge)V=new Ho(f.fieldMask),H=f.fieldTransforms;else if(c.mergeFields){const ee=[];for(const ge of c.mergeFields){const ze=ml(e,ge,t);if(!f.contains(ze))throw new M(w.INVALID_ARGUMENT,`Field '${ze}' is specified in your field mask but missing from your input data.`);lv(ee,ze)||ee.push(ze)}V=new Ho(ee),H=f.fieldTransforms.filter(ge=>V.covers(ge.field))}else V=null,H=f.fieldTransforms;return new hh(new zo(b),V,H)}class fh extends Mf{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof fh}}function nl(r,e){if(uv(r=(0,$n.m9)(r)))return Pf("Unsupported field value:",e,r),av(r,e);if(r instanceof Mf)return function(t,s){if(!sv(s.ca))throw s._a(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s._a(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,s){const a=[];let c=0;for(const f of t){let b=nl(f,s.wa(c));null==b&&(b={nullValue:"NULL_VALUE"}),a.push(b),c++}return{arrayValue:{values:a}}}(r,e)}return function(t,s){if(null===(t=(0,$n.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Sm(s.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=Vi.fromDate(t);return{timestampValue:Kc(s.serializer,a)}}if(t instanceof Vi){const a=new Vi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Kc(s.serializer,a)}}if(t instanceof Kg)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof tl)return{bytesValue:$m(s.serializer,t._byteString)};if(t instanceof co){const a=s.databaseId,c=t.firestore._databaseId;if(!c.isEqual(a))throw s._a(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:fp(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s._a(`Unsupported field value: ${uh(t)}`)}(r,e)}function av(r,e){const t={};return ul(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Mu(r,(s,a)=>{const c=nl(a,e.ha(s));null!=c&&(t[s]=c)}),{mapValue:{fields:t}}}function uv(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof Vi||r instanceof Kg||r instanceof tl||r instanceof co||r instanceof Mf)}function Pf(r,e,t){if(!uv(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=uh(t);throw e._a("an object"===s?r+" a custom object":r+" "+s)}var s}function ml(r,e,t){if((e=(0,$n.m9)(e))instanceof Mc)return e._internalPath;if("string"==typeof e)return xf(r,e);throw Nf("Field path arguments must be of type string or ",r,!1,void 0,t)}const h0=new RegExp("[~\\*/\\[\\]]");function xf(r,e,t){if(e.search(h0)>=0)throw Nf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Mc(...e.split("."))._internalPath}catch{throw Nf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Nf(r,e,t,s,a){const c=s&&!s.isEmpty(),f=void 0!==a;let b=`Function ${e}() called with invalid data`;t&&(b+=" (via `toFirestore()`)"),b+=". ";let V="";return(c||f)&&(V+=" (found",c&&(V+=` in field ${s}`),f&&(V+=` in document ${a}`),V+=")"),new M(w.INVALID_ARGUMENT,b+r+V)}function lv(r,e){return r.some(t=>t.isEqual(e))}class cv{constructor(e,t,s,a,c){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new co(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new f0(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ph("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class f0 extends cv{data(){return super.data()}}function ph(r,e){return"string"==typeof e?xf(r,e):e instanceof Mc?e._internalPath:e._delegate._internalPath}function dv(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new M(w.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qg{}class hd extends Qg{}function p0(r,e,...t){let s=[];e instanceof Qg&&s.push(e),s=s.concat(t),function(a){const c=a.filter(b=>b instanceof Oc).length,f=a.filter(b=>b instanceof fd).length;if(c>1||c>0&&f>0)throw new M(w.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)r=a._apply(r);return r}class fd extends hd{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new fd(e,t,s)}_apply(e){const t=this._parse(e);return gv(e._query,t),new To(e.firestore,e.converter,Sh(e._query,t))}_parse(e){const t=Rc(e.firestore);return function(a,c,f,b,V,H,ee){let ge;if(V.isKeyField()){if("array-contains"===H||"array-contains-any"===H)throw new M(w.INVALID_ARGUMENT,`Invalid Query. You can't perform '${H}' queries on documentId().`);if("in"===H||"not-in"===H){pv(ee,H);const ze=[];for(const vt of ee)ze.push(fv(b,a,vt));ge={arrayValue:{values:ze}}}else ge=fv(b,a,ee)}else"in"!==H&&"not-in"!==H&&"array-contains-any"!==H||pv(ee,H),ge=function Yg(r,e,t,s=!1){return nl(t,r.ya(s?4:3,e))}(f,"where",ee,"in"===H||"not-in"===H);return zr.create(V,H,ge)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function g0(r,e,t){const s=e,a=ph("where",r);return fd._create(a,s,t)}class Oc extends Qg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Oc(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===t.length?t[0]:Mi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(s,a){let c=s;const f=a.getFlattenedFilters();for(const b of f)gv(c,b),c=Sh(c,b)}(e._query,t),new To(e.firestore,e.converter,Sh(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Jg extends hd{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Jg(e,t)}_apply(e){const t=function(s,a,c){if(null!==s.startAt)throw new M(w.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new M(w.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const f=new cl(a,c);return function(b,V){if(null===Jf(b)){const H=sc(b);null!==H&&mv(0,H,V.field)}}(s,f),f}(e._query,this._field,this._direction);return new To(e.firestore,e.converter,function(s,a){const c=s.explicitOrderBy.concat([a]);return new zu(s.path,s.collectionGroup,c,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function Xg(r,e="asc"){const t=e,s=ph("orderBy",r);return Jg._create(s,t)}function fv(r,e,t){if("string"==typeof(t=(0,$n.m9)(t))){if(""===t)throw new M(w.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ru(e)&&-1!==t.indexOf("/"))throw new M(w.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Pr.fromString(t));if(!rn.isDocumentKey(s))throw new M(w.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return mu(r,new rn(s))}if(t instanceof co)return mu(r,t._key);throw new M(w.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${uh(t)}.`)}function pv(r,e){if(!Array.isArray(r)||0===r.length)throw new M(w.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function gv(r,e){if(e.isInequality()){const s=sc(r),a=e.field;if(null!==s&&!s.isEqual(a))throw new M(w.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${a.toString()}'`);const c=Jf(r);null!==c&&mv(0,a,c)}const t=function(s,a){for(const c of s)for(const f of c.getFlattenedFilters())if(a.indexOf(f.op)>=0)return f.op;return null}(r.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new M(w.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function mv(r,e,t){if(!t.isEqual(e))throw new M(w.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class E0{convertValue(e,t="none"){switch(Hn(e)){case 0:return null;case 1:return e.booleanValue;case 2:return m(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(T(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw en()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Mu(e,(a,c)=>{s[a]=this.convertValue(c,t)}),s}convertGeoPoint(e){return new Kg(m(e.latitude),m(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=ne(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Oe(e));default:return null}}convertTimestamp(e){const t=d(e);return new Vi(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Pr.fromString(e);_(Zm(s));const a=new Lt(s.get(1),s.get(3)),c=new rn(s.popFirst(5));return a.isEqual(t)||Ar(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}class Pc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gd extends cv{constructor(e,t,s,a,c,f){super(e,t,s,a,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new md(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(ph("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class md extends gd{data(e={}){return super.data(e)}}class Wl{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Pc(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new md(this._firestore,this._userDataWriter,s.key,s,new Pc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new M(w.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(f=>({type:"added",doc:new md(s._firestore,s._userDataWriter,f.doc.key,f.doc,new Pc(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:c++}))}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(f=>a||3!==f.type).map(f=>{const b=new md(s._firestore,s._userDataWriter,f.doc.key,f.doc,new Pc(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);let V=-1,H=-1;return 0!==f.type&&(V=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),1!==f.type&&(c=c.add(f.doc),H=c.indexOf(f.doc.key)),{type:vv(f.type),doc:b,oldIndex:V,newIndex:H}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function vv(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return en()}}class Kl extends E0{constructor(e){super(),this.firestore=e}convertBytes(e){return new tl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new co(this.firestore,null,t)}}function wv(r){r=Lr(r,To);const e=Lr(r.firestore,Ui),t=bo(e),s=new Kl(e);return dv(r._query),function Zy(r,e,t={}){const s=new W;return r.asyncQueue.enqueueAndForget((0,Yt.Z)(function*(){return function(a,c,f,b,V){const H=new ud({next:ge=>{c.enqueueAndForget(()=>df(a,ee)),ge.fromCache&&"server"===b.source?V.reject(new M(w.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):V.resolve(ge)},error:ge=>V.reject(ge)}),ee=new og(f,H,{includeMetadataChanges:!0,Ku:!0});return ig(a,ee)}(yield ld(r),r.asyncQueue,e,t,s)})),s.promise}(t,r._query).then(a=>new Wl(e,s,r,a))}function b0(r,e,t){r=Lr(r,co);const s=Lr(r.firestore,Ui),a=function em(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}(r.converter,e,t);return mh(s,[Of(Rc(s),"setDoc",r._key,a,null!==r.converter,t).toMutation(r._key,Cs.none())])}function $E(r,e,t,...s){r=Lr(r,co);const a=Lr(r.firestore,Ui),c=Rc(a);let f;return f="string"==typeof(e=(0,$n.m9)(e))||e instanceof Mc?function d0(r,e,t,s,a,c){const f=r.ya(1,e,t),b=[ml(e,s,t)],V=[a];if(c.length%2!=0)throw new M(w.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ze=0;ze<c.length;ze+=2)b.push(ml(e,c[ze])),V.push(c[ze+1]);const H=[],ee=zo.empty();for(let ze=b.length-1;ze>=0;--ze)if(!lv(H,b[ze])){const vt=b[ze];let Ut=V[ze];Ut=(0,$n.m9)(Ut);const dn=f.da(vt);if(Ut instanceof fh)H.push(vt);else{const gn=nl(Ut,dn);null!=gn&&(H.push(vt),ee.set(vt,gn))}}const ge=new Ho(H);return new iv(ee,ge,f.fieldTransforms)}(c,"updateDoc",r._key,e,t,s):function c0(r,e,t,s){const a=r.ya(1,e,t);Pf("Data must be an object, but it was:",a,s);const c=[],f=zo.empty();Mu(s,(V,H)=>{const ee=xf(e,V,t);H=(0,$n.m9)(H);const ge=a.da(ee);if(H instanceof fh)c.push(ee);else{const ze=nl(H,ge);null!=ze&&(c.push(ee),f.set(ee,ze))}});const b=new Ho(c);return new iv(f,b,a.fieldTransforms)}(c,"updateDoc",r._key,e),mh(a,[f.toMutation(r._key,Cs.exists(!0))])}function Iv(r){return mh(Lr(r.firestore,Ui),[new vu(r._key,Cs.none())])}function mh(r,e){return function(t,s){const a=new W;return t.asyncQueue.enqueueAndForget((0,Yt.Z)(function*(){return function gg(r,e,t){return mg.apply(this,arguments)}(yield function Lg(r){return Tf(r).then(e=>e.syncEngine)}(t),s,a)})),a.promise}(bo(r),e)}!function(r,e=!0){os=kn.SDK_VERSION,(0,kn._registerComponent)(new Rr.wA("firestore",(t,{instanceIdentifier:s,options:a})=>{const c=t.getProvider("app").getImmediate(),f=new Ui(new kt(t.getProvider("auth-internal")),new Hr(t.getProvider("app-check-internal")),function(b,V){if(!Object.prototype.hasOwnProperty.apply(b.options,["projectId"]))throw new M(w.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lt(b.options.projectId,V)}(c,s),c);return a=Object.assign({useFetchStreams:e},a),f._setSettings(a),f},"PUBLIC").setMultipleInstances(!0)),(0,kn.registerVersion)(Jr,"3.12.1",r),(0,kn.registerVersion)(Jr,"3.12.1","esm2017")}();var yh=j(9751),tm=j(4004),Pv={includeMetadataChanges:!1};function Uf(r,e){return void 0===e&&(e=Pv),new yh.y(function(t){var s=function S0(r,...e){var t,s,a;r=(0,$n.m9)(r);let c={includeMetadataChanges:!1},f=0;"object"!=typeof e[f]||Hg(e[f])||(c=e[f],f++);const b={includeMetadataChanges:c.includeMetadataChanges};if(Hg(e[f])){const ge=e[f];e[f]=null===(t=ge.next)||void 0===t?void 0:t.bind(ge),e[f+1]=null===(s=ge.error)||void 0===s?void 0:s.bind(ge),e[f+2]=null===(a=ge.complete)||void 0===a?void 0:a.bind(ge)}let V,H,ee;if(r instanceof co)H=Lr(r.firestore,Ui),ee=$c(r._key.path),V={next:ge=>{e[f]&&e[f](function Lf(r,e,t){const s=t.docs.get(e._key),a=new Kl(r);return new gd(r,a,e._key,s,new Pc(t.hasPendingWrites,t.fromCache),e.converter)}(H,r,ge))},error:e[f+1],complete:e[f+2]};else{const ge=Lr(r,To);H=Lr(ge.firestore,Ui),ee=ge._query;const ze=new Kl(H);V={next:vt=>{e[f]&&e[f](new Wl(H,ze,ge,vt))},error:e[f+1],complete:e[f+2]},dv(r._query)}return function(ge,ze,vt,Ut){const dn=new ud(Ut),gn=new og(ze,dn,vt);return ge.asyncQueue.enqueueAndForget((0,Yt.Z)(function*(){return ig(yield ld(ge),gn)})),()=>{dn.Dc(),ge.asyncQueue.enqueueAndForget((0,Yt.Z)(function*(){return df(yield ld(ge),gn)}))}}(bo(H),ee,b,V)}(r,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:s}})}function sm(r,e){return void 0===e&&(e={}),function im(r){return Uf(r,{includeMetadataChanges:!0}).pipe((0,tm.U)(function(e){return e.docs}))}(r).pipe((0,tm.U)(function(t){return t.map(function(s){return function nm(r,e){void 0===e&&(e={});var t=r.data();return!r.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=r.id),t}(s,e)})}))}class ql{constructor(e){return e}}const Lv="firestore",yd=new L.OlP("angularfire2.firestore-instances");function V0(r){return(e,t)=>{const s=e.runOutsideAngular(()=>r(t));return new ql(s)}}const U0={provide:class L0{constructor(){return(0,y.vb)(Lv)}},deps:[[new L.FiY,yd]]},Vv={provide:ql,useFactory:function jf(r,e){const t=(0,y.JM)(Lv,r,e);return t&&new ql(t)},deps:[[new L.FiY,yd],q.Ot]};let om=(()=>{class r{constructor(){(0,ie.KN)("angularfire",y.q4.full,"fst")}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=L.oAB({type:r}),r.\u0275inj=L.cJS({providers:[Vv,U0]}),r})();function am(r,...e){return{ngModule:om,providers:[{provide:yd,useFactory:V0(r),multi:!0,deps:[L.R0b,L.zs3,y.HU,q.z6,[new L.FiY,Ae],[new L.FiY,ur.nm],...e]}]}}const um=(0,y.u3)(sm,!0),z0=(0,y.u3)(tv,!0),K0=(0,y.u3)(Iv,!0),Y0=(0,y.u3)(e0,!0),lm=(0,y.u3)(wv,!0),cm=(0,y.u3)(Fs,!0),Hf=(0,y.u3)(Xg,!0),dm=(0,y.u3)(p0,!0),vd=(0,y.u3)(b0,!0),_w=(0,y.u3)($E,!0),oE=(0,y.u3)(g0,!0)},4976:(jt,je,j)=>{j.d(je,{q4:()=>da,iC:()=>Yl,fc:()=>Dl,HU:()=>hu,vb:()=>Lc,JM:()=>bu,u3:()=>Jl});var y=j(4650),L=j(259),q=j(5861),ie=j(6881),Z=j(2090),we=j(4859),Ce=j(1877);const Ae=(C,O)=>O.some(G=>C instanceof G);let ve,se;const Ge=new WeakMap,Ze=new WeakMap,gt=new WeakMap,mt=new WeakMap,We=new WeakMap;let Dt={get(C,O,G){if(C instanceof IDBTransaction){if("done"===O)return Ze.get(C);if("objectStoreNames"===O)return C.objectStoreNames||gt.get(C);if("store"===O)return G.objectStoreNames[1]?void 0:G.objectStore(G.objectStoreNames[0])}return It(C[O])},set:(C,O,G)=>(C[O]=G,!0),has:(C,O)=>C instanceof IDBTransaction&&("done"===O||"store"===O)||O in C};function nt(C){return"function"==typeof C?function _e(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function de(){return se||(se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...O){return C.apply(ht(this),O),It(Ge.get(this))}:function(...O){return It(C.apply(ht(this),O))}:function(O,...G){const ae=C.call(ht(this),O,...G);return gt.set(ae,O.sort?O.sort():[O]),It(ae)}}(C):(C instanceof IDBTransaction&&function pt(C){if(Ze.has(C))return;const O=new Promise((G,ae)=>{const De=()=>{C.removeEventListener("complete",Ne),C.removeEventListener("error",dt),C.removeEventListener("abort",dt)},Ne=()=>{G(),De()},dt=()=>{ae(C.error||new DOMException("AbortError","AbortError")),De()};C.addEventListener("complete",Ne),C.addEventListener("error",dt),C.addEventListener("abort",dt)});Ze.set(C,O)}(C),Ae(C,function oe(){return ve||(ve=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,Dt):C)}function It(C){if(C instanceof IDBRequest)return function rt(C){const O=new Promise((G,ae)=>{const De=()=>{C.removeEventListener("success",Ne),C.removeEventListener("error",dt)},Ne=()=>{G(It(C.result)),De()},dt=()=>{ae(C.error),De()};C.addEventListener("success",Ne),C.addEventListener("error",dt)});return O.then(G=>{G instanceof IDBCursor&&Ge.set(G,C)}).catch(()=>{}),We.set(O,C),O}(C);if(mt.has(C))return mt.get(C);const O=nt(C);return O!==C&&(mt.set(C,O),We.set(O,C)),O}const ht=C=>We.get(C),nn=["get","getKey","getAll","getAllKeys","count"],bt=["put","add","delete","clear"],mn=new Map;function Ht(C,O){if(!(C instanceof IDBDatabase)||O in C||"string"!=typeof O)return;if(mn.get(O))return mn.get(O);const G=O.replace(/FromIndex$/,""),ae=O!==G,De=bt.includes(G);if(!(G in(ae?IDBIndex:IDBObjectStore).prototype)||!De&&!nn.includes(G))return;const Ne=function(){var dt=(0,q.Z)(function*(sn,...Zt){const Tn=this.transaction(sn,De?"readwrite":"readonly");let Zn=Tn.store;return ae&&(Zn=Zn.index(Zt.shift())),(yield Promise.all([Zn[G](...Zt),De&&Tn.done]))[0]});return function(Zt){return dt.apply(this,arguments)}}();return mn.set(O,Ne),Ne}!function Le(C){Dt=C(Dt)}(C=>({...C,get:(O,G,ae)=>Ht(O,G)||C.get(O,G,ae),has:(O,G)=>!!Ht(O,G)||C.has(O,G)}));const yi="@firebase/installations",Qe="0.6.4",ke=1e4,Je=`w:${Qe}`,it="FIS_v2",ft="https://firebaseinstallations.googleapis.com/v1",_t=36e5,Bt=new Z.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ve(C){return C instanceof Z.ZR&&C.code.includes("request-failed")}function ut({projectId:C}){return`${ft}/projects/${C}/installations`}function Me(C){return{token:C.token,requestStatus:2,expiresIn:Gr(C.expiresIn),creationTime:Date.now()}}function He(C,O){return qt.apply(this,arguments)}function qt(){return(qt=(0,q.Z)(function*(C,O){const ae=(yield O.json()).error;return Bt.create("request-failed",{requestName:C,serverCode:ae.code,serverMessage:ae.message,serverStatus:ae.status})})).apply(this,arguments)}function fn({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function Vn(C){return an.apply(this,arguments)}function an(){return(an=(0,q.Z)(function*(C){const O=yield C();return O.status>=500&&O.status<600?C():O})).apply(this,arguments)}function Gr(C){return Number(C.replace("s","000"))}function zt(){return(zt=(0,q.Z)(function*({appConfig:C,heartbeatServiceProvider:O},{fid:G}){const ae=ut(C),De=fn(C),Ne=O.getImmediate({optional:!0});if(Ne){const Tn=yield Ne.getHeartbeatsHeader();Tn&&De.append("x-firebase-client",Tn)}const sn={method:"POST",headers:De,body:JSON.stringify({fid:G,authVersion:it,appId:C.appId,sdkVersion:Je})},Zt=yield Vn(()=>fetch(ae,sn));if(Zt.ok){const Tn=yield Zt.json();return{fid:Tn.fid||G,registrationStatus:2,refreshToken:Tn.refreshToken,authToken:Me(Tn.authToken)}}throw yield He("Create Installation",Zt)})).apply(this,arguments)}function Dr(C){return new Promise(O=>{setTimeout(O,C)})}const Cr=/^[cdef][\w-]{21}$/,Mr="";function Ri(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const G=function fr(C){return function vr(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return Cr.test(G)?G:Mr}catch{return Mr}}function Qt(C){return`${C.appName}!${C.appId}`}const Jt=new Map;function vn(C,O){const G=Qt(C);Er(G,O),function Oi(C,O){const G=function Ur(){return!Vr&&"BroadcastChannel"in self&&(Vr=new BroadcastChannel("[Firebase] FID Change"),Vr.onmessage=C=>{Er(C.data.key,C.data.fid)}),Vr}();G&&G.postMessage({key:C,fid:O}),function ur(){0===Jt.size&&Vr&&(Vr.close(),Vr=null)}()}(G,O)}function Er(C,O){const G=Jt.get(C);if(G)for(const ae of G)ae(O)}let Vr=null;const Yt="firebase-installations-database",kn=1,Rr="firebase-installations-store";let Vt=null;function $n(){return Vt||(Vt=function Ue(C,O,{blocked:G,upgrade:ae,blocking:De,terminated:Ne}={}){const dt=indexedDB.open(C,O),sn=It(dt);return ae&&dt.addEventListener("upgradeneeded",Zt=>{ae(It(dt.result),Zt.oldVersion,Zt.newVersion,It(dt.transaction))}),G&&dt.addEventListener("blocked",()=>G()),sn.then(Zt=>{Ne&&Zt.addEventListener("close",()=>Ne()),De&&Zt.addEventListener("versionchange",()=>De())}).catch(()=>{}),sn}(Yt,kn,{upgrade:(C,O)=>{0===O&&C.createObjectStore(Rr)}})),Vt}function Or(C,O){return er.apply(this,arguments)}function er(){return(er=(0,q.Z)(function*(C,O){const G=Qt(C),De=(yield $n()).transaction(Rr,"readwrite"),Ne=De.objectStore(Rr),dt=yield Ne.get(G);return yield Ne.put(O,G),yield De.done,(!dt||dt.fid!==O.fid)&&vn(C,O.fid),O})).apply(this,arguments)}function Rt(C){return qr.apply(this,arguments)}function qr(){return(qr=(0,q.Z)(function*(C){const O=Qt(C),ae=(yield $n()).transaction(Rr,"readwrite");yield ae.objectStore(Rr).delete(O),yield ae.done})).apply(this,arguments)}function ln(C,O){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,q.Z)(function*(C,O){const G=Qt(C),De=(yield $n()).transaction(Rr,"readwrite"),Ne=De.objectStore(Rr),dt=yield Ne.get(G),sn=O(dt);return void 0===sn?yield Ne.delete(G):yield Ne.put(sn,G),yield De.done,sn&&(!dt||dt.fid!==sn.fid)&&vn(C,sn.fid),sn})).apply(this,arguments)}function fe(C){return le.apply(this,arguments)}function le(){return le=(0,q.Z)(function*(C){let O;const G=yield ln(C.appConfig,ae=>{const De=function Ee(C){return Ie(C||{fid:Ri(),registrationStatus:0})}(ae),Ne=function st(C,O){if(0===O.registrationStatus){if(!navigator.onLine)return{installationEntry:O,registrationPromise:Promise.reject(Bt.create("app-offline"))};const G={fid:O.fid,registrationStatus:1,registrationTime:Date.now()},ae=function Be(C,O){return Mt.apply(this,arguments)}(C,G);return{installationEntry:G,registrationPromise:ae}}return 1===O.registrationStatus?{installationEntry:O,registrationPromise:me(C)}:{installationEntry:O}}(C,De);return O=Ne.registrationPromise,Ne.installationEntry});return G.fid===Mr?{installationEntry:yield O}:{installationEntry:G,registrationPromise:O}}),le.apply(this,arguments)}function Mt(){return Mt=(0,q.Z)(function*(C,O){try{const G=yield function On(C,O){return zt.apply(this,arguments)}(C,O);return Or(C.appConfig,G)}catch(G){throw Ve(G)&&409===G.customData.serverCode?yield Rt(C.appConfig):yield Or(C.appConfig,{fid:O.fid,registrationStatus:0}),G}}),Mt.apply(this,arguments)}function me(C){return ye.apply(this,arguments)}function ye(){return(ye=(0,q.Z)(function*(C){let O=yield re(C.appConfig);for(;1===O.registrationStatus;)yield Dr(100),O=yield re(C.appConfig);if(0===O.registrationStatus){const{installationEntry:G,registrationPromise:ae}=yield fe(C);return ae||G}return O})).apply(this,arguments)}function re(C){return ln(C,O=>{if(!O)throw Bt.create("installation-not-found");return Ie(O)})}function Ie(C){return function ot(C){return 1===C.registrationStatus&&C.registrationTime+ke<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function cn(){return(cn=(0,q.Z)(function*({appConfig:C,heartbeatServiceProvider:O},G){const ae=function tr(C,{fid:O}){return`${ut(C)}/${O}/authTokens:generate`}(C,G),De=function Rn(C,{refreshToken:O}){const G=fn(C);return G.append("Authorization",function ci(C){return`${it} ${C}`}(O)),G}(C,G),Ne=O.getImmediate({optional:!0});if(Ne){const Tn=yield Ne.getHeartbeatsHeader();Tn&&De.append("x-firebase-client",Tn)}const sn={method:"POST",headers:De,body:JSON.stringify({installation:{sdkVersion:Je,appId:C.appId}})},Zt=yield Vn(()=>fetch(ae,sn));if(Zt.ok)return Me(yield Zt.json());throw yield He("Generate Auth Token",Zt)})).apply(this,arguments)}function Nn(C){return Pi.apply(this,arguments)}function Pi(){return Pi=(0,q.Z)(function*(C,O=!1){let G;const ae=yield ln(C.appConfig,Ne=>{if(!An(Ne))throw Bt.create("not-registered");const dt=Ne.authToken;if(!O&&function on(C){return 2===C.requestStatus&&!function nr(C){const O=Date.now();return O<C.creationTime||C.creationTime+C.expiresIn<O+_t}(C)}(dt))return Ne;if(1===dt.requestStatus)return G=function Xe(C,O){return Fe.apply(this,arguments)}(C,O),Ne;{if(!navigator.onLine)throw Bt.create("app-offline");const sn=function Bn(C){const O={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:O})}(Ne);return G=function Xt(C,O){return Sn.apply(this,arguments)}(C,sn),sn}});return G?yield G:ae.authToken}),Pi.apply(this,arguments)}function Fe(){return(Fe=(0,q.Z)(function*(C,O){let G=yield wt(C.appConfig);for(;1===G.authToken.requestStatus;)yield Dr(100),G=yield wt(C.appConfig);const ae=G.authToken;return 0===ae.requestStatus?Nn(C,O):ae})).apply(this,arguments)}function wt(C){return ln(C,O=>{if(!An(O))throw Bt.create("not-registered");return function Br(C){return 1===C.requestStatus&&C.requestTime+ke<Date.now()}(O.authToken)?Object.assign(Object.assign({},O),{authToken:{requestStatus:0}}):O})}function Sn(){return Sn=(0,q.Z)(function*(C,O){try{const G=yield function Tt(C,O){return cn.apply(this,arguments)}(C,O),ae=Object.assign(Object.assign({},O),{authToken:G});return yield Or(C.appConfig,ae),G}catch(G){if(!Ve(G)||401!==G.customData.serverCode&&404!==G.customData.serverCode){const ae=Object.assign(Object.assign({},O),{authToken:{requestStatus:0}});yield Or(C.appConfig,ae)}else yield Rt(C.appConfig);throw G}}),Sn.apply(this,arguments)}function An(C){return void 0!==C&&2===C.registrationStatus}function Ts(){return(Ts=(0,q.Z)(function*(C){const O=C,{installationEntry:G,registrationPromise:ae}=yield fe(O);return ae?ae.catch(console.error):Nn(O).catch(console.error),G.fid})).apply(this,arguments)}function xi(){return xi=(0,q.Z)(function*(C,O=!1){const G=C;return yield function or(C){return $t.apply(this,arguments)}(G),(yield Nn(G,O)).token}),xi.apply(this,arguments)}function $t(){return($t=(0,q.Z)(function*(C){const{registrationPromise:O}=yield fe(C);O&&(yield O)})).apply(this,arguments)}function Te(C){return Bt.create("missing-app-config-values",{valueName:C})}const be="installations",At=C=>{const O=C.getProvider("app").getImmediate(),G=function Re(C){if(!C||!C.options)throw Te("App Configuration");if(!C.name)throw Te("App Name");const O=["projectId","apiKey","appId"];for(const G of O)if(!C.options[G])throw Te(G);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(O);return{app:O,appConfig:G,heartbeatServiceProvider:(0,ie._getProvider)(O,"heartbeat"),_delete:()=>Promise.resolve()}},En=C=>{const O=C.getProvider("app").getImmediate(),G=(0,ie._getProvider)(O,be).getImmediate();return{getId:()=>function oi(C){return Ts.apply(this,arguments)}(G),getToken:De=>function bs(C){return xi.apply(this,arguments)}(G,De)}};(function Fn(){(0,ie._registerComponent)(new we.wA(be,At,"PUBLIC")),(0,ie._registerComponent)(new we.wA("installations-internal",En,"PRIVATE"))})(),(0,ie.registerVersion)(yi,Qe),(0,ie.registerVersion)(yi,Qe,"esm2017");const pn="@firebase/remote-config",ai=new Z.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class aa{constructor(O,G,ae,De){this.client=O,this.storage=G,this.storageCache=ae,this.logger=De}isCachedDataFresh(O,G){if(!G)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ae=Date.now()-G,De=ae<=O;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ae}. Cache max age millis (minimumFetchIntervalMillis setting): ${O}. Is cache hit: ${De}.`),De}fetch(O){var G=this;return(0,q.Z)(function*(){const[ae,De]=yield Promise.all([G.storage.getLastSuccessfulFetchTimestampMillis(),G.storage.getLastSuccessfulFetchResponse()]);if(De&&G.isCachedDataFresh(O.cacheMaxAgeMillis,ae))return De;O.eTag=De&&De.eTag;const Ne=yield G.client.fetch(O),dt=[G.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ne.status&&dt.push(G.storage.setLastSuccessfulFetchResponse(Ne)),yield Promise.all(dt),Ne})()}}function Ss(C=navigator){return C.languages&&C.languages[0]||C.language}class hs{constructor(O,G,ae,De,Ne,dt){this.firebaseInstallations=O,this.sdkVersion=G,this.namespace=ae,this.projectId=De,this.apiKey=Ne,this.appId=dt}fetch(O){var G=this;return(0,q.Z)(function*(){const[ae,De]=yield Promise.all([G.firebaseInstallations.getId(),G.firebaseInstallations.getToken()]),dt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${G.projectId}/namespaces/${G.namespace}:fetch?key=${G.apiKey}`,sn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":O.eTag||"*"},Zt={sdk_version:G.sdkVersion,app_instance_id:ae,app_instance_id_token:De,app_id:G.appId,language_code:Ss()},Tn={method:"POST",headers:sn,body:JSON.stringify(Zt)},Zn=fetch(dt,Tn),Yn=new Promise(($o,ha)=>{O.signal.addEventListener(()=>{const Tl=new Error("The operation was aborted.");Tl.name="AbortError",ha(Tl)})});let Io;try{yield Promise.race([Zn,Yn]),Io=yield Zn}catch($o){let ha="fetch-client-network";throw"AbortError"===$o?.name&&(ha="fetch-timeout"),ai.create(ha,{originalErrorMessage:$o?.message})}let Qs=Io.status;const gu=Io.headers.get("ETag")||void 0;let Xl,Au;if(200===Io.status){let $o;try{$o=yield Io.json()}catch(ha){throw ai.create("fetch-client-parse",{originalErrorMessage:ha?.message})}Xl=$o.entries,Au=$o.state}if("INSTANCE_STATE_UNSPECIFIED"===Au?Qs=500:"NO_CHANGE"===Au?Qs=304:("NO_TEMPLATE"===Au||"EMPTY_CONFIG"===Au)&&(Xl={}),304!==Qs&&200!==Qs)throw ai.create("fetch-status",{httpStatus:Qs});return{status:Qs,eTag:gu,config:Xl}})()}}class ma{constructor(O,G){this.client=O,this.storage=G}fetch(O){var G=this;return(0,q.Z)(function*(){const ae=(yield G.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return G.attemptFetch(O,ae)})()}attemptFetch(O,{throttleEndTimeMillis:G,backoffCount:ae}){var De=this;return(0,q.Z)(function*(){yield function js(C,O){return new Promise((G,ae)=>{const De=Math.max(O-Date.now(),0),Ne=setTimeout(G,De);C.addEventListener(()=>{clearTimeout(Ne),ae(ai.create("fetch-throttle",{throttleEndTimeMillis:O}))})})}(O.signal,G);try{const Ne=yield De.client.fetch(O);return yield De.storage.deleteThrottleMetadata(),Ne}catch(Ne){if(!function ga(C){if(!(C instanceof Z.ZR&&C.customData))return!1;const O=Number(C.customData.httpStatus);return 429===O||500===O||503===O||504===O}(Ne))throw Ne;const dt={throttleEndTimeMillis:Date.now()+(0,Z.$s)(ae),backoffCount:ae+1};return yield De.storage.setThrottleMetadata(dt),De.attemptFetch(O,dt)}})()}}class Zo{constructor(O,G,ae,De,Ne){this.app=O,this._client=G,this._storageCache=ae,this._storage=De,this._logger=Ne,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Bi(C,O){const G=C.target.error||void 0;return ai.create(O,{originalErrorMessage:G&&G?.message})}const ho="app_namespace_store";class Ro{constructor(O,G,ae,De=function Yo(){return new Promise((C,O)=>{try{const G=indexedDB.open("firebase_remote_config",1);G.onerror=ae=>{O(Bi(ae,"storage-open"))},G.onsuccess=ae=>{C(ae.target.result)},G.onupgradeneeded=ae=>{0===ae.oldVersion&&ae.target.result.createObjectStore(ho,{keyPath:"compositeKey"})}}catch(G){O(ai.create("storage-open",{originalErrorMessage:G?.message}))}})}()){this.appId=O,this.appName=G,this.namespace=ae,this.openDbPromise=De}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(O){return this.set("last_fetch_status",O)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(O){return this.set("last_successful_fetch_timestamp_millis",O)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(O){return this.set("last_successful_fetch_response",O)}getActiveConfig(){return this.get("active_config")}setActiveConfig(O){return this.set("active_config",O)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(O){return this.set("active_config_etag",O)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(O){return this.set("throttle_metadata",O)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(O){var G=this;return(0,q.Z)(function*(){const ae=yield G.openDbPromise;return new Promise((De,Ne)=>{const sn=ae.transaction([ho],"readonly").objectStore(ho),Zt=G.createCompositeKey(O);try{const Tn=sn.get(Zt);Tn.onerror=Zn=>{Ne(Bi(Zn,"storage-get"))},Tn.onsuccess=Zn=>{const Yn=Zn.target.result;De(Yn?Yn.value:void 0)}}catch(Tn){Ne(ai.create("storage-get",{originalErrorMessage:Tn?.message}))}})})()}set(O,G){var ae=this;return(0,q.Z)(function*(){const De=yield ae.openDbPromise;return new Promise((Ne,dt)=>{const Zt=De.transaction([ho],"readwrite").objectStore(ho),Tn=ae.createCompositeKey(O);try{const Zn=Zt.put({compositeKey:Tn,value:G});Zn.onerror=Yn=>{dt(Bi(Yn,"storage-set"))},Zn.onsuccess=()=>{Ne()}}catch(Zn){dt(ai.create("storage-set",{originalErrorMessage:Zn?.message}))}})})()}delete(O){var G=this;return(0,q.Z)(function*(){const ae=yield G.openDbPromise;return new Promise((De,Ne)=>{const sn=ae.transaction([ho],"readwrite").objectStore(ho),Zt=G.createCompositeKey(O);try{const Tn=sn.delete(Zt);Tn.onerror=Zn=>{Ne(Bi(Zn,"storage-delete"))},Tn.onsuccess=()=>{De()}}catch(Tn){Ne(ai.create("storage-delete",{originalErrorMessage:Tn?.message}))}})})()}createCompositeKey(O){return[this.appId,this.appName,this.namespace,O].join()}}class $s{constructor(O){this.storage=O}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var O=this;return(0,q.Z)(function*(){const G=O.storage.getLastFetchStatus(),ae=O.storage.getLastSuccessfulFetchTimestampMillis(),De=O.storage.getActiveConfig(),Ne=yield G;Ne&&(O.lastFetchStatus=Ne);const dt=yield ae;dt&&(O.lastSuccessfulFetchTimestampMillis=dt);const sn=yield De;sn&&(O.activeConfig=sn)})()}setLastFetchStatus(O){return this.lastFetchStatus=O,this.storage.setLastFetchStatus(O)}setLastSuccessfulFetchTimestampMillis(O){return this.lastSuccessfulFetchTimestampMillis=O,this.storage.setLastSuccessfulFetchTimestampMillis(O)}setActiveConfig(O){return this.activeConfig=O,this.storage.setActiveConfig(O)}}function Hs(){return fo.apply(this,arguments)}function fo(){return(fo=(0,q.Z)(function*(){if(!(0,Z.hl)())return!1;try{return yield(0,Z.eu)()}catch{return!1}})).apply(this,arguments)}!function vi(){(0,ie._registerComponent)(new we.wA("remote-config",function C(O,{instanceIdentifier:G}){const ae=O.getProvider("app").getImmediate(),De=O.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ai.create("registration-window");if(!(0,Z.hl)())throw ai.create("indexed-db-unavailable");const{projectId:Ne,apiKey:dt,appId:sn}=ae.options;if(!Ne)throw ai.create("registration-project-id");if(!dt)throw ai.create("registration-api-key");if(!sn)throw ai.create("registration-app-id");const Zt=new Ro(sn,ae.name,G=G||"firebase"),Tn=new $s(Zt),Zn=new Ce.Yd(pn);Zn.logLevel=Ce.in.ERROR;const Yn=new hs(De,ie.SDK_VERSION,G,Ne,dt,sn),Io=new ma(Yn,Zt),Qs=new aa(Io,Zt,Tn,Zn),gu=new Zo(ae,Qs,Tn,Zt,Zn);return function di(C){const O=(0,Z.m9)(C);O._initializePromise||(O._initializePromise=O._storageCache.loadFromStorage().then(()=>{O._isInitializationComplete=!0}))}(gu),gu},"PUBLIC").setMultipleInstances(!0)),(0,ie.registerVersion)(pn,"0.4.4"),(0,ie.registerVersion)(pn,"0.4.4","esm2017")}();const ba=(C,O)=>O.some(G=>C instanceof G);let Di,po;const Wi=new WeakMap,fs=new WeakMap,Jn=new WeakMap,Ci=new WeakMap,Qi=new WeakMap;let go={get(C,O,G){if(C instanceof IDBTransaction){if("done"===O)return fs.get(C);if("objectStoreNames"===O)return C.objectStoreNames||Jn.get(C);if("store"===O)return G.objectStoreNames[1]?void 0:G.objectStore(G.objectStoreNames[0])}return Ti(C[O])},set:(C,O,G)=>(C[O]=G,!0),has:(C,O)=>C instanceof IDBTransaction&&("done"===O||"store"===O)||O in C};function ps(C){return"function"==typeof C?function Sa(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Oo(){return po||(po=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...O){return C.apply(Yr(this),O),Ti(Wi.get(this))}:function(...O){return Ti(C.apply(Yr(this),O))}:function(O,...G){const ae=C.call(Yr(this),O,...G);return Jn.set(ae,O.sort?O.sort():[O]),Ti(ae)}}(C):(C instanceof IDBTransaction&&function Rs(C){if(fs.has(C))return;const O=new Promise((G,ae)=>{const De=()=>{C.removeEventListener("complete",Ne),C.removeEventListener("error",dt),C.removeEventListener("abort",dt)},Ne=()=>{G(),De()},dt=()=>{ae(C.error||new DOMException("AbortError","AbortError")),De()};C.addEventListener("complete",Ne),C.addEventListener("error",dt),C.addEventListener("abort",dt)});fs.set(C,O)}(C),ba(C,function ro(){return Di||(Di=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,go):C)}function Ti(C){if(C instanceof IDBRequest)return function Tr(C){const O=new Promise((G,ae)=>{const De=()=>{C.removeEventListener("success",Ne),C.removeEventListener("error",dt)},Ne=()=>{G(Ti(C.result)),De()},dt=()=>{ae(C.error),De()};C.addEventListener("success",Ne),C.addEventListener("error",dt)});return O.then(G=>{G instanceof IDBCursor&&Wi.set(G,C)}).catch(()=>{}),Qi.set(O,C),O}(C);if(Ci.has(C))return Ci.get(C);const O=ps(C);return O!==C&&(Ci.set(C,O),Qi.set(O,C)),O}const Yr=C=>Qi.get(C);function Po(C,O,{blocked:G,upgrade:ae,blocking:De,terminated:Ne}={}){const dt=indexedDB.open(C,O),sn=Ti(dt);return ae&&dt.addEventListener("upgradeneeded",Zt=>{ae(Ti(dt.result),Zt.oldVersion,Zt.newVersion,Ti(dt.transaction))}),G&&dt.addEventListener("blocked",()=>G()),sn.then(Zt=>{Ne&&Zt.addEventListener("close",()=>Ne()),De&&Zt.addEventListener("versionchange",()=>De())}).catch(()=>{}),sn}function Ji(C,{blocked:O}={}){const G=indexedDB.deleteDatabase(C);return O&&G.addEventListener("blocked",()=>O()),Ti(G).then(()=>{})}const bi=["get","getKey","getAll","getAllKeys","count"],gs=["put","add","delete","clear"],hi=new Map;function is(C,O){if(!(C instanceof IDBDatabase)||O in C||"string"!=typeof O)return;if(hi.get(O))return hi.get(O);const G=O.replace(/FromIndex$/,""),ae=O!==G,De=gs.includes(G);if(!(G in(ae?IDBIndex:IDBObjectStore).prototype)||!De&&!bi.includes(G))return;const Ne=function(){var dt=(0,q.Z)(function*(sn,...Zt){const Tn=this.transaction(sn,De?"readwrite":"readonly");let Zn=Tn.store;return ae&&(Zn=Zn.index(Zt.shift())),(yield Promise.all([Zn[G](...Zt),De&&Tn.done]))[0]});return function(Zt){return dt.apply(this,arguments)}}();return hi.set(O,Ne),Ne}!function Ni(C){go=C(go)}(C=>({...C,get:(O,G,ae)=>is(O,G)||C.get(O,G,ae),has:(O,G)=>!!is(O,G)||C.has(O,G)}));const Pn="/firebase-messaging-sw.js",mo="/firebase-cloud-messaging-push-scope",U="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",F="https://fcmregistrations.googleapis.com/v1",k="google.c.a.c_id",te="google.c.a.c_l",tt="google.c.a.ts",In="google.c.a.e";var Ye=(()=>{return(C=Ye||(Ye={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",Ye;var C})();function _n(C){const O=new Uint8Array(C);return btoa(String.fromCharCode(...O)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function yo(C){const G=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ae=atob(G),De=new Uint8Array(ae.length);for(let Ne=0;Ne<ae.length;++Ne)De[Ne]=ae.charCodeAt(Ne);return De}const io="fcm_token_details_db",fi=5,Fa="fcm_token_object_Store";function ms(){return ms=(0,q.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ne=>Ne.name).includes(io))return null;let O=null;return(yield Po(io,fi,{upgrade:(ae=(0,q.Z)(function*(De,Ne,dt,sn){var Zt;if(Ne<2||!De.objectStoreNames.contains(Fa))return;const Tn=sn.objectStore(Fa),Zn=yield Tn.index("fcmSenderId").get(C);if(yield Tn.clear(),Zn)if(2===Ne){const Yn=Zn;if(!Yn.auth||!Yn.p256dh||!Yn.endpoint)return;O={token:Yn.fcmToken,createTime:null!==(Zt=Yn.createTime)&&void 0!==Zt?Zt:Date.now(),subscriptionOptions:{auth:Yn.auth,p256dh:Yn.p256dh,endpoint:Yn.endpoint,swScope:Yn.swScope,vapidKey:"string"==typeof Yn.vapidKey?Yn.vapidKey:_n(Yn.vapidKey)}}}else if(3===Ne){const Yn=Zn;O={token:Yn.fcmToken,createTime:Yn.createTime,subscriptionOptions:{auth:_n(Yn.auth),p256dh:_n(Yn.p256dh),endpoint:Yn.endpoint,swScope:Yn.swScope,vapidKey:_n(Yn.vapidKey)}}}else if(4===Ne){const Yn=Zn;O={token:Yn.fcmToken,createTime:Yn.createTime,subscriptionOptions:{auth:_n(Yn.auth),p256dh:_n(Yn.p256dh),endpoint:Yn.endpoint,swScope:Yn.swScope,vapidKey:_n(Yn.vapidKey)}}}}),function(Ne,dt,sn,Zt){return ae.apply(this,arguments)})})).close(),yield Ji(io),yield Ji("fcm_vapid_details_db"),yield Ji("undefined"),function Os(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:O}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof O.auth&&O.auth.length>0&&"string"==typeof O.p256dh&&O.p256dh.length>0&&"string"==typeof O.endpoint&&O.endpoint.length>0&&"string"==typeof O.swScope&&O.swScope.length>0&&"string"==typeof O.vapidKey&&O.vapidKey.length>0}(O)?O:null;var ae}),ms.apply(this,arguments)}const zs="firebase-messaging-database",Jo=1,Xi="firebase-messaging-store";let Ps=null;function Kn(){return Ps||(Ps=Po(zs,Jo,{upgrade:(C,O)=>{0===O&&C.createObjectStore(Xi)}})),Ps}function ji(C){return xs.apply(this,arguments)}function xs(){return xs=(0,q.Z)(function*(C){const O=La(C),ae=yield(yield Kn()).transaction(Xi).objectStore(Xi).get(O);if(ae)return ae;{const De=yield function Qo(C){return ms.apply(this,arguments)}(C.appConfig.senderId);if(De)return yield ys(C,De),De}}),xs.apply(this,arguments)}function ys(C,O){return so.apply(this,arguments)}function so(){return(so=(0,q.Z)(function*(C,O){const G=La(C),De=(yield Kn()).transaction(Xi,"readwrite");return yield De.objectStore(Xi).put(O,G),yield De.done,O})).apply(this,arguments)}function vo(){return(vo=(0,q.Z)(function*(C){const O=La(C),ae=(yield Kn()).transaction(Xi,"readwrite");yield ae.objectStore(Xi).delete(O),yield ae.done})).apply(this,arguments)}function La({appConfig:C}){return C.appId}const pi=new Z.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Xo(C,O){return vs.apply(this,arguments)}function vs(){return(vs=(0,q.Z)(function*(C,O){const G=yield va(C),ae=ta(O),De={method:"POST",headers:G,body:JSON.stringify(ae)};let Ne;try{Ne=yield(yield fetch(Va(C.appConfig),De)).json()}catch(dt){throw pi.create("token-subscribe-failed",{errorInfo:dt?.toString()})}if(Ne.error)throw pi.create("token-subscribe-failed",{errorInfo:Ne.error.message});if(!Ne.token)throw pi.create("token-subscribe-no-token");return Ne.token})).apply(this,arguments)}function ea(){return(ea=(0,q.Z)(function*(C,O){const G=yield va(C),ae=ta(O.subscriptionOptions),De={method:"PATCH",headers:G,body:JSON.stringify(ae)};let Ne;try{Ne=yield(yield fetch(`${Va(C.appConfig)}/${O.token}`,De)).json()}catch(dt){throw pi.create("token-update-failed",{errorInfo:dt?.toString()})}if(Ne.error)throw pi.create("token-update-failed",{errorInfo:Ne.error.message});if(!Ne.token)throw pi.create("token-update-no-token");return Ne.token})).apply(this,arguments)}function xo(C,O){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,q.Z)(function*(C,O){const ae={method:"DELETE",headers:yield va(C)};try{const Ne=yield(yield fetch(`${Va(C.appConfig)}/${O}`,ae)).json();if(Ne.error)throw pi.create("token-unsubscribe-failed",{errorInfo:Ne.error.message})}catch(De){throw pi.create("token-unsubscribe-failed",{errorInfo:De?.toString()})}})).apply(this,arguments)}function Va({projectId:C}){return`${F}/projects/${C}/registrations`}function va(C){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,q.Z)(function*({appConfig:C,installations:O}){const G=yield O.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${G}`})})).apply(this,arguments)}function ta({p256dh:C,auth:O,endpoint:G,vapidKey:ae}){const De={web:{endpoint:G,auth:O,p256dh:C}};return ae!==U&&(De.web.applicationPubKey=ae),De}const na=6048e5;function _o(){return _o=(0,q.Z)(function*(C){const O=yield function wu(C,O){return ko.apply(this,arguments)}(C.swRegistration,C.vapidKey),G={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:O.endpoint,auth:_n(O.getKey("auth")),p256dh:_n(O.getKey("p256dh"))},ae=yield ji(C.firebaseDependencies);if(ae){if(function Ws(C,O){return O.vapidKey===C.vapidKey&&O.endpoint===C.endpoint&&O.auth===C.auth&&O.p256dh===C.p256dh}(ae.subscriptionOptions,G))return Date.now()>=ae.createTime+na?function Sr(C,O){return Ua.apply(this,arguments)}(C,{token:ae.token,createTime:Date.now(),subscriptionOptions:G}):ae.token;try{yield xo(C.firebaseDependencies,ae.token)}catch(De){console.warn(De)}return ua(C.firebaseDependencies,G)}return ua(C.firebaseDependencies,G)}),_o.apply(this,arguments)}function Gs(){return Gs=(0,q.Z)(function*(C){const O=yield ji(C.firebaseDependencies);O&&(yield xo(C.firebaseDependencies,O.token),yield function Aa(C){return vo.apply(this,arguments)}(C.firebaseDependencies));const G=yield C.swRegistration.pushManager.getSubscription();return!G||G.unsubscribe()}),Gs.apply(this,arguments)}function Ua(){return Ua=(0,q.Z)(function*(C,O){try{const G=yield function Ma(C,O){return ea.apply(this,arguments)}(C.firebaseDependencies,O),ae=Object.assign(Object.assign({},O),{token:G,createTime:Date.now()});return yield ys(C.firebaseDependencies,ae),G}catch(G){throw yield function br(C){return Gs.apply(this,arguments)}(C),G}}),Ua.apply(this,arguments)}function ua(C,O){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,q.Z)(function*(C,O){const ae={token:yield Xo(C,O),createTime:Date.now(),subscriptionOptions:O};return yield ys(C,ae),ae.token})).apply(this,arguments)}function ko(){return(ko=(0,q.Z)(function*(C,O){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:yo(O)})})).apply(this,arguments)}function ra(C){const O={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function _a(C,O){if(!O.notification)return;C.notification={};const G=O.notification.title;G&&(C.notification.title=G);const ae=O.notification.body;ae&&(C.notification.body=ae);const De=O.notification.image;De&&(C.notification.image=De);const Ne=O.notification.icon;Ne&&(C.notification.icon=Ne)}(O,C),function ja(C,O){O.data&&(C.data=O.data)}(O,C),function R(C,O){var G,ae,De,Ne,dt;if(!(O.fcmOptions||null!==(G=O.notification)&&void 0!==G&&G.click_action))return;C.fcmOptions={};const sn=null!==(De=null===(ae=O.fcmOptions)||void 0===ae?void 0:ae.link)&&void 0!==De?De:null===(Ne=O.notification)||void 0===Ne?void 0:Ne.click_action;sn&&(C.fcmOptions.link=sn);const Zt=null===(dt=O.fcmOptions)||void 0===dt?void 0:dt.analytics_label;Zt&&(C.fcmOptions.analyticsLabel=Zt)}(O,C),O}function x(C,O){const G=[];for(let ae=0;ae<C.length;ae++)G.push(C.charAt(ae)),ae<O.length&&G.push(O.charAt(ae));return G.join("")}function ce(C){return pi.create("missing-app-config-values",{valueName:C})}x("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),x("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class $e{constructor(O,G,ae){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const De=function Y(C){if(!C||!C.options)throw ce("App Configuration Object");if(!C.name)throw ce("App Name");const O=["projectId","apiKey","appId","messagingSenderId"],{options:G}=C;for(const ae of O)if(!G[ae])throw ce(ae);return{appName:C.name,projectId:G.projectId,apiKey:G.apiKey,appId:G.appId,senderId:G.messagingSenderId}}(O);this.firebaseDependencies={app:O,appConfig:De,installations:G,analyticsProvider:ae}}_delete(){return Promise.resolve()}}function Et(C){return un.apply(this,arguments)}function un(){return(un=(0,q.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(Pn,{scope:mo}),C.swRegistration.update().catch(()=>{})}catch(O){throw pi.create("failed-service-worker-registration",{browserErrorMessage:O?.message})}})).apply(this,arguments)}function dr(){return(dr=(0,q.Z)(function*(C,O){if(!O&&!C.swRegistration&&(yield Et(C)),O||!C.swRegistration){if(!(O instanceof ServiceWorkerRegistration))throw pi.create("invalid-sw-registration");C.swRegistration=O}})).apply(this,arguments)}function jn(){return(jn=(0,q.Z)(function*(C,O){O?C.vapidKey=O:C.vapidKey||(C.vapidKey=U)})).apply(this,arguments)}function rr(){return rr=(0,q.Z)(function*(C,O){if(!navigator)throw pi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw pi.create("permission-blocked");return yield function hr(C,O){return jn.apply(this,arguments)}(C,O?.vapidKey),yield function gr(C,O){return dr.apply(this,arguments)}(C,O?.serviceWorkerRegistration),function No(C){return _o.apply(this,arguments)}(C)}),rr.apply(this,arguments)}function Ks(){return(Ks=(0,q.Z)(function*(C,O,G){const ae=function ki(C){switch(C){case Ye.NOTIFICATION_CLICKED:return"notification_open";case Ye.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(O);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(ae,{message_id:G[k],message_name:G[te],message_time:G[tt],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ui(){return ui=(0,q.Z)(function*(C,O){const G=O.data;if(!G.isFirebaseMessaging)return;C.onMessageHandler&&G.messageType===Ye.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(ra(G)):C.onMessageHandler.next(ra(G)));const ae=G.data;(function $(C){return"object"==typeof C&&!!C&&k in C})(ae)&&"1"===ae[In]&&(yield function Si(C,O,G){return Ks.apply(this,arguments)}(C,G.messageType,ae))}),ui.apply(this,arguments)}const _s="@firebase/messaging",$i=C=>{const O=new $e(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",G=>function qs(C,O){return ui.apply(this,arguments)}(O,G)),O},$a=C=>{const O=C.getProvider("messaging").getImmediate();return{getToken:ae=>function ti(C,O){return rr.apply(this,arguments)}(O,ae)}};function il(){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,q.Z)(function*(){try{yield(0,Z.eu)()}catch{return!1}return typeof window<"u"&&(0,Z.hl)()&&(0,Z.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Oa(){(0,ie._registerComponent)(new we.wA("messaging",$i,"PUBLIC")),(0,ie._registerComponent)(new we.wA("messaging-internal",$a,"PRIVATE")),(0,ie.registerVersion)(_s,"0.12.4"),(0,ie.registerVersion)(_s,"0.12.4","esm2017")}();const Vo="analytics",Uo="firebase_id",Iu="origin",la=6e4,uu="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Wa="https://www.googletagmanager.com/gtag/js",_i=new Ce.Yd("@firebase/analytics"),Dn=new Z.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function ca(C){if(!C.startsWith(Wa)){const O=Dn.create("invalid-gtag-resource",{gtagURL:C});return _i.warn(O.message),""}return C}function Is(C){return Promise.all(C.map(O=>O.catch(G=>G)))}function Ka(){return(Ka=(0,q.Z)(function*(C,O,G,ae,De,Ne){const dt=ae[De];try{if(dt)yield O[dt];else{const Zt=(yield Is(G)).find(Tn=>Tn.measurementId===De);Zt&&(yield O[Zt.appId])}}catch(sn){_i.error(sn)}C("config",De,Ne)})).apply(this,arguments)}function ss(){return(ss=(0,q.Z)(function*(C,O,G,ae,De){try{let Ne=[];if(De&&De.send_to){let dt=De.send_to;Array.isArray(dt)||(dt=[dt]);const sn=yield Is(G);for(const Zt of dt){const Tn=sn.find(Yn=>Yn.measurementId===Zt),Zn=Tn&&O[Tn.appId];if(!Zn){Ne=[];break}Ne.push(Zn)}}0===Ne.length&&(Ne=Object.values(O)),yield Promise.all(Ne),C("event",ae,De||{})}catch(Ne){_i.error(Ne)}})).apply(this,arguments)}const Eo=30,N=new class oo{constructor(O={},G=1e3){this.throttleMetadata=O,this.intervalMillis=G}getThrottleMetadata(O){return this.throttleMetadata[O]}setThrottleMetadata(O,G){this.throttleMetadata[O]=G}deleteThrottleMetadata(O){delete this.throttleMetadata[O]}};function g(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function A(){return(A=(0,q.Z)(function*(C){var O;const{appId:G,apiKey:ae}=C,De={method:"GET",headers:g(ae)},Ne=uu.replace("{app-id}",G),dt=yield fetch(Ne,De);if(200!==dt.status&&304!==dt.status){let sn="";try{const Zt=yield dt.json();null!==(O=Zt.error)&&void 0!==O&&O.message&&(sn=Zt.error.message)}catch{}throw Dn.create("config-fetch-failed",{httpStatus:dt.status,responseMessage:sn})}return dt.json()})).apply(this,arguments)}function Q(){return(Q=(0,q.Z)(function*(C,O=N,G){const{appId:ae,apiKey:De,measurementId:Ne}=C.options;if(!ae)throw Dn.create("no-app-id");if(!De){if(Ne)return{measurementId:Ne,appId:ae};throw Dn.create("no-api-key")}const dt=O.getThrottleMetadata(ae)||{backoffCount:0,throttleEndTimeMillis:Date.now()},sn=new Wt;return setTimeout((0,q.Z)(function*(){sn.abort()}),void 0!==G?G:la),he({appId:ae,apiKey:De,measurementId:Ne},dt,sn,O)})).apply(this,arguments)}function he(C,O,G){return pe.apply(this,arguments)}function pe(){return pe=(0,q.Z)(function*(C,{throttleEndTimeMillis:O,backoffCount:G},ae,De=N){var Ne;const{appId:dt,measurementId:sn}=C;try{yield function xe(C,O){return new Promise((G,ae)=>{const De=Math.max(O-Date.now(),0),Ne=setTimeout(G,De);C.addEventListener(()=>{clearTimeout(Ne),ae(Dn.create("fetch-throttle",{throttleEndTimeMillis:O}))})})}(ae,O)}catch(Zt){if(sn)return _i.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${sn} provided in the "measurementId" field in the local Firebase config. [${Zt?.message}]`),{appId:dt,measurementId:sn};throw Zt}try{const Zt=yield function v(C){return A.apply(this,arguments)}(C);return De.deleteThrottleMetadata(dt),Zt}catch(Zt){const Tn=Zt;if(!function at(C){if(!(C instanceof Z.ZR&&C.customData))return!1;const O=Number(C.customData.httpStatus);return 429===O||500===O||503===O||504===O}(Tn)){if(De.deleteThrottleMetadata(dt),sn)return _i.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${sn} provided in the "measurementId" field in the local Firebase config. [${Tn?.message}]`),{appId:dt,measurementId:sn};throw Zt}const Zn=503===Number(null===(Ne=Tn?.customData)||void 0===Ne?void 0:Ne.httpStatus)?(0,Z.$s)(G,De.intervalMillis,Eo):(0,Z.$s)(G,De.intervalMillis),Yn={throttleEndTimeMillis:Date.now()+Zn,backoffCount:G+1};return De.setThrottleMetadata(dt,Yn),_i.debug(`Calling attemptFetch again in ${Zn} millis`),he(C,Yn,ae,De)}}),pe.apply(this,arguments)}class Wt{constructor(){this.listeners=[]}addEventListener(O){this.listeners.push(O)}abort(){this.listeners.forEach(O=>O())}}let Gt,wo;function yn(){return(yn=(0,q.Z)(function*(C,O,G,ae,De){if(De&&De.global)C("event",G,ae);else{const Ne=yield O;C("event",G,Object.assign(Object.assign({},ae),{send_to:Ne}))}})).apply(this,arguments)}function Zs(){return(Zs=(0,q.Z)(function*(){if(!(0,Z.hl)())return _i.warn(Dn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Z.eu)()}catch(C){return _i.warn(Dn.create("indexeddb-unavailable",{errorInfo:C?.toString()}).message),!1}return!0})).apply(this,arguments)}function _(){return _=(0,q.Z)(function*(C,O,G,ae,De,Ne,dt){var sn;const Zt=function B(C){return Q.apply(this,arguments)}(C);Zt.then(Qs=>{G[Qs.measurementId]=Qs.appId,C.options.measurementId&&Qs.measurementId!==C.options.measurementId&&_i.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${Qs.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Qs=>_i.error(Qs)),O.push(Zt);const Tn=function ni(){return Zs.apply(this,arguments)}().then(Qs=>{if(Qs)return ae.getId()}),[Zn,Yn]=yield Promise.all([Zt,Tn]);(function Bo(C){const O=window.document.getElementsByTagName("script");for(const G of Object.values(O))if(G.src&&G.src.includes(Wa)&&G.src.includes(C))return G;return null})(Ne)||function es(C,O){const G=function lu(C,O){let G;return window.trustedTypes&&(G=window.trustedTypes.createPolicy(C,O)),G}("firebase-js-sdk-policy",{createScriptURL:ca}),ae=document.createElement("script"),De=`${Wa}?l=${C}&id=${O}`;ae.src=G?G?.createScriptURL(De):De,ae.async=!0,document.head.appendChild(ae)}(Ne,Zn.measurementId),wo&&(De("consent","default",wo),function St(C){wo=C}(void 0)),De("js",new Date);const Io=null!==(sn=dt?.config)&&void 0!==sn?sn:{};return Io[Iu]="firebase",Io.update=!0,null!=Yn&&(Io[Uo]=Yn),De("config",Zn.measurementId,Io),Gt&&(De("set",Gt),function Ar(C){Gt=C}(void 0)),Zn.measurementId}),_.apply(this,arguments)}class I{constructor(O){this.app=O}_delete(){return delete p[this.app.options.appId],Promise.resolve()}}let p={},w=[];const M={};let Se,et,W="dataLayer",J="gtag",kt=!1;function Li(C,O,G){!function qn(){const C=[];if((0,Z.ru)()&&C.push("This is a browser extension environment."),(0,Z.zI)()||C.push("Cookies are not available."),C.length>0){const O=C.map((ae,De)=>`(${De+1}) ${ae}`).join(" "),G=Dn.create("invalid-analytics-context",{errorInfo:O});_i.warn(G.message)}}();const ae=C.options.appId;if(!ae)throw Dn.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw Dn.create("no-api-key");_i.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=p[ae])throw Dn.create("already-exists",{id:ae});if(!kt){!function Pa(C){let O=[];Array.isArray(window[C])?O=window[C]:window[C]=O}(W);const{wrappedGtag:Ne,gtagCore:dt}=function Fi(C,O,G,ae,De){let Ne=function(...dt){window[ae].push(arguments)};return window[De]&&"function"==typeof window[De]&&(Ne=window[De]),window[De]=function qa(C,O,G,ae){function Ne(){return Ne=(0,q.Z)(function*(dt,...sn){try{if("event"===dt){const[Zt,Tn]=sn;yield function Uu(C,O,G,ae,De){return ss.apply(this,arguments)}(C,O,G,Zt,Tn)}else if("config"===dt){const[Zt,Tn]=sn;yield function Fr(C,O,G,ae,De,Ne){return Ka.apply(this,arguments)}(C,O,G,ae,Zt,Tn)}else if("consent"===dt){const[Zt]=sn;C("consent","update",Zt)}else if("get"===dt){const[Zt,Tn,Zn]=sn;C("get",Zt,Tn,Zn)}else if("set"===dt){const[Zt]=sn;C("set",Zt)}else C(dt,...sn)}catch(Zt){_i.error(Zt)}}),Ne.apply(this,arguments)}return function De(dt){return Ne.apply(this,arguments)}}(Ne,C,O,G),{gtagCore:Ne,wrappedGtag:window[De]}}(p,w,M,W,J);et=Ne,Se=dt,kt=!0}return p[ae]=function en(C,O,G,ae,De,Ne,dt){return _.apply(this,arguments)}(C,w,M,O,Se,W,G),new I(C)}function zi(){return ri.apply(this,arguments)}function ri(){return(ri=(0,q.Z)(function*(){if((0,Z.ru)()||!(0,Z.zI)()||!(0,Z.hl)())return!1;try{return yield(0,Z.eu)()}catch{return!1}})).apply(this,arguments)}const rn="@firebase/analytics";!function ol(){(0,ie._registerComponent)(new we.wA(Vo,(O,{options:G})=>Li(O.getProvider("app").getImmediate(),O.getProvider("installations-internal").getImmediate(),G),"PUBLIC")),(0,ie._registerComponent)(new we.wA("analytics-internal",function C(O){try{const G=O.getProvider(Vo).getImmediate();return{logEvent:(ae,De,Ne)=>function wd(C,O,G,ae){C=(0,Z.m9)(C),function Un(C,O,G,ae,De){return yn.apply(this,arguments)}(et,p[C.app.options.appId],O,G,ae).catch(De=>_i.error(De))}(G,ae,De,Ne)}}catch(G){throw Dn.create("interop-component-reg-failed",{reason:G})}},"PRIVATE")),(0,ie.registerVersion)(rn,"0.10.0"),(0,ie.registerVersion)(rn,"0.10.0","esm2017")}();var Cu=j(4408),Za=j(7565);const al=new class Nc extends Za.v{}(class Id extends Cu.o{constructor(O,G){super(O,G),this.scheduler=O,this.work=G}schedule(O,G=0){return G>0?super.schedule(O,G):(this.delay=G,this.state=O,this.scheduler.flush(this),this)}execute(O,G){return G>0||this.closed?super.execute(O,G):this._execute(O,G)}requestAsyncId(O,G,ae=0){return null!=ae&&ae>0||null==ae&&this.delay>0?super.requestAsyncId(O,G,ae):(O.flush(this),0)}});var Dd=j(4986),Ys=j(9751),wl=j(8505),Bu=j(5363),Zl=j(9468);const da=new y.GfV("7.6.1"),Il="__angularfire_symbol__analyticsIsSupportedValue",Ke="__angularfire_symbol__analyticsIsSupported",Ya="__angularfire_symbol__remoteConfigIsSupportedValue",ia="__angularfire_symbol__remoteConfigIsSupported",kc="__angularfire_symbol__messagingIsSupportedValue",Tu="__angularfire_symbol__messagingIsSupported";function bu(C,O,G){if(O){if(1===O.length)return O[0];const Ne=O.filter(dt=>dt.app===G);if(1===Ne.length)return Ne[0]}return G.container.getProvider(C).getImmediate({optional:!0})}globalThis[Ke]||(globalThis[Ke]=zi().then(C=>globalThis[Il]=C).catch(()=>globalThis[Il]=!1)),globalThis[Tu]||(globalThis[Tu]=il().then(C=>globalThis[kc]=C).catch(()=>globalThis[kc]=!1)),globalThis[ia]||(globalThis[ia]=Hs().then(C=>globalThis[Ya]=C).catch(()=>globalThis[Ya]=!1));const Lc=(C,O)=>{const G=O?[O]:(0,L.C6)(),ae=[];return G.forEach(De=>{De.container.getProvider(C).instances.forEach(dt=>{ae.includes(dt)||ae.push(dt)})}),ae};function Su(){}class ao{constructor(O,G=al){this.zone=O,this.delegate=G}now(){return this.delegate.now()}schedule(O,G,ae){const De=this.zone;return this.delegate.schedule(function(dt){De.runGuarded(()=>{O.apply(this,[dt])})},G,ae)}}class jo{constructor(O){this.zone=O,this.task=null}call(O,G){const ae=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Su,{},Su,Su)),G.pipe((0,wl.b)({next:ae,complete:ae,error:ae})).subscribe(O).add(ae)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let hu=(()=>{class C{constructor(G){this.ngZone=G,this.outsideAngular=G.runOutsideAngular(()=>new ao(Zone.current)),this.insideAngular=G.run(()=>new ao(Zone.current,Dd.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(G){return new(G||C)(y.LFG(y.R0b))},C.\u0275prov=y.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function fu(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function pu(C){return fu().ngZone.run(()=>C())}function Dl(C){return C.pipe((0,Bu.Q)(fu().outsideAngular))}function Yl(C){return fu(),function Cl(C){return function(G){return(G=G.lift(new jo(C.ngZone))).pipe((0,Zl.R)(C.outsideAngular),(0,Bu.Q)(C.insideAngular))}}(fu())(C)}const Ql=(C,O)=>function(){const ae=arguments;return O&&setTimeout(()=>{"scheduled"===O.state&&O.invoke()},10),pu(()=>C.apply(void 0,ae))},Jl=(C,O)=>function(){let G;const ae=arguments;for(let Ne=0;Ne<arguments.length;Ne++)"function"==typeof ae[Ne]&&(O&&(G||(G=pu(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Su,{},Su,Su)))),ae[Ne]=Ql(ae[Ne],G));const De=function uo(C){return fu().ngZone.runOutsideAngular(()=>C())}(()=>C.apply(this,ae));if(!O){if(De instanceof Ys.y){const Ne=fu();return De.pipe((0,Zl.R)(Ne.outsideAngular),(0,Bu.Q)(Ne.insideAngular))}return pu(()=>De)}return De instanceof Ys.y?De.pipe(Yl):De instanceof Promise?pu(()=>new Promise((Ne,dt)=>De.then(sn=>pu(()=>Ne(sn)),sn=>pu(()=>dt(sn))))):"function"==typeof De&&G?function(){return setTimeout(()=>{G&&"scheduled"===G.state&&G.invoke()},10),De.apply(this,arguments)}:pu(()=>De)}},1389:(jt,je,j)=>{j.d(je,{$:()=>Pn,A:()=>oe,D:()=>Ze,I:()=>kr,J:()=>At,L:()=>Gi,N:()=>ln,P:()=>en,Q:()=>Ro,R:()=>ar,U:()=>ya,V:()=>Hs,W:()=>fo,X:()=>Ms,Y:()=>ro,Z:()=>Oo,_:()=>Qi,a:()=>ks,a0:()=>U,a1:()=>k,a2:()=>Qr,a3:()=>Fa,a4:()=>ms,a5:()=>zs,a6:()=>Xi,a7:()=>Kn,a8:()=>xs,a9:()=>so,aA:()=>Ue,aB:()=>Ke,aC:()=>Rt,aD:()=>Nr,aE:()=>wl,aF:()=>Pr,aG:()=>du,aH:()=>pr,aL:()=>Lo,aO:()=>Di,aa:()=>Aa,ab:()=>La,ac:()=>Vu,ad:()=>Ma,ae:()=>xo,af:()=>Va,ai:()=>na,aj:()=>_o,ak:()=>br,an:()=>Sa,ao:()=>_a,aq:()=>jn,ar:()=>_s,as:()=>nn,at:()=>Ie,au:()=>me,av:()=>Le,aw:()=>Yn,ax:()=>Tu,ay:()=>ot,az:()=>_e,b:()=>Fo,c:()=>et,d:()=>Li,e:()=>Ot,f:()=>rn,g:()=>Nc,h:()=>Cu,i:()=>Du,j:()=>Dd,k:()=>Au,l:()=>os,m:()=>Tl,o:()=>Js,p:()=>Ae,r:()=>Hi,s:()=>Jr,u:()=>ni});var y=j(5861),L=j(2090),q=j(6881),ie=j(655),Z=j(1877),we=j(4859);const Ae={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},oe={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ze=function de(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},gt=function Ge(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},mt=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),rt=new Z.Yd("@firebase/auth");function Dt(D,...d){rt.logLevel<=Z.in.ERROR&&rt.error(`Auth (${q.SDK_VERSION}): ${D}`,...d)}function Le(D,...d){throw ht(D,...d)}function _e(D,...d){return ht(D,...d)}function nt(D,d,m){const T=Object.assign(Object.assign({},gt()),{[d]:m});return new L.LL("auth","Firebase",T).create(d,{appName:D.name})}function It(D,d,m){if(!(d instanceof m))throw m.name!==d.constructor.name&&Le(D,"argument-error"),nt(D,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ht(D,...d){if("string"!=typeof D){const m=d[0],T=[...d.slice(1)];return T[0]&&(T[0].appName=D.name),D._errorFactory.create(m,...T)}return mt.create(D,...d)}function Ue(D,d,...m){if(!D)throw ht(d,...m)}function xt(D){const d="INTERNAL ASSERTION FAILED: "+D;throw Dt(d),new Error(d)}function nn(D,d){D||xt(d)}function bt(){var D;return typeof self<"u"&&(null===(D=self.location)||void 0===D?void 0:D.href)||""}function mn(){return"http:"===Ht()||"https:"===Ht()}function Ht(){var D;return typeof self<"u"&&(null===(D=self.location)||void 0===D?void 0:D.protocol)||null}class ke{constructor(d,m){this.shortDelay=d,this.longDelay=m,nn(m>d,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return function yi(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(mn()||(0,L.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Je(D,d){nn(D.emulator,"Emulator should always be set here");const{url:m}=D.emulator;return d?`${m}${d.startsWith("/")?d.slice(1):d}`:m}class it{static initialize(d,m,T){this.fetchImpl=d,m&&(this.headersImpl=m),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void xt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void xt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void xt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ft={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},_t=new ke(3e4,6e4);function ct(D,d){return D.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:D.tenantId}):d}function Nt(D,d,m,T){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,y.Z)(function*(D,d,m,T,K={}){return Bt(D,K,(0,y.Z)(function*(){let ne={},Oe={};T&&("GET"===d?Oe=T:ne={body:JSON.stringify(T)});const lt=(0,L.xO)(Object.assign({key:D.config.apiKey},Oe)).slice(1),Lt=yield D._getAdditionalHeaders();return Lt["Content-Type"]="application/json",D.languageCode&&(Lt["X-Firebase-Locale"]=D.languageCode),it.fetch()(He(D,D.config.apiHost,m,lt),Object.assign({method:d,headers:Lt,referrerPolicy:"no-referrer"},ne))}))})).apply(this,arguments)}function Bt(D,d,m){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,y.Z)(function*(D,d,m){D._canInitEmulator=!1;const T=Object.assign(Object.assign({},ft),d);try{const K=new qt(D),ne=yield Promise.race([m(),K.promise]);K.clearNetworkTimeout();const Oe=yield ne.json();if("needConfirmation"in Oe)throw fn(D,"account-exists-with-different-credential",Oe);if(ne.ok&&!("errorMessage"in Oe))return Oe;{const lt=ne.ok?Oe.errorMessage:Oe.error.message,[Lt,tn]=lt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Lt)throw fn(D,"credential-already-in-use",Oe);if("EMAIL_EXISTS"===Lt)throw fn(D,"email-already-in-use",Oe);if("USER_DISABLED"===Lt)throw fn(D,"user-disabled",Oe);const bn=T[Lt]||Lt.toLowerCase().replace(/[_\s]+/g,"-");if(tn)throw nt(D,bn,tn);Le(D,bn)}}catch(K){if(K instanceof L.ZR)throw K;Le(D,"network-request-failed",{message:String(K)})}})).apply(this,arguments)}function ut(D,d,m,T){return Me.apply(this,arguments)}function Me(){return(Me=(0,y.Z)(function*(D,d,m,T,K={}){const ne=yield Nt(D,d,m,T,K);return"mfaPendingCredential"in ne&&Le(D,"multi-factor-auth-required",{_serverResponse:ne}),ne})).apply(this,arguments)}function He(D,d,m,T){const K=`${d}${m}?${T}`;return D.config.emulator?Je(D.config,K):`${D.config.apiScheme}://${K}`}class qt{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((m,T)=>{this.timer=setTimeout(()=>T(_e(this.auth,"network-request-failed")),_t.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function fn(D,d,m){const T={appName:D.name};m.email&&(T.email=m.email),m.phoneNumber&&(T.phoneNumber=m.phoneNumber);const K=_e(D,d,T);return K.customData._tokenResponse=m,K}function Vn(){return(Vn=(0,y.Z)(function*(D,d){return Nt(D,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function Gr(){return(Gr=(0,y.Z)(function*(D,d){return Nt(D,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function On(){return(On=(0,y.Z)(function*(D,d){return Nt(D,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function zt(D){if(D)try{const d=new Date(Number(D));if(!isNaN(d.getTime()))return d.toUTCString()}catch{}}function Cr(){return(Cr=(0,y.Z)(function*(D,d=!1){const m=(0,L.m9)(D),T=yield m.getIdToken(d),K=Ri(T);Ue(K&&K.exp&&K.auth_time&&K.iat,m.auth,"internal-error");const ne="object"==typeof K.firebase?K.firebase:void 0,Oe=ne?.sign_in_provider;return{claims:K,token:T,authTime:zt(Mr(K.auth_time)),issuedAtTime:zt(Mr(K.iat)),expirationTime:zt(Mr(K.exp)),signInProvider:Oe||null,signInSecondFactor:ne?.sign_in_second_factor||null}})).apply(this,arguments)}function Mr(D){return 1e3*Number(D)}function Ri(D){const[d,m,T]=D.split(".");if(void 0===d||void 0===m||void 0===T)return Dt("JWT malformed, contained fewer than 3 sections"),null;try{const K=(0,L.tV)(m);return K?JSON.parse(K):(Dt("Failed to decode base64 JWT payload"),null)}catch(K){return Dt("Caught error parsing JWT payload as JSON",K?.toString()),null}}function Qt(D,d){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,y.Z)(function*(D,d,m=!1){if(m)return d;try{return yield d}catch(T){throw T instanceof L.ZR&&function vn({code:D}){return"auth/user-disabled"===D||"auth/user-token-expired"===D}(T)&&D.auth.currentUser===D&&(yield D.auth.signOut()),T}})).apply(this,arguments)}class Ei{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var m;if(d){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const K=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,K)}}schedule(d=!1){var m=this;if(!this.isRunning)return;const T=this.getInterval(d);this.timerId=setTimeout((0,y.Z)(function*(){yield m.iteration()}),T)}iteration(){var d=this;return(0,y.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&d.schedule(!0))}d.schedule()})()}}class si{constructor(d,m){this.createdAt=d,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=zt(this.lastLoginAt),this.creationTime=zt(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Er(D){return Oi.apply(this,arguments)}function Oi(){return Oi=(0,y.Z)(function*(D){var d;const m=D.auth,T=yield D.getIdToken(),K=yield Qt(D,function ci(D,d){return On.apply(this,arguments)}(m,{idToken:T}));Ue(K?.users.length,m,"internal-error");const ne=K.users[0];D._notifyReloadListener(ne);const Oe=null!==(d=ne.providerUserInfo)&&void 0!==d&&d.length?function Yt(D){return D.map(d=>{var{providerId:m}=d,T=(0,ie._T)(d,["providerId"]);return{providerId:m,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}(ne.providerUserInfo):[],lt=function ur(D,d){return[...D.filter(T=>!d.some(K=>K.providerId===T.providerId)),...d]}(D.providerData,Oe),bn=!!D.isAnonymous&&!(D.email&&ne.passwordHash||lt?.length),Hn={uid:ne.localId,displayName:ne.displayName||null,photoURL:ne.photoUrl||null,email:ne.email||null,emailVerified:ne.emailVerified||!1,phoneNumber:ne.phoneNumber||null,tenantId:ne.tenantId||null,providerData:lt,metadata:new si(ne.createdAt,ne.lastLoginAt),isAnonymous:bn};Object.assign(D,Hn)}),Oi.apply(this,arguments)}function Ur(){return(Ur=(0,y.Z)(function*(D){const d=(0,L.m9)(D);yield Er(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function Rr(){return(Rr=(0,y.Z)(function*(D,d){const m=yield Bt(D,{},(0,y.Z)(function*(){const T=(0,L.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:K,apiKey:ne}=D.config,Oe=He(D,K,"/v1/token",`key=${ne}`),lt=yield D._getAdditionalHeaders();return lt["Content-Type"]="application/x-www-form-urlencoded",it.fetch()(Oe,{method:"POST",headers:lt,body:T})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Vt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){Ue(d.idToken,"internal-error"),Ue(typeof d.idToken<"u","internal-error"),Ue(typeof d.refreshToken<"u","internal-error");const m="expiresIn"in d&&typeof d.expiresIn<"u"?Number(d.expiresIn):function fr(D){const d=Ri(D);return Ue(d,"internal-error"),Ue(typeof d.exp<"u","internal-error"),Ue(typeof d.iat<"u","internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,m)}getToken(d,m=!1){var T=this;return(0,y.Z)(function*(){return Ue(!T.accessToken||T.refreshToken,d,"user-token-expired"),m||!T.accessToken||T.isExpired?T.refreshToken?(yield T.refresh(d,T.refreshToken),T.accessToken):null:T.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,m){var T=this;return(0,y.Z)(function*(){const{accessToken:K,refreshToken:ne,expiresIn:Oe}=yield function kn(D,d){return Rr.apply(this,arguments)}(d,m);T.updateTokensAndExpiration(K,ne,Number(Oe))})()}updateTokensAndExpiration(d,m,T){this.refreshToken=m||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(d,m){const{refreshToken:T,accessToken:K,expirationTime:ne}=m,Oe=new Vt;return T&&(Ue("string"==typeof T,"internal-error",{appName:d}),Oe.refreshToken=T),K&&(Ue("string"==typeof K,"internal-error",{appName:d}),Oe.accessToken=K),ne&&(Ue("number"==typeof ne,"internal-error",{appName:d}),Oe.expirationTime=ne),Oe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new Vt,this.toJSON())}_performRefresh(){return xt("not implemented")}}function $n(D,d){Ue("string"==typeof D||typeof D>"u","internal-error",{appName:d})}class Or{constructor(d){var{uid:m,auth:T,stsTokenManager:K}=d,ne=(0,ie._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ei(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=T,this.stsTokenManager=K,this.accessToken=K.accessToken,this.displayName=ne.displayName||null,this.email=ne.email||null,this.emailVerified=ne.emailVerified||!1,this.phoneNumber=ne.phoneNumber||null,this.photoURL=ne.photoURL||null,this.isAnonymous=ne.isAnonymous||!1,this.tenantId=ne.tenantId||null,this.providerData=ne.providerData?[...ne.providerData]:[],this.metadata=new si(ne.createdAt||void 0,ne.lastLoginAt||void 0)}getIdToken(d){var m=this;return(0,y.Z)(function*(){const T=yield Qt(m,m.stsTokenManager.getToken(m.auth,d));return Ue(T,m.auth,"internal-error"),m.accessToken!==T&&(m.accessToken=T,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),T})()}getIdTokenResult(d){return function vr(D){return Cr.apply(this,arguments)}(this,d)}reload(){return function Vr(D){return Ur.apply(this,arguments)}(this)}_assign(d){this!==d&&(Ue(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(m=>Object.assign({},m)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){const m=new Or(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(d){Ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,m=!1){var T=this;return(0,y.Z)(function*(){let K=!1;d.idToken&&d.idToken!==T.stsTokenManager.accessToken&&(T.stsTokenManager.updateFromServerResponse(d),K=!0),m&&(yield Er(T)),yield T.auth._persistUserIfCurrent(T),K&&T.auth._notifyListenersIfCurrent(T)})()}delete(){var d=this;return(0,y.Z)(function*(){const m=yield d.getIdToken();return yield Qt(d,function Rn(D,d){return Vn.apply(this,arguments)}(d.auth,{idToken:m})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,m){var T,K,ne,Oe,lt,Lt,tn,bn;const Hn=null!==(T=m.displayName)&&void 0!==T?T:void 0,qi=null!==(K=m.email)&&void 0!==K?K:void 0,Ia=null!==(ne=m.phoneNumber)&&void 0!==ne?ne:void 0,Ja=null!==(Oe=m.photoURL)&&void 0!==Oe?Oe:void 0,Ih=null!==(lt=m.tenantId)&&void 0!==lt?lt:void 0,Xa=null!==(Lt=m._redirectEventId)&&void 0!==Lt?Lt:void 0,Uc=null!==(tn=m.createdAt)&&void 0!==tn?tn:void 0,Al=null!==(bn=m.lastLoginAt)&&void 0!==bn?bn:void 0,{uid:mu,emailVerified:ec,isAnonymous:$u,providerData:tc,stsTokenManager:Ml}=m;Ue(mu&&Ml,d,"internal-error");const ll=Vt.fromJSON(this.name,Ml);Ue("string"==typeof mu,d,"internal-error"),$n(Hn,d.name),$n(qi,d.name),Ue("boolean"==typeof ec,d,"internal-error"),Ue("boolean"==typeof $u,d,"internal-error"),$n(Ia,d.name),$n(Ja,d.name),$n(Ih,d.name),$n(Xa,d.name),$n(Uc,d.name),$n(Al,d.name);const Hu=new Or({uid:mu,auth:d,email:qi,emailVerified:ec,displayName:Hn,isAnonymous:$u,photoURL:Ja,phoneNumber:Ia,tenantId:Ih,stsTokenManager:ll,createdAt:Uc,lastLoginAt:Al});return tc&&Array.isArray(tc)&&(Hu.providerData=tc.map(Bc=>Object.assign({},Bc))),Xa&&(Hu._redirectEventId=Xa),Hu}static _fromIdTokenResponse(d,m,T=!1){return(0,y.Z)(function*(){const K=new Vt;K.updateFromServerResponse(m);const ne=new Or({uid:m.localId,auth:d,stsTokenManager:K,isAnonymous:T});return yield Er(ne),ne})()}}const er=new Map;function Rt(D){nn(D instanceof Function,"Expected a class definition");let d=er.get(D);return d?(nn(d instanceof D,"Instance stored in cache mismatched with class"),d):(d=new D,er.set(D,d),d)}const ln=(()=>{class D{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,y.Z)(function*(){return!0})()}_set(m,T){var K=this;return(0,y.Z)(function*(){K.storage[m]=T})()}_get(m){var T=this;return(0,y.Z)(function*(){const K=T.storage[m];return void 0===K?null:K})()}_remove(m){var T=this;return(0,y.Z)(function*(){delete T.storage[m]})()}_addListener(m,T){}_removeListener(m,T){}}return D.type="NONE",D})();function Nr(D,d,m){return`firebase:${D}:${d}:${m}`}class fe{constructor(d,m,T){this.persistence=d,this.auth=m,this.userKey=T;const{config:K,name:ne}=this.auth;this.fullUserKey=Nr(this.userKey,K.apiKey,ne),this.fullPersistenceKey=Nr("persistence",K.apiKey,ne),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,y.Z)(function*(){const m=yield d.persistence._get(d.fullUserKey);return m?Or._fromJSON(d.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var m=this;return(0,y.Z)(function*(){if(m.persistence===d)return;const T=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=d,T?m.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,m,T="authUser"){return(0,y.Z)(function*(){if(!m.length)return new fe(Rt(ln),d,T);const K=(yield Promise.all(m.map(function(){var tn=(0,y.Z)(function*(bn){if(yield bn._isAvailable())return bn});return function(bn){return tn.apply(this,arguments)}}()))).filter(tn=>tn);let ne=K[0]||Rt(ln);const Oe=Nr(T,d.config.apiKey,d.name);let lt=null;for(const tn of m)try{const bn=yield tn._get(Oe);if(bn){const Hn=Or._fromJSON(d,bn);tn!==ne&&(lt=Hn),ne=tn;break}}catch{}const Lt=K.filter(tn=>tn._shouldAllowMigration);return ne._shouldAllowMigration&&Lt.length?(ne=Lt[0],lt&&(yield ne._set(Oe,lt.toJSON())),yield Promise.all(m.map(function(){var tn=(0,y.Z)(function*(bn){if(bn!==ne)try{yield bn._remove(Oe)}catch{}});return function(bn){return tn.apply(this,arguments)}}())),new fe(ne,d,T)):new fe(ne,d,T)})()}}function le(D){const d=D.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(Mt(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(Ee(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(ye(d))return"Blackberry";if(re(d))return"Webos";if(st(d))return"Safari";if((d.includes("chrome/")||Be(d))&&!d.includes("edge/"))return"Chrome";if(me(d))return"Android";{const T=D.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===T?.length)return T[1]}return"Other"}function Ee(D=(0,L.z$)()){return/firefox\//i.test(D)}function st(D=(0,L.z$)()){const d=D.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function Be(D=(0,L.z$)()){return/crios\//i.test(D)}function Mt(D=(0,L.z$)()){return/iemobile/i.test(D)}function me(D=(0,L.z$)()){return/android/i.test(D)}function ye(D=(0,L.z$)()){return/blackberry/i.test(D)}function re(D=(0,L.z$)()){return/webos/i.test(D)}function Ie(D=(0,L.z$)()){return/iphone|ipad|ipod/i.test(D)||/macintosh/i.test(D)&&/mobile/i.test(D)}function ot(D=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(D)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(D)}function tr(D=(0,L.z$)()){return Ie(D)||me(D)||re(D)||ye(D)||/windows phone/i.test(D)||Mt(D)}function Pi(D,d=[]){let m;switch(D){case"Browser":m=le((0,L.z$)());break;case"Worker":m=`${le((0,L.z$)())}-${D}`;break;default:m=D}const T=d.length?d.join(","):"FirebaseCore-web";return`${m}/JsCore/${q.SDK_VERSION}/${T}`}function Fe(){return(Fe=(0,y.Z)(function*(D){return(yield Nt(D,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function wt(D,d){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,y.Z)(function*(D,d){return Nt(D,"GET","/v2/recaptchaConfig",ct(D,d))})).apply(this,arguments)}function Sn(D){return void 0!==D&&void 0!==D.getResponse}function An(D){return void 0!==D&&void 0!==D.enterprise}class on{constructor(d){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===d.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=d.recaptchaKey.split("/")[3],this.emailPasswordEnabled=d.recaptchaEnforcementState.some(m=>"EMAIL_PASSWORD_PROVIDER"===m.provider&&"OFF"!==m.enforcementState)}}function Bn(D){return new Promise((d,m)=>{const T=document.createElement("script");T.setAttribute("src",D),T.onload=d,T.onerror=K=>{const ne=_e("internal-error");ne.customData=K,m(ne)},T.type="text/javascript",T.charset="UTF-8",function nr(){var D,d;return null!==(d=null===(D=document.getElementsByTagName("head"))||void 0===D?void 0:D[0])&&void 0!==d?d:document}().appendChild(T)})}function Br(D){return`__${D}${Math.floor(1e6*Math.random())}`}const bs="NO_RECAPTCHA";class xi{constructor(d){this.type="recaptcha-enterprise",this.auth=pr(d)}verify(d="verify",m=!1){var T=this;return(0,y.Z)(function*(){function ne(){return ne=(0,y.Z)(function*(lt){if(!m){if(null==lt.tenantId&&null!=lt._agentRecaptchaConfig)return lt._agentRecaptchaConfig.siteKey;if(null!=lt.tenantId&&void 0!==lt._tenantRecaptchaConfigs[lt.tenantId])return lt._tenantRecaptchaConfigs[lt.tenantId].siteKey}return new Promise(function(){var Lt=(0,y.Z)(function*(tn,bn){wt(lt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Hn=>{if(void 0!==Hn.recaptchaKey){const qi=new on(Hn);return null==lt.tenantId?lt._agentRecaptchaConfig=qi:lt._tenantRecaptchaConfigs[lt.tenantId]=qi,tn(qi.siteKey)}bn(new Error("recaptcha Enterprise site key undefined"))}).catch(Hn=>{bn(Hn)})});return function(tn,bn){return Lt.apply(this,arguments)}}())}),ne.apply(this,arguments)}function Oe(lt,Lt,tn){const bn=window.grecaptcha;An(bn)?bn.enterprise.ready(()=>{bn.enterprise.execute(lt,{action:d}).then(Hn=>{Lt(Hn)}).catch(()=>{Lt(bs)})}):tn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((lt,Lt)=>{(function K(lt){return ne.apply(this,arguments)})(T.auth).then(tn=>{if(!m&&An(window.grecaptcha))Oe(tn,lt,Lt);else{if(typeof window>"u")return void Lt(new Error("RecaptchaVerifier is only supported in browser"));Bn("https://www.google.com/recaptcha/enterprise.js?render="+tn).then(()=>{Oe(tn,lt,Lt)}).catch(bn=>{Lt(bn)})}}).catch(tn=>{Lt(tn)})})})()}}function or(D,d,m){return $t.apply(this,arguments)}function $t(){return($t=(0,y.Z)(function*(D,d,m,T=!1){const K=new xi(D);let ne;try{ne=yield K.verify(m)}catch{ne=yield K.verify(m,!0)}const Oe=Object.assign({},d);return Object.assign(Oe,T?{captchaResp:ne}:{captchaResponse:ne}),Object.assign(Oe,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Oe,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Oe})).apply(this,arguments)}class xn{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,m){const T=ne=>new Promise((Oe,lt)=>{try{Oe(d(ne))}catch(Lt){lt(Lt)}});T.onAbort=m,this.queue.push(T);const K=this.queue.length-1;return()=>{this.queue[K]=()=>Promise.resolve()}}runMiddleware(d){var m=this;return(0,y.Z)(function*(){if(m.auth.currentUser===d)return;const T=[];try{for(const K of m.queue)yield K(d),K.onAbort&&T.push(K.onAbort)}catch(K){T.reverse();for(const ne of T)try{ne()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:K?.message})}})()}}class cr{constructor(d,m,T,K){this.app=d,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=T,this.config=K,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wi(this),this.idTokenSubscription=new wi(this),this.beforeStateQueue=new xn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=K.sdkClientVersion}_initializeWithPersistence(d,m){var T=this;return m&&(this._popupRedirectResolver=Rt(m)),this._initializationPromise=this.queue((0,y.Z)(function*(){var K,ne;if(!T._deleted&&(T.persistenceManager=yield fe.create(T,d),!T._deleted)){if(null!==(K=T._popupRedirectResolver)&&void 0!==K&&K._shouldInitProactively)try{yield T._popupRedirectResolver._initialize(T)}catch{}yield T.initializeCurrentUser(m),T.lastNotifiedUid=(null===(ne=T.currentUser)||void 0===ne?void 0:ne.uid)||null,!T._deleted&&(T._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,y.Z)(function*(){if(d._deleted)return;const m=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||m){if(d.currentUser&&m&&d.currentUser.uid===m.uid)return d._currentUser._assign(m),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(m,!0)}})()}initializeCurrentUser(d){var m=this;return(0,y.Z)(function*(){var T;const K=yield m.assertedPersistence.getCurrentUser();let ne=K,Oe=!1;if(d&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const lt=null===(T=m.redirectUser)||void 0===T?void 0:T._redirectEventId,Lt=ne?._redirectEventId,tn=yield m.tryRedirectSignIn(d);(!lt||lt===Lt)&&tn?.user&&(ne=tn.user,Oe=!0)}if(!ne)return m.directlySetCurrentUser(null);if(!ne._redirectEventId){if(Oe)try{yield m.beforeStateQueue.runMiddleware(ne)}catch(lt){ne=K,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(lt))}return ne?m.reloadAndSetCurrentUserOrClear(ne):m.directlySetCurrentUser(null)}return Ue(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===ne._redirectEventId?m.directlySetCurrentUser(ne):m.reloadAndSetCurrentUserOrClear(ne)})()}tryRedirectSignIn(d){var m=this;return(0,y.Z)(function*(){let T=null;try{T=yield m._popupRedirectResolver._completeRedirectFn(m,d,!0)}catch{yield m._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(d){var m=this;return(0,y.Z)(function*(){try{yield Er(d)}catch(T){if("auth/network-request-failed"!==T?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function Qe(){if(typeof navigator>"u")return null;const D=navigator;return D.languages&&D.languages[0]||D.language||null}()}_delete(){var d=this;return(0,y.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var m=this;return(0,y.Z)(function*(){const T=d?(0,L.m9)(d):null;return T&&Ue(T.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(T&&T._clone(m))})()}_updateCurrentUser(d,m=!1){var T=this;return(0,y.Z)(function*(){if(!T._deleted)return d&&Ue(T.tenantId===d.tenantId,T,"tenant-id-mismatch"),m||(yield T.beforeStateQueue.runMiddleware(d)),T.queue((0,y.Z)(function*(){yield T.directlySetCurrentUser(d),T.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,y.Z)(function*(){return yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0)})()}setPersistence(d){var m=this;return this.queue((0,y.Z)(function*(){yield m.assertedPersistence.setPersistence(Rt(d))}))}initializeRecaptchaConfig(){var d=this;return(0,y.Z)(function*(){const m=yield wt(d,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),T=new on(m);null==d.tenantId?d._agentRecaptchaConfig=T:d._tenantRecaptchaConfigs[d.tenantId]=T,T.emailPasswordEnabled&&new xi(d).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new L.LL("auth","Firebase",d())}onAuthStateChanged(d,m,T){return this.registerStateListener(this.authStateSubscription,d,m,T)}beforeAuthStateChanged(d,m){return this.beforeStateQueue.pushCallback(d,m)}onIdTokenChanged(d,m,T){return this.registerStateListener(this.idTokenSubscription,d,m,T)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,m){var T=this;return(0,y.Z)(function*(){const K=yield T.getOrInitRedirectPersistenceManager(m);return null===d?K.removeCurrentUser():K.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var m=this;return(0,y.Z)(function*(){if(!m.redirectPersistenceManager){const T=d&&Rt(d)||m._popupRedirectResolver;Ue(T,m,"argument-error"),m.redirectPersistenceManager=yield fe.create(m,[Rt(T._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(d){var m=this;return(0,y.Z)(function*(){var T,K;return m._isInitialized&&(yield m.queue((0,y.Z)(function*(){}))),(null===(T=m._currentUser)||void 0===T?void 0:T._redirectEventId)===d?m._currentUser:(null===(K=m.redirectUser)||void 0===K?void 0:K._redirectEventId)===d?m.redirectUser:null})()}_persistUserIfCurrent(d){var m=this;return(0,y.Z)(function*(){if(d===m.currentUser)return m.queue((0,y.Z)(function*(){return m.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(m=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,m,T,K){if(this._deleted)return()=>{};const ne="function"==typeof m?m:m.next.bind(m),Oe=this._isInitialized?Promise.resolve():this._initializationPromise;return Ue(Oe,this,"internal-error"),Oe.then(()=>ne(this.currentUser)),"function"==typeof m?d.addObserver(m,T,K):d.addObserver(m)}directlySetCurrentUser(d){var m=this;return(0,y.Z)(function*(){m.currentUser&&m.currentUser!==d&&m._currentUser._stopProactiveRefresh(),d&&m.isProactiveRefreshEnabled&&d._startProactiveRefresh(),m.currentUser=d,d?yield m.assertedPersistence.setCurrentUser(d):yield m.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return Ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=Pi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,y.Z)(function*(){var m;const T={"X-Client-Version":d.clientVersion};d.app.options.appId&&(T["X-Firebase-gmpid"]=d.app.options.appId);const K=yield null===(m=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();K&&(T["X-Firebase-Client"]=K);const ne=yield d._getAppCheckToken();return ne&&(T["X-Firebase-AppCheck"]=ne),T})()}_getAppCheckToken(){var d=this;return(0,y.Z)(function*(){var m;const T=yield null===(m=d.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return T?.error&&function pt(D,...d){rt.logLevel<=Z.in.WARN&&rt.warn(`Auth (${q.SDK_VERSION}): ${D}`,...d)}(`Error while retrieving App Check token: ${T.error}`),T?.token})()}}function pr(D){return(0,L.m9)(D)}class wi{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,L.ne)(m=>this.observer=m)}get next(){return Ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function kr(D,d,m){const T=pr(D);Ue(T._canInitEmulator,T,"emulator-config-failed"),Ue(/^https?:\/\//.test(d),T,"invalid-emulator-scheme");const K=!!m?.disableWarnings,ne=Re(d),{host:Oe,port:lt}=function Te(D){const d=Re(D),m=/(\/\/)?([^?#/]+)/.exec(D.substr(d.length));if(!m)return{host:"",port:null};const T=m[2].split("@").pop()||"",K=/^(\[[^\]]+\])(:|$)/.exec(T);if(K){const ne=K[1];return{host:ne,port:be(T.substr(ne.length+1))}}{const[ne,Oe]=T.split(":");return{host:ne,port:be(Oe)}}}(d);T.config.emulator={url:`${ne}//${Oe}${null===lt?"":`:${lt}`}/`},T.settings.appVerificationDisabledForTesting=!0,T.emulatorConfig=Object.freeze({host:Oe,port:lt,protocol:ne.replace(":",""),options:Object.freeze({disableWarnings:K})}),K||function yt(){function D(){const d=document.createElement("p"),m=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",D):D())}()}function Re(D){const d=D.indexOf(":");return d<0?"":D.substr(0,d+1)}function be(D){if(!D)return null;const d=Number(D);return isNaN(d)?null:d}class At{constructor(d,m){this.providerId=d,this.signInMethod=m}toJSON(){return xt("not implemented")}_getIdTokenResponse(d){return xt("not implemented")}_linkToIdToken(d,m){return xt("not implemented")}_getReauthenticationResolver(d){return xt("not implemented")}}function En(D,d){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,y.Z)(function*(D,d){return Nt(D,"POST","/v1/accounts:resetPassword",ct(D,d))})).apply(this,arguments)}function pn(D,d){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,y.Z)(function*(D,d){return Nt(D,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function ei(){return(ei=(0,y.Z)(function*(D,d){return Nt(D,"POST","/v1/accounts:update",ct(D,d))})).apply(this,arguments)}function Wr(D,d){return ai.apply(this,arguments)}function ai(){return(ai=(0,y.Z)(function*(D,d){return ut(D,"POST","/v1/accounts:signInWithPassword",ct(D,d))})).apply(this,arguments)}function wr(D,d){return ns.apply(this,arguments)}function ns(){return(ns=(0,y.Z)(function*(D,d){return Nt(D,"POST","/v1/accounts:sendOobCode",ct(D,d))})).apply(this,arguments)}function Mo(){return(Mo=(0,y.Z)(function*(D,d){return wr(D,d)})).apply(this,arguments)}function Zi(D,d){return rs.apply(this,arguments)}function rs(){return(rs=(0,y.Z)(function*(D,d){return wr(D,d)})).apply(this,arguments)}function Vs(D,d){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,y.Z)(function*(D,d){return wr(D,d)})).apply(this,arguments)}function di(){return(di=(0,y.Z)(function*(D,d){return wr(D,d)})).apply(this,arguments)}function $r(){return($r=(0,y.Z)(function*(D,d){return ut(D,"POST","/v1/accounts:signInWithEmailLink",ct(D,d))})).apply(this,arguments)}function Us(){return(Us=(0,y.Z)(function*(D,d){return ut(D,"POST","/v1/accounts:signInWithEmailLink",ct(D,d))})).apply(this,arguments)}class Ii extends At{constructor(d,m,T,K=null){super("password",T),this._email=d,this._password=m,this._tenantId=K}static _fromEmailAndPassword(d,m){return new Ii(d,m,"password")}static _fromEmailAndCode(d,m,T=null){return new Ii(d,m,"emailLink",T)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const m="string"==typeof d?JSON.parse(d):d;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(d){var m=this;return(0,y.Z)(function*(){var T;switch(m.signInMethod){case"password":const K={returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(T=d._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const ne=yield or(d,K,"signInWithPassword");return Wr(d,ne)}return Wr(d,K).catch(function(){var ne=(0,y.Z)(function*(Oe){if("auth/missing-recaptcha-token"===Oe.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const lt=yield or(d,K,"signInWithPassword");return Wr(d,lt)}return Promise.reject(Oe)});return function(Oe){return ne.apply(this,arguments)}}());case"emailLink":return function _r(D,d){return $r.apply(this,arguments)}(d,{email:m._email,oobCode:m._password});default:Le(d,"internal-error")}})()}_linkToIdToken(d,m){var T=this;return(0,y.Z)(function*(){switch(T.signInMethod){case"password":return pn(d,{idToken:m,returnSecureToken:!0,email:T._email,password:T._password});case"emailLink":return function to(D,d){return Us.apply(this,arguments)}(d,{idToken:m,email:T._email,oobCode:T._password});default:Le(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function ds(D,d){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,y.Z)(function*(D,d){return ut(D,"POST","/v1/accounts:signInWithIdp",ct(D,d))})).apply(this,arguments)}class Gi extends At{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const m=new Gi(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(m.idToken=d.idToken),d.accessToken&&(m.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(m.nonce=d.nonce),d.pendingToken&&(m.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(m.accessToken=d.oauthToken,m.secret=d.oauthTokenSecret):Le("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const m="string"==typeof d?JSON.parse(d):d,{providerId:T,signInMethod:K}=m,ne=(0,ie._T)(m,["providerId","signInMethod"]);if(!T||!K)return null;const Oe=new Gi(T,K);return Oe.idToken=ne.idToken||void 0,Oe.accessToken=ne.accessToken||void 0,Oe.secret=ne.secret,Oe.nonce=ne.nonce,Oe.pendingToken=ne.pendingToken||null,Oe}_getIdTokenResponse(d){return ds(d,this.buildRequest())}_linkToIdToken(d,m){const T=this.buildRequest();return T.idToken=m,ds(d,T)}_getReauthenticationResolver(d){const m=this.buildRequest();return m.autoCreate=!1,ds(d,m)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),d.postBody=(0,L.xO)(m)}return d}}function Ss(){return(Ss=(0,y.Z)(function*(D,d){return Nt(D,"POST","/v1/accounts:sendVerificationCode",ct(D,d))})).apply(this,arguments)}function js(){return(js=(0,y.Z)(function*(D,d){return ut(D,"POST","/v1/accounts:signInWithPhoneNumber",ct(D,d))})).apply(this,arguments)}function ma(){return(ma=(0,y.Z)(function*(D,d){const m=yield ut(D,"POST","/v1/accounts:signInWithPhoneNumber",ct(D,d));if(m.temporaryProof)throw fn(D,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const As={USER_NOT_FOUND:"user-not-found"};function Zo(){return(Zo=(0,y.Z)(function*(D,d){return ut(D,"POST","/v1/accounts:signInWithPhoneNumber",ct(D,Object.assign(Object.assign({},d),{operation:"REAUTH"})),As)})).apply(this,arguments)}class Bi extends At{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,m){return new Bi({verificationId:d,verificationCode:m})}static _fromTokenResponse(d,m){return new Bi({phoneNumber:d,temporaryProof:m})}_getIdTokenResponse(d){return function hs(D,d){return js.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,m){return function ga(D,d){return ma.apply(this,arguments)}(d,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function no(D,d){return Zo.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:m,verificationId:T,verificationCode:K}=this.params;return d&&m?{temporaryProof:d,phoneNumber:m}:{sessionInfo:T,code:K}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:m,verificationCode:T,phoneNumber:K,temporaryProof:ne}=d;return T||m||K||ne?new Bi({verificationId:m,verificationCode:T,phoneNumber:K,temporaryProof:ne}):null}}class Yi{constructor(d){var m,T,K,ne,Oe,lt;const Lt=(0,L.zd)((0,L.pd)(d)),tn=null!==(m=Lt.apiKey)&&void 0!==m?m:null,bn=null!==(T=Lt.oobCode)&&void 0!==T?T:null,Hn=function ho(D){switch(D){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(K=Lt.mode)&&void 0!==K?K:null);Ue(tn&&bn&&Hn,"argument-error"),this.apiKey=tn,this.operation=Hn,this.code=bn,this.continueUrl=null!==(ne=Lt.continueUrl)&&void 0!==ne?ne:null,this.languageCode=null!==(Oe=Lt.languageCode)&&void 0!==Oe?Oe:null,this.tenantId=null!==(lt=Lt.tenantId)&&void 0!==lt?lt:null}static parseLink(d){const m=function Ta(D){const d=(0,L.zd)((0,L.pd)(D)).link,m=d?(0,L.zd)((0,L.pd)(d)).deep_link_id:null,T=(0,L.zd)((0,L.pd)(D)).deep_link_id;return(T?(0,L.zd)((0,L.pd)(T)).link:null)||T||m||d||D}(d);try{return new Yi(m)}catch{return null}}}let Ro=(()=>{class D{constructor(){this.providerId=D.PROVIDER_ID}static credential(m,T){return Ii._fromEmailAndPassword(m,T)}static credentialWithLink(m,T){const K=Yi.parseLink(T);return Ue(K,"argument-error"),Ii._fromEmailAndCode(m,K.code,K.tenantId)}}return D.PROVIDER_ID="password",D.EMAIL_PASSWORD_SIGN_IN_METHOD="password",D.EMAIL_LINK_SIGN_IN_METHOD="emailLink",D})();class $s{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class vi extends $s{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class Ms extends vi{static credentialFromJSON(d){const m="string"==typeof d?JSON.parse(d):d;return Ue("providerId"in m&&"signInMethod"in m,"argument-error"),Gi._fromParams(m)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return Ue(d.idToken||d.accessToken,"argument-error"),Gi._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return Ms.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return Ms.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:m,oauthAccessToken:T,oauthTokenSecret:K,pendingToken:ne,nonce:Oe,providerId:lt}=d;if(!T&&!K&&!m&&!ne||!lt)return null;try{return new Ms(lt)._credential({idToken:m,accessToken:T,nonce:Oe,pendingToken:ne})}catch{return null}}}let ya=(()=>{class D extends vi{constructor(){super("facebook.com")}static credential(m){return Gi._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return D.credentialFromTaggedObject(m)}static credentialFromError(m){return D.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return D.credential(m.oauthAccessToken)}catch{return null}}}return D.FACEBOOK_SIGN_IN_METHOD="facebook.com",D.PROVIDER_ID="facebook.com",D})(),Hs=(()=>{class D extends vi{constructor(){super("google.com"),this.addScope("profile")}static credential(m,T){return Gi._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:T})}static credentialFromResult(m){return D.credentialFromTaggedObject(m)}static credentialFromError(m){return D.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:T,oauthAccessToken:K}=m;if(!T&&!K)return null;try{return D.credential(T,K)}catch{return null}}}return D.GOOGLE_SIGN_IN_METHOD="google.com",D.PROVIDER_ID="google.com",D})(),fo=(()=>{class D extends vi{constructor(){super("github.com")}static credential(m){return Gi._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return D.credentialFromTaggedObject(m)}static credentialFromError(m){return D.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return D.credential(m.oauthAccessToken)}catch{return null}}}return D.GITHUB_SIGN_IN_METHOD="github.com",D.PROVIDER_ID="github.com",D})();class Di extends At{constructor(d,m){super(d,d),this.pendingToken=m}_getIdTokenResponse(d){return ds(d,this.buildRequest())}_linkToIdToken(d,m){const T=this.buildRequest();return T.idToken=m,ds(d,T)}_getReauthenticationResolver(d){const m=this.buildRequest();return m.autoCreate=!1,ds(d,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const m="string"==typeof d?JSON.parse(d):d,{providerId:T,signInMethod:K,pendingToken:ne}=m;return T&&K&&ne&&T===K?new Di(T,ne):null}static _create(d,m){return new Di(d,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ro extends $s{constructor(d){Ue(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return ro.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return ro.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const m=Di.fromJSON(d);return Ue(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:m,providerId:T}=d;if(!m||!T)return null;try{return Di._create(T,m)}catch{return null}}}let Oo=(()=>{class D extends vi{constructor(){super("twitter.com")}static credential(m,T){return Gi._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:T})}static credentialFromResult(m){return D.credentialFromTaggedObject(m)}static credentialFromError(m){return D.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:T,oauthTokenSecret:K}=m;if(!T||!K)return null;try{return D.credential(T,K)}catch{return null}}}return D.TWITTER_SIGN_IN_METHOD="twitter.com",D.PROVIDER_ID="twitter.com",D})();function Wi(D,d){return fs.apply(this,arguments)}function fs(){return(fs=(0,y.Z)(function*(D,d){return ut(D,"POST","/v1/accounts:signUp",ct(D,d))})).apply(this,arguments)}class Jn{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,m,T,K=!1){return(0,y.Z)(function*(){const ne=yield Or._fromIdTokenResponse(d,T,K),Oe=Ci(T);return new Jn({user:ne,providerId:Oe,_tokenResponse:T,operationType:m})})()}static _forOperation(d,m,T){return(0,y.Z)(function*(){yield d._updateTokensIfNecessary(T,!0);const K=Ci(T);return new Jn({user:d,providerId:K,_tokenResponse:T,operationType:m})})()}}function Ci(D){return D.providerId?D.providerId:"phoneNumber"in D?"phone":null}function Qi(D){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,y.Z)(function*(D){var d;const m=pr(D);if(yield m._initializationPromise,null!==(d=m.currentUser)&&void 0!==d&&d.isAnonymous)return new Jn({user:m.currentUser,providerId:null,operationType:"signIn"});const T=yield Wi(m,{returnSecureToken:!0}),K=yield Jn._fromIdTokenResponse(m,"signIn",T,!0);return yield m._updateCurrentUser(K.user),K})).apply(this,arguments)}class Rs extends L.ZR{constructor(d,m,T,K){var ne;super(m.code,m.message),this.operationType=T,this.user=K,Object.setPrototypeOf(this,Rs.prototype),this.customData={appName:d.name,tenantId:null!==(ne=d.tenantId)&&void 0!==ne?ne:void 0,_serverResponse:m.customData._serverResponse,operationType:T}}static _fromErrorAndOperation(d,m,T,K){return new Rs(d,m,T,K)}}function go(D,d,m,T){return("reauthenticate"===d?m._getReauthenticationResolver(D):m._getIdTokenResponse(D)).catch(ne=>{throw"auth/multi-factor-auth-required"===ne.code?Rs._fromErrorAndOperation(D,ne,d,T):ne})}function Ni(D){return new Set(D.map(({providerId:d})=>d).filter(d=>!!d))}function Sa(D,d){return ps.apply(this,arguments)}function ps(){return ps=(0,y.Z)(function*(D,d){const m=(0,L.m9)(D);yield Po(!0,m,d);const{providerUserInfo:T}=yield function an(D,d){return Gr.apply(this,arguments)}(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[d]}),K=Ni(T||[]);return m.providerData=m.providerData.filter(ne=>K.has(ne.providerId)),K.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m}),ps.apply(this,arguments)}function Ti(D,d){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,y.Z)(function*(D,d,m=!1){const T=yield Qt(D,d._linkToIdToken(D.auth,yield D.getIdToken()),m);return Jn._forOperation(D,"link",T)})).apply(this,arguments)}function Po(D,d,m){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,y.Z)(function*(D,d,m){yield Er(d);const K=!1===D?"provider-already-linked":"no-such-provider";Ue(Ni(d.providerData).has(m)===D,d.auth,K)})).apply(this,arguments)}function bi(D,d){return gs.apply(this,arguments)}function gs(){return(gs=(0,y.Z)(function*(D,d,m=!1){const{auth:T}=D,K="reauthenticate";try{const ne=yield Qt(D,go(T,K,d,D),m);Ue(ne.idToken,T,"internal-error");const Oe=Ri(ne.idToken);Ue(Oe,T,"internal-error");const{sub:lt}=Oe;return Ue(D.uid===lt,T,"user-mismatch"),Jn._forOperation(D,K,ne)}catch(ne){throw"auth/user-not-found"===ne?.code&&Le(T,"user-mismatch"),ne}})).apply(this,arguments)}function hi(D,d){return is.apply(this,arguments)}function is(){return(is=(0,y.Z)(function*(D,d,m=!1){const T="signIn",K=yield go(D,T,d),ne=yield Jn._fromIdTokenResponse(D,T,K);return m||(yield D._updateCurrentUser(ne.user)),ne})).apply(this,arguments)}function Pn(D,d){return mo.apply(this,arguments)}function mo(){return(mo=(0,y.Z)(function*(D,d){return hi(pr(D),d)})).apply(this,arguments)}function U(D,d){return F.apply(this,arguments)}function F(){return(F=(0,y.Z)(function*(D,d){const m=(0,L.m9)(D);return yield Po(!1,m,d.providerId),Ti(m,d)})).apply(this,arguments)}function k(D,d){return te.apply(this,arguments)}function te(){return(te=(0,y.Z)(function*(D,d){return bi((0,L.m9)(D),d)})).apply(this,arguments)}function In(){return(In=(0,y.Z)(function*(D,d){return ut(D,"POST","/v1/accounts:signInWithCustomToken",ct(D,d))})).apply(this,arguments)}function Qr(D,d){return Ye.apply(this,arguments)}function Ye(){return Ye=(0,y.Z)(function*(D,d){const m=pr(D),T=yield function tt(D,d){return In.apply(this,arguments)}(m,{token:d,returnSecureToken:!0}),K=yield Jn._fromIdTokenResponse(m,"signIn",T);return yield m._updateCurrentUser(K.user),K}),Ye.apply(this,arguments)}class _n{constructor(d,m){this.factorId=d,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(d,m){return"phoneInfo"in m?yo._fromServerResponse(d,m):"totpInfo"in m?io._fromServerResponse(d,m):Le(d,"internal-error")}}class yo extends _n{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,m){return new yo(m)}}class io extends _n{constructor(d){super("totp",d)}static _fromServerResponse(d,m){return new io(m)}}function fi(D,d,m){var T;Ue((null===(T=m.url)||void 0===T?void 0:T.length)>0,D,"invalid-continue-uri"),Ue(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,D,"invalid-dynamic-link-domain"),d.continueUrl=m.url,d.dynamicLinkDomain=m.dynamicLinkDomain,d.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(Ue(m.iOS.bundleId.length>0,D,"missing-ios-bundle-id"),d.iOSBundleId=m.iOS.bundleId),m.android&&(Ue(m.android.packageName.length>0,D,"missing-android-pkg-name"),d.androidInstallApp=m.android.installApp,d.androidMinimumVersionCode=m.android.minimumVersion,d.androidPackageName=m.android.packageName)}function Fa(D,d,m){return Qo.apply(this,arguments)}function Qo(){return Qo=(0,y.Z)(function*(D,d,m){var T;const K=pr(D),ne={requestType:"PASSWORD_RESET",email:d,clientType:"CLIENT_TYPE_WEB"};if(null!==(T=K._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const Oe=yield or(K,ne,"getOobCode",!0);m&&fi(K,Oe,m),yield Zi(K,Oe)}else m&&fi(K,ne,m),yield Zi(K,ne).catch(function(){var Oe=(0,y.Z)(function*(lt){if("auth/missing-recaptcha-token"!==lt.code)return Promise.reject(lt);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Lt=yield or(K,ne,"getOobCode",!0);m&&fi(K,Lt,m),yield Zi(K,Lt)}});return function(lt){return Oe.apply(this,arguments)}}())}),Qo.apply(this,arguments)}function ms(D,d,m){return Os.apply(this,arguments)}function Os(){return(Os=(0,y.Z)(function*(D,d,m){yield En((0,L.m9)(D),{oobCode:d,newPassword:m})})).apply(this,arguments)}function zs(D,d){return Jo.apply(this,arguments)}function Jo(){return Jo=(0,y.Z)(function*(D,d){yield function jr(D,d){return ei.apply(this,arguments)}((0,L.m9)(D),{oobCode:d})}),Jo.apply(this,arguments)}function Xi(D,d){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,y.Z)(function*(D,d){const m=(0,L.m9)(D),T=yield En(m,{oobCode:d}),K=T.requestType;switch(Ue(K,m,"internal-error"),K){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ue(T.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ue(T.mfaInfo,m,"internal-error");default:Ue(T.email,m,"internal-error")}let ne=null;return T.mfaInfo&&(ne=_n._fromServerResponse(pr(m),T.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.newEmail:T.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.email:T.newEmail)||null,multiFactorInfo:ne},operation:K}})).apply(this,arguments)}function Kn(D,d){return ji.apply(this,arguments)}function ji(){return(ji=(0,y.Z)(function*(D,d){const{data:m}=yield Xi((0,L.m9)(D),d);return m.email})).apply(this,arguments)}function xs(D,d,m){return ys.apply(this,arguments)}function ys(){return ys=(0,y.Z)(function*(D,d,m){var T;const K=pr(D),ne={returnSecureToken:!0,email:d,password:m,clientType:"CLIENT_TYPE_WEB"};let Oe;if(null!==(T=K._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const tn=yield or(K,ne,"signUpPassword");Oe=Wi(K,tn)}else Oe=Wi(K,ne).catch(function(){var tn=(0,y.Z)(function*(bn){if("auth/missing-recaptcha-token"===bn.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Hn=yield or(K,ne,"signUpPassword");return Wi(K,Hn)}return Promise.reject(bn)});return function(bn){return tn.apply(this,arguments)}}());const lt=yield Oe.catch(tn=>Promise.reject(tn)),Lt=yield Jn._fromIdTokenResponse(K,"signIn",lt);return yield K._updateCurrentUser(Lt.user),Lt}),ys.apply(this,arguments)}function so(D,d,m){return Pn((0,L.m9)(D),Ro.credential(d,m))}function Aa(D,d,m){return vo.apply(this,arguments)}function vo(){return vo=(0,y.Z)(function*(D,d,m){var T;const K=pr(D),ne={requestType:"EMAIL_SIGNIN",email:d,clientType:"CLIENT_TYPE_WEB"};function Oe(lt,Lt){Ue(Lt.handleCodeInApp,K,"argument-error"),Lt&&fi(K,lt,Lt)}if(null!==(T=K._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const lt=yield or(K,ne,"getOobCode",!0);Oe(lt,m),yield Vs(K,lt)}else Oe(ne,m),yield Vs(K,ne).catch(function(){var lt=(0,y.Z)(function*(Lt){if("auth/missing-recaptcha-token"!==Lt.code)return Promise.reject(Lt);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const tn=yield or(K,ne,"getOobCode",!0);Oe(tn,m),yield Vs(K,tn)}});return function(Lt){return lt.apply(this,arguments)}}())}),vo.apply(this,arguments)}function La(D,d){return"EMAIL_SIGNIN"===Yi.parseLink(d)?.operation}function Vu(D,d,m){return pi.apply(this,arguments)}function pi(){return(pi=(0,y.Z)(function*(D,d,m){const T=(0,L.m9)(D),K=Ro.credentialWithLink(d,m||bt());return Ue(K._tenantId===(T.tenantId||null),T,"tenant-id-mismatch"),Pn(T,K)})).apply(this,arguments)}function vs(){return(vs=(0,y.Z)(function*(D,d){return Nt(D,"POST","/v1/accounts:createAuthUri",ct(D,d))})).apply(this,arguments)}function Ma(D,d){return ea.apply(this,arguments)}function ea(){return ea=(0,y.Z)(function*(D,d){const T={identifier:d,continueUri:mn()?bt():"http://localhost"},{signinMethods:K}=yield function Xo(D,d){return vs.apply(this,arguments)}((0,L.m9)(D),T);return K||[]}),ea.apply(this,arguments)}function xo(D,d){return Ns.apply(this,arguments)}function Ns(){return Ns=(0,y.Z)(function*(D,d){const m=(0,L.m9)(D),K={requestType:"VERIFY_EMAIL",idToken:yield D.getIdToken()};d&&fi(m.auth,K,d);const{email:ne}=yield function Ko(D,d){return Mo.apply(this,arguments)}(m.auth,K);ne!==D.email&&(yield D.reload())}),Ns.apply(this,arguments)}function Va(D,d,m){return va.apply(this,arguments)}function va(){return va=(0,y.Z)(function*(D,d,m){const T=(0,L.m9)(D),ne={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield D.getIdToken(),newEmail:d};m&&fi(T.auth,ne,m);const{email:Oe}=yield function oa(D,d){return di.apply(this,arguments)}(T.auth,ne);Oe!==D.email&&(yield D.reload())}),va.apply(this,arguments)}function ta(){return(ta=(0,y.Z)(function*(D,d){return Nt(D,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function na(D,d){return No.apply(this,arguments)}function No(){return No=(0,y.Z)(function*(D,{displayName:d,photoURL:m}){if(void 0===d&&void 0===m)return;const T=(0,L.m9)(D),ne={idToken:yield T.getIdToken(),displayName:d,photoUrl:m,returnSecureToken:!0},Oe=yield Qt(T,function Ra(D,d){return ta.apply(this,arguments)}(T.auth,ne));T.displayName=Oe.displayName||null,T.photoURL=Oe.photoUrl||null;const lt=T.providerData.find(({providerId:Lt})=>"password"===Lt);lt&&(lt.displayName=T.displayName,lt.photoURL=T.photoURL),yield T._updateTokensIfNecessary(Oe)}),No.apply(this,arguments)}function _o(D,d){return Gs((0,L.m9)(D),d,null)}function br(D,d){return Gs((0,L.m9)(D),null,d)}function Gs(D,d,m){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,y.Z)(function*(D,d,m){const{auth:T}=D,ne={idToken:yield D.getIdToken(),returnSecureToken:!0};d&&(ne.email=d),m&&(ne.password=m);const Oe=yield Qt(D,pn(T,ne));yield D._updateTokensIfNecessary(Oe,!0)})).apply(this,arguments)}class ua{constructor(d,m,T={}){this.isNewUser=d,this.providerId=m,this.profile=T}}class Ba extends ua{constructor(d,m,T,K){super(d,m,T),this.username=K}}class wu extends ua{constructor(d,m){super(d,"facebook.com",m)}}class ko extends Ba{constructor(d,m){super(d,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class Ws extends ua{constructor(d,m){super(d,"google.com",m)}}class ra extends Ba{constructor(d,m,T){super(d,"twitter.com",m,T)}}function _a(D){const{user:d,_tokenResponse:m}=D;return d.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Ua(D){var d,m;if(!D)return null;const{providerId:T}=D,K=D.rawUserInfo?JSON.parse(D.rawUserInfo):{},ne=D.isNewUser||"identitytoolkit#SignupNewUserResponse"===D.kind;if(!T&&D?.idToken){const Oe=null===(m=null===(d=Ri(D.idToken))||void 0===d?void 0:d.firebase)||void 0===m?void 0:m.sign_in_provider;if(Oe)return new ua(ne,"anonymous"!==Oe&&"custom"!==Oe?Oe:null)}if(!T)return null;switch(T){case"facebook.com":return new wu(ne,K);case"github.com":return new ko(ne,K);case"google.com":return new Ws(ne,K);case"twitter.com":return new ra(ne,K,D.screenName||null);case"custom":case"anonymous":return new ua(ne,null);default:return new ua(ne,T,K)}}(m)}class dr{constructor(d,m,T){this.type=d,this.credential=m,this.auth=T}static _fromIdtoken(d,m){return new dr("enroll",d,m)}static _fromMfaPendingCredential(d){return new dr("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var m,T;if(d?.multiFactorSession){if(null!==(m=d.multiFactorSession)&&void 0!==m&&m.pendingCredential)return dr._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null!==(T=d.multiFactorSession)&&void 0!==T&&T.idToken)return dr._fromIdtoken(d.multiFactorSession.idToken)}return null}}class hr{constructor(d,m,T){this.session=d,this.hints=m,this.signInResolver=T}static _fromError(d,m){const T=pr(d),K=m.customData._serverResponse,ne=(K.mfaInfo||[]).map(lt=>_n._fromServerResponse(T,lt));Ue(K.mfaPendingCredential,T,"internal-error");const Oe=dr._fromMfaPendingCredential(K.mfaPendingCredential);return new hr(Oe,ne,function(){var lt=(0,y.Z)(function*(Lt){const tn=yield Lt._process(T,Oe);delete K.mfaInfo,delete K.mfaPendingCredential;const bn=Object.assign(Object.assign({},K),{idToken:tn.idToken,refreshToken:tn.refreshToken});switch(m.operationType){case"signIn":const Hn=yield Jn._fromIdTokenResponse(T,m.operationType,bn);return yield T._updateCurrentUser(Hn.user),Hn;case"reauthenticate":return Ue(m.user,T,"internal-error"),Jn._forOperation(m.user,m.operationType,bn);default:Le(T,"internal-error")}});return function(Lt){return lt.apply(this,arguments)}}())}resolveSignIn(d){var m=this;return(0,y.Z)(function*(){return m.signInResolver(d)})()}}function jn(D,d){var m;const T=(0,L.m9)(D),K=d;return Ue(d.customData.operationType,T,"argument-error"),Ue(null===(m=K.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,T,"argument-error"),hr._fromError(T,K)}class qs{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(T=>_n._fromServerResponse(d.auth,T)))})}static _fromUser(d){return new qs(d)}getSession(){var d=this;return(0,y.Z)(function*(){return dr._fromIdtoken(yield d.user.getIdToken(),d.user.auth)})()}enroll(d,m){var T=this;return(0,y.Z)(function*(){const K=d,ne=yield T.getSession(),Oe=yield Qt(T.user,K._process(T.user.auth,ne,m));return yield T.user._updateTokensIfNecessary(Oe),T.user.reload()})()}unenroll(d){var m=this;return(0,y.Z)(function*(){const T="string"==typeof d?d:d.uid,K=yield m.user.getIdToken();try{const ne=yield Qt(m.user,function ki(D,d){return Nt(D,"POST","/v2/accounts/mfaEnrollment:withdraw",ct(D,d))}(m.user.auth,{idToken:K,mfaEnrollmentId:T}));m.enrolledFactors=m.enrolledFactors.filter(({uid:Oe})=>Oe!==T),yield m.user._updateTokensIfNecessary(ne),yield m.user.reload()}catch(ne){throw ne}})()}}const ui=new WeakMap;function _s(D){const d=(0,L.m9)(D);return ui.has(d)||ui.set(d,qs._fromUser(d)),ui.get(d)}const Es="__sak";class $i{constructor(d,m){this.storageRetriever=d,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Es,"1"),this.storage.removeItem(Es),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(d,m){return this.storage.setItem(d,JSON.stringify(m)),Promise.resolve()}_get(d){const m=this.storage.getItem(d);return Promise.resolve(m?JSON.parse(m):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const Fo=(()=>{class D extends $i{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,T)=>this.onStorageEvent(m,T),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function $a(){const D=(0,L.z$)();return st(D)||Ie(D)}()&&function Nn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=tr(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const T of Object.keys(this.listeners)){const K=this.storage.getItem(T),ne=this.localCache[T];K!==ne&&m(T,ne,K)}}onStorageEvent(m,T=!1){if(!m.key)return void this.forAllChangedKeys((lt,Lt,tn)=>{this.notifyListeners(lt,tn)});const K=m.key;if(T?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const lt=this.storage.getItem(K);if(m.newValue!==lt)null!==m.newValue?this.storage.setItem(K,m.newValue):this.storage.removeItem(K);else if(this.localCache[K]===m.newValue&&!T)return}const ne=()=>{const lt=this.storage.getItem(K);!T&&this.localCache[K]===lt||this.notifyListeners(K,lt)},Oe=this.storage.getItem(K);!function cn(){return(0,L.w1)()&&10===document.documentMode}()||Oe===m.newValue||m.newValue===m.oldValue?ne():setTimeout(ne,10)}notifyListeners(m,T){this.localCache[m]=T;const K=this.listeners[m];if(K)for(const ne of Array.from(K))ne(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,T,K)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:T,newValue:K}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(T)}_removeListener(m,T){this.listeners[m]&&(this.listeners[m].delete(T),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,T){var K=()=>super._set,ne=this;return(0,y.Z)(function*(){yield K().call(ne,m,T),ne.localCache[m]=JSON.stringify(T)})()}_get(m){var T=()=>super._get,K=this;return(0,y.Z)(function*(){const ne=yield T().call(K,m);return K.localCache[m]=JSON.stringify(ne),ne})()}_remove(m){var T=()=>super._remove,K=this;return(0,y.Z)(function*(){yield T().call(K,m),delete K.localCache[m]})()}}return D.type="LOCAL",D})(),ks=(()=>{class D extends $i{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,T){}_removeListener(m,T){}}return D.type="SESSION",D})();let za=(()=>{class D{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const T=this.receivers.find(ne=>ne.isListeningto(m));if(T)return T;const K=new D(m);return this.receivers.push(K),K}isListeningto(m){return this.eventTarget===m}handleEvent(m){var T=this;return(0,y.Z)(function*(){const K=m,{eventId:ne,eventType:Oe,data:lt}=K.data,Lt=T.handlersMap[Oe];if(!Lt?.size)return;K.ports[0].postMessage({status:"ack",eventId:ne,eventType:Oe});const tn=Array.from(Lt).map(function(){var Hn=(0,y.Z)(function*(qi){return qi(K.origin,lt)});return function(qi){return Hn.apply(this,arguments)}}()),bn=yield function sl(D){return Promise.all(D.map(function(){var d=(0,y.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(T){return{fulfilled:!1,reason:T}}});return function(m){return d.apply(this,arguments)}}()))}(tn);K.ports[0].postMessage({status:"done",eventId:ne,eventType:Oe,response:bn})})()}_subscribe(m,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(T)}_unsubscribe(m,T){this.handlersMap[m]&&T&&this.handlersMap[m].delete(T),(!T||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return D.receivers=[],D})();function Lo(D="",d=10){let m="";for(let T=0;T<d;T++)m+=Math.floor(10*Math.random());return D+m}class Ga{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,m,T=50){var K=this;return(0,y.Z)(function*(){const ne=typeof MessageChannel<"u"?new MessageChannel:null;if(!ne)throw new Error("connection_unavailable");let Oe,lt;return new Promise((Lt,tn)=>{const bn=Lo("",20);ne.port1.start();const Hn=setTimeout(()=>{tn(new Error("unsupported_event"))},T);lt={messageChannel:ne,onMessage(qi){const Ia=qi;if(Ia.data.eventId===bn)switch(Ia.data.status){case"ack":clearTimeout(Hn),Oe=setTimeout(()=>{tn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Oe),Lt(Ia.data.response);break;default:clearTimeout(Hn),clearTimeout(Oe),tn(new Error("invalid_response"))}}},K.handlers.add(lt),ne.port1.addEventListener("message",lt.onMessage),K.target.postMessage({eventType:d,eventId:bn,data:m},[ne.port2])}).finally(()=>{lt&&K.removeMessageHandler(lt)})})()}}function li(){return window}function Uo(){return typeof li().WorkerGlobalScope<"u"&&"function"==typeof li().importScripts}function la(){return(la=(0,y.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const _i="firebaseLocalStorageDb",ws=1,Dn="firebaseLocalStorage",ca="fbase_key";class Is{constructor(d){this.request=d}toPromise(){return new Promise((d,m)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function lu(D,d){return D.transaction([Dn],d?"readwrite":"readonly").objectStore(Dn)}function Pa(){const D=indexedDB.open(_i,ws);return new Promise((d,m)=>{D.addEventListener("error",()=>{m(D.error)}),D.addEventListener("upgradeneeded",()=>{const T=D.result;try{T.createObjectStore(Dn,{keyPath:ca})}catch(K){m(K)}}),D.addEventListener("success",(0,y.Z)(function*(){const T=D.result;T.objectStoreNames.contains(Dn)?d(T):(T.close(),yield function es(){const D=indexedDB.deleteDatabase(_i);return new Is(D).toPromise()}(),d(yield Pa()))}))})}function Fr(D,d,m){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,y.Z)(function*(D,d,m){const T=lu(D,!0).put({[ca]:d,value:m});return new Is(T).toPromise()})).apply(this,arguments)}function ss(){return(ss=(0,y.Z)(function*(D,d){const m=lu(D,!1).get(d),T=yield new Is(m).toPromise();return void 0===T?null:T.value})).apply(this,arguments)}function qa(D,d){const m=lu(D,!0).delete(d);return new Is(m).toPromise()}const Du=(()=>{class D{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,y.Z)(function*(){return m.db||(m.db=yield Pa()),m.db})()}_withRetries(m){var T=this;return(0,y.Z)(function*(){let K=0;for(;;)try{const ne=yield T._openDb();return yield m(ne)}catch(ne){if(K++>3)throw ne;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,y.Z)(function*(){return Uo()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,y.Z)(function*(){m.receiver=za._getInstance(function Wa(){return Uo()?self:null}()),m.receiver._subscribe("keyChanged",function(){var T=(0,y.Z)(function*(K,ne){return{keyProcessed:(yield m._poll()).includes(ne.key)}});return function(K,ne){return T.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var T=(0,y.Z)(function*(K,ne){return["keyChanged"]});return function(K,ne){return T.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,y.Z)(function*(){var T,K;if(m.activeServiceWorker=yield function Iu(){return la.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Ga(m.activeServiceWorker);const ne=yield m.sender._send("ping",{},800);ne&&null!==(T=ne[0])&&void 0!==T&&T.fulfilled&&null!==(K=ne[0])&&void 0!==K&&K.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var T=this;return(0,y.Z)(function*(){if(T.sender&&T.activeServiceWorker&&function uu(){var D;return(null===(D=navigator?.serviceWorker)||void 0===D?void 0:D.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:m},T.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,y.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Pa();return yield Fr(m,Es,"1"),yield qa(m,Es),!0}catch{}return!1})()}_withPendingWrite(m){var T=this;return(0,y.Z)(function*(){T.pendingWrites++;try{yield m()}finally{T.pendingWrites--}})()}_set(m,T){var K=this;return(0,y.Z)(function*(){return K._withPendingWrite((0,y.Z)(function*(){return yield K._withRetries(ne=>Fr(ne,m,T)),K.localCache[m]=T,K.notifyServiceWorker(m)}))})()}_get(m){var T=this;return(0,y.Z)(function*(){const K=yield T._withRetries(ne=>function Uu(D,d){return ss.apply(this,arguments)}(ne,m));return T.localCache[m]=K,K})()}_remove(m){var T=this;return(0,y.Z)(function*(){return T._withPendingWrite((0,y.Z)(function*(){return yield T._withRetries(K=>qa(K,m)),delete T.localCache[m],T.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,y.Z)(function*(){const T=yield m._withRetries(Oe=>{const lt=lu(Oe,!1).getAll();return new Is(lt).toPromise()});if(!T)return[];if(0!==m.pendingWrites)return[];const K=[],ne=new Set;for(const{fbase_key:Oe,value:lt}of T)ne.add(Oe),JSON.stringify(m.localCache[Oe])!==JSON.stringify(lt)&&(m.notifyListeners(Oe,lt),K.push(Oe));for(const Oe of Object.keys(m.localCache))m.localCache[Oe]&&!ne.has(Oe)&&(m.notifyListeners(Oe,null),K.push(Oe));return K})()}notifyListeners(m,T){this.localCache[m]=T;const K=this.listeners[m];if(K)for(const ne of Array.from(K))ne(T)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,y.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(T)}_removeListener(m,T){this.listeners[m]&&(this.listeners[m].delete(T),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return D.type="LOCAL",D})(),B=1e12;class Q{constructor(d){this.auth=d,this.counter=B,this._widgets=new Map}render(d,m){const T=this.counter;return this._widgets.set(T,new he(d,this.auth.name,m||{})),this.counter++,T}reset(d){var m;const T=d||B;null===(m=this._widgets.get(T))||void 0===m||m.delete(),this._widgets.delete(T)}getResponse(d){var m;return(null===(m=this._widgets.get(d||B))||void 0===m?void 0:m.getResponse())||""}execute(d){var m=this;return(0,y.Z)(function*(){var T;return null===(T=m._widgets.get(d||B))||void 0===T||T.execute(),""})()}}class he{constructor(d,m,T){this.params=T,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const K="string"==typeof d?document.getElementById(d):d;Ue(K,"argument-error",{appName:m}),this.container=K,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function pe(D){const d=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let T=0;T<D;T++)d.push(m.charAt(Math.floor(Math.random()*m.length)));return d.join("")}(50);const{callback:d,"expired-callback":m}=this.params;if(d)try{d(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const xe=Br("rcb"),at=new ke(3e4,6e4);class Gt{constructor(){var d;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(d=li().grecaptcha)||void 0===d||!d.render)}load(d,m=""){return Ue(function Un(D){return D.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(D)}(m),d,"argument-error"),this.shouldResolveImmediately(m)&&Sn(li().grecaptcha)?Promise.resolve(li().grecaptcha):new Promise((T,K)=>{const ne=li().setTimeout(()=>{K(_e(d,"network-request-failed"))},at.get());li()[xe]=()=>{li().clearTimeout(ne),delete li()[xe];const lt=li().grecaptcha;if(!lt||!Sn(lt))return void K(_e(d,"internal-error"));const Lt=lt.render;lt.render=(tn,bn)=>{const Hn=Lt(tn,bn);return this.counter++,Hn},this.hostLanguage=m,T(lt)},Bn(`https://www.google.com/recaptcha/api.js??${(0,L.xO)({onload:xe,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(ne),K(_e(d,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){var m;return!(null===(m=li().grecaptcha)||void 0===m||!m.render)&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class yn{load(d){return(0,y.Z)(function*(){return new Q(d)})()}clearedOneInstance(){}}const Ft="recaptcha",Cn={theme:"light",type:"image"};class ar{constructor(d,m=Object.assign({},Cn),T){this.parameters=m,this.type=Ft,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=pr(T),this.isInvisible="invisible"===this.parameters.size,Ue(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const K="string"==typeof d?document.getElementById(d):d;Ue(K,this.auth,"argument-error"),this.container=K,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new yn:new Gt,this.validateStartingState()}verify(){var d=this;return(0,y.Z)(function*(){d.assertNotDestroyed();const m=yield d.render(),T=d.getAssertedRecaptcha();return T.getResponse(m)||new Promise(ne=>{const Oe=lt=>{lt&&(d.tokenChangeListeners.delete(Oe),ne(lt))};d.tokenChangeListeners.add(Oe),d.isInvisible&&T.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){Ue(!this.parameters.sitekey,this.auth,"argument-error"),Ue(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ue(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return m=>{if(this.tokenChangeListeners.forEach(T=>T(m)),"function"==typeof d)d(m);else if("string"==typeof d){const T=li()[d];"function"==typeof T&&T(m)}}}assertNotDestroyed(){Ue(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,y.Z)(function*(){if(yield d.init(),!d.widgetId){let m=d.container;if(!d.isInvisible){const T=document.createElement("div");m.appendChild(T),m=T}d.widgetId=d.getAssertedRecaptcha().render(m,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,y.Z)(function*(){Ue(mn()&&!Uo(),d.auth,"internal-error"),yield function Xn(){let D=null;return new Promise(d=>{"complete"!==document.readyState?(D=()=>d(),window.addEventListener("load",D)):d()}).catch(d=>{throw D&&window.removeEventListener("load",D),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const m=yield function Xe(D){return Fe.apply(this,arguments)}(d.auth);Ue(m,d.auth,"internal-error"),d.parameters.sitekey=m})()}getAssertedRecaptcha(){return Ue(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ir{constructor(d,m){this.verificationId=d,this.onConfirmation=m}confirm(d){const m=Bi._fromVerification(this.verificationId,d);return this.onConfirmation(m)}}function Jr(D,d,m){return lr.apply(this,arguments)}function lr(){return(lr=(0,y.Z)(function*(D,d,m){const T=pr(D),K=yield St(T,d,(0,L.m9)(m));return new ir(K,ne=>Pn(T,ne))})).apply(this,arguments)}function os(D,d,m){return gi.apply(this,arguments)}function gi(){return(gi=(0,y.Z)(function*(D,d,m){const T=(0,L.m9)(D);yield Po(!1,T,"phone");const K=yield St(T.auth,d,(0,L.m9)(m));return new ir(K,ne=>U(T,ne))})).apply(this,arguments)}function Hi(D,d,m){return wo.apply(this,arguments)}function wo(){return(wo=(0,y.Z)(function*(D,d,m){const T=(0,L.m9)(D),K=yield St(T.auth,d,(0,L.m9)(m));return new ir(K,ne=>k(T,ne))})).apply(this,arguments)}function St(D,d,m){return Ar.apply(this,arguments)}function Ar(){return Ar=(0,y.Z)(function*(D,d,m){var T;const K=yield m.verify();try{let ne;if(Ue("string"==typeof K,D,"argument-error"),Ue(m.type===Ft,D,"argument-error"),ne="string"==typeof d?{phoneNumber:d}:d,"session"in ne){const Oe=ne.session;if("phoneNumber"in ne)return Ue("enroll"===Oe.type,D,"internal-error"),(yield function ti(D,d){return Nt(D,"POST","/v2/accounts/mfaEnrollment:start",ct(D,d))}(D,{idToken:Oe.credential,phoneEnrollmentInfo:{phoneNumber:ne.phoneNumber,recaptchaToken:K}})).phoneSessionInfo.sessionInfo;{Ue("signin"===Oe.type,D,"internal-error");const lt=(null===(T=ne.multiFactorHint)||void 0===T?void 0:T.uid)||ne.multiFactorUid;return Ue(lt,D,"missing-multi-factor-info"),(yield function oo(D,d){return Nt(D,"POST","/v2/accounts/mfaSignIn:start",ct(D,d))}(D,{mfaPendingCredential:Oe.credential,mfaEnrollmentId:lt,phoneSignInInfo:{recaptchaToken:K}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Oe}=yield function aa(D,d){return Ss.apply(this,arguments)}(D,{phoneNumber:ne.phoneNumber,recaptchaToken:K});return Oe}}finally{m._reset()}}),Ar.apply(this,arguments)}function ni(D,d){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,y.Z)(function*(D,d){yield Ti((0,L.m9)(D),d)})).apply(this,arguments)}let en=(()=>{class D{constructor(m){this.providerId=D.PROVIDER_ID,this.auth=pr(m)}verifyPhoneNumber(m,T){return St(this.auth,m,(0,L.m9)(T))}static credential(m,T){return Bi._fromVerification(m,T)}static credentialFromResult(m){return D.credentialFromTaggedObject(m)}static credentialFromError(m){return D.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:T,temporaryProof:K}=m;return T&&K?Bi._fromTokenResponse(T,K):null}}return D.PROVIDER_ID="phone",D.PHONE_SIGN_IN_METHOD="phone",D})();function _(D,d){return d?Rt(d):(Ue(D._popupRedirectResolver,D,"argument-error"),D._popupRedirectResolver)}class I extends At{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return ds(d,this._buildIdpRequest())}_linkToIdToken(d,m){return ds(d,this._buildIdpRequest(m))}_getReauthenticationResolver(d){return ds(d,this._buildIdpRequest())}_buildIdpRequest(d){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(m.idToken=d),m}}function p(D){return hi(D.auth,new I(D),D.bypassAuthState)}function w(D){const{auth:d,user:m}=D;return Ue(m,d,"internal-error"),bi(m,new I(D),D.bypassAuthState)}function M(D){return W.apply(this,arguments)}function W(){return(W=(0,y.Z)(function*(D){const{auth:d,user:m}=D;return Ue(m,d,"internal-error"),Ti(m,new I(D),D.bypassAuthState)})).apply(this,arguments)}class J{constructor(d,m,T,K,ne=!1){this.auth=d,this.resolver=T,this.user=K,this.bypassAuthState=ne,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var d=this;return new Promise(function(){var m=(0,y.Z)(function*(T,K){d.pendingPromise={resolve:T,reject:K};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(ne){d.reject(ne)}});return function(T,K){return m.apply(this,arguments)}}())}onAuthEvent(d){var m=this;return(0,y.Z)(function*(){const{urlResponse:T,sessionId:K,postBody:ne,tenantId:Oe,error:lt,type:Lt}=d;if(lt)return void m.reject(lt);const tn={auth:m.auth,requestUri:T,sessionId:K,tenantId:Oe||void 0,postBody:ne||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Lt)(tn))}catch(bn){m.reject(bn)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return p;case"linkViaPopup":case"linkViaRedirect":return M;case"reauthViaPopup":case"reauthViaRedirect":return w;default:Le(this.auth,"internal-error")}}resolve(d){nn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){nn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Se=new ke(2e3,1e4);function et(D,d,m){return kt.apply(this,arguments)}function kt(){return(kt=(0,y.Z)(function*(D,d,m){const T=pr(D);It(D,d,$s);const K=_(T,m);return new as(T,"signInViaPopup",d,K).executeNotNull()})).apply(this,arguments)}function Ot(D,d,m){return qn.apply(this,arguments)}function qn(){return(qn=(0,y.Z)(function*(D,d,m){const T=(0,L.m9)(D);It(T.auth,d,$s);const K=_(T.auth,m);return new as(T.auth,"reauthViaPopup",d,K,T).executeNotNull()})).apply(this,arguments)}function Li(D,d,m){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,y.Z)(function*(D,d,m){const T=(0,L.m9)(D);It(T.auth,d,$s);const K=_(T.auth,m);return new as(T.auth,"linkViaPopup",d,K,T).executeNotNull()})).apply(this,arguments)}let as=(()=>{class D extends J{constructor(m,T,K,ne,Oe){super(m,T,ne,Oe),this.provider=K,this.authWindow=null,this.pollId=null,D.currentPopupAction&&D.currentPopupAction.cancel(),D.currentPopupAction=this}executeNotNull(){var m=this;return(0,y.Z)(function*(){const T=yield m.execute();return Ue(T,m.auth,"internal-error"),T})()}onExecution(){var m=this;return(0,y.Z)(function*(){nn(1===m.filter.length,"Popup operations only handle one event");const T=Lo();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],T),m.authWindow.associatedEvent=T,m.resolver._originValidation(m.auth).catch(K=>{m.reject(K)}),m.resolver._isIframeWebStorageSupported(m.auth,K=>{K||m.reject(_e(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(_e(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,D.currentPopupAction=null}pollUserCancellation(){const m=()=>{var T,K;this.pollId=null!==(K=null===(T=this.authWindow)||void 0===T?void 0:T.window)&&void 0!==K&&K.closed?window.setTimeout(()=>{this.pollId=null,this.reject(_e(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,Se.get())};m()}}return D.currentPopupAction=null,D})();const zi="pendingRedirect",ri=new Map;class Ln extends J{constructor(d,m,T=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,T),this.eventId=null}execute(){var d=()=>super.execute,m=this;return(0,y.Z)(function*(){let T=ri.get(m.auth._key());if(!T){try{const ne=(yield function xa(D,d){return cu.apply(this,arguments)}(m.resolver,m.auth))?yield d().call(m):null;T=()=>Promise.resolve(ne)}catch(K){T=()=>Promise.reject(K)}ri.set(m.auth._key(),T)}return m.bypassAuthState||ri.set(m.auth._key(),()=>Promise.resolve(null)),T()})()}onAuthEvent(d){var m=()=>super.onAuthEvent,T=this;return(0,y.Z)(function*(){if("signInViaRedirect"===d.type)return m().call(T,d);if("unknown"!==d.type){if(d.eventId){const K=yield T.auth._redirectUserForId(d.eventId);if(K)return T.user=K,m().call(T,d);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,y.Z)(function*(){})()}cleanUp(){}}function cu(){return(cu=(0,y.Z)(function*(D,d){const m=Ki(d),T=wd(D);if(!(yield T._isAvailable()))return!1;const K="true"===(yield T._get(m));return yield T._remove(m),K})).apply(this,arguments)}function Vi(D,d){return wn.apply(this,arguments)}function wn(){return(wn=(0,y.Z)(function*(D,d){return wd(D)._set(Ki(d),"true")})).apply(this,arguments)}function du(){ri.clear()}function Pr(D,d){ri.set(D._key(),d)}function wd(D){return Rt(D._redirectPersistence)}function Ki(D){return Nr(zi,D.config.apiKey,D.name)}function rn(D,d,m){return function _l(D,d,m){return ol.apply(this,arguments)}(D,d,m)}function ol(){return(ol=(0,y.Z)(function*(D,d,m){const T=pr(D);It(D,d,$s),yield T._initializationPromise;const K=_(T,m);return yield Vi(K,T),K._openRedirect(T,d,"signInViaRedirect")})).apply(this,arguments)}function Cu(D,d,m){return function Id(D,d,m){return Za.apply(this,arguments)}(D,d,m)}function Za(){return(Za=(0,y.Z)(function*(D,d,m){const T=(0,L.m9)(D);It(T.auth,d,$s),yield T.auth._initializationPromise;const K=_(T.auth,m);yield Vi(K,T.auth);const ne=yield Zl(T);return K._openRedirect(T.auth,d,"reauthViaRedirect",ne)})).apply(this,arguments)}function Nc(D,d,m){return function al(D,d,m){return El.apply(this,arguments)}(D,d,m)}function El(){return(El=(0,y.Z)(function*(D,d,m){const T=(0,L.m9)(D);It(T.auth,d,$s),yield T.auth._initializationPromise;const K=_(T.auth,m);yield Po(!1,T,d.providerId),yield Vi(K,T.auth);const ne=yield Zl(T);return K._openRedirect(T.auth,d,"linkViaRedirect",ne)})).apply(this,arguments)}function Dd(D,d){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,y.Z)(function*(D,d){return yield pr(D)._initializationPromise,wl(D,d,!1)})).apply(this,arguments)}function wl(D,d){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,y.Z)(function*(D,d,m=!1){const T=pr(D),K=_(T,d),Oe=yield new Ln(T,K,m).execute();return Oe&&!m&&(delete Oe.user._redirectEventId,yield T._persistUserIfCurrent(Oe.user),yield T._setRedirectUser(null,d)),Oe})).apply(this,arguments)}function Zl(D){return da.apply(this,arguments)}function da(){return(da=(0,y.Z)(function*(D){const d=Lo(`${D.uid}:::`);return D._redirectEventId=d,yield D.auth._setRedirectUser(D),yield D.auth._persistUserIfCurrent(D),d})).apply(this,arguments)}class Ke{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let m=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(d,T)&&(m=!0,this.sendToConsumer(d,T),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function kc(D){switch(D.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ia(D);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=d,m=!0)),m}sendToConsumer(d,m){var T;if(d.error&&!ia(d)){const K=(null===(T=d.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";m.onError(_e(this.auth,K))}else m.onAuthEvent(d)}isEventForConsumer(d,m){const T=null===m.eventId||!!d.eventId&&d.eventId===m.eventId;return m.filter.includes(d.type)&&T}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ya(d))}saveEventToCache(d){this.cachedEventUids.add(Ya(d)),this.lastProcessedEventTime=Date.now()}}function Ya(D){return[D.type,D.eventId,D.sessionId,D.tenantId].filter(d=>d).join("-")}function ia({type:D,error:d}){return"unknown"===D&&"auth/no-auth-event"===d?.code}function Tu(D){return wa.apply(this,arguments)}function wa(){return(wa=(0,y.Z)(function*(D,d={}){return Nt(D,"GET","/v1/projects",d)})).apply(this,arguments)}const zf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ju=/^https?/;function bu(){return(bu=(0,y.Z)(function*(D){if(D.config.emulator)return;const{authorizedDomains:d}=yield Tu(D);for(const m of d)try{if(Lc(m))return}catch{}Le(D,"unauthorized-domain")})).apply(this,arguments)}function Lc(D){const d=bt(),{protocol:m,hostname:T}=new URL(d);if(D.startsWith("chrome-extension://")){const Oe=new URL(D);return""===Oe.hostname&&""===T?"chrome-extension:"===m&&D.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===m&&Oe.hostname===T}if(!ju.test(m))return!1;if(zf.test(D))return T===D;const K=D.replace(/\./g,"\\.");return new RegExp("^(.+\\."+K+"|"+K+")$","i").test(T)}const Su=new ke(3e4,6e4);function ao(){const D=li().___jsl;if(D?.H)for(const d of Object.keys(D.H))if(D.H[d].r=D.H[d].r||[],D.H[d].L=D.H[d].L||[],D.H[d].r=[...D.H[d].L],D.CP)for(let m=0;m<D.CP.length;m++)D.CP[m]=null}let hu=null;const uo=new ke(5e3,15e3),pu="__/auth/iframe",Dl="emulator/auth/iframe",Qa={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Yl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Cl(D){const d=D.config;Ue(d.authDomain,D,"auth-domain-config-required");const m=d.emulator?Je(d,Dl):`https://${D.config.authDomain}/${pu}`,T={apiKey:d.apiKey,appName:D.name,v:q.SDK_VERSION},K=Yl.get(D.config.apiHost);K&&(T.eid=K);const ne=D._getFrameworks();return ne.length&&(T.fw=ne.join(",")),`${m}?${(0,L.xO)(T).slice(1)}`}function Jl(){return Jl=(0,y.Z)(function*(D){const d=yield function fu(D){return hu=hu||function jo(D){return new Promise((d,m)=>{var T,K,ne;function Oe(){ao(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{ao(),m(_e(D,"network-request-failed"))},timeout:Su.get()})}if(null!==(K=null===(T=li().gapi)||void 0===T?void 0:T.iframes)&&void 0!==K&&K.Iframe)d(gapi.iframes.getContext());else{if(null===(ne=li().gapi)||void 0===ne||!ne.load){const lt=Br("iframefcb");return li()[lt]=()=>{gapi.load?Oe():m(_e(D,"network-request-failed"))},Bn(`https://apis.google.com/js/api.js?onload=${lt}`).catch(Lt=>m(Lt))}Oe()}}).catch(d=>{throw hu=null,d})}(D),hu}(D),m=li().gapi;return Ue(m,D,"internal-error"),d.open({where:document.body,url:Cl(D),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Qa,dontclear:!0},T=>new Promise(function(){var K=(0,y.Z)(function*(ne,Oe){yield T.restyle({setHideOnLeave:!1});const lt=_e(D,"network-request-failed"),Lt=li().setTimeout(()=>{Oe(lt)},uo.get());function tn(){li().clearTimeout(Lt),ne(T)}T.ping(tn).then(tn,()=>{Oe(lt)})});return function(ne,Oe){return K.apply(this,arguments)}}()))}),Jl.apply(this,arguments)}const C={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},O=500,G=600,ae="_blank",De="http://localhost";class Ne{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Zt="__/auth/handler",Tn="emulator/auth/handler",Zn=encodeURIComponent("fac");function Yn(D,d,m,T,K,ne){return Io.apply(this,arguments)}function Io(){return(Io=(0,y.Z)(function*(D,d,m,T,K,ne){Ue(D.config.authDomain,D,"auth-domain-config-required"),Ue(D.config.apiKey,D,"invalid-api-key");const Oe={apiKey:D.config.apiKey,appName:D.name,authType:m,redirectUrl:T,v:q.SDK_VERSION,eventId:K};if(d instanceof $s){d.setDefaultLanguage(D.languageCode),Oe.providerId=d.providerId||"",(0,L.xb)(d.getCustomParameters())||(Oe.customParameters=JSON.stringify(d.getCustomParameters()));for(const[bn,Hn]of Object.entries(ne||{}))Oe[bn]=Hn}if(d instanceof vi){const bn=d.getScopes().filter(Hn=>""!==Hn);bn.length>0&&(Oe.scopes=bn.join(","))}D.tenantId&&(Oe.tid=D.tenantId);const lt=Oe;for(const bn of Object.keys(lt))void 0===lt[bn]&&delete lt[bn];const Lt=yield D._getAppCheckToken(),tn=Lt?`#${Zn}=${encodeURIComponent(Lt)}`:"";return`${function Qs({config:D}){return D.emulator?Je(D,Tn):`https://${D.authDomain}/${Zt}`}(D)}?${(0,L.xO)(lt).slice(1)}${tn}`})).apply(this,arguments)}const gu="webStorageSupport",Au=class Xl{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ks,this._completeRedirectFn=wl,this._overrideRedirectResult=Pr}_openPopup(d,m,T,K){var ne=this;return(0,y.Z)(function*(){var Oe;nn(null===(Oe=ne.eventManagers[d._key()])||void 0===Oe?void 0:Oe.manager,"_initialize() not called before _openPopup()");const lt=yield Yn(d,m,T,bt(),K);return function dt(D,d,m,T=O,K=G){const ne=Math.max((window.screen.availHeight-K)/2,0).toString(),Oe=Math.max((window.screen.availWidth-T)/2,0).toString();let lt="";const Lt=Object.assign(Object.assign({},C),{width:T.toString(),height:K.toString(),top:ne,left:Oe}),tn=(0,L.z$)().toLowerCase();m&&(lt=Be(tn)?ae:m),Ee(tn)&&(d=d||De,Lt.scrollbars="yes");const bn=Object.entries(Lt).reduce((qi,[Ia,Ja])=>`${qi}${Ia}=${Ja},`,"");if(function Tt(D=(0,L.z$)()){var d;return Ie(D)&&!(null===(d=window.navigator)||void 0===d||!d.standalone)}(tn)&&"_self"!==lt)return function sn(D,d){const m=document.createElement("a");m.href=D,m.target=d;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(T)}(d||"",lt),new Ne(null);const Hn=window.open(d||"",lt,bn);Ue(Hn,D,"popup-blocked");try{Hn.focus()}catch{}return new Ne(Hn)}(d,lt,Lo())})()}_openRedirect(d,m,T,K){var ne=this;return(0,y.Z)(function*(){return yield ne._originValidation(d),function Vo(D){li().location.href=D}(yield Yn(d,m,T,bt(),K)),new Promise(()=>{})})()}_initialize(d){const m=d._key();if(this.eventManagers[m]){const{manager:K,promise:ne}=this.eventManagers[m];return K?Promise.resolve(K):(nn(ne,"If manager is not set, promise should be"),ne)}const T=this.initAndGetManager(d);return this.eventManagers[m]={promise:T},T.catch(()=>{delete this.eventManagers[m]}),T}initAndGetManager(d){var m=this;return(0,y.Z)(function*(){const T=yield function Ql(D){return Jl.apply(this,arguments)}(d),K=new Ke(d);return T.register("authEvent",ne=>(Ue(ne?.authEvent,d,"invalid-auth-event"),{status:K.onEvent(ne.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[d._key()]={manager:K},m.iframes[d._key()]=T,K})()}_isIframeWebStorageSupported(d,m){this.iframes[d._key()].send(gu,{type:gu},K=>{var ne;const Oe=null===(ne=K?.[0])||void 0===ne?void 0:ne[gu];void 0!==Oe&&m(!!Oe),Le(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const m=d._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Fc(D){return bu.apply(this,arguments)}(d)),this.originValidationPromises[m]}get _shouldInitProactively(){return tr()||st()||Ie()}};class $o{constructor(d){this.factorId=d}_process(d,m,T){switch(m.type){case"enroll":return this._finalizeEnroll(d,m.credential,T);case"signin":return this._finalizeSignIn(d,m.credential);default:return xt("unexpected MultiFactorSessionType")}}}class ha extends $o{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new ha(d)}_finalizeEnroll(d,m,T){return function rr(D,d){return Nt(D,"POST","/v2/accounts/mfaEnrollment:finalize",ct(D,d))}(d,{idToken:m,displayName:T,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,m){return function N(D,d){return Nt(D,"POST","/v2/accounts/mfaSignIn:finalize",ct(D,d))}(d,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Tl=(()=>{class D{constructor(){}static assertion(m){return ha._fromCredential(m)}}return D.FACTOR_ID="phone",D})();var mi="@firebase/auth";class us{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var m=this;return(0,y.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const m=this.auth.onIdTokenChanged(T=>{d(T?.stsTokenManager.accessToken||null)});this.internalListeners.set(d,m),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const m=this.internalListeners.get(d);m&&(this.internalListeners.delete(d),m(),this.updateProactiveRefresh())}assertAuthConfigured(){Ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Ho=(0,L.Pz)("authIdTokenMaxAge")||300;let Td=null;const hm=D=>function(){var d=(0,y.Z)(function*(m){const T=m&&(yield m.getIdTokenResult()),K=T&&((new Date).getTime()-Date.parse(T.issuedAtTime))/1e3;if(K&&K>Ho)return;const ne=T?.token;Td!==ne&&(Td=ne,yield fetch(D,{method:ne?"POST":"DELETE",headers:ne?{Authorization:`Bearer ${ne}`}:{}}))});return function(m){return d.apply(this,arguments)}}();function Js(D=(0,q.getApp)()){const d=(0,q._getProvider)(D,"auth");if(d.isInitialized())return d.getImmediate();const m=function Zr(D,d){const m=(0,q._getProvider)(D,"auth");if(m.isInitialized()){const K=m.getImmediate(),ne=m.getOptions();if((0,L.vZ)(ne,d??{}))return K;Le(K,"already-initialized")}return m.initialize({options:d})}(D,{popupRedirectResolver:Au,persistence:[Du,Fo,ks]}),T=(0,L.Pz)("authTokenSyncURL");if(T){const ne=hm(T);(function x(D,d,m){(0,L.m9)(D).beforeAuthStateChanged(d,m)})(m,ne,()=>ne(m.currentUser)),function $(D,d,m,T){(0,L.m9)(D).onIdTokenChanged(d,m,T)}(m,Oe=>ne(Oe))}const K=(0,L.q4)("auth");return K&&kr(m,`http://${K}`),m}!function Cd(D){(0,q._registerComponent)(new we.wA("auth",(d,{options:m})=>{const T=d.getProvider("app").getImmediate(),K=d.getProvider("heartbeat"),ne=d.getProvider("app-check-internal"),{apiKey:Oe,authDomain:lt}=T.options;Ue(Oe&&!Oe.includes(":"),"invalid-api-key",{appName:T.name});const Lt={apiKey:Oe,authDomain:lt,clientPlatform:D,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Pi(D)},tn=new cr(T,K,ne,Lt);return function cs(D,d){const m=d?.persistence||[],T=(Array.isArray(m)?m:[m]).map(Rt);d?.errorMap&&D._updateErrorMap(d.errorMap),D._initializeWithPersistence(T,d?.popupRedirectResolver)}(tn,m),tn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,m,T)=>{d.getProvider("auth-internal").initialize()})),(0,q._registerComponent)(new we.wA("auth-internal",d=>{const m=pr(d.getProvider("auth").getImmediate());return new us(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,q.registerVersion)(mi,"0.23.2",function Ai(D){switch(D){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(D)),(0,q.registerVersion)(mi,"0.23.2","esm2017")}("Browser")},2090:(jt,je,j)=>{j.d(je,{$s:()=>Rt,BH:()=>nt,L:()=>ve,LL:()=>Gn,P0:()=>Dt,Pz:()=>_e,Sg:()=>It,UG:()=>xt,US:()=>we,ZB:()=>de,ZR:()=>Nt,aH:()=>Le,b$:()=>mn,eu:()=>ft,hl:()=>it,jU:()=>nn,m9:()=>Nr,ne:()=>Qt,pd:()=>Ri,q4:()=>pt,r3:()=>an,ru:()=>bt,tV:()=>se,uI:()=>Ue,vZ:()=>zt,w1:()=>yi,xO:()=>Cr,xb:()=>ci,z$:()=>ht,zI:()=>_t,zd:()=>Mr});const ie=function(fe){const le=[];let Ee=0;for(let st=0;st<fe.length;st++){let Be=fe.charCodeAt(st);Be<128?le[Ee++]=Be:Be<2048?(le[Ee++]=Be>>6|192,le[Ee++]=63&Be|128):55296==(64512&Be)&&st+1<fe.length&&56320==(64512&fe.charCodeAt(st+1))?(Be=65536+((1023&Be)<<10)+(1023&fe.charCodeAt(++st)),le[Ee++]=Be>>18|240,le[Ee++]=Be>>12&63|128,le[Ee++]=Be>>6&63|128,le[Ee++]=63&Be|128):(le[Ee++]=Be>>12|224,le[Ee++]=Be>>6&63|128,le[Ee++]=63&Be|128)}return le},we={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(fe,le){if(!Array.isArray(fe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Ee=le?this.byteToCharMapWebSafe_:this.byteToCharMap_,st=[];for(let Be=0;Be<fe.length;Be+=3){const Mt=fe[Be],me=Be+1<fe.length,ye=me?fe[Be+1]:0,re=Be+2<fe.length,Ie=re?fe[Be+2]:0;let cn=(15&ye)<<2|Ie>>6,tr=63&Ie;re||(tr=64,me||(cn=64)),st.push(Ee[Mt>>2],Ee[(3&Mt)<<4|ye>>4],Ee[cn],Ee[tr])}return st.join("")},encodeString(fe,le){return this.HAS_NATIVE_SUPPORT&&!le?btoa(fe):this.encodeByteArray(ie(fe),le)},decodeString(fe,le){return this.HAS_NATIVE_SUPPORT&&!le?atob(fe):function(fe){const le=[];let Ee=0,st=0;for(;Ee<fe.length;){const Be=fe[Ee++];if(Be<128)le[st++]=String.fromCharCode(Be);else if(Be>191&&Be<224){const Mt=fe[Ee++];le[st++]=String.fromCharCode((31&Be)<<6|63&Mt)}else if(Be>239&&Be<365){const re=((7&Be)<<18|(63&fe[Ee++])<<12|(63&fe[Ee++])<<6|63&fe[Ee++])-65536;le[st++]=String.fromCharCode(55296+(re>>10)),le[st++]=String.fromCharCode(56320+(1023&re))}else{const Mt=fe[Ee++],me=fe[Ee++];le[st++]=String.fromCharCode((15&Be)<<12|(63&Mt)<<6|63&me)}}return le.join("")}(this.decodeStringToByteArray(fe,le))},decodeStringToByteArray(fe,le){this.init_();const Ee=le?this.charToByteMapWebSafe_:this.charToByteMap_,st=[];for(let Be=0;Be<fe.length;){const Mt=Ee[fe.charAt(Be++)],ye=Be<fe.length?Ee[fe.charAt(Be)]:0;++Be;const Ie=Be<fe.length?Ee[fe.charAt(Be)]:64;++Be;const Tt=Be<fe.length?Ee[fe.charAt(Be)]:64;if(++Be,null==Mt||null==ye||null==Ie||null==Tt)throw new Ce;st.push(Mt<<2|ye>>4),64!==Ie&&(st.push(ye<<4&240|Ie>>2),64!==Tt&&st.push(Ie<<6&192|Tt))}return st},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let fe=0;fe<this.ENCODED_VALS.length;fe++)this.byteToCharMap_[fe]=this.ENCODED_VALS.charAt(fe),this.charToByteMap_[this.byteToCharMap_[fe]]=fe,this.byteToCharMapWebSafe_[fe]=this.ENCODED_VALS_WEBSAFE.charAt(fe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[fe]]=fe,fe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(fe)]=fe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(fe)]=fe)}}};class Ce extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ve=function(fe){return function(fe){const le=ie(fe);return we.encodeByteArray(le,!0)}(fe).replace(/\./g,"")},se=function(fe){try{return we.decodeString(fe,!0)}catch(le){console.error("base64Decode failed: ",le)}return null};function de(fe,le){if(!(le instanceof Object))return le;switch(le.constructor){case Date:return new Date(le.getTime());case Object:void 0===fe&&(fe={});break;case Array:fe=[];break;default:return le}for(const Ee in le)!le.hasOwnProperty(Ee)||!Ge(Ee)||(fe[Ee]=de(fe[Ee],le[Ee]));return fe}function Ge(fe){return"__proto__"!==fe}const rt=()=>{try{return function Ze(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const fe=process.env.__FIREBASE_DEFAULTS__;return fe?JSON.parse(fe):void 0})()||(()=>{if(typeof document>"u")return;let fe;try{fe=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const le=fe&&se(fe[1]);return le&&JSON.parse(le)})()}catch(fe){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${fe}`)}},pt=fe=>{var le,Ee;return null===(Ee=null===(le=rt())||void 0===le?void 0:le.emulatorHosts)||void 0===Ee?void 0:Ee[fe]},Dt=fe=>{const le=pt(fe);if(!le)return;const Ee=le.lastIndexOf(":");if(Ee<=0||Ee+1===le.length)throw new Error(`Invalid host ${le} with no separate hostname and port!`);const st=parseInt(le.substring(Ee+1),10);return"["===le[0]?[le.substring(1,Ee-1),st]:[le.substring(0,Ee),st]},Le=()=>{var fe;return null===(fe=rt())||void 0===fe?void 0:fe.config},_e=fe=>{var le;return null===(le=rt())||void 0===le?void 0:le[`_${fe}`]};class nt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((le,Ee)=>{this.resolve=le,this.reject=Ee})}wrapCallback(le){return(Ee,st)=>{Ee?this.reject(Ee):this.resolve(st),"function"==typeof le&&(this.promise.catch(()=>{}),1===le.length?le(Ee):le(Ee,st))}}}function It(fe,le){if(fe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const st=le||"demo-project",Be=fe.iat||0,Mt=fe.sub||fe.user_id;if(!Mt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const me=Object.assign({iss:`https://securetoken.google.com/${st}`,aud:st,iat:Be,exp:Be+3600,auth_time:Be,sub:Mt,user_id:Mt,firebase:{sign_in_provider:"custom",identities:{}}},fe);return[ve(JSON.stringify({alg:"none",type:"JWT"})),ve(JSON.stringify(me)),""].join(".")}function ht(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ue(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ht())}function xt(){var fe;const le=null===(fe=rt())||void 0===fe?void 0:fe.forceEnvironment;if("node"===le)return!0;if("browser"===le)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function nn(){return"object"==typeof self&&self.self===self}function bt(){const fe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof fe&&void 0!==fe.id}function mn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function yi(){const fe=ht();return fe.indexOf("MSIE ")>=0||fe.indexOf("Trident/")>=0}function it(){try{return"object"==typeof indexedDB}catch{return!1}}function ft(){return new Promise((fe,le)=>{try{let Ee=!0;const st="validate-browser-context-for-indexeddb-analytics-module",Be=self.indexedDB.open(st);Be.onsuccess=()=>{Be.result.close(),Ee||self.indexedDB.deleteDatabase(st),fe(!0)},Be.onupgradeneeded=()=>{Ee=!1},Be.onerror=()=>{var Mt;le((null===(Mt=Be.error)||void 0===Mt?void 0:Mt.message)||"")}}catch(Ee){le(Ee)}})}function _t(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Nt extends Error{constructor(le,Ee,st){super(Ee),this.code=le,this.customData=st,this.name="FirebaseError",Object.setPrototypeOf(this,Nt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gn.prototype.create)}}class Gn{constructor(le,Ee,st){this.service=le,this.serviceName=Ee,this.errors=st}create(le,...Ee){const st=Ee[0]||{},Be=`${this.service}/${le}`,Mt=this.errors[le],me=Mt?function Bt(fe,le){return fe.replace(Ve,(Ee,st)=>{const Be=le[st];return null!=Be?String(Be):`<${st}?>`})}(Mt,st):"Error";return new Nt(Be,`${this.serviceName}: ${me} (${Be}).`,st)}}const Ve=/\{\$([^}]+)}/g;function an(fe,le){return Object.prototype.hasOwnProperty.call(fe,le)}function ci(fe){for(const le in fe)if(Object.prototype.hasOwnProperty.call(fe,le))return!1;return!0}function zt(fe,le){if(fe===le)return!0;const Ee=Object.keys(fe),st=Object.keys(le);for(const Be of Ee){if(!st.includes(Be))return!1;const Mt=fe[Be],me=le[Be];if(Dr(Mt)&&Dr(me)){if(!zt(Mt,me))return!1}else if(Mt!==me)return!1}for(const Be of st)if(!Ee.includes(Be))return!1;return!0}function Dr(fe){return null!==fe&&"object"==typeof fe}function Cr(fe){const le=[];for(const[Ee,st]of Object.entries(fe))Array.isArray(st)?st.forEach(Be=>{le.push(encodeURIComponent(Ee)+"="+encodeURIComponent(Be))}):le.push(encodeURIComponent(Ee)+"="+encodeURIComponent(st));return le.length?"&"+le.join("&"):""}function Mr(fe){const le={};return fe.replace(/^\?/,"").split("&").forEach(st=>{if(st){const[Be,Mt]=st.split("=");le[decodeURIComponent(Be)]=decodeURIComponent(Mt)}}),le}function Ri(fe){const le=fe.indexOf("?");if(!le)return"";const Ee=fe.indexOf("#",le);return fe.substring(le,Ee>0?Ee:void 0)}function Qt(fe,le){const Ee=new Jt(fe,le);return Ee.subscribe.bind(Ee)}class Jt{constructor(le,Ee){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Ee,this.task.then(()=>{le(this)}).catch(st=>{this.error(st)})}next(le){this.forEachObserver(Ee=>{Ee.next(le)})}error(le){this.forEachObserver(Ee=>{Ee.error(le)}),this.close(le)}complete(){this.forEachObserver(le=>{le.complete()}),this.close()}subscribe(le,Ee,st){let Be;if(void 0===le&&void 0===Ee&&void 0===st)throw new Error("Missing Observer.");Be=function Ei(fe,le){if("object"!=typeof fe||null===fe)return!1;for(const Ee of le)if(Ee in fe&&"function"==typeof fe[Ee])return!0;return!1}(le,["next","error","complete"])?le:{next:le,error:Ee,complete:st},void 0===Be.next&&(Be.next=si),void 0===Be.error&&(Be.error=si),void 0===Be.complete&&(Be.complete=si);const Mt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Be.error(this.finalError):Be.complete()}catch{}}),this.observers.push(Be),Mt}unsubscribeOne(le){void 0===this.observers||void 0===this.observers[le]||(delete this.observers[le],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(le){if(!this.finalized)for(let Ee=0;Ee<this.observers.length;Ee++)this.sendOne(Ee,le)}sendOne(le,Ee){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[le])try{Ee(this.observers[le])}catch(st){typeof console<"u"&&console.error&&console.error(st)}})}close(le){this.finalized||(this.finalized=!0,void 0!==le&&(this.finalError=le),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function si(){}const Vt=1e3,$n=2,Or=144e5,er=.5;function Rt(fe,le=Vt,Ee=$n){const st=le*Math.pow(Ee,fe),Be=Math.round(er*st*(Math.random()-.5)*2);return Math.min(Or,st+Be)}function Nr(fe){return fe&&fe._delegate?fe._delegate:fe}},6912:(jt,je,j)=>{j.d(je,{n:()=>y});var y=(()=>{return(L=y||(y={}))[L.igual=0]="igual",L[L.distinto=1]="distinto",L[L.mayor=2]="mayor",L[L.mayorOIgual=3]="mayorOIgual",L[L.menor=4]="menor",L[L.menorOIgual=5]="menorOIgual",L[L.not_in=6]="not_in",L[L.in=7]="in",y;var L})()},3474:(jt,je,j)=>{j.d(je,{L:()=>y});var y=(()=>{return(L=y||(y={}))[L.administrador=0]="administrador",L[L.usuario=1]="usuario",L[L.especialista=2]="especialista",y;var L})()},7556:(jt,je,j)=>{j.d(je,{e:()=>we});var y=j(5861),L=j(4322),q=j(4650),ie=j(1205),Z=j(7675);let we=(()=>{class Ce{constructor(ve,se){this.auth=ve,this.localStorage=se}logIn(ve,se){return this.auth.signInWithEmailAndPassword(ve,se)}logOut(){return this.localStorage.eliminarItem("usuarioClinica"),this.auth.signOut()}registrarUsuario(ve,se){return this.auth.createUserWithEmailAndPassword(ve,se)}registrarUsuarioConVerificacion(ve,se){var oe=this;return(0,y.Z)(function*(){const de=yield oe.auth.createUserWithEmailAndPassword(ve,se);return oe.enviarCorreoDeVerificacion(),de})()}enviarCorreoDeVerificacion(){var ve=this;return(0,y.Z)(function*(){return(yield ve.auth.currentUser)?.sendEmailVerification()})()}ObtenerCambiosDeEstado(){return this.auth.authState}enviarCorreoDeVerificacion_2(){return(0,y.Z)(function*(){let ve=(0,L.v0)();(0,L.w$)(ve?.currentUser)})()}TESTobtenerUsuarioRegistrado(){this.auth.authState.subscribe(ve=>{console.log(ve)})}}return Ce.\u0275fac=function(ve){return new(ve||Ce)(q.LFG(ie.zQ),q.LFG(Z.g))},Ce.\u0275prov=q.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})()},516:(jt,je,j)=>{j.d(je,{C:()=>we});var y=j(5861),L=j(3132),q=(()=>{return(Ce=q||(q={}))[Ce.asc=0]="asc",Ce[Ce.desc=1]="desc",q;var Ce})(),ie=j(6912),Z=j(4650);let we=(()=>{class Ce{constructor(ve){this.firestore=ve}guardarObjetoSinIdAsignado(ve,se){const oe=(0,L.hJ)(this.firestore,ve),de=(0,L.JU)(oe);return se.id=de.id,(0,L.pl)(de,se)}guardarObjetoConIdAsignado(ve,se){const oe=(0,L.hJ)(this.firestore,ve),de=(0,L.JU)(oe,se.id);return(0,L.pl)(de,se)}traerObjetoPorId_Observable(ve,se){return this.traerListaDeObjetosFiltradaConObservable(ve,"id",ie.n.igual,se)}traerObjetoPorId_Promesa(ve,se){var oe=this;return(0,y.Z)(function*(){let de=yield oe.traerListaDeObjetosFiltrada(ve,"id",ie.n.igual,se);return de&&de.length>0?de[0]:null})()}traerListaDeObjetos(ve){var se=this;return(0,y.Z)(function*(){const oe=(0,L.hJ)(se.firestore,ve),de=yield(0,L.PL)(oe).then(Ze=>Ze),Ge=[];return de.forEach(Ze=>{Ge.push(Ze.data())}),Ge})()}traerListaDeObjetosConObservable(ve){const se=(0,L.hJ)(this.firestore,ve);return(0,L.BS)(se)}traerListaDeObjetosFiltrada(ve,se,oe,de){var Ge=this;return(0,y.Z)(function*(){const Ze=(0,L.hJ)(Ge.firestore,ve);let gt;switch(oe){case ie.n.igual:gt=(0,L.IO)(Ze,(0,L.ar)(se,"==",de));break;case ie.n.distinto:gt=(0,L.IO)(Ze,(0,L.ar)(se,"!=",de));break;case ie.n.mayor:gt=(0,L.IO)(Ze,(0,L.ar)(se,">",de));break;case ie.n.mayorOIgual:gt=(0,L.IO)(Ze,(0,L.ar)(se,">=",de));break;case ie.n.menor:gt=(0,L.IO)(Ze,(0,L.ar)(se,"<",de));break;case ie.n.menorOIgual:gt=(0,L.IO)(Ze,(0,L.ar)(se,"<=",de));break;case ie.n.in:gt=(0,L.IO)(Ze,(0,L.ar)(se,"in",de));break;case ie.n.not_in:gt=(0,L.IO)(Ze,(0,L.ar)(se,"not-in",de))}const mt=yield(0,L.PL)(gt).then(rt=>rt),We=[];return mt.forEach(rt=>{We.push(rt.data())}),We})()}traerListaDeObjetosFiltradaConObservable(ve,se,oe,de){const Ge=(0,L.hJ)(this.firestore,ve);switch(oe){case ie.n.igual:return(0,L.BS)((0,L.IO)(Ge,(0,L.ar)(se,"==",de)));case ie.n.distinto:return(0,L.BS)((0,L.IO)(Ge,(0,L.ar)(se,"!=",de)));case ie.n.mayor:return(0,L.BS)((0,L.IO)(Ge,(0,L.ar)(se,">",de)));case ie.n.mayorOIgual:return(0,L.BS)((0,L.IO)(Ge,(0,L.ar)(se,">=",de)));case ie.n.menor:return(0,L.BS)((0,L.IO)(Ge,(0,L.ar)(se,"<",de)));case ie.n.menorOIgual:return(0,L.BS)((0,L.IO)(Ge,(0,L.ar)(se,"<=",de)));case ie.n.in:return(0,L.BS)((0,L.IO)(Ge,(0,L.ar)(se,"in",de)));case ie.n.not_in:return(0,L.BS)((0,L.IO)(Ge,(0,L.ar)(se,"not-in",de)))}}traerListaDeObjetosOrdenada(ve,se,oe=q.asc){var de=this;return(0,y.Z)(function*(){const Ge=(0,L.hJ)(de.firestore,ve);let Ze;Ze=(0,L.IO)(Ge,(0,L.Xo)(se,oe==q.asc?"asc":"desc"));const gt=yield(0,L.PL)(Ze).then(We=>We),mt=[];return gt.forEach(We=>{mt.push(We.data())}),mt})()}traerListaDeObjetosOrdenadaConObservable(ve,se,oe=q.asc){const de=(0,L.hJ)(this.firestore,ve);return(0,L.BS)((0,L.IO)(de,(0,L.Xo)(se,oe==q.asc?"asc":"desc")))}modificarObjeto(ve,se){const oe=(0,L.hJ)(this.firestore,ve),de=(0,L.JU)(oe,se.id);return(0,L.r7)(de,{...se})}eliminarObjeto(ve,se){const oe=(0,L.hJ)(this.firestore,ve),de=(0,L.JU)(oe,se);return(0,L.oe)(de)}}return Ce.\u0275fac=function(ve){return new(ve||Ce)(Z.LFG(L.gg))},Ce.\u0275prov=Z.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})()},7675:(jt,je,j)=>{j.d(je,{g:()=>L});var y=j(4650);let L=(()=>{class q{constructor(){}guardarItem(Z,we){localStorage.setItem(Z,JSON.stringify(we))}obtenerItem(Z){const we=localStorage.getItem(Z);return null!=we?JSON.parse(we):we}eliminarItem(Z){localStorage.removeItem(Z)}}return q.\u0275fac=function(Z){return new(Z||q)},q.\u0275prov=y.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"}),q})()},1209:(jt,je,j)=>{j.d(je,{i:()=>Ae});var y=j(5861),L=j(6912),q=j(4650),ie=j(516),Z=j(7675),we=j(7556),Ce=j(6378);let Ae=(()=>{class ve{get getUsuarioEstaLogueado(){return this.usuarioEstaLogueado=null!=this.localStorage.obtenerItem("usuarioClinica"),this.usuarioEstaLogueado}get getUsuarioActualBasico(){return this.localStorage.obtenerItem("usuarioClinica")}constructor(oe,de,Ge,Ze){this.firestoreDB=oe,this.localStorage=de,this.authService=Ge,this.router=Ze,this.nombreColeccion="usuarios",this.usuarioEstaLogueado=!1,this.suscripcion=this.authService.ObtenerCambiosDeEstado().subscribe(gt=>{gt&&this.traerUsuarioPorId(gt.uid).then(mt=>{this.localStorage.guardarItem("usuarioClinica",{id:gt.uid,mail:gt.email,perfil:mt?.perfil}),this.usuarioEstaLogueado=!0})})}obtenerUsuarioActual(oe=0){var de=this;return(0,y.Z)(function*(){if(!de.usuario){let Ge=0!=oe?oe:de.getUsuarioActualBasico?.id;Ge&&(de.usuario=yield de.traerUsuarioPorId(Ge))}return de.usuario})()}cargarUsuarioActual(oe){this.usuario=oe}limpiarUsuarioActual(){this.usuario=null}cerrarSesionUsuario(){this.limpiarUsuarioActual(),this.localStorage.eliminarItem("usuarioClinica"),this.authService.logOut(),this.router.navigate(["/login"])}cargarUsuarioConIdAsignado(oe){return this.firestoreDB.guardarObjetoConIdAsignado(this.nombreColeccion,{...oe})}cargarUsuarioSinIdAsignado(oe){return this.firestoreDB.guardarObjetoSinIdAsignado(this.nombreColeccion,{...oe})}traerUsuarioPorId(oe){var de=this;return(0,y.Z)(function*(){return de.firestoreDB.traerObjetoPorId_Promesa(de.nombreColeccion,oe)})()}traerUsuarioPorId_Observable(oe){return this.firestoreDB.traerObjetoPorId_Observable(this.nombreColeccion,oe)}obtenerListaDeUsuarios(){return this.firestoreDB.traerListaDeObjetos(this.nombreColeccion)}obtenerListadoDeUsuariosObservable(){return this.firestoreDB.traerListaDeObjetosConObservable(this.nombreColeccion)}modificarUsuario(oe){return this.firestoreDB.modificarObjeto(this.nombreColeccion,oe)}eliminarUsuario(oe){return this.firestoreDB.eliminarObjeto(this.nombreColeccion,oe)}traerListaDeCorreosFiltradaConObservable(oe){return this.firestoreDB.traerListaDeObjetosFiltradaConObservable(this.nombreColeccion,"correo",L.n.igual,oe)}traerListaDeUsuariosFiltradaConObservable(oe,de){return this.firestoreDB.traerListaDeObjetosFiltradaConObservable(this.nombreColeccion,oe,L.n.igual,de)}traerListaDeCorreosFiltrada(oe){return this.firestoreDB.traerListaDeObjetosFiltrada(this.nombreColeccion,"correo",L.n.igual,oe)}traerListaDeDniFiltradaConObservable(oe){return this.firestoreDB.traerListaDeObjetosFiltradaConObservable(this.nombreColeccion,"dni",L.n.igual,oe)}}return ve.\u0275fac=function(oe){return new(oe||ve)(q.LFG(ie.C),q.LFG(Z.g),q.LFG(we.e),q.LFG(Ce.F0))},ve.\u0275prov=q.Yz7({token:ve,factory:ve.\u0275fac,providedIn:"root"}),ve})()},403:(jt,je,j)=>{var y=j(1481),L=j(6378),q=j(4650),ie=j(1209);let Z=(()=>{class N{constructor(v,A){this.usuarioService=v,this.router=A}canActivate(v,A){return!!this.usuarioService.getUsuarioEstaLogueado||(this.router.navigate(["/login"]),!1)}canActivateChild(v,A){return!0}canDeactivate(v,A,B,Q){return!0}}return N.\u0275fac=function(v){return new(v||N)(q.LFG(ie.i),q.LFG(L.F0))},N.\u0275prov=q.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),we=(()=>{class N{constructor(v,A){this.usuarioService=v,this.router=A}canActivate(v,A){return!this.usuarioService.getUsuarioEstaLogueado||(this.router.navigate(["home"]),!1)}canActivateChild(v,A){return!0}canDeactivate(v,A,B,Q){return!0}}return N.\u0275fac=function(v){return new(v||N)(q.LFG(ie.i),q.LFG(L.F0))},N.\u0275prov=q.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),Ce=(()=>{class N{constructor(v,A){this.usuarioService=v,this.router=A}canActivate(v,A){return!this.usuarioService.getUsuarioEstaLogueado||(this.router.navigate(["home"]),!1)}canActivateChild(v,A){return!0}canDeactivate(v,A,B,Q){return!0}}return N.\u0275fac=function(v){return new(v||N)(q.LFG(ie.i),q.LFG(L.F0))},N.\u0275prov=q.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),Ae=(()=>{class N{constructor(v,A){this.usuarioService=v,this.router=A}canActivate(v,A){return!this.usuarioService.getUsuarioEstaLogueado||(this.router.navigate(["home"]),!1)}canActivateChild(v,A){return!0}canDeactivate(v,A,B,Q){return!0}}return N.\u0275fac=function(v){return new(v||N)(q.LFG(ie.i),q.LFG(L.F0))},N.\u0275prov=q.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})();var ve=j(3474);const oe=[{path:"",loadChildren:()=>j.e(454).then(j.bind(j,1454)).then(N=>N.BienvenidoModule),canActivate:[we]},{path:"bienvenido",loadChildren:()=>j.e(454).then(j.bind(j,1454)).then(N=>N.BienvenidoModule),canActivate:[we]},{path:"login",loadChildren:()=>Promise.all([j.e(890),j.e(592),j.e(823)]).then(j.bind(j,5823)).then(N=>N.LoginModule),canActivate:[Ce]},{path:"registro",loadChildren:()=>Promise.all([j.e(890),j.e(594),j.e(592)]).then(j.bind(j,9594)).then(N=>N.RegistroModule),canActivate:[Ae]},{path:"usuarios",loadChildren:()=>Promise.all([j.e(592),j.e(153)]).then(j.bind(j,4153)).then(N=>N.UsuariosModule),canActivate:[(()=>{class N{constructor(v,A){this.usuarioService=v,this.router=A}canActivate(v,A){return!(!this.usuarioService.getUsuarioActualBasico||this.usuarioService.getUsuarioActualBasico.perfil!=ve.L.administrador)||(this.router.navigate(["home"]),!1)}canActivateChild(v,A){return!0}canDeactivate(v,A,B,Q){return!0}}return N.\u0275fac=function(v){return new(v||N)(q.LFG(ie.i),q.LFG(L.F0))},N.\u0275prov=q.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})()]},{path:"home",loadChildren:()=>Promise.all([j.e(592),j.e(828)]).then(j.bind(j,3828)).then(N=>N.HomeModule),canActivate:[Z]}];let de=(()=>{class N{}return N.\u0275fac=function(v){return new(v||N)},N.\u0275mod=q.oAB({type:N}),N.\u0275inj=q.cJS({imports:[L.Bz.forRoot(oe),L.Bz]}),N})(),Ge=(()=>{class N{}return N.\u0275fac=function(v){return new(v||N)},N.\u0275cmp=q.Xpm({type:N,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"container-fluid","p-0","m-0","altura"]],template:function(v,A){1&v&&(q.TgZ(0,"div",0),q._UZ(1,"router-outlet"),q.qZA())},dependencies:[L.lC],styles:[".altura[_ngcontent-%COMP%]{min-height:100vh!important}"]}),N})();const Ze_firebase={projectId:"tp-clinica-2dcea",appId:"1:489572240554:web:ff65038316f4836d0a14d3",storageBucket:"tp-clinica-2dcea.appspot.com",apiKey:"AIzaSyD_zrUWXGqPIR-3YQV_-Y1zGFC2DpV3caE",authDomain:"tp-clinica-2dcea.firebaseapp.com",messagingSenderId:"489572240554"};var gt=j(4006),mt=j(7340);function rt(N){return new q.vHH(3e3,!1)}function zt(){return typeof window<"u"&&typeof window.document<"u"}function Dr(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function vr(N){switch(N.length){case 0:return new mt.ZN;case 1:return N[0];default:return new mt.ZE(N)}}function Cr(N,g,v,A,B=new Map,Q=new Map){const he=[],pe=[];let xe=-1,at=null;if(A.forEach(Wt=>{const Gt=Wt.get("offset"),Un=Gt==xe,yn=Un&&at||new Map;Wt.forEach((Ft,Cn)=>{let ar=Cn,Xn=Ft;if("offset"!==Cn)switch(ar=g.normalizePropertyName(ar,he),Xn){case mt.k1:Xn=B.get(Cn);break;case mt.l3:Xn=Q.get(Cn);break;default:Xn=g.normalizeStyleValue(Cn,ar,Xn,he)}yn.set(ar,Xn)}),Un||pe.push(yn),at=yn,xe=Gt}),he.length)throw function Bt(N){return new q.vHH(3502,!1)}();return pe}function Mr(N,g,v,A){switch(g){case"start":N.onStart(()=>A(v&&Ri(v,"start",N)));break;case"done":N.onDone(()=>A(v&&Ri(v,"done",N)));break;case"destroy":N.onDestroy(()=>A(v&&Ri(v,"destroy",N)))}}function Ri(N,g,v){const Q=fr(N.element,N.triggerName,N.fromState,N.toState,g||N.phaseName,v.totalTime??N.totalTime,!!v.disabled),he=N._data;return null!=he&&(Q._data=he),Q}function fr(N,g,v,A,B="",Q=0,he){return{element:N,triggerName:g,fromState:v,toState:A,phaseName:B,totalTime:Q,disabled:!!he}}function Qt(N,g,v){let A=N.get(g);return A||N.set(g,A=v),A}function Jt(N){const g=N.indexOf(":");return[N.substring(1,g),N.slice(g+1)]}let vn=(N,g)=>!1,Ei=(N,g,v)=>[],si=null;function Er(N){const g=N.parentNode||N.host;return g===si?null:g}(Dr()||typeof Element<"u")&&(zt()?(si=(()=>document.documentElement)(),vn=(N,g)=>{for(;g;){if(g===N)return!0;g=Er(g)}return!1}):vn=(N,g)=>N.contains(g),Ei=(N,g,v)=>{if(v)return Array.from(N.querySelectorAll(g));const A=N.querySelector(g);return A?[A]:[]});let Ur=null,ur=!1;const Vt=vn,$n=Ei;let er=(()=>{class N{validateStyleProperty(v){return function Yt(N){Ur||(Ur=function Rr(){return typeof document<"u"?document.body:null}()||{},ur=!!Ur.style&&"WebkitAppearance"in Ur.style);let g=!0;return Ur.style&&!function Vr(N){return"ebkit"==N.substring(1,6)}(N)&&(g=N in Ur.style,!g&&ur&&(g="Webkit"+N.charAt(0).toUpperCase()+N.slice(1)in Ur.style)),g}(v)}matchesElement(v,A){return!1}containsElement(v,A){return Vt(v,A)}getParentElement(v){return Er(v)}query(v,A,B){return $n(v,A,B)}computeStyle(v,A,B){return B||""}animate(v,A,B,Q,he,pe=[],xe){return new mt.ZN(B,Q)}}return N.\u0275fac=function(v){return new(v||N)},N.\u0275prov=q.Yz7({token:N,factory:N.\u0275fac}),N})(),Rt=(()=>{class N{}return N.NOOP=new er,N})();const qr=1e3,fe="ng-enter",le="ng-leave",Ee="ng-trigger",st=".ng-trigger",Be="ng-animating",Mt=".ng-animating";function me(N){if("number"==typeof N)return N;const g=N.match(/^(-?[\.\d]+)(m?s)/);return!g||g.length<2?0:ye(parseFloat(g[1]),g[2])}function ye(N,g){return"s"===g?N*qr:N}function re(N,g,v){return N.hasOwnProperty("duration")?N:function Ie(N,g,v){let B,Q=0,he="";if("string"==typeof N){const pe=N.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===pe)return g.push(rt()),{duration:0,delay:0,easing:""};B=ye(parseFloat(pe[1]),pe[2]);const xe=pe[3];null!=xe&&(Q=ye(parseFloat(xe),pe[4]));const at=pe[5];at&&(he=at)}else B=N;if(!v){let pe=!1,xe=g.length;B<0&&(g.push(function pt(){return new q.vHH(3100,!1)}()),pe=!0),Q<0&&(g.push(function Dt(){return new q.vHH(3101,!1)}()),pe=!0),pe&&g.splice(xe,0,rt())}return{duration:B,delay:Q,easing:he}}(N,g,v)}function ot(N,g={}){return Object.keys(N).forEach(v=>{g[v]=N[v]}),g}function Tt(N){const g=new Map;return Object.keys(N).forEach(v=>{g.set(v,N[v])}),g}function Nn(N,g=new Map,v){if(v)for(let[A,B]of v)g.set(A,B);for(let[A,B]of N)g.set(A,B);return g}function Pi(N,g,v){return v?g+":"+v+";":""}function Xe(N){let g="";for(let v=0;v<N.style.length;v++){const A=N.style.item(v);g+=Pi(0,A,N.style.getPropertyValue(A))}for(const v in N.style)N.style.hasOwnProperty(v)&&!v.startsWith("_")&&(g+=Pi(0,Ts(v),N.style[v]));N.setAttribute("style",g)}function Fe(N,g,v){N.style&&(g.forEach((A,B)=>{const Q=oi(B);v&&!v.has(B)&&v.set(B,N.style[Q]),N.style[Q]=A}),Dr()&&Xe(N))}function wt(N,g){N.style&&(g.forEach((v,A)=>{const B=oi(A);N.style[B]=""}),Dr()&&Xe(N))}function Xt(N){return Array.isArray(N)?1==N.length?N[0]:(0,mt.vP)(N):N}const An=new RegExp("{{\\s*(.+?)\\s*}}","g");function on(N){let g=[];if("string"==typeof N){let v;for(;v=An.exec(N);)g.push(v[1]);An.lastIndex=0}return g}function nr(N,g,v){const A=N.toString(),B=A.replace(An,(Q,he)=>{let pe=g[he];return null==pe&&(v.push(function _e(N){return new q.vHH(3003,!1)}()),pe=""),pe.toString()});return B==A?N:B}function Bn(N){const g=[];let v=N.next();for(;!v.done;)g.push(v.value),v=N.next();return g}const Br=/-+([a-z0-9])/g;function oi(N){return N.replace(Br,(...g)=>g[1].toUpperCase())}function Ts(N){return N.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function or(N,g,v){switch(g.type){case 7:return N.visitTrigger(g,v);case 0:return N.visitState(g,v);case 1:return N.visitTransition(g,v);case 2:return N.visitSequence(g,v);case 3:return N.visitGroup(g,v);case 4:return N.visitAnimate(g,v);case 5:return N.visitKeyframes(g,v);case 6:return N.visitStyle(g,v);case 8:return N.visitReference(g,v);case 9:return N.visitAnimateChild(g,v);case 10:return N.visitAnimateRef(g,v);case 11:return N.visitQuery(g,v);case 12:return N.visitStagger(g,v);default:throw function nt(N){return new q.vHH(3004,!1)}()}}function $t(N,g){return window.getComputedStyle(N)[g]}const Re="*";function Te(N,g){const v=[];return"string"==typeof N?N.split(/\s*,\s*/).forEach(A=>function be(N,g,v){if(":"==N[0]){const xe=function yt(N,g){switch(N){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(v,A)=>parseFloat(A)>parseFloat(v);case":decrement":return(v,A)=>parseFloat(A)<parseFloat(v);default:return g.push(function _t(N){return new q.vHH(3016,!1)}()),"* => *"}}(N,v);if("function"==typeof xe)return void g.push(xe);N=xe}const A=N.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==A||A.length<4)return v.push(function ft(N){return new q.vHH(3015,!1)}()),g;const B=A[1],Q=A[2],he=A[3];g.push(Fn(B,he));"<"==Q[0]&&!(B==Re&&he==Re)&&g.push(Fn(he,B))}(A,v,g)):v.push(N),v}const At=new Set(["true","1"]),En=new Set(["false","0"]);function Fn(N,g){const v=At.has(N)||En.has(N),A=At.has(g)||En.has(g);return(B,Q)=>{let he=N==Re||N==B,pe=g==Re||g==Q;return!he&&v&&"boolean"==typeof B&&(he=B?At.has(N):En.has(N)),!pe&&A&&"boolean"==typeof Q&&(pe=Q?At.has(g):En.has(g)),he&&pe}}const Wn=new RegExp("s*:selfs*,?","g");function jr(N,g,v,A){return new Wr(N).build(g,v,A)}class Wr{constructor(g){this._driver=g}build(g,v,A){const B=new ns(v);return this._resetContextStyleTimingState(B),or(this,Xt(g),B)}_resetContextStyleTimingState(g){g.currentQuerySelector="",g.collectedStyles=new Map,g.collectedStyles.set("",new Map),g.currentTime=0}visitTrigger(g,v){let A=v.queryCount=0,B=v.depCount=0;const Q=[],he=[];return"@"==g.name.charAt(0)&&v.errors.push(function ht(){return new q.vHH(3006,!1)}()),g.definitions.forEach(pe=>{if(this._resetContextStyleTimingState(v),0==pe.type){const xe=pe,at=xe.name;at.toString().split(/\s*,\s*/).forEach(Wt=>{xe.name=Wt,Q.push(this.visitState(xe,v))}),xe.name=at}else if(1==pe.type){const xe=this.visitTransition(pe,v);A+=xe.queryCount,B+=xe.depCount,he.push(xe)}else v.errors.push(function Ue(){return new q.vHH(3007,!1)}())}),{type:7,name:g.name,states:Q,transitions:he,queryCount:A,depCount:B,options:null}}visitState(g,v){const A=this.visitStyle(g.styles,v),B=g.options&&g.options.params||null;if(A.containsDynamicStyles){const Q=new Set,he=B||{};A.styles.forEach(pe=>{pe instanceof Map&&pe.forEach(xe=>{on(xe).forEach(at=>{he.hasOwnProperty(at)||Q.add(at)})})}),Q.size&&(Bn(Q.values()),v.errors.push(function xt(N,g){return new q.vHH(3008,!1)}()))}return{type:0,name:g.name,style:A,options:B?{params:B}:null}}visitTransition(g,v){v.queryCount=0,v.depCount=0;const A=or(this,Xt(g.animation),v);return{type:1,matchers:Te(g.expr,v.errors),animation:A,queryCount:v.queryCount,depCount:v.depCount,options:Zi(g.options)}}visitSequence(g,v){return{type:2,steps:g.steps.map(A=>or(this,A,v)),options:Zi(g.options)}}visitGroup(g,v){const A=v.currentTime;let B=0;const Q=g.steps.map(he=>{v.currentTime=A;const pe=or(this,he,v);return B=Math.max(B,v.currentTime),pe});return v.currentTime=B,{type:3,steps:Q,options:Zi(g.options)}}visitAnimate(g,v){const A=function Mo(N,g){if(N.hasOwnProperty("duration"))return N;if("number"==typeof N)return rs(re(N,g).duration,0,"");const v=N;if(v.split(/\s+/).some(Q=>"{"==Q.charAt(0)&&"{"==Q.charAt(1))){const Q=rs(0,0,"");return Q.dynamic=!0,Q.strValue=v,Q}const B=re(v,g);return rs(B.duration,B.delay,B.easing)}(g.timings,v.errors);v.currentAnimateTimings=A;let B,Q=g.styles?g.styles:(0,mt.oB)({});if(5==Q.type)B=this.visitKeyframes(Q,v);else{let he=g.styles,pe=!1;if(!he){pe=!0;const at={};A.easing&&(at.easing=A.easing),he=(0,mt.oB)(at)}v.currentTime+=A.duration+A.delay;const xe=this.visitStyle(he,v);xe.isEmptyStep=pe,B=xe}return v.currentAnimateTimings=null,{type:4,timings:A,style:B,options:null}}visitStyle(g,v){const A=this._makeStyleAst(g,v);return this._validateStyleAst(A,v),A}_makeStyleAst(g,v){const A=[],B=Array.isArray(g.styles)?g.styles:[g.styles];for(let pe of B)"string"==typeof pe?pe===mt.l3?A.push(pe):v.errors.push(new q.vHH(3002,!1)):A.push(Tt(pe));let Q=!1,he=null;return A.forEach(pe=>{if(pe instanceof Map&&(pe.has("easing")&&(he=pe.get("easing"),pe.delete("easing")),!Q))for(let xe of pe.values())if(xe.toString().indexOf("{{")>=0){Q=!0;break}}),{type:6,styles:A,easing:he,offset:g.offset,containsDynamicStyles:Q,options:null}}_validateStyleAst(g,v){const A=v.currentAnimateTimings;let B=v.currentTime,Q=v.currentTime;A&&Q>0&&(Q-=A.duration+A.delay),g.styles.forEach(he=>{"string"!=typeof he&&he.forEach((pe,xe)=>{const at=v.collectedStyles.get(v.currentQuerySelector),Wt=at.get(xe);let Gt=!0;Wt&&(Q!=B&&Q>=Wt.startTime&&B<=Wt.endTime&&(v.errors.push(function mn(N,g,v,A,B){return new q.vHH(3010,!1)}()),Gt=!1),Q=Wt.startTime),Gt&&at.set(xe,{startTime:Q,endTime:B}),v.options&&function Sn(N,g,v){const A=g.params||{},B=on(N);B.length&&B.forEach(Q=>{A.hasOwnProperty(Q)||v.push(function Le(N){return new q.vHH(3001,!1)}())})}(pe,v.options,v.errors)})})}visitKeyframes(g,v){const A={type:5,styles:[],options:null};if(!v.currentAnimateTimings)return v.errors.push(function Ht(){return new q.vHH(3011,!1)}()),A;let Q=0;const he=[];let pe=!1,xe=!1,at=0;const Wt=g.steps.map(Xn=>{const ir=this._makeStyleAst(Xn,v);let Jr=null!=ir.offset?ir.offset:function Ko(N){if("string"==typeof N)return null;let g=null;if(Array.isArray(N))N.forEach(v=>{if(v instanceof Map&&v.has("offset")){const A=v;g=parseFloat(A.get("offset")),A.delete("offset")}});else if(N instanceof Map&&N.has("offset")){const v=N;g=parseFloat(v.get("offset")),v.delete("offset")}return g}(ir.styles),lr=0;return null!=Jr&&(Q++,lr=ir.offset=Jr),xe=xe||lr<0||lr>1,pe=pe||lr<at,at=lr,he.push(lr),ir});xe&&v.errors.push(function yi(){return new q.vHH(3012,!1)}()),pe&&v.errors.push(function Qe(){return new q.vHH(3200,!1)}());const Gt=g.steps.length;let Un=0;Q>0&&Q<Gt?v.errors.push(function ke(){return new q.vHH(3202,!1)}()):0==Q&&(Un=1/(Gt-1));const yn=Gt-1,Ft=v.currentTime,Cn=v.currentAnimateTimings,ar=Cn.duration;return Wt.forEach((Xn,ir)=>{const Jr=Un>0?ir==yn?1:Un*ir:he[ir],lr=Jr*ar;v.currentTime=Ft+Cn.delay+lr,Cn.duration=lr,this._validateStyleAst(Xn,v),Xn.offset=Jr,A.styles.push(Xn)}),A}visitReference(g,v){return{type:8,animation:or(this,Xt(g.animation),v),options:Zi(g.options)}}visitAnimateChild(g,v){return v.depCount++,{type:9,options:Zi(g.options)}}visitAnimateRef(g,v){return{type:10,animation:this.visitReference(g.animation,v),options:Zi(g.options)}}visitQuery(g,v){const A=v.currentQuerySelector,B=g.options||{};v.queryCount++,v.currentQuery=g;const[Q,he]=function ai(N){const g=!!N.split(/\s*,\s*/).find(v=>":self"==v);return g&&(N=N.replace(Wn,"")),N=N.replace(/@\*/g,st).replace(/@\w+/g,v=>st+"-"+v.slice(1)).replace(/:animating/g,Mt),[N,g]}(g.selector);v.currentQuerySelector=A.length?A+" "+Q:Q,Qt(v.collectedStyles,v.currentQuerySelector,new Map);const pe=or(this,Xt(g.animation),v);return v.currentQuery=null,v.currentQuerySelector=A,{type:11,selector:Q,limit:B.limit||0,optional:!!B.optional,includeSelf:he,animation:pe,originalSelector:g.selector,options:Zi(g.options)}}visitStagger(g,v){v.currentQuery||v.errors.push(function Je(){return new q.vHH(3013,!1)}());const A="full"===g.timings?{duration:0,delay:0,easing:"full"}:re(g.timings,v.errors,!0);return{type:12,animation:or(this,Xt(g.animation),v),timings:A,options:null}}}class ns{constructor(g){this.errors=g,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Zi(N){return N?(N=ot(N)).params&&(N.params=function wr(N){return N?ot(N):null}(N.params)):N={},N}function rs(N,g,v){return{duration:N,delay:g,easing:v}}function Vs(N,g,v,A,B,Q,he=null,pe=!1){return{type:1,element:N,keyframes:g,preStyleProps:v,postStyleProps:A,duration:B,delay:Q,totalTime:B+Q,easing:he,subTimeline:pe}}class Kr{constructor(){this._map=new Map}get(g){return this._map.get(g)||[]}append(g,v){let A=this._map.get(g);A||this._map.set(g,A=[]),A.push(...v)}has(g){return this._map.has(g)}clear(){this._map.clear()}}const _r=new RegExp(":enter","g"),to=new RegExp(":leave","g");function Us(N,g,v,A,B,Q=new Map,he=new Map,pe,xe,at=[]){return(new Ii).buildKeyframes(N,g,v,A,B,Q,he,pe,xe,at)}class Ii{buildKeyframes(g,v,A,B,Q,he,pe,xe,at,Wt=[]){at=at||new Kr;const Gt=new Bs(g,v,at,B,Q,Wt,[]);Gt.options=xe;const Un=xe.delay?me(xe.delay):0;Gt.currentTimeline.delayNextStep(Un),Gt.currentTimeline.setStyles([he],null,Gt.errors,xe),or(this,A,Gt);const yn=Gt.timelines.filter(Ft=>Ft.containsAnimation());if(yn.length&&pe.size){let Ft;for(let Cn=yn.length-1;Cn>=0;Cn--){const ar=yn[Cn];if(ar.element===v){Ft=ar;break}}Ft&&!Ft.allowOnlyTimelineStyles()&&Ft.setStyles([pe],null,Gt.errors,xe)}return yn.length?yn.map(Ft=>Ft.buildKeyframes()):[Vs(v,[],[],[],0,Un,"",!1)]}visitTrigger(g,v){}visitState(g,v){}visitTransition(g,v){}visitAnimateChild(g,v){const A=v.subInstructions.get(v.element);if(A){const B=v.createSubContext(g.options),Q=v.currentTimeline.currentTime,he=this._visitSubInstructions(A,B,B.options);Q!=he&&v.transformIntoNewTimeline(he)}v.previousNode=g}visitAnimateRef(g,v){const A=v.createSubContext(g.options);A.transformIntoNewTimeline(),this._applyAnimationRefDelays([g.options,g.animation.options],v,A),this.visitReference(g.animation,A),v.transformIntoNewTimeline(A.currentTimeline.currentTime),v.previousNode=g}_applyAnimationRefDelays(g,v,A){for(const B of g){const Q=B?.delay;if(Q){const he="number"==typeof Q?Q:me(nr(Q,B?.params??{},v.errors));A.delayNextStep(he)}}}_visitSubInstructions(g,v,A){let Q=v.currentTimeline.currentTime;const he=null!=A.duration?me(A.duration):null,pe=null!=A.delay?me(A.delay):null;return 0!==he&&g.forEach(xe=>{const at=v.appendInstructionToTimeline(xe,he,pe);Q=Math.max(Q,at.duration+at.delay)}),Q}visitReference(g,v){v.updateOptions(g.options,!0),or(this,g.animation,v),v.previousNode=g}visitSequence(g,v){const A=v.subContextCount;let B=v;const Q=g.options;if(Q&&(Q.params||Q.delay)&&(B=v.createSubContext(Q),B.transformIntoNewTimeline(),null!=Q.delay)){6==B.previousNode.type&&(B.currentTimeline.snapshotCurrentStyles(),B.previousNode=ds);const he=me(Q.delay);B.delayNextStep(he)}g.steps.length&&(g.steps.forEach(he=>or(this,he,B)),B.currentTimeline.applyStylesToKeyframe(),B.subContextCount>A&&B.transformIntoNewTimeline()),v.previousNode=g}visitGroup(g,v){const A=[];let B=v.currentTimeline.currentTime;const Q=g.options&&g.options.delay?me(g.options.delay):0;g.steps.forEach(he=>{const pe=v.createSubContext(g.options);Q&&pe.delayNextStep(Q),or(this,he,pe),B=Math.max(B,pe.currentTimeline.currentTime),A.push(pe.currentTimeline)}),A.forEach(he=>v.currentTimeline.mergeTimelineCollectedStyles(he)),v.transformIntoNewTimeline(B),v.previousNode=g}_visitTiming(g,v){if(g.dynamic){const A=g.strValue;return re(v.params?nr(A,v.params,v.errors):A,v.errors)}return{duration:g.duration,delay:g.delay,easing:g.easing}}visitAnimate(g,v){const A=v.currentAnimateTimings=this._visitTiming(g.timings,v),B=v.currentTimeline;A.delay&&(v.incrementTime(A.delay),B.snapshotCurrentStyles());const Q=g.style;5==Q.type?this.visitKeyframes(Q,v):(v.incrementTime(A.duration),this.visitStyle(Q,v),B.applyStylesToKeyframe()),v.currentAnimateTimings=null,v.previousNode=g}visitStyle(g,v){const A=v.currentTimeline,B=v.currentAnimateTimings;!B&&A.hasCurrentStyleProperties()&&A.forwardFrame();const Q=B&&B.easing||g.easing;g.isEmptyStep?A.applyEmptyStep(Q):A.setStyles(g.styles,Q,v.errors,v.options),v.previousNode=g}visitKeyframes(g,v){const A=v.currentAnimateTimings,B=v.currentTimeline.duration,Q=A.duration,pe=v.createSubContext().currentTimeline;pe.easing=A.easing,g.styles.forEach(xe=>{pe.forwardTime((xe.offset||0)*Q),pe.setStyles(xe.styles,xe.easing,v.errors,v.options),pe.applyStylesToKeyframe()}),v.currentTimeline.mergeTimelineCollectedStyles(pe),v.transformIntoNewTimeline(B+Q),v.previousNode=g}visitQuery(g,v){const A=v.currentTimeline.currentTime,B=g.options||{},Q=B.delay?me(B.delay):0;Q&&(6===v.previousNode.type||0==A&&v.currentTimeline.hasCurrentStyleProperties())&&(v.currentTimeline.snapshotCurrentStyles(),v.previousNode=ds);let he=A;const pe=v.invokeQuery(g.selector,g.originalSelector,g.limit,g.includeSelf,!!B.optional,v.errors);v.currentQueryTotal=pe.length;let xe=null;pe.forEach((at,Wt)=>{v.currentQueryIndex=Wt;const Gt=v.createSubContext(g.options,at);Q&&Gt.delayNextStep(Q),at===v.element&&(xe=Gt.currentTimeline),or(this,g.animation,Gt),Gt.currentTimeline.applyStylesToKeyframe(),he=Math.max(he,Gt.currentTimeline.currentTime)}),v.currentQueryIndex=0,v.currentQueryTotal=0,v.transformIntoNewTimeline(he),xe&&(v.currentTimeline.mergeTimelineCollectedStyles(xe),v.currentTimeline.snapshotCurrentStyles()),v.previousNode=g}visitStagger(g,v){const A=v.parentContext,B=v.currentTimeline,Q=g.timings,he=Math.abs(Q.duration),pe=he*(v.currentQueryTotal-1);let xe=he*v.currentQueryIndex;switch(Q.duration<0?"reverse":Q.easing){case"reverse":xe=pe-xe;break;case"full":xe=A.currentStaggerTime}const Wt=v.currentTimeline;xe&&Wt.delayNextStep(xe);const Gt=Wt.currentTime;or(this,g.animation,v),v.previousNode=g,A.currentStaggerTime=B.currentTime-Gt+(B.startTime-A.currentTimeline.startTime)}}const ds={};class Bs{constructor(g,v,A,B,Q,he,pe,xe){this._driver=g,this.element=v,this.subInstructions=A,this._enterClassName=B,this._leaveClassName=Q,this.errors=he,this.timelines=pe,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ds,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=xe||new qo(this._driver,v,0),pe.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(g,v){if(!g)return;const A=g;let B=this.options;null!=A.duration&&(B.duration=me(A.duration)),null!=A.delay&&(B.delay=me(A.delay));const Q=A.params;if(Q){let he=B.params;he||(he=this.options.params={}),Object.keys(Q).forEach(pe=>{(!v||!he.hasOwnProperty(pe))&&(he[pe]=nr(Q[pe],he,this.errors))})}}_copyOptions(){const g={};if(this.options){const v=this.options.params;if(v){const A=g.params={};Object.keys(v).forEach(B=>{A[B]=v[B]})}}return g}createSubContext(g=null,v,A){const B=v||this.element,Q=new Bs(this._driver,B,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(B,A||0));return Q.previousNode=this.previousNode,Q.currentAnimateTimings=this.currentAnimateTimings,Q.options=this._copyOptions(),Q.updateOptions(g),Q.currentQueryIndex=this.currentQueryIndex,Q.currentQueryTotal=this.currentQueryTotal,Q.parentContext=this,this.subContextCount++,Q}transformIntoNewTimeline(g){return this.previousNode=ds,this.currentTimeline=this.currentTimeline.fork(this.element,g),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(g,v,A){const B={duration:v??g.duration,delay:this.currentTimeline.currentTime+(A??0)+g.delay,easing:""},Q=new Gi(this._driver,g.element,g.keyframes,g.preStyleProps,g.postStyleProps,B,g.stretchStartingKeyframe);return this.timelines.push(Q),B}incrementTime(g){this.currentTimeline.forwardTime(this.currentTimeline.duration+g)}delayNextStep(g){g>0&&this.currentTimeline.delayNextStep(g)}invokeQuery(g,v,A,B,Q,he){let pe=[];if(B&&pe.push(this.element),g.length>0){g=(g=g.replace(_r,"."+this._enterClassName)).replace(to,"."+this._leaveClassName);let at=this._driver.query(this.element,g,1!=A);0!==A&&(at=A<0?at.slice(at.length+A,at.length):at.slice(0,A)),pe.push(...at)}return!Q&&0==pe.length&&he.push(function it(N){return new q.vHH(3014,!1)}()),pe}}class qo{constructor(g,v,A,B){this._driver=g,this.element=v,this.startTime=A,this._elementTimelineStylesLookup=B,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(v),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(v,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(g){const v=1===this._keyframes.size&&this._pendingStyles.size;this.duration||v?(this.forwardTime(this.currentTime+g),v&&this.snapshotCurrentStyles()):this.startTime+=g}fork(g,v){return this.applyStylesToKeyframe(),new qo(this._driver,g,v||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(g){this.applyStylesToKeyframe(),this.duration=g,this._loadKeyframe()}_updateStyle(g,v){this._localTimelineStyles.set(g,v),this._globalTimelineStyles.set(g,v),this._styleSummary.set(g,{time:this.currentTime,value:v})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(g){g&&this._previousKeyframe.set("easing",g);for(let[v,A]of this._globalTimelineStyles)this._backFill.set(v,A||mt.l3),this._currentKeyframe.set(v,mt.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(g,v,A,B){v&&this._previousKeyframe.set("easing",v);const Q=B&&B.params||{},he=function Ss(N,g){const v=new Map;let A;return N.forEach(B=>{if("*"===B){A=A||g.keys();for(let Q of A)v.set(Q,mt.l3)}else Nn(B,v)}),v}(g,this._globalTimelineStyles);for(let[pe,xe]of he){const at=nr(xe,Q,A);this._pendingStyles.set(pe,at),this._localTimelineStyles.has(pe)||this._backFill.set(pe,this._globalTimelineStyles.get(pe)??mt.l3),this._updateStyle(pe,at)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((g,v)=>{this._currentKeyframe.set(v,g)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((g,v)=>{this._currentKeyframe.has(v)||this._currentKeyframe.set(v,g)}))}snapshotCurrentStyles(){for(let[g,v]of this._localTimelineStyles)this._pendingStyles.set(g,v),this._updateStyle(g,v)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const g=[];for(let v in this._currentKeyframe)g.push(v);return g}mergeTimelineCollectedStyles(g){g._styleSummary.forEach((v,A)=>{const B=this._styleSummary.get(A);(!B||v.time>B.time)&&this._updateStyle(A,v.value)})}buildKeyframes(){this.applyStylesToKeyframe();const g=new Set,v=new Set,A=1===this._keyframes.size&&0===this.duration;let B=[];this._keyframes.forEach((pe,xe)=>{const at=Nn(pe,new Map,this._backFill);at.forEach((Wt,Gt)=>{Wt===mt.k1?g.add(Gt):Wt===mt.l3&&v.add(Gt)}),A||at.set("offset",xe/this.duration),B.push(at)});const Q=g.size?Bn(g.values()):[],he=v.size?Bn(v.values()):[];if(A){const pe=B[0],xe=new Map(pe);pe.set("offset",0),xe.set("offset",1),B=[pe,xe]}return Vs(this.element,B,Q,he,this.duration,this.startTime,this.easing,!1)}}class Gi extends qo{constructor(g,v,A,B,Q,he,pe=!1){super(g,v,he.delay),this.keyframes=A,this.preStyleProps=B,this.postStyleProps=Q,this._stretchStartingKeyframe=pe,this.timings={duration:he.duration,delay:he.delay,easing:he.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let g=this.keyframes,{delay:v,duration:A,easing:B}=this.timings;if(this._stretchStartingKeyframe&&v){const Q=[],he=A+v,pe=v/he,xe=Nn(g[0]);xe.set("offset",0),Q.push(xe);const at=Nn(g[0]);at.set("offset",aa(pe)),Q.push(at);const Wt=g.length-1;for(let Gt=1;Gt<=Wt;Gt++){let Un=Nn(g[Gt]);const yn=Un.get("offset");Un.set("offset",aa((v+yn*A)/he)),Q.push(Un)}A=he,v=0,B="",g=Q}return Vs(this.element,g,this.preStyleProps,this.postStyleProps,A,v,B,!0)}}function aa(N,g=3){const v=Math.pow(10,g-1);return Math.round(N*v)/v}class js{}const ma=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class As extends js{normalizePropertyName(g,v){return oi(g)}normalizeStyleValue(g,v,A,B){let Q="";const he=A.toString().trim();if(ma.has(v)&&0!==A&&"0"!==A)if("number"==typeof A)Q="px";else{const pe=A.match(/^[+-]?[\d\.]+([a-z]*)$/);pe&&0==pe[1].length&&B.push(function It(N,g){return new q.vHH(3005,!1)}())}return he+Q}}function no(N,g,v,A,B,Q,he,pe,xe,at,Wt,Gt,Un){return{type:0,element:N,triggerName:g,isRemovalTransition:B,fromState:v,fromStyles:Q,toState:A,toStyles:he,timelines:pe,queriedElements:xe,preStyleProps:at,postStyleProps:Wt,totalTime:Gt,errors:Un}}const Zo={};class Bi{constructor(g,v,A){this._triggerName=g,this.ast=v,this._stateStyles=A}match(g,v,A,B){return function Ta(N,g,v,A,B){return N.some(Q=>Q(g,v,A,B))}(this.ast.matchers,g,v,A,B)}buildStyles(g,v,A){let B=this._stateStyles.get("*");return void 0!==g&&(B=this._stateStyles.get(g?.toString())||B),B?B.buildStyles(v,A):new Map}build(g,v,A,B,Q,he,pe,xe,at,Wt){const Gt=[],Un=this.ast.options&&this.ast.options.params||Zo,Ft=this.buildStyles(A,pe&&pe.params||Zo,Gt),Cn=xe&&xe.params||Zo,ar=this.buildStyles(B,Cn,Gt),Xn=new Set,ir=new Map,Jr=new Map,lr="void"===B,os={params:Yi(Cn,Un),delay:this.ast.options?.delay},gi=Wt?[]:Us(g,v,this.ast.animation,Q,he,Ft,ar,os,at,Gt);let Hi=0;if(gi.forEach(St=>{Hi=Math.max(St.duration+St.delay,Hi)}),Gt.length)return no(v,this._triggerName,A,B,lr,Ft,ar,[],[],ir,Jr,Hi,Gt);gi.forEach(St=>{const Ar=St.element,ni=Qt(ir,Ar,new Set);St.preStyleProps.forEach(en=>ni.add(en));const Zs=Qt(Jr,Ar,new Set);St.postStyleProps.forEach(en=>Zs.add(en)),Ar!==v&&Xn.add(Ar)});const wo=Bn(Xn.values());return no(v,this._triggerName,A,B,lr,Ft,ar,gi,wo,ir,Jr,Hi)}}function Yi(N,g){const v=ot(g);for(const A in N)N.hasOwnProperty(A)&&null!=N[A]&&(v[A]=N[A]);return v}class Yo{constructor(g,v,A){this.styles=g,this.defaultParams=v,this.normalizer=A}buildStyles(g,v){const A=new Map,B=ot(this.defaultParams);return Object.keys(g).forEach(Q=>{const he=g[Q];null!==he&&(B[Q]=he)}),this.styles.styles.forEach(Q=>{"string"!=typeof Q&&Q.forEach((he,pe)=>{he&&(he=nr(he,B,v));const xe=this.normalizer.normalizePropertyName(pe,v);he=this.normalizer.normalizeStyleValue(pe,xe,he,v),A.set(pe,he)})}),A}}class $s{constructor(g,v,A){this.name=g,this.ast=v,this._normalizer=A,this.transitionFactories=[],this.states=new Map,v.states.forEach(B=>{this.states.set(B.name,new Yo(B.style,B.options&&B.options.params||{},A))}),Ms(this.states,"true","1"),Ms(this.states,"false","0"),v.transitions.forEach(B=>{this.transitionFactories.push(new Bi(g,B,this.states))}),this.fallbackTransition=function vi(N,g,v){return new Bi(N,{type:1,animation:{type:2,steps:[],options:null},matchers:[(he,pe)=>!0],options:null,queryCount:0,depCount:0},g)}(g,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(g,v,A,B){return this.transitionFactories.find(he=>he.match(g,v,A,B))||null}matchStyles(g,v,A){return this.fallbackTransition.buildStyles(g,v,A)}}function Ms(N,g,v){N.has(g)?N.has(v)||N.set(v,N.get(g)):N.has(v)&&N.set(g,N.get(v))}const ya=new Kr;class Hs{constructor(g,v,A){this.bodyNode=g,this._driver=v,this._normalizer=A,this._animations=new Map,this._playersById=new Map,this.players=[]}register(g,v){const A=[],B=[],Q=jr(this._driver,v,A,B);if(A.length)throw function Ve(N){return new q.vHH(3503,!1)}();this._animations.set(g,Q)}_buildPlayer(g,v,A){const B=g.element,Q=Cr(0,this._normalizer,0,g.keyframes,v,A);return this._driver.animate(B,Q,g.duration,g.delay,g.easing,[],!0)}create(g,v,A={}){const B=[],Q=this._animations.get(g);let he;const pe=new Map;if(Q?(he=Us(this._driver,v,Q,fe,le,new Map,new Map,A,ya,B),he.forEach(Wt=>{const Gt=Qt(pe,Wt.element,new Map);Wt.postStyleProps.forEach(Un=>Gt.set(Un,null))})):(B.push(function ut(){return new q.vHH(3300,!1)}()),he=[]),B.length)throw function Me(N){return new q.vHH(3504,!1)}();pe.forEach((Wt,Gt)=>{Wt.forEach((Un,yn)=>{Wt.set(yn,this._driver.computeStyle(Gt,yn,mt.l3))})});const at=vr(he.map(Wt=>{const Gt=pe.get(Wt.element);return this._buildPlayer(Wt,new Map,Gt)}));return this._playersById.set(g,at),at.onDestroy(()=>this.destroy(g)),this.players.push(at),at}destroy(g){const v=this._getPlayer(g);v.destroy(),this._playersById.delete(g);const A=this.players.indexOf(v);A>=0&&this.players.splice(A,1)}_getPlayer(g){const v=this._playersById.get(g);if(!v)throw function He(N){return new q.vHH(3301,!1)}();return v}listen(g,v,A,B){const Q=fr(v,"","","");return Mr(this._getPlayer(g),A,Q,B),()=>{}}command(g,v,A,B){if("register"==A)return void this.register(g,B[0]);if("create"==A)return void this.create(g,v,B[0]||{});const Q=this._getPlayer(g);switch(A){case"play":Q.play();break;case"pause":Q.pause();break;case"reset":Q.reset();break;case"restart":Q.restart();break;case"finish":Q.finish();break;case"init":Q.init();break;case"setPosition":Q.setPosition(parseFloat(B[0]));break;case"destroy":this.destroy(g)}}}const fo="ng-animate-queued",Di="ng-animate-disabled",Wi=[],fs={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Jn={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ci="__ng_removed";class Qi{get params(){return this.options.params}constructor(g,v=""){this.namespaceId=v;const A=g&&g.hasOwnProperty("value");if(this.value=function Ti(N){return N??null}(A?g.value:g),A){const Q=ot(g);delete Q.value,this.options=Q}else this.options={};this.options.params||(this.options.params={})}absorbOptions(g){const v=g.params;if(v){const A=this.options.params;Object.keys(v).forEach(B=>{null==A[B]&&(A[B]=v[B])})}}}const Tr="void",Rs=new Qi(Tr);class go{constructor(g,v,A){this.id=g,this.hostElement=v,this._engine=A,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+g,hi(v,this._hostClassName)}listen(g,v,A,B){if(!this._triggers.has(v))throw function qt(N,g){return new q.vHH(3302,!1)}();if(null==A||0==A.length)throw function fn(N){return new q.vHH(3303,!1)}();if(!function Po(N){return"start"==N||"done"==N}(A))throw function Rn(N,g){return new q.vHH(3400,!1)}();const Q=Qt(this._elementListeners,g,[]),he={name:v,phase:A,callback:B};Q.push(he);const pe=Qt(this._engine.statesByElement,g,new Map);return pe.has(v)||(hi(g,Ee),hi(g,Ee+"-"+v),pe.set(v,Rs)),()=>{this._engine.afterFlush(()=>{const xe=Q.indexOf(he);xe>=0&&Q.splice(xe,1),this._triggers.has(v)||pe.delete(v)})}}register(g,v){return!this._triggers.has(g)&&(this._triggers.set(g,v),!0)}_getTrigger(g){const v=this._triggers.get(g);if(!v)throw function Vn(N){return new q.vHH(3401,!1)}();return v}trigger(g,v,A,B=!0){const Q=this._getTrigger(v),he=new Sa(this.id,v,g);let pe=this._engine.statesByElement.get(g);pe||(hi(g,Ee),hi(g,Ee+"-"+v),this._engine.statesByElement.set(g,pe=new Map));let xe=pe.get(v);const at=new Qi(A,this.id);if(!(A&&A.hasOwnProperty("value"))&&xe&&at.absorbOptions(xe.options),pe.set(v,at),xe||(xe=Rs),at.value!==Tr&&xe.value===at.value){if(!function F(N,g){const v=Object.keys(N),A=Object.keys(g);if(v.length!=A.length)return!1;for(let B=0;B<v.length;B++){const Q=v[B];if(!g.hasOwnProperty(Q)||N[Q]!==g[Q])return!1}return!0}(xe.params,at.params)){const Cn=[],ar=Q.matchStyles(xe.value,xe.params,Cn),Xn=Q.matchStyles(at.value,at.params,Cn);Cn.length?this._engine.reportError(Cn):this._engine.afterFlush(()=>{wt(g,ar),Fe(g,Xn)})}return}const Un=Qt(this._engine.playersByElement,g,[]);Un.forEach(Cn=>{Cn.namespaceId==this.id&&Cn.triggerName==v&&Cn.queued&&Cn.destroy()});let yn=Q.matchTransition(xe.value,at.value,g,at.params),Ft=!1;if(!yn){if(!B)return;yn=Q.fallbackTransition,Ft=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:g,triggerName:v,transition:yn,fromState:xe,toState:at,player:he,isFallbackTransition:Ft}),Ft||(hi(g,fo),he.onStart(()=>{is(g,fo)})),he.onDone(()=>{let Cn=this.players.indexOf(he);Cn>=0&&this.players.splice(Cn,1);const ar=this._engine.playersByElement.get(g);if(ar){let Xn=ar.indexOf(he);Xn>=0&&ar.splice(Xn,1)}}),this.players.push(he),Un.push(he),he}deregister(g){this._triggers.delete(g),this._engine.statesByElement.forEach(v=>v.delete(g)),this._elementListeners.forEach((v,A)=>{this._elementListeners.set(A,v.filter(B=>B.name!=g))})}clearElementCache(g){this._engine.statesByElement.delete(g),this._elementListeners.delete(g);const v=this._engine.playersByElement.get(g);v&&(v.forEach(A=>A.destroy()),this._engine.playersByElement.delete(g))}_signalRemovalForInnerTriggers(g,v){const A=this._engine.driver.query(g,st,!0);A.forEach(B=>{if(B[Ci])return;const Q=this._engine.fetchNamespacesByElement(B);Q.size?Q.forEach(he=>he.triggerLeaveAnimation(B,v,!1,!0)):this.clearElementCache(B)}),this._engine.afterFlushAnimationsDone(()=>A.forEach(B=>this.clearElementCache(B)))}triggerLeaveAnimation(g,v,A,B){const Q=this._engine.statesByElement.get(g),he=new Map;if(Q){const pe=[];if(Q.forEach((xe,at)=>{if(he.set(at,xe.value),this._triggers.has(at)){const Wt=this.trigger(g,at,Tr,B);Wt&&pe.push(Wt)}}),pe.length)return this._engine.markElementAsRemoved(this.id,g,!0,v,he),A&&vr(pe).onDone(()=>this._engine.processLeaveNode(g)),!0}return!1}prepareLeaveAnimationListeners(g){const v=this._elementListeners.get(g),A=this._engine.statesByElement.get(g);if(v&&A){const B=new Set;v.forEach(Q=>{const he=Q.name;if(B.has(he))return;B.add(he);const xe=this._triggers.get(he).fallbackTransition,at=A.get(he)||Rs,Wt=new Qi(Tr),Gt=new Sa(this.id,he,g);this._engine.totalQueuedPlayers++,this._queue.push({element:g,triggerName:he,transition:xe,fromState:at,toState:Wt,player:Gt,isFallbackTransition:!0})})}}removeNode(g,v){const A=this._engine;if(g.childElementCount&&this._signalRemovalForInnerTriggers(g,v),this.triggerLeaveAnimation(g,v,!0))return;let B=!1;if(A.totalAnimations){const Q=A.players.length?A.playersByQueriedElement.get(g):[];if(Q&&Q.length)B=!0;else{let he=g;for(;he=he.parentNode;)if(A.statesByElement.get(he)){B=!0;break}}}if(this.prepareLeaveAnimationListeners(g),B)A.markElementAsRemoved(this.id,g,!1,v);else{const Q=g[Ci];(!Q||Q===fs)&&(A.afterFlush(()=>this.clearElementCache(g)),A.destroyInnerAnimations(g),A._onRemovalComplete(g,v))}}insertNode(g,v){hi(g,this._hostClassName)}drainQueuedTransitions(g){const v=[];return this._queue.forEach(A=>{const B=A.player;if(B.destroyed)return;const Q=A.element,he=this._elementListeners.get(Q);he&&he.forEach(pe=>{if(pe.name==A.triggerName){const xe=fr(Q,A.triggerName,A.fromState.value,A.toState.value);xe._data=g,Mr(A.player,pe.phase,xe,pe.callback)}}),B.markedForDestroy?this._engine.afterFlush(()=>{B.destroy()}):v.push(A)}),this._queue=[],v.sort((A,B)=>{const Q=A.transition.ast.depCount,he=B.transition.ast.depCount;return 0==Q||0==he?Q-he:this._engine.driver.containsElement(A.element,B.element)?1:-1})}destroy(g){this.players.forEach(v=>v.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,g)}elementContainsData(g){let v=!1;return this._elementListeners.has(g)&&(v=!0),v=!!this._queue.find(A=>A.element===g)||v,v}}class Ni{_onRemovalComplete(g,v){this.onRemovalComplete(g,v)}constructor(g,v,A){this.bodyNode=g,this.driver=v,this._normalizer=A,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(B,Q)=>{}}get queuedPlayers(){const g=[];return this._namespaceList.forEach(v=>{v.players.forEach(A=>{A.queued&&g.push(A)})}),g}createNamespace(g,v){const A=new go(g,v,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,v)?this._balanceNamespaceList(A,v):(this.newHostElements.set(v,A),this.collectEnterElement(v)),this._namespaceLookup[g]=A}_balanceNamespaceList(g,v){const A=this._namespaceList,B=this.namespacesByHostElement;if(A.length-1>=0){let he=!1,pe=this.driver.getParentElement(v);for(;pe;){const xe=B.get(pe);if(xe){const at=A.indexOf(xe);A.splice(at+1,0,g),he=!0;break}pe=this.driver.getParentElement(pe)}he||A.unshift(g)}else A.push(g);return B.set(v,g),g}register(g,v){let A=this._namespaceLookup[g];return A||(A=this.createNamespace(g,v)),A}registerTrigger(g,v,A){let B=this._namespaceLookup[g];B&&B.register(v,A)&&this.totalAnimations++}destroy(g,v){if(!g)return;const A=this._fetchNamespace(g);this.afterFlush(()=>{this.namespacesByHostElement.delete(A.hostElement),delete this._namespaceLookup[g];const B=this._namespaceList.indexOf(A);B>=0&&this._namespaceList.splice(B,1)}),this.afterFlushAnimationsDone(()=>A.destroy(v))}_fetchNamespace(g){return this._namespaceLookup[g]}fetchNamespacesByElement(g){const v=new Set,A=this.statesByElement.get(g);if(A)for(let B of A.values())if(B.namespaceId){const Q=this._fetchNamespace(B.namespaceId);Q&&v.add(Q)}return v}trigger(g,v,A,B){if(Yr(v)){const Q=this._fetchNamespace(g);if(Q)return Q.trigger(v,A,B),!0}return!1}insertNode(g,v,A,B){if(!Yr(v))return;const Q=v[Ci];if(Q&&Q.setForRemoval){Q.setForRemoval=!1,Q.setForMove=!0;const he=this.collectedLeaveElements.indexOf(v);he>=0&&this.collectedLeaveElements.splice(he,1)}if(g){const he=this._fetchNamespace(g);he&&he.insertNode(v,A)}B&&this.collectEnterElement(v)}collectEnterElement(g){this.collectedEnterElements.push(g)}markElementAsDisabled(g,v){v?this.disabledNodes.has(g)||(this.disabledNodes.add(g),hi(g,Di)):this.disabledNodes.has(g)&&(this.disabledNodes.delete(g),is(g,Di))}removeNode(g,v,A,B){if(Yr(v)){const Q=g?this._fetchNamespace(g):null;if(Q?Q.removeNode(v,B):this.markElementAsRemoved(g,v,!1,B),A){const he=this.namespacesByHostElement.get(v);he&&he.id!==g&&he.removeNode(v,B)}}else this._onRemovalComplete(v,B)}markElementAsRemoved(g,v,A,B,Q){this.collectedLeaveElements.push(v),v[Ci]={namespaceId:g,setForRemoval:B,hasAnimation:A,removedBeforeQueried:!1,previousTriggersValues:Q}}listen(g,v,A,B,Q){return Yr(v)?this._fetchNamespace(g).listen(v,A,B,Q):()=>{}}_buildInstruction(g,v,A,B,Q){return g.transition.build(this.driver,g.element,g.fromState.value,g.toState.value,A,B,g.fromState.options,g.toState.options,v,Q)}destroyInnerAnimations(g){let v=this.driver.query(g,st,!0);v.forEach(A=>this.destroyActiveAnimationsForElement(A)),0!=this.playersByQueriedElement.size&&(v=this.driver.query(g,Mt,!0),v.forEach(A=>this.finishActiveQueriedAnimationOnElement(A)))}destroyActiveAnimationsForElement(g){const v=this.playersByElement.get(g);v&&v.forEach(A=>{A.queued?A.markedForDestroy=!0:A.destroy()})}finishActiveQueriedAnimationOnElement(g){const v=this.playersByQueriedElement.get(g);v&&v.forEach(A=>A.finish())}whenRenderingDone(){return new Promise(g=>{if(this.players.length)return vr(this.players).onDone(()=>g());g()})}processLeaveNode(g){const v=g[Ci];if(v&&v.setForRemoval){if(g[Ci]=fs,v.namespaceId){this.destroyInnerAnimations(g);const A=this._fetchNamespace(v.namespaceId);A&&A.clearElementCache(g)}this._onRemovalComplete(g,v.setForRemoval)}g.classList?.contains(Di)&&this.markElementAsDisabled(g,!1),this.driver.query(g,".ng-animate-disabled",!0).forEach(A=>{this.markElementAsDisabled(A,!1)})}flush(g=-1){let v=[];if(this.newHostElements.size&&(this.newHostElements.forEach((A,B)=>this._balanceNamespaceList(A,B)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let A=0;A<this.collectedEnterElements.length;A++)hi(this.collectedEnterElements[A],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const A=[];try{v=this._flushAnimations(A,g)}finally{for(let B=0;B<A.length;B++)A[B]()}}else for(let A=0;A<this.collectedLeaveElements.length;A++)this.processLeaveNode(this.collectedLeaveElements[A]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(A=>A()),this._flushFns=[],this._whenQuietFns.length){const A=this._whenQuietFns;this._whenQuietFns=[],v.length?vr(v).onDone(()=>{A.forEach(B=>B())}):A.forEach(B=>B())}}reportError(g){throw function an(N){return new q.vHH(3402,!1)}()}_flushAnimations(g,v){const A=new Kr,B=[],Q=new Map,he=[],pe=new Map,xe=new Map,at=new Map,Wt=new Set;this.disabledNodes.forEach(p=>{Wt.add(p);const w=this.driver.query(p,".ng-animate-queued",!0);for(let M=0;M<w.length;M++)Wt.add(w[M])});const Gt=this.bodyNode,Un=Array.from(this.statesByElement.keys()),yn=gs(Un,this.collectedEnterElements),Ft=new Map;let Cn=0;yn.forEach((p,w)=>{const M=fe+Cn++;Ft.set(w,M),p.forEach(W=>hi(W,M))});const ar=[],Xn=new Set,ir=new Set;for(let p=0;p<this.collectedLeaveElements.length;p++){const w=this.collectedLeaveElements[p],M=w[Ci];M&&M.setForRemoval&&(ar.push(w),Xn.add(w),M.hasAnimation?this.driver.query(w,".ng-star-inserted",!0).forEach(W=>Xn.add(W)):ir.add(w))}const Jr=new Map,lr=gs(Un,Array.from(Xn));lr.forEach((p,w)=>{const M=le+Cn++;Jr.set(w,M),p.forEach(W=>hi(W,M))}),g.push(()=>{yn.forEach((p,w)=>{const M=Ft.get(w);p.forEach(W=>is(W,M))}),lr.forEach((p,w)=>{const M=Jr.get(w);p.forEach(W=>is(W,M))}),ar.forEach(p=>{this.processLeaveNode(p)})});const os=[],gi=[];for(let p=this._namespaceList.length-1;p>=0;p--)this._namespaceList[p].drainQueuedTransitions(v).forEach(M=>{const W=M.player,J=M.element;if(os.push(W),this.collectedEnterElements.length){const Hr=J[Ci];if(Hr&&Hr.setForMove){if(Hr.previousTriggersValues&&Hr.previousTriggersValues.has(M.triggerName)){const as=Hr.previousTriggersValues.get(M.triggerName),zi=this.statesByElement.get(M.element);if(zi&&zi.has(M.triggerName)){const ri=zi.get(M.triggerName);ri.value=as,zi.set(M.triggerName,ri)}}return void W.destroy()}}const Se=!Gt||!this.driver.containsElement(Gt,J),et=Jr.get(J),kt=Ft.get(J),Ot=this._buildInstruction(M,A,kt,et,Se);if(Ot.errors&&Ot.errors.length)return void gi.push(Ot);if(Se)return W.onStart(()=>wt(J,Ot.fromStyles)),W.onDestroy(()=>Fe(J,Ot.toStyles)),void B.push(W);if(M.isFallbackTransition)return W.onStart(()=>wt(J,Ot.fromStyles)),W.onDestroy(()=>Fe(J,Ot.toStyles)),void B.push(W);const qn=[];Ot.timelines.forEach(Hr=>{Hr.stretchStartingKeyframe=!0,this.disabledNodes.has(Hr.element)||qn.push(Hr)}),Ot.timelines=qn,A.append(J,Ot.timelines),he.push({instruction:Ot,player:W,element:J}),Ot.queriedElements.forEach(Hr=>Qt(pe,Hr,[]).push(W)),Ot.preStyleProps.forEach((Hr,as)=>{if(Hr.size){let zi=xe.get(as);zi||xe.set(as,zi=new Set),Hr.forEach((ri,Ln)=>zi.add(Ln))}}),Ot.postStyleProps.forEach((Hr,as)=>{let zi=at.get(as);zi||at.set(as,zi=new Set),Hr.forEach((ri,Ln)=>zi.add(Ln))})});if(gi.length){const p=[];gi.forEach(w=>{p.push(function ci(N,g){return new q.vHH(3505,!1)}())}),os.forEach(w=>w.destroy()),this.reportError(p)}const Hi=new Map,wo=new Map;he.forEach(p=>{const w=p.element;A.has(w)&&(wo.set(w,w),this._beforeAnimationBuild(p.player.namespaceId,p.instruction,Hi))}),B.forEach(p=>{const w=p.element;this._getPreviousPlayers(w,!1,p.namespaceId,p.triggerName,null).forEach(W=>{Qt(Hi,w,[]).push(W),W.destroy()})});const St=ar.filter(p=>k(p,xe,at)),Ar=new Map;bi(Ar,this.driver,ir,at,mt.l3).forEach(p=>{k(p,xe,at)&&St.push(p)});const Zs=new Map;yn.forEach((p,w)=>{bi(Zs,this.driver,new Set(p),xe,mt.k1)}),St.forEach(p=>{const w=Ar.get(p),M=Zs.get(p);Ar.set(p,new Map([...Array.from(w?.entries()??[]),...Array.from(M?.entries()??[])]))});const en=[],_=[],I={};he.forEach(p=>{const{element:w,player:M,instruction:W}=p;if(A.has(w)){if(Wt.has(w))return M.onDestroy(()=>Fe(w,W.toStyles)),M.disabled=!0,M.overrideTotalTime(W.totalTime),void B.push(M);let J=I;if(wo.size>1){let et=w;const kt=[];for(;et=et.parentNode;){const Ot=wo.get(et);if(Ot){J=Ot;break}kt.push(et)}kt.forEach(Ot=>wo.set(Ot,J))}const Se=this._buildAnimation(M.namespaceId,W,Hi,Q,Zs,Ar);if(M.setRealPlayer(Se),J===I)en.push(M);else{const et=this.playersByElement.get(J);et&&et.length&&(M.parentPlayer=vr(et)),B.push(M)}}else wt(w,W.fromStyles),M.onDestroy(()=>Fe(w,W.toStyles)),_.push(M),Wt.has(w)&&B.push(M)}),_.forEach(p=>{const w=Q.get(p.element);if(w&&w.length){const M=vr(w);p.setRealPlayer(M)}}),B.forEach(p=>{p.parentPlayer?p.syncPlayerEvents(p.parentPlayer):p.destroy()});for(let p=0;p<ar.length;p++){const w=ar[p],M=w[Ci];if(is(w,le),M&&M.hasAnimation)continue;let W=[];if(pe.size){let Se=pe.get(w);Se&&Se.length&&W.push(...Se);let et=this.driver.query(w,Mt,!0);for(let kt=0;kt<et.length;kt++){let Ot=pe.get(et[kt]);Ot&&Ot.length&&W.push(...Ot)}}const J=W.filter(Se=>!Se.destroyed);J.length?Pn(this,w,J):this.processLeaveNode(w)}return ar.length=0,en.forEach(p=>{this.players.push(p),p.onDone(()=>{p.destroy();const w=this.players.indexOf(p);this.players.splice(w,1)}),p.play()}),en}elementContainsData(g,v){let A=!1;const B=v[Ci];return B&&B.setForRemoval&&(A=!0),this.playersByElement.has(v)&&(A=!0),this.playersByQueriedElement.has(v)&&(A=!0),this.statesByElement.has(v)&&(A=!0),this._fetchNamespace(g).elementContainsData(v)||A}afterFlush(g){this._flushFns.push(g)}afterFlushAnimationsDone(g){this._whenQuietFns.push(g)}_getPreviousPlayers(g,v,A,B,Q){let he=[];if(v){const pe=this.playersByQueriedElement.get(g);pe&&(he=pe)}else{const pe=this.playersByElement.get(g);if(pe){const xe=!Q||Q==Tr;pe.forEach(at=>{at.queued||!xe&&at.triggerName!=B||he.push(at)})}}return(A||B)&&(he=he.filter(pe=>!(A&&A!=pe.namespaceId||B&&B!=pe.triggerName))),he}_beforeAnimationBuild(g,v,A){const Q=v.element,he=v.isRemovalTransition?void 0:g,pe=v.isRemovalTransition?void 0:v.triggerName;for(const xe of v.timelines){const at=xe.element,Wt=at!==Q,Gt=Qt(A,at,[]);this._getPreviousPlayers(at,Wt,he,pe,v.toState).forEach(yn=>{const Ft=yn.getRealPlayer();Ft.beforeDestroy&&Ft.beforeDestroy(),yn.destroy(),Gt.push(yn)})}wt(Q,v.fromStyles)}_buildAnimation(g,v,A,B,Q,he){const pe=v.triggerName,xe=v.element,at=[],Wt=new Set,Gt=new Set,Un=v.timelines.map(Ft=>{const Cn=Ft.element;Wt.add(Cn);const ar=Cn[Ci];if(ar&&ar.removedBeforeQueried)return new mt.ZN(Ft.duration,Ft.delay);const Xn=Cn!==xe,ir=function mo(N){const g=[];return U(N,g),g}((A.get(Cn)||Wi).map(Hi=>Hi.getRealPlayer())).filter(Hi=>!!Hi.element&&Hi.element===Cn),Jr=Q.get(Cn),lr=he.get(Cn),os=Cr(0,this._normalizer,0,Ft.keyframes,Jr,lr),gi=this._buildPlayer(Ft,os,ir);if(Ft.subTimeline&&B&&Gt.add(Cn),Xn){const Hi=new Sa(g,pe,Cn);Hi.setRealPlayer(gi),at.push(Hi)}return gi});at.forEach(Ft=>{Qt(this.playersByQueriedElement,Ft.element,[]).push(Ft),Ft.onDone(()=>function ps(N,g,v){let A=N.get(g);if(A){if(A.length){const B=A.indexOf(v);A.splice(B,1)}0==A.length&&N.delete(g)}return A}(this.playersByQueriedElement,Ft.element,Ft))}),Wt.forEach(Ft=>hi(Ft,Be));const yn=vr(Un);return yn.onDestroy(()=>{Wt.forEach(Ft=>is(Ft,Be)),Fe(xe,v.toStyles)}),Gt.forEach(Ft=>{Qt(B,Ft,[]).push(yn)}),yn}_buildPlayer(g,v,A){return v.length>0?this.driver.animate(g.element,v,g.duration,g.delay,g.easing,A):new mt.ZN(g.duration,g.delay)}}class Sa{constructor(g,v,A){this.namespaceId=g,this.triggerName=v,this.element=A,this._player=new mt.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(g){this._containsRealPlayer||(this._player=g,this._queuedCallbacks.forEach((v,A)=>{v.forEach(B=>Mr(g,A,void 0,B))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(g.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(g){this.totalTime=g}syncPlayerEvents(g){const v=this._player;v.triggerCallback&&g.onStart(()=>v.triggerCallback("start")),g.onDone(()=>this.finish()),g.onDestroy(()=>this.destroy())}_queueEvent(g,v){Qt(this._queuedCallbacks,g,[]).push(v)}onDone(g){this.queued&&this._queueEvent("done",g),this._player.onDone(g)}onStart(g){this.queued&&this._queueEvent("start",g),this._player.onStart(g)}onDestroy(g){this.queued&&this._queueEvent("destroy",g),this._player.onDestroy(g)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(g){this.queued||this._player.setPosition(g)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(g){const v=this._player;v.triggerCallback&&v.triggerCallback(g)}}function Yr(N){return N&&1===N.nodeType}function Ji(N,g){const v=N.style.display;return N.style.display=g??"none",v}function bi(N,g,v,A,B){const Q=[];v.forEach(xe=>Q.push(Ji(xe)));const he=[];A.forEach((xe,at)=>{const Wt=new Map;xe.forEach(Gt=>{const Un=g.computeStyle(at,Gt,B);Wt.set(Gt,Un),(!Un||0==Un.length)&&(at[Ci]=Jn,he.push(at))}),N.set(at,Wt)});let pe=0;return v.forEach(xe=>Ji(xe,Q[pe++])),he}function gs(N,g){const v=new Map;if(N.forEach(pe=>v.set(pe,[])),0==g.length)return v;const A=1,B=new Set(g),Q=new Map;function he(pe){if(!pe)return A;let xe=Q.get(pe);if(xe)return xe;const at=pe.parentNode;return xe=v.has(at)?at:B.has(at)?A:he(at),Q.set(pe,xe),xe}return g.forEach(pe=>{const xe=he(pe);xe!==A&&v.get(xe).push(pe)}),v}function hi(N,g){N.classList?.add(g)}function is(N,g){N.classList?.remove(g)}function Pn(N,g,v){vr(v).onDone(()=>N.processLeaveNode(g))}function U(N,g){for(let v=0;v<N.length;v++){const A=N[v];A instanceof mt.ZE?U(A.players,g):g.push(A)}}function k(N,g,v){const A=v.get(N);if(!A)return!1;let B=g.get(N);return B?A.forEach(Q=>B.add(Q)):g.set(N,A),v.delete(N),!0}class te{constructor(g,v,A){this.bodyNode=g,this._driver=v,this._normalizer=A,this._triggerCache={},this.onRemovalComplete=(B,Q)=>{},this._transitionEngine=new Ni(g,v,A),this._timelineEngine=new Hs(g,v,A),this._transitionEngine.onRemovalComplete=(B,Q)=>this.onRemovalComplete(B,Q)}registerTrigger(g,v,A,B,Q){const he=g+"-"+B;let pe=this._triggerCache[he];if(!pe){const xe=[],at=[],Wt=jr(this._driver,Q,xe,at);if(xe.length)throw function Gn(N,g){return new q.vHH(3404,!1)}();pe=function Ro(N,g,v){return new $s(N,g,v)}(B,Wt,this._normalizer),this._triggerCache[he]=pe}this._transitionEngine.registerTrigger(v,B,pe)}register(g,v){this._transitionEngine.register(g,v)}destroy(g,v){this._transitionEngine.destroy(g,v)}onInsert(g,v,A,B){this._transitionEngine.insertNode(g,v,A,B)}onRemove(g,v,A,B){this._transitionEngine.removeNode(g,v,B||!1,A)}disableAnimations(g,v){this._transitionEngine.markElementAsDisabled(g,v)}process(g,v,A,B){if("@"==A.charAt(0)){const[Q,he]=Jt(A);this._timelineEngine.command(Q,v,he,B)}else this._transitionEngine.trigger(g,v,A,B)}listen(g,v,A,B,Q){if("@"==A.charAt(0)){const[he,pe]=Jt(A);return this._timelineEngine.listen(he,v,pe,Q)}return this._transitionEngine.listen(g,v,A,B,Q)}flush(g=-1){this._transitionEngine.flush(g)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let In=(()=>{class N{constructor(v,A,B){this._element=v,this._startStyles=A,this._endStyles=B,this._state=0;let Q=N.initialStylesByElement.get(v);Q||N.initialStylesByElement.set(v,Q=new Map),this._initialStyles=Q}start(){this._state<1&&(this._startStyles&&Fe(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Fe(this._element,this._initialStyles),this._endStyles&&(Fe(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(N.initialStylesByElement.delete(this._element),this._startStyles&&(wt(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(wt(this._element,this._endStyles),this._endStyles=null),Fe(this._element,this._initialStyles),this._state=3)}}return N.initialStylesByElement=new WeakMap,N})();function Qr(N){let g=null;return N.forEach((v,A)=>{(function Ye(N){return"display"===N||"position"===N})(A)&&(g=g||new Map,g.set(A,v))}),g}class _n{constructor(g,v,A,B){this.element=g,this.keyframes=v,this.options=A,this._specialStyles=B,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=A.duration,this._delay=A.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(g=>g()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const g=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,g,this.options),this._finalKeyframe=g.length?g[g.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(g){const v=[];return g.forEach(A=>{v.push(Object.fromEntries(A))}),v}_triggerWebAnimation(g,v,A){return g.animate(this._convertKeyframesToObject(v),A)}onStart(g){this._originalOnStartFns.push(g),this._onStartFns.push(g)}onDone(g){this._originalOnDoneFns.push(g),this._onDoneFns.push(g)}onDestroy(g){this._onDestroyFns.push(g)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(g=>g()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(g=>g()),this._onDestroyFns=[])}setPosition(g){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=g*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const g=new Map;this.hasStarted()&&this._finalKeyframe.forEach((A,B)=>{"offset"!==B&&g.set(B,this._finished?A:$t(this.element,B))}),this.currentSnapshot=g}triggerCallback(g){const v="start"===g?this._onStartFns:this._onDoneFns;v.forEach(A=>A()),v.length=0}}class yo{validateStyleProperty(g){return!0}validateAnimatableStyleProperty(g){return!0}matchesElement(g,v){return!1}containsElement(g,v){return Vt(g,v)}getParentElement(g){return Er(g)}query(g,v,A){return $n(g,v,A)}computeStyle(g,v,A){return window.getComputedStyle(g)[v]}animate(g,v,A,B,Q,he=[]){const xe={duration:A,delay:B,fill:0==B?"both":"forwards"};Q&&(xe.easing=Q);const at=new Map,Wt=he.filter(yn=>yn instanceof _n);(function bs(N,g){return 0===N||0===g})(A,B)&&Wt.forEach(yn=>{yn.currentSnapshot.forEach((Ft,Cn)=>at.set(Cn,Ft))});let Gt=function cn(N){return N.length?N[0]instanceof Map?N:N.map(g=>Tt(g)):[]}(v).map(yn=>Nn(yn));Gt=function xi(N,g,v){if(v.size&&g.length){let A=g[0],B=[];if(v.forEach((Q,he)=>{A.has(he)||B.push(he),A.set(he,Q)}),B.length)for(let Q=1;Q<g.length;Q++){let he=g[Q];B.forEach(pe=>he.set(pe,$t(N,pe)))}}return g}(g,Gt,at);const Un=function tt(N,g){let v=null,A=null;return Array.isArray(g)&&g.length?(v=Qr(g[0]),g.length>1&&(A=Qr(g[g.length-1]))):g instanceof Map&&(v=Qr(g)),v||A?new In(N,v,A):null}(g,Gt);return new _n(g,Gt,xe,Un)}}var io=j(6895);let fi=(()=>{class N extends mt._j{constructor(v,A){super(),this._nextAnimationId=0,this._renderer=v.createRenderer(A.body,{id:"0",encapsulation:q.ifc.None,styles:[],data:{animation:[]}})}build(v){const A=this._nextAnimationId.toString();this._nextAnimationId++;const B=Array.isArray(v)?(0,mt.vP)(v):v;return ms(this._renderer,null,A,"register",[B]),new Fa(A,this._renderer)}}return N.\u0275fac=function(v){return new(v||N)(q.LFG(q.FYo),q.LFG(io.K0))},N.\u0275prov=q.Yz7({token:N,factory:N.\u0275fac}),N})();class Fa extends mt.LC{constructor(g,v){super(),this._id=g,this._renderer=v}create(g,v){return new Qo(this._id,g,v||{},this._renderer)}}class Qo{constructor(g,v,A,B){this.id=g,this.element=v,this._renderer=B,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",A)}_listen(g,v){return this._renderer.listen(this.element,`@@${this.id}:${g}`,v)}_command(g,...v){return ms(this._renderer,this.element,this.id,g,v)}onDone(g){this._listen("done",g)}onStart(g){this._listen("start",g)}onDestroy(g){this._listen("destroy",g)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(g){this._command("setPosition",g)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function ms(N,g,v,A,B){return N.setProperty(g,`@@${v}:${A}`,B)}const zs="@.disabled";let Jo=(()=>{class N{constructor(v,A,B){this.delegate=v,this.engine=A,this._zone=B,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),A.onRemovalComplete=(Q,he)=>{const pe=he?.parentNode(Q);pe&&he.removeChild(pe,Q)}}createRenderer(v,A){const Q=this.delegate.createRenderer(v,A);if(!(v&&A&&A.data&&A.data.animation)){let Wt=this._rendererCache.get(Q);return Wt||(Wt=new Xi("",Q,this.engine,()=>this._rendererCache.delete(Q)),this._rendererCache.set(Q,Wt)),Wt}const he=A.id,pe=A.id+"-"+this._currentId;this._currentId++,this.engine.register(pe,v);const xe=Wt=>{Array.isArray(Wt)?Wt.forEach(xe):this.engine.registerTrigger(he,pe,v,Wt.name,Wt)};return A.data.animation.forEach(xe),new Ps(this,pe,Q,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(v,A,B){v>=0&&v<this._microtaskId?this._zone.run(()=>A(B)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(Q=>{const[he,pe]=Q;he(pe)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([A,B]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return N.\u0275fac=function(v){return new(v||N)(q.LFG(q.FYo),q.LFG(te),q.LFG(q.R0b))},N.\u0275prov=q.Yz7({token:N,factory:N.\u0275fac}),N})();class Xi{constructor(g,v,A,B){this.namespaceId=g,this.delegate=v,this.engine=A,this._onDestroy=B,this.destroyNode=this.delegate.destroyNode?Q=>v.destroyNode(Q):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(g,v){return this.delegate.createElement(g,v)}createComment(g){return this.delegate.createComment(g)}createText(g){return this.delegate.createText(g)}appendChild(g,v){this.delegate.appendChild(g,v),this.engine.onInsert(this.namespaceId,v,g,!1)}insertBefore(g,v,A,B=!0){this.delegate.insertBefore(g,v,A),this.engine.onInsert(this.namespaceId,v,g,B)}removeChild(g,v,A){this.engine.onRemove(this.namespaceId,v,this.delegate,A)}selectRootElement(g,v){return this.delegate.selectRootElement(g,v)}parentNode(g){return this.delegate.parentNode(g)}nextSibling(g){return this.delegate.nextSibling(g)}setAttribute(g,v,A,B){this.delegate.setAttribute(g,v,A,B)}removeAttribute(g,v,A){this.delegate.removeAttribute(g,v,A)}addClass(g,v){this.delegate.addClass(g,v)}removeClass(g,v){this.delegate.removeClass(g,v)}setStyle(g,v,A,B){this.delegate.setStyle(g,v,A,B)}removeStyle(g,v,A){this.delegate.removeStyle(g,v,A)}setProperty(g,v,A){"@"==v.charAt(0)&&v==zs?this.disableAnimations(g,!!A):this.delegate.setProperty(g,v,A)}setValue(g,v){this.delegate.setValue(g,v)}listen(g,v,A){return this.delegate.listen(g,v,A)}disableAnimations(g,v){this.engine.disableAnimations(g,v)}}class Ps extends Xi{constructor(g,v,A,B,Q){super(v,A,B,Q),this.factory=g,this.namespaceId=v}setProperty(g,v,A){"@"==v.charAt(0)?"."==v.charAt(1)&&v==zs?this.disableAnimations(g,A=void 0===A||!!A):this.engine.process(this.namespaceId,g,v.slice(1),A):this.delegate.setProperty(g,v,A)}listen(g,v,A){if("@"==v.charAt(0)){const B=function Kn(N){switch(N){case"body":return document.body;case"document":return document;case"window":return window;default:return N}}(g);let Q=v.slice(1),he="";return"@"!=Q.charAt(0)&&([Q,he]=function ji(N){const g=N.indexOf(".");return[N.substring(0,g),N.slice(g+1)]}(Q)),this.engine.listen(this.namespaceId,B,Q,he,pe=>{this.factory.scheduleListenerCallback(pe._data||-1,A,pe)})}return this.delegate.listen(g,v,A)}}const Aa=[{provide:mt._j,useClass:fi},{provide:js,useFactory:function ys(){return new As}},{provide:te,useClass:(()=>{class N extends te{constructor(v,A,B,Q){super(v.body,A,B)}ngOnDestroy(){this.flush()}}return N.\u0275fac=function(v){return new(v||N)(q.LFG(io.K0),q.LFG(Rt),q.LFG(js),q.LFG(q.z2F))},N.\u0275prov=q.Yz7({token:N,factory:N.\u0275fac}),N})()},{provide:q.FYo,useFactory:function so(N,g,v){return new Jo(N,g,v)},deps:[y.se,te,q.R0b]}],vo=[{provide:Rt,useFactory:()=>new yo},{provide:q.QbO,useValue:"BrowserAnimations"},...Aa],La=[{provide:Rt,useClass:er},{provide:q.QbO,useValue:"NoopAnimations"},...Aa];let Vu=(()=>{class N{static withConfig(v){return{ngModule:N,providers:v.disableAnimations?La:vo}}}return N.\u0275fac=function(v){return new(v||N)},N.\u0275mod=q.oAB({type:N}),N.\u0275inj=q.cJS({providers:vo,imports:[y.b2]}),N})();var Ma=j(2011),ea=j(1205),xo=j(3132),Ns=j(3692),Va=j(9646),va=j(9751),Ra=j(4351),ta=j(9300),na=j(4004);class No{}class _o{}class br{constructor(g){this.normalizedNames=new Map,this.lazyUpdate=null,g?this.lazyInit="string"==typeof g?()=>{this.headers=new Map,g.split("\n").forEach(v=>{const A=v.indexOf(":");if(A>0){const B=v.slice(0,A),Q=B.toLowerCase(),he=v.slice(A+1).trim();this.maybeSetNormalizedName(B,Q),this.headers.has(Q)?this.headers.get(Q).push(he):this.headers.set(Q,[he])}})}:()=>{this.headers=new Map,Object.entries(g).forEach(([v,A])=>{let B;if(B="string"==typeof A?[A]:"number"==typeof A?[A.toString()]:A.map(Q=>Q.toString()),B.length>0){const Q=v.toLowerCase();this.headers.set(Q,B),this.maybeSetNormalizedName(v,Q)}})}:this.headers=new Map}has(g){return this.init(),this.headers.has(g.toLowerCase())}get(g){this.init();const v=this.headers.get(g.toLowerCase());return v&&v.length>0?v[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(g){return this.init(),this.headers.get(g.toLowerCase())||null}append(g,v){return this.clone({name:g,value:v,op:"a"})}set(g,v){return this.clone({name:g,value:v,op:"s"})}delete(g,v){return this.clone({name:g,value:v,op:"d"})}maybeSetNormalizedName(g,v){this.normalizedNames.has(v)||this.normalizedNames.set(v,g)}init(){this.lazyInit&&(this.lazyInit instanceof br?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(g=>this.applyUpdate(g)),this.lazyUpdate=null))}copyFrom(g){g.init(),Array.from(g.headers.keys()).forEach(v=>{this.headers.set(v,g.headers.get(v)),this.normalizedNames.set(v,g.normalizedNames.get(v))})}clone(g){const v=new br;return v.lazyInit=this.lazyInit&&this.lazyInit instanceof br?this.lazyInit:this,v.lazyUpdate=(this.lazyUpdate||[]).concat([g]),v}applyUpdate(g){const v=g.name.toLowerCase();switch(g.op){case"a":case"s":let A=g.value;if("string"==typeof A&&(A=[A]),0===A.length)return;this.maybeSetNormalizedName(g.name,v);const B=("a"===g.op?this.headers.get(v):void 0)||[];B.push(...A),this.headers.set(v,B);break;case"d":const Q=g.value;if(Q){let he=this.headers.get(v);if(!he)return;he=he.filter(pe=>-1===Q.indexOf(pe)),0===he.length?(this.headers.delete(v),this.normalizedNames.delete(v)):this.headers.set(v,he)}else this.headers.delete(v),this.normalizedNames.delete(v)}}forEach(g){this.init(),Array.from(this.normalizedNames.keys()).forEach(v=>g(this.normalizedNames.get(v),this.headers.get(v)))}}class Sr{encodeKey(g){return wu(g)}encodeValue(g){return wu(g)}decodeKey(g){return decodeURIComponent(g)}decodeValue(g){return decodeURIComponent(g)}}const ua=/%(\d[a-f0-9])/gi,Ba={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function wu(N){return encodeURIComponent(N).replace(ua,(g,v)=>Ba[v]??g)}function ko(N){return`${N}`}class Ws{constructor(g={}){if(this.updates=null,this.cloneFrom=null,this.encoder=g.encoder||new Sr,g.fromString){if(g.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Ua(N,g){const v=new Map;return N.length>0&&N.replace(/^\?/,"").split("&").forEach(B=>{const Q=B.indexOf("="),[he,pe]=-1==Q?[g.decodeKey(B),""]:[g.decodeKey(B.slice(0,Q)),g.decodeValue(B.slice(Q+1))],xe=v.get(he)||[];xe.push(pe),v.set(he,xe)}),v}(g.fromString,this.encoder)}else g.fromObject?(this.map=new Map,Object.keys(g.fromObject).forEach(v=>{const A=g.fromObject[v],B=Array.isArray(A)?A.map(ko):[ko(A)];this.map.set(v,B)})):this.map=null}has(g){return this.init(),this.map.has(g)}get(g){this.init();const v=this.map.get(g);return v?v[0]:null}getAll(g){return this.init(),this.map.get(g)||null}keys(){return this.init(),Array.from(this.map.keys())}append(g,v){return this.clone({param:g,value:v,op:"a"})}appendAll(g){const v=[];return Object.keys(g).forEach(A=>{const B=g[A];Array.isArray(B)?B.forEach(Q=>{v.push({param:A,value:Q,op:"a"})}):v.push({param:A,value:B,op:"a"})}),this.clone(v)}set(g,v){return this.clone({param:g,value:v,op:"s"})}delete(g,v){return this.clone({param:g,value:v,op:"d"})}toString(){return this.init(),this.keys().map(g=>{const v=this.encoder.encodeKey(g);return this.map.get(g).map(A=>v+"="+this.encoder.encodeValue(A)).join("&")}).filter(g=>""!==g).join("&")}clone(g){const v=new Ws({encoder:this.encoder});return v.cloneFrom=this.cloneFrom||this,v.updates=(this.updates||[]).concat(g),v}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(g=>this.map.set(g,this.cloneFrom.map.get(g))),this.updates.forEach(g=>{switch(g.op){case"a":case"s":const v=("a"===g.op?this.map.get(g.param):void 0)||[];v.push(ko(g.value)),this.map.set(g.param,v);break;case"d":if(void 0===g.value){this.map.delete(g.param);break}{let A=this.map.get(g.param)||[];const B=A.indexOf(ko(g.value));-1!==B&&A.splice(B,1),A.length>0?this.map.set(g.param,A):this.map.delete(g.param)}}}),this.cloneFrom=this.updates=null)}}class _a{constructor(){this.map=new Map}set(g,v){return this.map.set(g,v),this}get(g){return this.map.has(g)||this.map.set(g,g.defaultValue()),this.map.get(g)}delete(g){return this.map.delete(g),this}has(g){return this.map.has(g)}keys(){return this.map.keys()}}function R(N){return typeof ArrayBuffer<"u"&&N instanceof ArrayBuffer}function $(N){return typeof Blob<"u"&&N instanceof Blob}function x(N){return typeof FormData<"u"&&N instanceof FormData}class ce{constructor(g,v,A,B){let Q;if(this.url=v,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=g.toUpperCase(),function ja(N){switch(N){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||B?(this.body=void 0!==A?A:null,Q=B):Q=A,Q&&(this.reportProgress=!!Q.reportProgress,this.withCredentials=!!Q.withCredentials,Q.responseType&&(this.responseType=Q.responseType),Q.headers&&(this.headers=Q.headers),Q.context&&(this.context=Q.context),Q.params&&(this.params=Q.params)),this.headers||(this.headers=new br),this.context||(this.context=new _a),this.params){const he=this.params.toString();if(0===he.length)this.urlWithParams=v;else{const pe=v.indexOf("?");this.urlWithParams=v+(-1===pe?"?":pe<v.length-1?"&":"")+he}}else this.params=new Ws,this.urlWithParams=v}serializeBody(){return null===this.body?null:R(this.body)||$(this.body)||x(this.body)||function Y(N){return typeof URLSearchParams<"u"&&N instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ws?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||x(this.body)?null:$(this.body)?this.body.type||null:R(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ws?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(g={}){const v=g.method||this.method,A=g.url||this.url,B=g.responseType||this.responseType,Q=void 0!==g.body?g.body:this.body,he=void 0!==g.withCredentials?g.withCredentials:this.withCredentials,pe=void 0!==g.reportProgress?g.reportProgress:this.reportProgress;let xe=g.headers||this.headers,at=g.params||this.params;const Wt=g.context??this.context;return void 0!==g.setHeaders&&(xe=Object.keys(g.setHeaders).reduce((Gt,Un)=>Gt.set(Un,g.setHeaders[Un]),xe)),g.setParams&&(at=Object.keys(g.setParams).reduce((Gt,Un)=>Gt.set(Un,g.setParams[Un]),at)),new ce(v,A,Q,{params:at,headers:xe,context:Wt,reportProgress:pe,responseType:B,withCredentials:he})}}var $e=(()=>(($e=$e||{})[$e.Sent=0]="Sent",$e[$e.UploadProgress=1]="UploadProgress",$e[$e.ResponseHeader=2]="ResponseHeader",$e[$e.DownloadProgress=3]="DownloadProgress",$e[$e.Response=4]="Response",$e[$e.User=5]="User",$e))();class Et{constructor(g,v=200,A="OK"){this.headers=g.headers||new br,this.status=void 0!==g.status?g.status:v,this.statusText=g.statusText||A,this.url=g.url||null,this.ok=this.status>=200&&this.status<300}}class un extends Et{constructor(g={}){super(g),this.type=$e.ResponseHeader}clone(g={}){return new un({headers:g.headers||this.headers,status:void 0!==g.status?g.status:this.status,statusText:g.statusText||this.statusText,url:g.url||this.url||void 0})}}class gr extends Et{constructor(g={}){super(g),this.type=$e.Response,this.body=void 0!==g.body?g.body:null}clone(g={}){return new gr({body:void 0!==g.body?g.body:this.body,headers:g.headers||this.headers,status:void 0!==g.status?g.status:this.status,statusText:g.statusText||this.statusText,url:g.url||this.url||void 0})}}class dr extends Et{constructor(g){super(g,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${g.url||"(unknown url)"}`:`Http failure response for ${g.url||"(unknown url)"}: ${g.status} ${g.statusText}`,this.error=g.error||null}}function hr(N,g){return{body:g,headers:N.headers,context:N.context,observe:N.observe,params:N.params,reportProgress:N.reportProgress,responseType:N.responseType,withCredentials:N.withCredentials}}let jn=(()=>{class N{constructor(v){this.handler=v}request(v,A,B={}){let Q;if(v instanceof ce)Q=v;else{let xe,at;xe=B.headers instanceof br?B.headers:new br(B.headers),B.params&&(at=B.params instanceof Ws?B.params:new Ws({fromObject:B.params})),Q=new ce(v,A,void 0!==B.body?B.body:null,{headers:xe,context:B.context,params:at,reportProgress:B.reportProgress,responseType:B.responseType||"json",withCredentials:B.withCredentials})}const he=(0,Va.of)(Q).pipe((0,Ra.b)(xe=>this.handler.handle(xe)));if(v instanceof ce||"events"===B.observe)return he;const pe=he.pipe((0,ta.h)(xe=>xe instanceof gr));switch(B.observe||"body"){case"body":switch(Q.responseType){case"arraybuffer":return pe.pipe((0,na.U)(xe=>{if(null!==xe.body&&!(xe.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return xe.body}));case"blob":return pe.pipe((0,na.U)(xe=>{if(null!==xe.body&&!(xe.body instanceof Blob))throw new Error("Response is not a Blob.");return xe.body}));case"text":return pe.pipe((0,na.U)(xe=>{if(null!==xe.body&&"string"!=typeof xe.body)throw new Error("Response is not a string.");return xe.body}));default:return pe.pipe((0,na.U)(xe=>xe.body))}case"response":return pe;default:throw new Error(`Unreachable: unhandled observe type ${B.observe}}`)}}delete(v,A={}){return this.request("DELETE",v,A)}get(v,A={}){return this.request("GET",v,A)}head(v,A={}){return this.request("HEAD",v,A)}jsonp(v,A){return this.request("JSONP",v,{params:(new Ws).append(A,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(v,A={}){return this.request("OPTIONS",v,A)}patch(v,A,B={}){return this.request("PATCH",v,hr(B,A))}post(v,A,B={}){return this.request("POST",v,hr(B,A))}put(v,A,B={}){return this.request("PUT",v,hr(B,A))}}return N.\u0275fac=function(v){return new(v||N)(q.LFG(No))},N.\u0275prov=q.Yz7({token:N,factory:N.\u0275fac}),N})();function ti(N,g){return g(N)}function rr(N,g){return(v,A)=>g.intercept(v,{handle:B=>N(B,A)})}const Ks=new q.OlP("HTTP_INTERCEPTORS"),ki=new q.OlP("HTTP_INTERCEPTOR_FNS");function qs(){let N=null;return(g,v)=>(null===N&&(N=((0,q.f3M)(Ks,{optional:!0})??[]).reduceRight(rr,ti)),N(g,v))}let ui=(()=>{class N extends No{constructor(v,A){super(),this.backend=v,this.injector=A,this.chain=null}handle(v){if(null===this.chain){const A=Array.from(new Set(this.injector.get(ki)));this.chain=A.reduceRight((B,Q)=>function Si(N,g,v){return(A,B)=>v.runInContext(()=>g(A,Q=>N(Q,B)))}(B,Q,this.injector),ti)}return this.chain(v,A=>this.backend.handle(A))}}return N.\u0275fac=function(v){return new(v||N)(q.LFG(_o),q.LFG(q.lqb))},N.\u0275prov=q.Yz7({token:N,factory:N.\u0275fac}),N})();const za=/^\)\]\}',?\n/;let Ga=(()=>{class N{constructor(v){this.xhrFactory=v}handle(v){if("JSONP"===v.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new va.y(A=>{const B=this.xhrFactory.build();if(B.open(v.method,v.urlWithParams),v.withCredentials&&(B.withCredentials=!0),v.headers.forEach((yn,Ft)=>B.setRequestHeader(yn,Ft.join(","))),v.headers.has("Accept")||B.setRequestHeader("Accept","application/json, text/plain, */*"),!v.headers.has("Content-Type")){const yn=v.detectContentTypeHeader();null!==yn&&B.setRequestHeader("Content-Type",yn)}if(v.responseType){const yn=v.responseType.toLowerCase();B.responseType="json"!==yn?yn:"text"}const Q=v.serializeBody();let he=null;const pe=()=>{if(null!==he)return he;const yn=B.statusText||"OK",Ft=new br(B.getAllResponseHeaders()),Cn=function Lo(N){return"responseURL"in N&&N.responseURL?N.responseURL:/^X-Request-URL:/m.test(N.getAllResponseHeaders())?N.getResponseHeader("X-Request-URL"):null}(B)||v.url;return he=new un({headers:Ft,status:B.status,statusText:yn,url:Cn}),he},xe=()=>{let{headers:yn,status:Ft,statusText:Cn,url:ar}=pe(),Xn=null;204!==Ft&&(Xn=typeof B.response>"u"?B.responseText:B.response),0===Ft&&(Ft=Xn?200:0);let ir=Ft>=200&&Ft<300;if("json"===v.responseType&&"string"==typeof Xn){const Jr=Xn;Xn=Xn.replace(za,"");try{Xn=""!==Xn?JSON.parse(Xn):null}catch(lr){Xn=Jr,ir&&(ir=!1,Xn={error:lr,text:Xn})}}ir?(A.next(new gr({body:Xn,headers:yn,status:Ft,statusText:Cn,url:ar||void 0})),A.complete()):A.error(new dr({error:Xn,headers:yn,status:Ft,statusText:Cn,url:ar||void 0}))},at=yn=>{const{url:Ft}=pe(),Cn=new dr({error:yn,status:B.status||0,statusText:B.statusText||"Unknown Error",url:Ft||void 0});A.error(Cn)};let Wt=!1;const Gt=yn=>{Wt||(A.next(pe()),Wt=!0);let Ft={type:$e.DownloadProgress,loaded:yn.loaded};yn.lengthComputable&&(Ft.total=yn.total),"text"===v.responseType&&B.responseText&&(Ft.partialText=B.responseText),A.next(Ft)},Un=yn=>{let Ft={type:$e.UploadProgress,loaded:yn.loaded};yn.lengthComputable&&(Ft.total=yn.total),A.next(Ft)};return B.addEventListener("load",xe),B.addEventListener("error",at),B.addEventListener("timeout",at),B.addEventListener("abort",at),v.reportProgress&&(B.addEventListener("progress",Gt),null!==Q&&B.upload&&B.upload.addEventListener("progress",Un)),B.send(Q),A.next({type:$e.Sent}),()=>{B.removeEventListener("error",at),B.removeEventListener("abort",at),B.removeEventListener("load",xe),B.removeEventListener("timeout",at),v.reportProgress&&(B.removeEventListener("progress",Gt),null!==Q&&B.upload&&B.upload.removeEventListener("progress",Un)),B.readyState!==B.DONE&&B.abort()}})}}return N.\u0275fac=function(v){return new(v||N)(q.LFG(io.JF))},N.\u0275prov=q.Yz7({token:N,factory:N.\u0275fac}),N})();const li=new q.OlP("XSRF_ENABLED"),Uo=new q.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),la=new q.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class uu{}let Wa=(()=>{class N{constructor(v,A,B){this.doc=v,this.platform=A,this.cookieName=B,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const v=this.doc.cookie||"";return v!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,io.Mx)(v,this.cookieName),this.lastCookieString=v),this.lastToken}}return N.\u0275fac=function(v){return new(v||N)(q.LFG(io.K0),q.LFG(q.Lbi),q.LFG(Uo))},N.\u0275prov=q.Yz7({token:N,factory:N.\u0275fac}),N})();function _i(N,g){const v=N.url.toLowerCase();if(!(0,q.f3M)(li)||"GET"===N.method||"HEAD"===N.method||v.startsWith("http://")||v.startsWith("https://"))return g(N);const A=(0,q.f3M)(uu).getToken(),B=(0,q.f3M)(la);return null!=A&&!N.headers.has(B)&&(N=N.clone({headers:N.headers.set(B,A)})),g(N)}var Dn=(()=>((Dn=Dn||{})[Dn.Interceptors=0]="Interceptors",Dn[Dn.LegacyInterceptors=1]="LegacyInterceptors",Dn[Dn.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Dn[Dn.NoXsrfProtection=3]="NoXsrfProtection",Dn[Dn.JsonpSupport=4]="JsonpSupport",Dn[Dn.RequestsMadeViaParent=5]="RequestsMadeViaParent",Dn))();function ca(N,g){return{\u0275kind:N,\u0275providers:g}}function Is(...N){const g=[jn,Ga,ui,{provide:No,useExisting:ui},{provide:_o,useExisting:Ga},{provide:ki,useValue:_i,multi:!0},{provide:li,useValue:!0},{provide:uu,useClass:Wa}];for(const v of N)g.push(...v.\u0275providers);return(0,q.MR2)(g)}const es=new q.OlP("LEGACY_INTERCEPTOR_FN");let Fi=(()=>{class N{}return N.\u0275fac=function(v){return new(v||N)},N.\u0275mod=q.oAB({type:N}),N.\u0275inj=q.cJS({providers:[Is(ca(Dn.LegacyInterceptors,[{provide:es,useFactory:qs},{provide:ki,useExisting:es,multi:!0}]))]}),N})();var Du=j(2018);let oo=(()=>{class N{}return N.\u0275fac=function(v){return new(v||N)},N.\u0275mod=q.oAB({type:N,bootstrap:[Ge]}),N.\u0275inj=q.cJS({imports:[Fi,y.b2,de,(0,Ns.hX)(()=>(0,Ns.ZF)(Ze_firebase)),(0,xo.Cm)(()=>(0,xo.ad)()),ea.ww,Ma.hO.initializeApp(Ze_firebase),xo.Um,gt.u5,io.ez,gt.UX,Vu,Du.Rh.forRoot()]}),N})();y.q6().bootstrapModule(oo).catch(N=>console.error(N))},9751:(jt,je,j)=>{j.d(je,{y:()=>Ae});var y=j(930),L=j(727),q=j(8822),ie=j(9635),Z=j(2416),we=j(576),Ce=j(2806);let Ae=(()=>{class de{constructor(Ze){Ze&&(this._subscribe=Ze)}lift(Ze){const gt=new de;return gt.source=this,gt.operator=Ze,gt}subscribe(Ze,gt,mt){const We=function oe(de){return de&&de instanceof y.Lv||function se(de){return de&&(0,we.m)(de.next)&&(0,we.m)(de.error)&&(0,we.m)(de.complete)}(de)&&(0,L.Nn)(de)}(Ze)?Ze:new y.Hp(Ze,gt,mt);return(0,Ce.x)(()=>{const{operator:rt,source:pt}=this;We.add(rt?rt.call(We,pt):pt?this._subscribe(We):this._trySubscribe(We))}),We}_trySubscribe(Ze){try{return this._subscribe(Ze)}catch(gt){Ze.error(gt)}}forEach(Ze,gt){return new(gt=ve(gt))((mt,We)=>{const rt=new y.Hp({next:pt=>{try{Ze(pt)}catch(Dt){We(Dt),rt.unsubscribe()}},error:We,complete:mt});this.subscribe(rt)})}_subscribe(Ze){var gt;return null===(gt=this.source)||void 0===gt?void 0:gt.subscribe(Ze)}[q.L](){return this}pipe(...Ze){return(0,ie.U)(Ze)(this)}toPromise(Ze){return new(Ze=ve(Ze))((gt,mt)=>{let We;this.subscribe(rt=>We=rt,rt=>mt(rt),()=>gt(We))})}}return de.create=Ge=>new de(Ge),de})();function ve(de){var Ge;return null!==(Ge=de??Z.v.Promise)&&void 0!==Ge?Ge:Promise}},7579:(jt,je,j)=>{j.d(je,{x:()=>Ce});var y=j(9751),L=j(727);const ie=(0,j(3888).d)(ve=>function(){ve(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Z=j(8737),we=j(2806);let Ce=(()=>{class ve extends y.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(oe){const de=new Ae(this,this);return de.operator=oe,de}_throwIfClosed(){if(this.closed)throw new ie}next(oe){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const de of this.currentObservers)de.next(oe)}})}error(oe){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=oe;const{observers:de}=this;for(;de.length;)de.shift().error(oe)}})}complete(){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:oe}=this;for(;oe.length;)oe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var oe;return(null===(oe=this.observers)||void 0===oe?void 0:oe.length)>0}_trySubscribe(oe){return this._throwIfClosed(),super._trySubscribe(oe)}_subscribe(oe){return this._throwIfClosed(),this._checkFinalizedStatuses(oe),this._innerSubscribe(oe)}_innerSubscribe(oe){const{hasError:de,isStopped:Ge,observers:Ze}=this;return de||Ge?L.Lc:(this.currentObservers=null,Ze.push(oe),new L.w0(()=>{this.currentObservers=null,(0,Z.P)(Ze,oe)}))}_checkFinalizedStatuses(oe){const{hasError:de,thrownError:Ge,isStopped:Ze}=this;de?oe.error(Ge):Ze&&oe.complete()}asObservable(){const oe=new y.y;return oe.source=this,oe}}return ve.create=(se,oe)=>new Ae(se,oe),ve})();class Ae extends Ce{constructor(se,oe){super(),this.destination=se,this.source=oe}next(se){var oe,de;null===(de=null===(oe=this.destination)||void 0===oe?void 0:oe.next)||void 0===de||de.call(oe,se)}error(se){var oe,de;null===(de=null===(oe=this.destination)||void 0===oe?void 0:oe.error)||void 0===de||de.call(oe,se)}complete(){var se,oe;null===(oe=null===(se=this.destination)||void 0===se?void 0:se.complete)||void 0===oe||oe.call(se)}_subscribe(se){var oe,de;return null!==(de=null===(oe=this.source)||void 0===oe?void 0:oe.subscribe(se))&&void 0!==de?de:L.Lc}}},930:(jt,je,j)=>{j.d(je,{Hp:()=>mt,Lv:()=>de});var y=j(576),L=j(727),q=j(2416),ie=j(7849),Z=j(5032);const we=ve("C",void 0,void 0);function ve(Le,_e,nt){return{kind:Le,value:_e,error:nt}}var se=j(3410),oe=j(2806);class de extends L.w0{constructor(_e){super(),this.isStopped=!1,_e?(this.destination=_e,(0,L.Nn)(_e)&&_e.add(this)):this.destination=Dt}static create(_e,nt,It){return new mt(_e,nt,It)}next(_e){this.isStopped?pt(function Ae(Le){return ve("N",Le,void 0)}(_e),this):this._next(_e)}error(_e){this.isStopped?pt(function Ce(Le){return ve("E",void 0,Le)}(_e),this):(this.isStopped=!0,this._error(_e))}complete(){this.isStopped?pt(we,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(_e){this.destination.next(_e)}_error(_e){try{this.destination.error(_e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ge=Function.prototype.bind;function Ze(Le,_e){return Ge.call(Le,_e)}class gt{constructor(_e){this.partialObserver=_e}next(_e){const{partialObserver:nt}=this;if(nt.next)try{nt.next(_e)}catch(It){We(It)}}error(_e){const{partialObserver:nt}=this;if(nt.error)try{nt.error(_e)}catch(It){We(It)}else We(_e)}complete(){const{partialObserver:_e}=this;if(_e.complete)try{_e.complete()}catch(nt){We(nt)}}}class mt extends de{constructor(_e,nt,It){let ht;if(super(),(0,y.m)(_e)||!_e)ht={next:_e??void 0,error:nt??void 0,complete:It??void 0};else{let Ue;this&&q.v.useDeprecatedNextContext?(Ue=Object.create(_e),Ue.unsubscribe=()=>this.unsubscribe(),ht={next:_e.next&&Ze(_e.next,Ue),error:_e.error&&Ze(_e.error,Ue),complete:_e.complete&&Ze(_e.complete,Ue)}):ht=_e}this.destination=new gt(ht)}}function We(Le){q.v.useDeprecatedSynchronousErrorHandling?(0,oe.O)(Le):(0,ie.h)(Le)}function pt(Le,_e){const{onStoppedNotification:nt}=q.v;nt&&se.z.setTimeout(()=>nt(Le,_e))}const Dt={closed:!0,next:Z.Z,error:function rt(Le){throw Le},complete:Z.Z}},727:(jt,je,j)=>{j.d(je,{Lc:()=>we,w0:()=>Z,Nn:()=>Ce});var y=j(576);const q=(0,j(3888).d)(ve=>function(oe){ve(this),this.message=oe?`${oe.length} errors occurred during unsubscription:\n${oe.map((de,Ge)=>`${Ge+1}) ${de.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=oe});var ie=j(8737);class Z{constructor(se){this.initialTeardown=se,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let se;if(!this.closed){this.closed=!0;const{_parentage:oe}=this;if(oe)if(this._parentage=null,Array.isArray(oe))for(const Ze of oe)Ze.remove(this);else oe.remove(this);const{initialTeardown:de}=this;if((0,y.m)(de))try{de()}catch(Ze){se=Ze instanceof q?Ze.errors:[Ze]}const{_finalizers:Ge}=this;if(Ge){this._finalizers=null;for(const Ze of Ge)try{Ae(Ze)}catch(gt){se=se??[],gt instanceof q?se=[...se,...gt.errors]:se.push(gt)}}if(se)throw new q(se)}}add(se){var oe;if(se&&se!==this)if(this.closed)Ae(se);else{if(se instanceof Z){if(se.closed||se._hasParent(this))return;se._addParent(this)}(this._finalizers=null!==(oe=this._finalizers)&&void 0!==oe?oe:[]).push(se)}}_hasParent(se){const{_parentage:oe}=this;return oe===se||Array.isArray(oe)&&oe.includes(se)}_addParent(se){const{_parentage:oe}=this;this._parentage=Array.isArray(oe)?(oe.push(se),oe):oe?[oe,se]:se}_removeParent(se){const{_parentage:oe}=this;oe===se?this._parentage=null:Array.isArray(oe)&&(0,ie.P)(oe,se)}remove(se){const{_finalizers:oe}=this;oe&&(0,ie.P)(oe,se),se instanceof Z&&se._removeParent(this)}}Z.EMPTY=(()=>{const ve=new Z;return ve.closed=!0,ve})();const we=Z.EMPTY;function Ce(ve){return ve instanceof Z||ve&&"closed"in ve&&(0,y.m)(ve.remove)&&(0,y.m)(ve.add)&&(0,y.m)(ve.unsubscribe)}function Ae(ve){(0,y.m)(ve)?ve():ve.unsubscribe()}},2416:(jt,je,j)=>{j.d(je,{v:()=>y});const y={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(jt,je,j)=>{j.d(je,{z:()=>Z});var y=j(8189),q=j(7669),ie=j(8996);function Z(...we){return function L(){return(0,y.J)(1)}()((0,ie.D)(we,(0,q.yG)(we)))}},9770:(jt,je,j)=>{j.d(je,{P:()=>q});var y=j(9751),L=j(8421);function q(ie){return new y.y(Z=>{(0,L.Xf)(ie()).subscribe(Z)})}},515:(jt,je,j)=>{j.d(je,{E:()=>L});const L=new(j(9751).y)(Z=>Z.complete())},4128:(jt,je,j)=>{j.d(je,{D:()=>Ae});var y=j(9751),L=j(4742),q=j(8421),ie=j(7669),Z=j(5403),we=j(3268),Ce=j(1810);function Ae(...ve){const se=(0,ie.jO)(ve),{args:oe,keys:de}=(0,L.D)(ve),Ge=new y.y(Ze=>{const{length:gt}=oe;if(!gt)return void Ze.complete();const mt=new Array(gt);let We=gt,rt=gt;for(let pt=0;pt<gt;pt++){let Dt=!1;(0,q.Xf)(oe[pt]).subscribe((0,Z.x)(Ze,Le=>{Dt||(Dt=!0,rt--),mt[pt]=Le},()=>We--,void 0,()=>{(!We||!Dt)&&(rt||Ze.next(de?(0,Ce.n)(de,mt):mt),Ze.complete())}))}});return se?Ge.pipe((0,we.Z)(se)):Ge}},8996:(jt,je,j)=>{j.d(je,{D:()=>_e});var y=j(8421),L=j(5363),q=j(9468),we=j(9751),Ae=j(2202),ve=j(576),se=j(9672);function de(nt,It){if(!nt)throw new Error("Iterable cannot be null");return new we.y(ht=>{(0,se.f)(ht,It,()=>{const Ue=nt[Symbol.asyncIterator]();(0,se.f)(ht,It,()=>{Ue.next().then(xt=>{xt.done?ht.complete():ht.next(xt.value)})},0,!0)})})}var Ge=j(3670),Ze=j(8239),gt=j(1144),mt=j(6495),We=j(2206),rt=j(4532),pt=j(3260);function _e(nt,It){return It?function Le(nt,It){if(null!=nt){if((0,Ge.c)(nt))return function ie(nt,It){return(0,y.Xf)(nt).pipe((0,q.R)(It),(0,L.Q)(It))}(nt,It);if((0,gt.z)(nt))return function Ce(nt,It){return new we.y(ht=>{let Ue=0;return It.schedule(function(){Ue===nt.length?ht.complete():(ht.next(nt[Ue++]),ht.closed||this.schedule())})})}(nt,It);if((0,Ze.t)(nt))return function Z(nt,It){return(0,y.Xf)(nt).pipe((0,q.R)(It),(0,L.Q)(It))}(nt,It);if((0,We.D)(nt))return de(nt,It);if((0,mt.T)(nt))return function oe(nt,It){return new we.y(ht=>{let Ue;return(0,se.f)(ht,It,()=>{Ue=nt[Ae.h](),(0,se.f)(ht,It,()=>{let xt,nn;try{({value:xt,done:nn}=Ue.next())}catch(bt){return void ht.error(bt)}nn?ht.complete():ht.next(xt)},0,!0)}),()=>(0,ve.m)(Ue?.return)&&Ue.return()})}(nt,It);if((0,pt.L)(nt))return function Dt(nt,It){return de((0,pt.Q)(nt),It)}(nt,It)}throw(0,rt.z)(nt)}(nt,It):(0,y.Xf)(nt)}},8421:(jt,je,j)=>{j.d(je,{Xf:()=>Ge});var y=j(655),L=j(1144),q=j(8239),ie=j(9751),Z=j(3670),we=j(2206),Ce=j(4532),Ae=j(6495),ve=j(3260),se=j(576),oe=j(7849),de=j(8822);function Ge(Le){if(Le instanceof ie.y)return Le;if(null!=Le){if((0,Z.c)(Le))return function Ze(Le){return new ie.y(_e=>{const nt=Le[de.L]();if((0,se.m)(nt.subscribe))return nt.subscribe(_e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Le);if((0,L.z)(Le))return function gt(Le){return new ie.y(_e=>{for(let nt=0;nt<Le.length&&!_e.closed;nt++)_e.next(Le[nt]);_e.complete()})}(Le);if((0,q.t)(Le))return function mt(Le){return new ie.y(_e=>{Le.then(nt=>{_e.closed||(_e.next(nt),_e.complete())},nt=>_e.error(nt)).then(null,oe.h)})}(Le);if((0,we.D)(Le))return rt(Le);if((0,Ae.T)(Le))return function We(Le){return new ie.y(_e=>{for(const nt of Le)if(_e.next(nt),_e.closed)return;_e.complete()})}(Le);if((0,ve.L)(Le))return function pt(Le){return rt((0,ve.Q)(Le))}(Le)}throw(0,Ce.z)(Le)}function rt(Le){return new ie.y(_e=>{(function Dt(Le,_e){var nt,It,ht,Ue;return(0,y.mG)(this,void 0,void 0,function*(){try{for(nt=(0,y.KL)(Le);!(It=yield nt.next()).done;)if(_e.next(It.value),_e.closed)return}catch(xt){ht={error:xt}}finally{try{It&&!It.done&&(Ue=nt.return)&&(yield Ue.call(nt))}finally{if(ht)throw ht.error}}_e.complete()})})(Le,_e).catch(nt=>_e.error(nt))})}},6451:(jt,je,j)=>{j.d(je,{T:()=>we});var y=j(8189),L=j(8421),q=j(515),ie=j(7669),Z=j(8996);function we(...Ce){const Ae=(0,ie.yG)(Ce),ve=(0,ie._6)(Ce,1/0),se=Ce;return se.length?1===se.length?(0,L.Xf)(se[0]):(0,y.J)(ve)((0,Z.D)(se,Ae)):q.E}},9646:(jt,je,j)=>{j.d(je,{of:()=>q});var y=j(7669),L=j(8996);function q(...ie){const Z=(0,y.yG)(ie);return(0,L.D)(ie,Z)}},5403:(jt,je,j)=>{j.d(je,{x:()=>L});var y=j(930);function L(ie,Z,we,Ce,Ae){return new q(ie,Z,we,Ce,Ae)}class q extends y.Lv{constructor(Z,we,Ce,Ae,ve,se){super(Z),this.onFinalize=ve,this.shouldUnsubscribe=se,this._next=we?function(oe){try{we(oe)}catch(de){Z.error(de)}}:super._next,this._error=Ae?function(oe){try{Ae(oe)}catch(de){Z.error(de)}finally{this.unsubscribe()}}:super._error,this._complete=Ce?function(){try{Ce()}catch(oe){Z.error(oe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Z;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:we}=this;super.unsubscribe(),!we&&(null===(Z=this.onFinalize)||void 0===Z||Z.call(this))}}}},4351:(jt,je,j)=>{j.d(je,{b:()=>q});var y=j(5577),L=j(576);function q(ie,Z){return(0,L.m)(Z)?(0,y.z)(ie,Z,1):(0,y.z)(ie,1)}},6590:(jt,je,j)=>{j.d(je,{d:()=>q});var y=j(4482),L=j(5403);function q(ie){return(0,y.e)((Z,we)=>{let Ce=!1;Z.subscribe((0,L.x)(we,Ae=>{Ce=!0,we.next(Ae)},()=>{Ce||we.next(ie),we.complete()}))})}},9300:(jt,je,j)=>{j.d(je,{h:()=>q});var y=j(4482),L=j(5403);function q(ie,Z){return(0,y.e)((we,Ce)=>{let Ae=0;we.subscribe((0,L.x)(Ce,ve=>ie.call(Z,ve,Ae++)&&Ce.next(ve)))})}},590:(jt,je,j)=>{j.d(je,{P:()=>Ce});var y=j(6805),L=j(9300),q=j(5698),ie=j(6590),Z=j(8068),we=j(4671);function Ce(Ae,ve){const se=arguments.length>=2;return oe=>oe.pipe(Ae?(0,L.h)((de,Ge)=>Ae(de,Ge,oe)):we.y,(0,q.q)(1),se?(0,ie.d)(ve):(0,Z.T)(()=>new y.K))}},4004:(jt,je,j)=>{j.d(je,{U:()=>q});var y=j(4482),L=j(5403);function q(ie,Z){return(0,y.e)((we,Ce)=>{let Ae=0;we.subscribe((0,L.x)(Ce,ve=>{Ce.next(ie.call(Z,ve,Ae++))}))})}},8189:(jt,je,j)=>{j.d(je,{J:()=>q});var y=j(5577),L=j(4671);function q(ie=1/0){return(0,y.z)(L.y,ie)}},5577:(jt,je,j)=>{j.d(je,{z:()=>Ae});var y=j(4004),L=j(8421),q=j(4482),ie=j(9672),Z=j(5403),Ce=j(576);function Ae(ve,se,oe=1/0){return(0,Ce.m)(se)?Ae((de,Ge)=>(0,y.U)((Ze,gt)=>se(de,Ze,Ge,gt))((0,L.Xf)(ve(de,Ge))),oe):("number"==typeof se&&(oe=se),(0,q.e)((de,Ge)=>function we(ve,se,oe,de,Ge,Ze,gt,mt){const We=[];let rt=0,pt=0,Dt=!1;const Le=()=>{Dt&&!We.length&&!rt&&se.complete()},_e=It=>rt<de?nt(It):We.push(It),nt=It=>{Ze&&se.next(It),rt++;let ht=!1;(0,L.Xf)(oe(It,pt++)).subscribe((0,Z.x)(se,Ue=>{Ge?.(Ue),Ze?_e(Ue):se.next(Ue)},()=>{ht=!0},void 0,()=>{if(ht)try{for(rt--;We.length&&rt<de;){const Ue=We.shift();gt?(0,ie.f)(se,gt,()=>nt(Ue)):nt(Ue)}Le()}catch(Ue){se.error(Ue)}}))};return ve.subscribe((0,Z.x)(se,_e,()=>{Dt=!0,Le()})),()=>{mt?.()}}(de,Ge,ve,oe)))}},5363:(jt,je,j)=>{j.d(je,{Q:()=>ie});var y=j(9672),L=j(4482),q=j(5403);function ie(Z,we=0){return(0,L.e)((Ce,Ae)=>{Ce.subscribe((0,q.x)(Ae,ve=>(0,y.f)(Ae,Z,()=>Ae.next(ve),we),()=>(0,y.f)(Ae,Z,()=>Ae.complete(),we),ve=>(0,y.f)(Ae,Z,()=>Ae.error(ve),we)))})}},3099:(jt,je,j)=>{j.d(je,{B:()=>Z});var y=j(8421),L=j(7579),q=j(930),ie=j(4482);function Z(Ce={}){const{connector:Ae=(()=>new L.x),resetOnError:ve=!0,resetOnComplete:se=!0,resetOnRefCountZero:oe=!0}=Ce;return de=>{let Ge,Ze,gt,mt=0,We=!1,rt=!1;const pt=()=>{Ze?.unsubscribe(),Ze=void 0},Dt=()=>{pt(),Ge=gt=void 0,We=rt=!1},Le=()=>{const _e=Ge;Dt(),_e?.unsubscribe()};return(0,ie.e)((_e,nt)=>{mt++,!rt&&!We&&pt();const It=gt=gt??Ae();nt.add(()=>{mt--,0===mt&&!rt&&!We&&(Ze=we(Le,oe))}),It.subscribe(nt),!Ge&&mt>0&&(Ge=new q.Hp({next:ht=>It.next(ht),error:ht=>{rt=!0,pt(),Ze=we(Dt,ve,ht),It.error(ht)},complete:()=>{We=!0,pt(),Ze=we(Dt,se),It.complete()}}),(0,y.Xf)(_e).subscribe(Ge))})(de)}}function we(Ce,Ae,...ve){if(!0===Ae)return void Ce();if(!1===Ae)return;const se=new q.Hp({next:()=>{se.unsubscribe(),Ce()}});return(0,y.Xf)(Ae(...ve)).subscribe(se)}},9468:(jt,je,j)=>{j.d(je,{R:()=>L});var y=j(4482);function L(q,ie=0){return(0,y.e)((Z,we)=>{we.add(q.schedule(()=>Z.subscribe(we),ie))})}},3900:(jt,je,j)=>{j.d(je,{w:()=>ie});var y=j(8421),L=j(4482),q=j(5403);function ie(Z,we){return(0,L.e)((Ce,Ae)=>{let ve=null,se=0,oe=!1;const de=()=>oe&&!ve&&Ae.complete();Ce.subscribe((0,q.x)(Ae,Ge=>{ve?.unsubscribe();let Ze=0;const gt=se++;(0,y.Xf)(Z(Ge,gt)).subscribe(ve=(0,q.x)(Ae,mt=>Ae.next(we?we(Ge,mt,gt,Ze++):mt),()=>{ve=null,de()}))},()=>{oe=!0,de()}))})}},5698:(jt,je,j)=>{j.d(je,{q:()=>ie});var y=j(515),L=j(4482),q=j(5403);function ie(Z){return Z<=0?()=>y.E:(0,L.e)((we,Ce)=>{let Ae=0;we.subscribe((0,q.x)(Ce,ve=>{++Ae<=Z&&(Ce.next(ve),Z<=Ae&&Ce.complete())}))})}},8505:(jt,je,j)=>{j.d(je,{b:()=>Z});var y=j(576),L=j(4482),q=j(5403),ie=j(4671);function Z(we,Ce,Ae){const ve=(0,y.m)(we)||Ce||Ae?{next:we,error:Ce,complete:Ae}:we;return ve?(0,L.e)((se,oe)=>{var de;null===(de=ve.subscribe)||void 0===de||de.call(ve);let Ge=!0;se.subscribe((0,q.x)(oe,Ze=>{var gt;null===(gt=ve.next)||void 0===gt||gt.call(ve,Ze),oe.next(Ze)},()=>{var Ze;Ge=!1,null===(Ze=ve.complete)||void 0===Ze||Ze.call(ve),oe.complete()},Ze=>{var gt;Ge=!1,null===(gt=ve.error)||void 0===gt||gt.call(ve,Ze),oe.error(Ze)},()=>{var Ze,gt;Ge&&(null===(Ze=ve.unsubscribe)||void 0===Ze||Ze.call(ve)),null===(gt=ve.finalize)||void 0===gt||gt.call(ve)}))}):ie.y}},8068:(jt,je,j)=>{j.d(je,{T:()=>ie});var y=j(6805),L=j(4482),q=j(5403);function ie(we=Z){return(0,L.e)((Ce,Ae)=>{let ve=!1;Ce.subscribe((0,q.x)(Ae,se=>{ve=!0,Ae.next(se)},()=>ve?Ae.complete():Ae.error(we())))})}function Z(){return new y.K}},4408:(jt,je,j)=>{j.d(je,{o:()=>Z});var y=j(727);class L extends y.w0{constructor(Ce,Ae){super()}schedule(Ce,Ae=0){return this}}const q={setInterval(we,Ce,...Ae){const{delegate:ve}=q;return ve?.setInterval?ve.setInterval(we,Ce,...Ae):setInterval(we,Ce,...Ae)},clearInterval(we){const{delegate:Ce}=q;return(Ce?.clearInterval||clearInterval)(we)},delegate:void 0};var ie=j(8737);class Z extends L{constructor(Ce,Ae){super(Ce,Ae),this.scheduler=Ce,this.work=Ae,this.pending=!1}schedule(Ce,Ae=0){var ve;if(this.closed)return this;this.state=Ce;const se=this.id,oe=this.scheduler;return null!=se&&(this.id=this.recycleAsyncId(oe,se,Ae)),this.pending=!0,this.delay=Ae,this.id=null!==(ve=this.id)&&void 0!==ve?ve:this.requestAsyncId(oe,this.id,Ae),this}requestAsyncId(Ce,Ae,ve=0){return q.setInterval(Ce.flush.bind(Ce,this),ve)}recycleAsyncId(Ce,Ae,ve=0){if(null!=ve&&this.delay===ve&&!1===this.pending)return Ae;null!=Ae&&q.clearInterval(Ae)}execute(Ce,Ae){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ve=this._execute(Ce,Ae);if(ve)return ve;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ce,Ae){let se,ve=!1;try{this.work(Ce)}catch(oe){ve=!0,se=oe||new Error("Scheduled action threw falsy error")}if(ve)return this.unsubscribe(),se}unsubscribe(){if(!this.closed){const{id:Ce,scheduler:Ae}=this,{actions:ve}=Ae;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ie.P)(ve,this),null!=Ce&&(this.id=this.recycleAsyncId(Ae,Ce,null)),this.delay=null,super.unsubscribe()}}}},7565:(jt,je,j)=>{j.d(je,{v:()=>q});var y=j(6063);class L{constructor(Z,we=L.now){this.schedulerActionCtor=Z,this.now=we}schedule(Z,we=0,Ce){return new this.schedulerActionCtor(this,Z).schedule(Ce,we)}}L.now=y.l.now;class q extends L{constructor(Z,we=L.now){super(Z,we),this.actions=[],this._active=!1}flush(Z){const{actions:we}=this;if(this._active)return void we.push(Z);let Ce;this._active=!0;do{if(Ce=Z.execute(Z.state,Z.delay))break}while(Z=we.shift());if(this._active=!1,Ce){for(;Z=we.shift();)Z.unsubscribe();throw Ce}}}},4986:(jt,je,j)=>{j.d(je,{z:()=>q});var y=j(4408);const q=new(j(7565).v)(y.o)},6063:(jt,je,j)=>{j.d(je,{l:()=>y});const y={now:()=>(y.delegate||Date).now(),delegate:void 0}},3410:(jt,je,j)=>{j.d(je,{z:()=>y});const y={setTimeout(L,q,...ie){const{delegate:Z}=y;return Z?.setTimeout?Z.setTimeout(L,q,...ie):setTimeout(L,q,...ie)},clearTimeout(L){const{delegate:q}=y;return(q?.clearTimeout||clearTimeout)(L)},delegate:void 0}},2202:(jt,je,j)=>{j.d(je,{h:()=>L});const L=function y(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(jt,je,j)=>{j.d(je,{L:()=>y});const y="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(jt,je,j)=>{j.d(je,{K:()=>L});const L=(0,j(3888).d)(q=>function(){q(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(jt,je,j)=>{j.d(je,{_6:()=>we,jO:()=>ie,yG:()=>Z});var y=j(576);function q(Ce){return Ce[Ce.length-1]}function ie(Ce){return(0,y.m)(q(Ce))?Ce.pop():void 0}function Z(Ce){return function L(Ce){return Ce&&(0,y.m)(Ce.schedule)}(q(Ce))?Ce.pop():void 0}function we(Ce,Ae){return"number"==typeof q(Ce)?Ce.pop():Ae}},4742:(jt,je,j)=>{j.d(je,{D:()=>Z});const{isArray:y}=Array,{getPrototypeOf:L,prototype:q,keys:ie}=Object;function Z(Ce){if(1===Ce.length){const Ae=Ce[0];if(y(Ae))return{args:Ae,keys:null};if(function we(Ce){return Ce&&"object"==typeof Ce&&L(Ce)===q}(Ae)){const ve=ie(Ae);return{args:ve.map(se=>Ae[se]),keys:ve}}}return{args:Ce,keys:null}}},8737:(jt,je,j)=>{function y(L,q){if(L){const ie=L.indexOf(q);0<=ie&&L.splice(ie,1)}}j.d(je,{P:()=>y})},3888:(jt,je,j)=>{function y(L){const ie=L(Z=>{Error.call(Z),Z.stack=(new Error).stack});return ie.prototype=Object.create(Error.prototype),ie.prototype.constructor=ie,ie}j.d(je,{d:()=>y})},1810:(jt,je,j)=>{function y(L,q){return L.reduce((ie,Z,we)=>(ie[Z]=q[we],ie),{})}j.d(je,{n:()=>y})},2806:(jt,je,j)=>{j.d(je,{O:()=>ie,x:()=>q});var y=j(2416);let L=null;function q(Z){if(y.v.useDeprecatedSynchronousErrorHandling){const we=!L;if(we&&(L={errorThrown:!1,error:null}),Z(),we){const{errorThrown:Ce,error:Ae}=L;if(L=null,Ce)throw Ae}}else Z()}function ie(Z){y.v.useDeprecatedSynchronousErrorHandling&&L&&(L.errorThrown=!0,L.error=Z)}},9672:(jt,je,j)=>{function y(L,q,ie,Z=0,we=!1){const Ce=q.schedule(function(){ie(),we?L.add(this.schedule(null,Z)):this.unsubscribe()},Z);if(L.add(Ce),!we)return Ce}j.d(je,{f:()=>y})},4671:(jt,je,j)=>{function y(L){return L}j.d(je,{y:()=>y})},1144:(jt,je,j)=>{j.d(je,{z:()=>y});const y=L=>L&&"number"==typeof L.length&&"function"!=typeof L},2206:(jt,je,j)=>{j.d(je,{D:()=>L});var y=j(576);function L(q){return Symbol.asyncIterator&&(0,y.m)(q?.[Symbol.asyncIterator])}},576:(jt,je,j)=>{function y(L){return"function"==typeof L}j.d(je,{m:()=>y})},3670:(jt,je,j)=>{j.d(je,{c:()=>q});var y=j(8822),L=j(576);function q(ie){return(0,L.m)(ie[y.L])}},6495:(jt,je,j)=>{j.d(je,{T:()=>q});var y=j(2202),L=j(576);function q(ie){return(0,L.m)(ie?.[y.h])}},8239:(jt,je,j)=>{j.d(je,{t:()=>L});var y=j(576);function L(q){return(0,y.m)(q?.then)}},3260:(jt,je,j)=>{j.d(je,{L:()=>ie,Q:()=>q});var y=j(655),L=j(576);function q(Z){return(0,y.FC)(this,arguments,function*(){const Ce=Z.getReader();try{for(;;){const{value:Ae,done:ve}=yield(0,y.qq)(Ce.read());if(ve)return yield(0,y.qq)(void 0);yield yield(0,y.qq)(Ae)}}finally{Ce.releaseLock()}})}function ie(Z){return(0,L.m)(Z?.getReader)}},4482:(jt,je,j)=>{j.d(je,{A:()=>L,e:()=>q});var y=j(576);function L(ie){return(0,y.m)(ie?.lift)}function q(ie){return Z=>{if(L(Z))return Z.lift(function(we){try{return ie(we,this)}catch(Ce){this.error(Ce)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(jt,je,j)=>{j.d(je,{Z:()=>ie});var y=j(4004);const{isArray:L}=Array;function ie(Z){return(0,y.U)(we=>function q(Z,we){return L(we)?Z(...we):Z(we)}(Z,we))}},5032:(jt,je,j)=>{function y(){}j.d(je,{Z:()=>y})},9635:(jt,je,j)=>{j.d(je,{U:()=>q,z:()=>L});var y=j(4671);function L(...ie){return q(ie)}function q(ie){return 0===ie.length?y.y:1===ie.length?ie[0]:function(we){return ie.reduce((Ce,Ae)=>Ae(Ce),we)}}},7849:(jt,je,j)=>{j.d(je,{h:()=>q});var y=j(2416),L=j(3410);function q(ie){L.z.setTimeout(()=>{const{onUnhandledError:Z}=y.v;if(!Z)throw ie;Z(ie)})}},4532:(jt,je,j)=>{function y(L){return new TypeError(`You provided ${null!==L&&"object"==typeof L?"an invalid object":`'${L}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}j.d(je,{z:()=>y})},655:(jt,je,j)=>{function ie(Qe,ke){var Je={};for(var it in Qe)Object.prototype.hasOwnProperty.call(Qe,it)&&ke.indexOf(it)<0&&(Je[it]=Qe[it]);if(null!=Qe&&"function"==typeof Object.getOwnPropertySymbols){var ft=0;for(it=Object.getOwnPropertySymbols(Qe);ft<it.length;ft++)ke.indexOf(it[ft])<0&&Object.prototype.propertyIsEnumerable.call(Qe,it[ft])&&(Je[it[ft]]=Qe[it[ft]])}return Je}function de(Qe,ke,Je,it){return new(Je||(Je=Promise))(function(_t,ct){function Nt(Ve){try{Bt(it.next(Ve))}catch(ut){ct(ut)}}function Gn(Ve){try{Bt(it.throw(Ve))}catch(ut){ct(ut)}}function Bt(Ve){Ve.done?_t(Ve.value):function ft(_t){return _t instanceof Je?_t:new Je(function(ct){ct(_t)})}(Ve.value).then(Nt,Gn)}Bt((it=it.apply(Qe,ke||[])).next())})}function Le(Qe){return this instanceof Le?(this.v=Qe,this):new Le(Qe)}function _e(Qe,ke,Je){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ft,it=Je.apply(Qe,ke||[]),_t=[];return ft={},ct("next"),ct("throw"),ct("return"),ft[Symbol.asyncIterator]=function(){return this},ft;function ct(Me){it[Me]&&(ft[Me]=function(He){return new Promise(function(qt,fn){_t.push([Me,He,qt,fn])>1||Nt(Me,He)})})}function Nt(Me,He){try{!function Gn(Me){Me.value instanceof Le?Promise.resolve(Me.value.v).then(Bt,Ve):ut(_t[0][2],Me)}(it[Me](He))}catch(qt){ut(_t[0][3],qt)}}function Bt(Me){Nt("next",Me)}function Ve(Me){Nt("throw",Me)}function ut(Me,He){Me(He),_t.shift(),_t.length&&Nt(_t[0][0],_t[0][1])}}function It(Qe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Je,ke=Qe[Symbol.asyncIterator];return ke?ke.call(Qe):(Qe=function mt(Qe){var ke="function"==typeof Symbol&&Symbol.iterator,Je=ke&&Qe[ke],it=0;if(Je)return Je.call(Qe);if(Qe&&"number"==typeof Qe.length)return{next:function(){return Qe&&it>=Qe.length&&(Qe=void 0),{value:Qe&&Qe[it++],done:!Qe}}};throw new TypeError(ke?"Object is not iterable.":"Symbol.iterator is not defined.")}(Qe),Je={},it("next"),it("throw"),it("return"),Je[Symbol.asyncIterator]=function(){return this},Je);function it(_t){Je[_t]=Qe[_t]&&function(ct){return new Promise(function(Nt,Gn){!function ft(_t,ct,Nt,Gn){Promise.resolve(Gn).then(function(Bt){_t({value:Bt,done:Nt})},ct)}(Nt,Gn,(ct=Qe[_t](ct)).done,ct.value)})}}}j.d(je,{FC:()=>_e,KL:()=>It,_T:()=>ie,mG:()=>de,qq:()=>Le})},7340:(jt,je,j)=>{j.d(je,{LC:()=>L,SB:()=>ve,X$:()=>ie,ZE:()=>pt,ZN:()=>rt,_j:()=>y,eR:()=>oe,jt:()=>Z,k1:()=>Dt,l3:()=>q,oB:()=>Ae,vP:()=>Ce});class y{}class L{}const q="*";function ie(Le,_e){return{type:7,name:Le,definitions:_e,options:{}}}function Z(Le,_e=null){return{type:4,styles:_e,timings:Le}}function Ce(Le,_e=null){return{type:2,steps:Le,options:_e}}function Ae(Le){return{type:6,styles:Le,offset:null}}function ve(Le,_e,nt){return{type:0,name:Le,styles:_e,options:nt}}function oe(Le,_e,nt=null){return{type:1,expr:Le,animation:_e,options:nt}}function We(Le){Promise.resolve().then(Le)}class rt{constructor(_e=0,nt=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=_e+nt}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(_e=>_e()),this._onDoneFns=[])}onStart(_e){this._originalOnStartFns.push(_e),this._onStartFns.push(_e)}onDone(_e){this._originalOnDoneFns.push(_e),this._onDoneFns.push(_e)}onDestroy(_e){this._onDestroyFns.push(_e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){We(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(_e=>_e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(_e=>_e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(_e){this._position=this.totalTime?_e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(_e){const nt="start"==_e?this._onStartFns:this._onDoneFns;nt.forEach(It=>It()),nt.length=0}}class pt{constructor(_e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=_e;let nt=0,It=0,ht=0;const Ue=this.players.length;0==Ue?We(()=>this._onFinish()):this.players.forEach(xt=>{xt.onDone(()=>{++nt==Ue&&this._onFinish()}),xt.onDestroy(()=>{++It==Ue&&this._onDestroy()}),xt.onStart(()=>{++ht==Ue&&this._onStart()})}),this.totalTime=this.players.reduce((xt,nn)=>Math.max(xt,nn.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(_e=>_e()),this._onDoneFns=[])}init(){this.players.forEach(_e=>_e.init())}onStart(_e){this._onStartFns.push(_e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(_e=>_e()),this._onStartFns=[])}onDone(_e){this._onDoneFns.push(_e)}onDestroy(_e){this._onDestroyFns.push(_e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(_e=>_e.play())}pause(){this.players.forEach(_e=>_e.pause())}restart(){this.players.forEach(_e=>_e.restart())}finish(){this._onFinish(),this.players.forEach(_e=>_e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(_e=>_e.destroy()),this._onDestroyFns.forEach(_e=>_e()),this._onDestroyFns=[])}reset(){this.players.forEach(_e=>_e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(_e){const nt=_e*this.totalTime;this.players.forEach(It=>{const ht=It.totalTime?Math.min(1,nt/It.totalTime):1;It.setPosition(ht)})}getPosition(){const _e=this.players.reduce((nt,It)=>null===nt||It.totalTime>nt.totalTime?It:nt,null);return null!=_e?_e.getPosition():0}beforeDestroy(){this.players.forEach(_e=>{_e.beforeDestroy&&_e.beforeDestroy()})}triggerCallback(_e){const nt="start"==_e?this._onStartFns:this._onDoneFns;nt.forEach(It=>It()),nt.length=0}}const Dt="!"},6895:(jt,je,j)=>{j.d(je,{Do:()=>pt,EM:()=>fo,HT:()=>ie,JF:()=>Oo,K0:()=>we,Mx:()=>xi,O5:()=>Te,PM:()=>vi,S$:()=>mt,V_:()=>ve,Ye:()=>Dt,b0:()=>rt,bD:()=>Ta,ez:()=>ho,mk:()=>xn,q:()=>q,rS:()=>di,sg:()=>cs,w_:()=>Z});var y=j(4650);let L=null;function q(){return L}function ie(R){L||(L=R)}class Z{}const we=new y.OlP("DocumentToken");let Ce=(()=>{class R{historyGo(x){throw new Error("Not implemented")}}return R.\u0275fac=function(x){return new(x||R)},R.\u0275prov=y.Yz7({token:R,factory:function(){return function Ae(){return(0,y.LFG)(se)}()},providedIn:"platform"}),R})();const ve=new y.OlP("Location Initialized");let se=(()=>{class R extends Ce{constructor(x){super(),this._doc=x,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return q().getBaseHref(this._doc)}onPopState(x){const Y=q().getGlobalEventTarget(this._doc,"window");return Y.addEventListener("popstate",x,!1),()=>Y.removeEventListener("popstate",x)}onHashChange(x){const Y=q().getGlobalEventTarget(this._doc,"window");return Y.addEventListener("hashchange",x,!1),()=>Y.removeEventListener("hashchange",x)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(x){this._location.pathname=x}pushState(x,Y,ce){oe()?this._history.pushState(x,Y,ce):this._location.hash=ce}replaceState(x,Y,ce){oe()?this._history.replaceState(x,Y,ce):this._location.hash=ce}forward(){this._history.forward()}back(){this._history.back()}historyGo(x=0){this._history.go(x)}getState(){return this._history.state}}return R.\u0275fac=function(x){return new(x||R)(y.LFG(we))},R.\u0275prov=y.Yz7({token:R,factory:function(){return function de(){return new se((0,y.LFG)(we))}()},providedIn:"platform"}),R})();function oe(){return!!window.history.pushState}function Ge(R,$){if(0==R.length)return $;if(0==$.length)return R;let x=0;return R.endsWith("/")&&x++,$.startsWith("/")&&x++,2==x?R+$.substring(1):1==x?R+$:R+"/"+$}function Ze(R){const $=R.match(/#|\?|$/),x=$&&$.index||R.length;return R.slice(0,x-("/"===R[x-1]?1:0))+R.slice(x)}function gt(R){return R&&"?"!==R[0]?"?"+R:R}let mt=(()=>{class R{historyGo(x){throw new Error("Not implemented")}}return R.\u0275fac=function(x){return new(x||R)},R.\u0275prov=y.Yz7({token:R,factory:function(){return(0,y.f3M)(rt)},providedIn:"root"}),R})();const We=new y.OlP("appBaseHref");let rt=(()=>{class R extends mt{constructor(x,Y){super(),this._platformLocation=x,this._removeListenerFns=[],this._baseHref=Y??this._platformLocation.getBaseHrefFromDOM()??(0,y.f3M)(we).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(x){this._removeListenerFns.push(this._platformLocation.onPopState(x),this._platformLocation.onHashChange(x))}getBaseHref(){return this._baseHref}prepareExternalUrl(x){return Ge(this._baseHref,x)}path(x=!1){const Y=this._platformLocation.pathname+gt(this._platformLocation.search),ce=this._platformLocation.hash;return ce&&x?`${Y}${ce}`:Y}pushState(x,Y,ce,$e){const Et=this.prepareExternalUrl(ce+gt($e));this._platformLocation.pushState(x,Y,Et)}replaceState(x,Y,ce,$e){const Et=this.prepareExternalUrl(ce+gt($e));this._platformLocation.replaceState(x,Y,Et)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(x=0){this._platformLocation.historyGo?.(x)}}return R.\u0275fac=function(x){return new(x||R)(y.LFG(Ce),y.LFG(We,8))},R.\u0275prov=y.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})(),pt=(()=>{class R extends mt{constructor(x,Y){super(),this._platformLocation=x,this._baseHref="",this._removeListenerFns=[],null!=Y&&(this._baseHref=Y)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(x){this._removeListenerFns.push(this._platformLocation.onPopState(x),this._platformLocation.onHashChange(x))}getBaseHref(){return this._baseHref}path(x=!1){let Y=this._platformLocation.hash;return null==Y&&(Y="#"),Y.length>0?Y.substring(1):Y}prepareExternalUrl(x){const Y=Ge(this._baseHref,x);return Y.length>0?"#"+Y:Y}pushState(x,Y,ce,$e){let Et=this.prepareExternalUrl(ce+gt($e));0==Et.length&&(Et=this._platformLocation.pathname),this._platformLocation.pushState(x,Y,Et)}replaceState(x,Y,ce,$e){let Et=this.prepareExternalUrl(ce+gt($e));0==Et.length&&(Et=this._platformLocation.pathname),this._platformLocation.replaceState(x,Y,Et)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(x=0){this._platformLocation.historyGo?.(x)}}return R.\u0275fac=function(x){return new(x||R)(y.LFG(Ce),y.LFG(We,8))},R.\u0275prov=y.Yz7({token:R,factory:R.\u0275fac}),R})(),Dt=(()=>{class R{constructor(x){this._subject=new y.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=x;const Y=this._locationStrategy.getBaseHref();this._basePath=function It(R){if(new RegExp("^(https?:)?//").test(R)){const[,x]=R.split(/\/\/[^\/]+/);return x}return R}(Ze(nt(Y))),this._locationStrategy.onPopState(ce=>{this._subject.emit({url:this.path(!0),pop:!0,state:ce.state,type:ce.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(x=!1){return this.normalize(this._locationStrategy.path(x))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(x,Y=""){return this.path()==this.normalize(x+gt(Y))}normalize(x){return R.stripTrailingSlash(function _e(R,$){if(!R||!$.startsWith(R))return $;const x=$.substring(R.length);return""===x||["/",";","?","#"].includes(x[0])?x:$}(this._basePath,nt(x)))}prepareExternalUrl(x){return x&&"/"!==x[0]&&(x="/"+x),this._locationStrategy.prepareExternalUrl(x)}go(x,Y="",ce=null){this._locationStrategy.pushState(ce,"",x,Y),this._notifyUrlChangeListeners(this.prepareExternalUrl(x+gt(Y)),ce)}replaceState(x,Y="",ce=null){this._locationStrategy.replaceState(ce,"",x,Y),this._notifyUrlChangeListeners(this.prepareExternalUrl(x+gt(Y)),ce)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(x=0){this._locationStrategy.historyGo?.(x)}onUrlChange(x){return this._urlChangeListeners.push(x),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Y=>{this._notifyUrlChangeListeners(Y.url,Y.state)})),()=>{const Y=this._urlChangeListeners.indexOf(x);this._urlChangeListeners.splice(Y,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(x="",Y){this._urlChangeListeners.forEach(ce=>ce(x,Y))}subscribe(x,Y,ce){return this._subject.subscribe({next:x,error:Y,complete:ce})}}return R.normalizeQueryParams=gt,R.joinWithSlash=Ge,R.stripTrailingSlash=Ze,R.\u0275fac=function(x){return new(x||R)(y.LFG(mt))},R.\u0275prov=y.Yz7({token:R,factory:function(){return function Le(){return new Dt((0,y.LFG)(mt))}()},providedIn:"root"}),R})();function nt(R){return R.replace(/\/index.html$/,"")}function xi(R,$){$=encodeURIComponent($);for(const x of R.split(";")){const Y=x.indexOf("="),[ce,$e]=-1==Y?[x,""]:[x.slice(0,Y),x.slice(Y+1)];if(ce.trim()===$)return decodeURIComponent($e)}return null}const or=/\s+/,$t=[];let xn=(()=>{class R{constructor(x,Y,ce,$e){this._iterableDiffers=x,this._keyValueDiffers=Y,this._ngEl=ce,this._renderer=$e,this.initialClasses=$t,this.stateMap=new Map}set klass(x){this.initialClasses=null!=x?x.trim().split(or):$t}set ngClass(x){this.rawClass="string"==typeof x?x.trim().split(or):x}ngDoCheck(){for(const Y of this.initialClasses)this._updateState(Y,!0);const x=this.rawClass;if(Array.isArray(x)||x instanceof Set)for(const Y of x)this._updateState(Y,!0);else if(null!=x)for(const Y of Object.keys(x))this._updateState(Y,Boolean(x[Y]));this._applyStateDiff()}_updateState(x,Y){const ce=this.stateMap.get(x);void 0!==ce?(ce.enabled!==Y&&(ce.changed=!0,ce.enabled=Y),ce.touched=!0):this.stateMap.set(x,{enabled:Y,changed:!0,touched:!0})}_applyStateDiff(){for(const x of this.stateMap){const Y=x[0],ce=x[1];ce.changed?(this._toggleClass(Y,ce.enabled),ce.changed=!1):ce.touched||(ce.enabled&&this._toggleClass(Y,!1),this.stateMap.delete(Y)),ce.touched=!1}}_toggleClass(x,Y){(x=x.trim()).length>0&&x.split(or).forEach(ce=>{Y?this._renderer.addClass(this._ngEl.nativeElement,ce):this._renderer.removeClass(this._ngEl.nativeElement,ce)})}}return R.\u0275fac=function(x){return new(x||R)(y.Y36(y.ZZ4),y.Y36(y.aQg),y.Y36(y.SBq),y.Y36(y.Qsj))},R.\u0275dir=y.lG2({type:R,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),R})();class Zr{constructor($,x,Y,ce){this.$implicit=$,this.ngForOf=x,this.index=Y,this.count=ce}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let cs=(()=>{class R{set ngForOf(x){this._ngForOf=x,this._ngForOfDirty=!0}set ngForTrackBy(x){this._trackByFn=x}get ngForTrackBy(){return this._trackByFn}constructor(x,Y,ce){this._viewContainer=x,this._template=Y,this._differs=ce,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(x){x&&(this._template=x)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const x=this._ngForOf;!this._differ&&x&&(this._differ=this._differs.find(x).create(this.ngForTrackBy))}if(this._differ){const x=this._differ.diff(this._ngForOf);x&&this._applyChanges(x)}}_applyChanges(x){const Y=this._viewContainer;x.forEachOperation((ce,$e,Et)=>{if(null==ce.previousIndex)Y.createEmbeddedView(this._template,new Zr(ce.item,this._ngForOf,-1,-1),null===Et?void 0:Et);else if(null==Et)Y.remove(null===$e?void 0:$e);else if(null!==$e){const un=Y.get($e);Y.move(un,Et),kr(un,ce)}});for(let ce=0,$e=Y.length;ce<$e;ce++){const un=Y.get(ce).context;un.index=ce,un.count=$e,un.ngForOf=this._ngForOf}x.forEachIdentityChange(ce=>{kr(Y.get(ce.currentIndex),ce)})}static ngTemplateContextGuard(x,Y){return!0}}return R.\u0275fac=function(x){return new(x||R)(y.Y36(y.s_b),y.Y36(y.Rgc),y.Y36(y.ZZ4))},R.\u0275dir=y.lG2({type:R,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),R})();function kr(R,$){R.context.$implicit=$.item}let Te=(()=>{class R{constructor(x,Y){this._viewContainer=x,this._context=new be,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Y}set ngIf(x){this._context.$implicit=this._context.ngIf=x,this._updateView()}set ngIfThen(x){yt("ngIfThen",x),this._thenTemplateRef=x,this._thenViewRef=null,this._updateView()}set ngIfElse(x){yt("ngIfElse",x),this._elseTemplateRef=x,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(x,Y){return!0}}return R.\u0275fac=function(x){return new(x||R)(y.Y36(y.s_b),y.Y36(y.Rgc))},R.\u0275dir=y.lG2({type:R,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),R})();class be{constructor(){this.$implicit=null,this.ngIf=null}}function yt(R,$){if($&&!$.createEmbeddedView)throw new Error(`${R} must be a TemplateRef, but received '${(0,y.AaK)($)}'.`)}const oa=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let di=(()=>{class R{transform(x){if(null==x)return null;if("string"!=typeof x)throw function ns(R,$){return new y.vHH(2100,!1)}();return x.replace(oa,Y=>Y[0].toUpperCase()+Y.slice(1).toLowerCase())}}return R.\u0275fac=function(x){return new(x||R)},R.\u0275pipe=y.Yjl({name:"titlecase",type:R,pure:!0,standalone:!0}),R})(),ho=(()=>{class R{}return R.\u0275fac=function(x){return new(x||R)},R.\u0275mod=y.oAB({type:R}),R.\u0275inj=y.cJS({}),R})();const Ta="browser",Yi="server";function vi(R){return R===Yi}let fo=(()=>{class R{}return R.\u0275prov=(0,y.Yz7)({token:R,providedIn:"root",factory:()=>new ba((0,y.LFG)(we),window)}),R})();class ba{constructor($,x){this.document=$,this.window=x,this.offset=()=>[0,0]}setOffset($){this.offset=Array.isArray($)?()=>$:$}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition($){this.supportsScrolling()&&this.window.scrollTo($[0],$[1])}scrollToAnchor($){if(!this.supportsScrolling())return;const x=function po(R,$){const x=R.getElementById($)||R.getElementsByName($)[0];if(x)return x;if("function"==typeof R.createTreeWalker&&R.body&&(R.body.createShadowRoot||R.body.attachShadow)){const Y=R.createTreeWalker(R.body,NodeFilter.SHOW_ELEMENT);let ce=Y.currentNode;for(;ce;){const $e=ce.shadowRoot;if($e){const Et=$e.getElementById($)||$e.querySelector(`[name="${$}"]`);if(Et)return Et}ce=Y.nextNode()}}return null}(this.document,$);x&&(this.scrollToElement(x),x.focus())}setHistoryScrollRestoration($){if(this.supportScrollRestoration()){const x=this.window.history;x&&x.scrollRestoration&&(x.scrollRestoration=$)}}scrollToElement($){const x=$.getBoundingClientRect(),Y=x.left+this.window.pageXOffset,ce=x.top+this.window.pageYOffset,$e=this.offset();this.window.scrollTo(Y-$e[0],ce-$e[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const $=Di(this.window.history)||Di(Object.getPrototypeOf(this.window.history));return!(!$||!$.writable&&!$.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Di(R){return Object.getOwnPropertyDescriptor(R,"scrollRestoration")}class Oo{}},4650:(jt,je,j)=>{j.d(je,{$8M:()=>qa,$WT:()=>Br,$Z:()=>Rp,AFp:()=>Dw,ALo:()=>nm,AaK:()=>Ae,Akn:()=>su,AsE:()=>Og,BQk:()=>Fu,CHM:()=>yo,CRH:()=>W0,CZH:()=>Gv,CqO:()=>bc,D6c:()=>GI,EJc:()=>aI,EiD:()=>ep,EpF:()=>Tc,F4k:()=>ng,FYo:()=>ap,FiY:()=>qn,GfV:()=>up,Gpc:()=>oe,JOm:()=>jo,JVY:()=>Md,JZr:()=>mt,KtG:()=>io,L6k:()=>Th,LAX:()=>Em,LFG:()=>Vt,LSH:()=>Pd,Lbi:()=>rI,Lck:()=>b0,MAs:()=>Ry,MMx:()=>Cv,MR2:()=>Mm,NdJ:()=>rg,OlP:()=>A,Oqu:()=>ud,P3R:()=>Am,PXZ:()=>II,Q6J:()=>eh,QGY:()=>Hl,QbO:()=>iI,Qsj:()=>Bm,R0b:()=>rl,RDi:()=>gm,Rgc:()=>ql,SBq:()=>hl,Sil:()=>lI,Suo:()=>G0,TTD:()=>Hs,TgZ:()=>th,Tol:()=>vf,Udp:()=>Cg,VKq:()=>x0,W1O:()=>J0,X6Q:()=>SI,XFs:()=>zt,Xpm:()=>tr,Xts:()=>Oh,Y36:()=>Ku,YKP:()=>T0,YNc:()=>My,Yjl:()=>An,Yz7:()=>Ve,Z0I:()=>qt,ZZ4:()=>vE,_Bn:()=>wv,_UZ:()=>nh,_Vd:()=>cc,_c5:()=>HI,_uU:()=>Rg,aQg:()=>_E,c2e:()=>sI,cJS:()=>Me,cg1:()=>To,d8E:()=>Lr,dDg:()=>vI,dqk:()=>fr,eBb:()=>bh,eFA:()=>Fw,eJc:()=>lm,ekj:()=>Tg,eoX:()=>Pw,f3M:()=>Or,g9A:()=>Tw,h0i:()=>gh,hGG:()=>zI,hij:()=>wf,iGM:()=>H0,ifc:()=>st,ip1:()=>Iw,jDz:()=>Lf,kL8:()=>tv,lG2:()=>Sn,lcZ:()=>Bf,lnq:()=>Pg,lqb:()=>vu,lri:()=>Rw,mCW:()=>sc,n5z:()=>Fr,oAB:()=>Fe,oJD:()=>mr,oxw:()=>Py,pB0:()=>wm,q3G:()=>Xs,q4F:()=>lp,qLn:()=>dc,qOj:()=>tf,qZA:()=>ad,qzn:()=>Ol,rWj:()=>Ow,s9C:()=>ag,sBO:()=>AI,s_b:()=>jf,soG:()=>Wv,tb:()=>Nw,tp0:()=>Hr,uIk:()=>Jd,vHH:()=>We,vpe:()=>yl,wAp:()=>Qn,xp6:()=>vp,ynx:()=>fl,z2F:()=>Kv,z3N:()=>dl,zSh:()=>xl,zs3:()=>gc});var y=j(7579),L=j(727),q=j(9751),ie=j(6451),Z=j(3099);function we(n){for(let i in n)if(n[i]===we)return i;throw Error("Could not find renamed property on target object.")}function Ce(n,i){for(const o in i)i.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=i[o])}function Ae(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ae).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function ve(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const se=we({__forward_ref__:we});function oe(n){return n.__forward_ref__=oe,n.toString=function(){return Ae(this())},n}function de(n){return Ge(n)?n():n}function Ge(n){return"function"==typeof n&&n.hasOwnProperty(se)&&n.__forward_ref__===oe}function Ze(n){return n&&!!n.\u0275providers}const mt="https://g.co/ng/security#xss";class We extends Error{constructor(i,o){super(rt(i,o)),this.code=i}}function rt(n,i){return`NG0${Math.abs(n)}${i?": "+i.trim():""}`}function pt(n){return"string"==typeof n?n:null==n?"":String(n)}function It(n,i){throw new We(-201,!1)}function _t(n,i){null==n&&function ct(n,i,o,u){throw new Error(`ASSERTION ERROR: ${n}`+(null==u?"":` [Expected=> ${o} ${u} ${i} <=Actual]`))}(i,n,null,"!=")}function Ve(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Me(n){return{providers:n.providers||[],imports:n.imports||[]}}function He(n){return fn(n,an)||fn(n,ci)}function qt(n){return null!==He(n)}function fn(n,i){return n.hasOwnProperty(i)?n[i]:null}function Vn(n){return n&&(n.hasOwnProperty(Gr)||n.hasOwnProperty(On))?n[Gr]:null}const an=we({\u0275prov:we}),Gr=we({\u0275inj:we}),ci=we({ngInjectableDef:we}),On=we({ngInjectorDef:we});var zt=(()=>((zt=zt||{})[zt.Default=0]="Default",zt[zt.Host=1]="Host",zt[zt.Self=2]="Self",zt[zt.SkipSelf=4]="SkipSelf",zt[zt.Optional=8]="Optional",zt))();let Dr;function Cr(n){const i=Dr;return Dr=n,i}function Mr(n,i,o){const u=He(n);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&zt.Optional?null:void 0!==i?i:void It(Ae(n))}const fr=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ei={},si="__NG_DI_FLAG__",Er="ngTempTokenPath",Oi="ngTokenPath",Vr=/\n/gm,Ur="\u0275",ur="__source";let Yt;function kn(n){const i=Yt;return Yt=n,i}function Rr(n,i=zt.Default){if(void 0===Yt)throw new We(-203,!1);return null===Yt?Mr(n,void 0,i):Yt.get(n,i&zt.Optional?null:void 0,i)}function Vt(n,i=zt.Default){return(function vr(){return Dr}()||Rr)(de(n),i)}function Or(n,i=zt.Default){return Vt(n,er(i))}function er(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Rt(n){const i=[];for(let o=0;o<n.length;o++){const u=de(n[o]);if(Array.isArray(u)){if(0===u.length)throw new We(900,!1);let l,h=zt.Default;for(let E=0;E<u.length;E++){const S=u[E],P=ln(S);"number"==typeof P?-1===P?l=S.token:h|=P:l=S}i.push(Vt(l,h))}else i.push(Vt(u))}return i}function qr(n,i){return n[si]=i,n.prototype[si]=i,n}function ln(n){return n[si]}function le(n){return{toString:n}.toString()}var Ee=(()=>((Ee=Ee||{})[Ee.OnPush=0]="OnPush",Ee[Ee.Default=1]="Default",Ee))(),st=(()=>{return(n=st||(st={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",st;var n})();const Be={},Mt=[],me=we({\u0275cmp:we}),ye=we({\u0275dir:we}),re=we({\u0275pipe:we}),Ie=we({\u0275mod:we}),ot=we({\u0275fac:we}),Tt=we({__NG_ELEMENT_ID__:we});let cn=0;function tr(n){return le(()=>{const i=Ts(n),o={...i,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Ee.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||st.Emulated,id:"c"+cn++,styles:n.styles||Mt,_:null,schemas:n.schemas||null,tView:null};bs(o);const u=n.dependencies;return o.directiveDefs=xi(u,!1),o.pipeDefs=xi(u,!0),o})}function Pi(n){return on(n)||nr(n)}function Xe(n){return null!==n}function Fe(n){return le(()=>({type:n.type,bootstrap:n.bootstrap||Mt,declarations:n.declarations||Mt,imports:n.imports||Mt,exports:n.exports||Mt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Xt(n,i){if(null==n)return Be;const o={};for(const u in n)if(n.hasOwnProperty(u)){let l=n[u],h=l;Array.isArray(l)&&(h=l[1],l=l[0]),o[l]=u,i&&(i[l]=h)}return o}function Sn(n){return le(()=>{const i=Ts(n);return bs(i),i})}function An(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function on(n){return n[me]||null}function nr(n){return n[ye]||null}function Bn(n){return n[re]||null}function Br(n){const i=on(n)||nr(n)||Bn(n);return null!==i&&i.standalone}function oi(n,i){const o=n[Ie]||null;if(!o&&!0===i)throw new Error(`Type ${Ae(n)} does not have '\u0275mod' property.`);return o}function Ts(n){const i={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||Mt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Xt(n.inputs,i),outputs:Xt(n.outputs)}}function bs(n){n.features?.forEach(i=>i(n))}function xi(n,i){if(!n)return null;const o=i?Bn:Pi;return()=>("function"==typeof n?n():n).map(u=>o(u)).filter(Xe)}const or=0,$t=1,xn=2,cr=3,pr=4,wi=5,Zr=6,cs=7,kr=8,Re=9,Te=10,be=11,yt=12,At=13,En=14,Fn=15,pn=16,Wn=17,jr=18,ei=19,Wr=20,ai=21,wr=22,Ko=1,Mo=2,Zi=7,rs=8,Vs=9,Kr=10;function di(n){return Array.isArray(n)&&"object"==typeof n[Ko]}function _r(n){return Array.isArray(n)&&!0===n[Ko]}function $r(n){return 0!=(4&n.flags)}function to(n){return n.componentOffset>-1}function Us(n){return 1==(1&n.flags)}function Ii(n){return!!n.template}function ds(n){return 0!=(256&n[xn])}function Ms(n,i){return n.hasOwnProperty(ot)?n[ot]:null}class ya{constructor(i,o,u){this.previousValue=i,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function Hs(){return fo}function fo(n){return n.type.prototype.ngOnChanges&&(n.setInput=Di),ba}function ba(){const n=ro(this),i=n?.current;if(i){const o=n.previous;if(o===Be)n.previous=i;else for(let u in i)o[u]=i[u];n.current=null,this.ngOnChanges(i)}}function Di(n,i,o,u){const l=this.declaredInputs[o],h=ro(n)||function Oo(n,i){return n[po]=i}(n,{previous:Be,current:null}),E=h.current||(h.current={}),S=h.previous,P=S[l];E[l]=new ya(P&&P.currentValue,i,S===Be),n[u]=i}Hs.ngInherit=!0;const po="__ngSimpleChanges__";function ro(n){return n[po]||null}const Jn=function(n,i,o){};function Tr(n){for(;Array.isArray(n);)n=n[or];return n}function go(n,i){return Tr(i[n])}function Ni(n,i){return Tr(i[n.index])}function ps(n,i){return n.data[i]}function Ti(n,i){return n[i]}function Yr(n,i){const o=i[n];return di(o)?o:o[or]}function Ji(n){return 64==(64&n[xn])}function gs(n,i){return null==i?null:n[i]}function hi(n){n[jr]=0}function is(n,i){n[wi]+=i;let o=n,u=n[cr];for(;null!==u&&(1===i&&1===o[wi]||-1===i&&0===o[wi]);)u[wi]+=i,o=u,u=u[cr]}const Pn={lFrame:va(null),bindingsEnabled:!0};function tt(){return Pn.bindingsEnabled}function Ye(){return Pn.lFrame.lView}function _n(){return Pn.lFrame.tView}function yo(n){return Pn.lFrame.contextLView=n,n[kr]}function io(n){return Pn.lFrame.contextLView=null,n}function fi(){let n=Fa();for(;null!==n&&64===n.type;)n=n.parent;return n}function Fa(){return Pn.lFrame.currentTNode}function ms(n,i){const o=Pn.lFrame;o.currentTNode=n,o.isParent=i}function Os(){return Pn.lFrame.isParent}function zs(){Pn.lFrame.isParent=!1}function Kn(){const n=Pn.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}function ji(){return Pn.lFrame.bindingIndex}function ys(){return Pn.lFrame.bindingIndex++}function so(n){const i=Pn.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,o}function La(n,i){const o=Pn.lFrame;o.bindingIndex=o.bindingRootIndex=n,pi(i)}function pi(n){Pn.lFrame.currentDirectiveIndex=n}function Xo(n){const i=Pn.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}function vs(){return Pn.lFrame.currentQueryIndex}function Ma(n){Pn.lFrame.currentQueryIndex=n}function ea(n){const i=n[$t];return 2===i.type?i.declTNode:1===i.type?n[Zr]:null}function xo(n,i,o){if(o&zt.SkipSelf){let l=i,h=n;for(;!(l=l.parent,null!==l||o&zt.Host||(l=ea(h),null===l||(h=h[Fn],10&l.type))););if(null===l)return!1;i=l,n=h}const u=Pn.lFrame=Va();return u.currentTNode=i,u.lView=n,!0}function Ns(n){const i=Va(),o=n[$t];Pn.lFrame=i,i.currentTNode=o.firstChild,i.lView=n,i.tView=o,i.contextLView=n,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function Va(){const n=Pn.lFrame,i=null===n?null:n.child;return null===i?va(n):i}function va(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function Ra(){const n=Pn.lFrame;return Pn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const ta=Ra;function na(){const n=Ra();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function br(){return Pn.lFrame.selectedIndex}function Gs(n){Pn.lFrame.selectedIndex=n}function Sr(){const n=Pn.lFrame;return ps(n.tView,n.selectedIndex)}function ra(n,i){for(let o=i.directiveStart,u=i.directiveEnd;o<u;o++){const h=n.data[o].type.prototype,{ngAfterContentInit:E,ngAfterContentChecked:S,ngAfterViewInit:P,ngAfterViewChecked:z,ngOnDestroy:X}=h;E&&(n.contentHooks??(n.contentHooks=[])).push(-o,E),S&&((n.contentHooks??(n.contentHooks=[])).push(o,S),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(o,S)),P&&(n.viewHooks??(n.viewHooks=[])).push(-o,P),z&&((n.viewHooks??(n.viewHooks=[])).push(o,z),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(o,z)),null!=X&&(n.destroyHooks??(n.destroyHooks=[])).push(o,X)}}function _a(n,i,o){$(n,i,3,o)}function ja(n,i,o,u){(3&n[xn])===o&&$(n,i,o,u)}function R(n,i){let o=n[xn];(3&o)===i&&(o&=2047,o+=1,n[xn]=o)}function $(n,i,o,u){const h=u??-1,E=i.length-1;let S=0;for(let P=void 0!==u?65535&n[jr]:0;P<E;P++)if("number"==typeof i[P+1]){if(S=i[P],null!=u&&S>=u)break}else i[P]<0&&(n[jr]+=65536),(S<h||-1==h)&&(x(n,o,i,P),n[jr]=(4294901760&n[jr])+P+2),P++}function x(n,i,o,u){const l=o[u]<0,h=o[u+1],S=n[l?-o[u]:o[u]];if(l){if(n[xn]>>11<n[jr]>>16&&(3&n[xn])===i){n[xn]+=2048,Jn(4,S,h);try{h.call(S)}finally{Jn(5,S,h)}}}else{Jn(4,S,h);try{h.call(S)}finally{Jn(5,S,h)}}}const Y=-1;class ce{constructor(i,o,u){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function rr(n,i,o){let u=0;for(;u<o.length;){const l=o[u];if("number"==typeof l){if(0!==l)break;u++;const h=o[u++],E=o[u++],S=o[u++];n.setAttribute(i,E,S,h)}else{const h=l,E=o[++u];Ks(h)?n.setProperty(i,h,E):n.setAttribute(i,h,E),u++}}return u}function Si(n){return 3===n||4===n||6===n}function Ks(n){return 64===n.charCodeAt(0)}function ki(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let o=-1;for(let u=0;u<i.length;u++){const l=i[u];"number"==typeof l?o=l:0===o||qs(n,o,l,null,-1===o||2===o?i[++u]:null)}}return n}function qs(n,i,o,u,l){let h=0,E=n.length;if(-1===i)E=-1;else for(;h<n.length;){const S=n[h++];if("number"==typeof S){if(S===i){E=-1;break}if(S>i){E=h-1;break}}}for(;h<n.length;){const S=n[h];if("number"==typeof S)break;if(S===o){if(null===u)return void(null!==l&&(n[h+1]=l));if(u===n[h+1])return void(n[h+2]=l)}h++,null!==u&&h++,null!==l&&h++}-1!==E&&(n.splice(E,0,i),h=E+1),n.splice(h++,0,o),null!==u&&n.splice(h++,0,u),null!==l&&n.splice(h++,0,l)}function ui(n){return n!==Y}function _s(n){return 32767&n}function $i(n,i){let o=function Es(n){return n>>16}(n),u=i;for(;o>0;)u=u[Fn],o--;return u}let $a=!0;function Oa(n){const i=$a;return $a=n,i}const Ea=255,Fo=5;let Ha=0;const ks={};function za(n,i){const o=Ga(n,i);if(-1!==o)return o;const u=i[$t];u.firstCreatePass&&(n.injectorIndex=i.length,Lo(u.data,n),Lo(i,null),Lo(u.blueprint,null));const l=li(n,i),h=n.injectorIndex;if(ui(l)){const E=_s(l),S=$i(l,i),P=S[$t].data;for(let z=0;z<8;z++)i[h+z]=S[E+z]|P[E+z]}return i[h+8]=l,h}function Lo(n,i){n.push(0,0,0,0,0,0,0,0,i)}function Ga(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function li(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,u=null,l=i;for(;null!==l;){if(u=ss(l),null===u)return Y;if(o++,l=l[Fn],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return Y}function Vo(n,i,o){!function sl(n,i,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(Tt)&&(u=o[Tt]),null==u&&(u=o[Tt]=Ha++);const l=u&Ea;i.data[n+(l>>Fo)]|=1<<l}(n,i,o)}function Iu(n,i,o){if(o&zt.Optional||void 0!==n)return n;It()}function la(n,i,o,u){if(o&zt.Optional&&void 0===u&&(u=null),!(o&(zt.Self|zt.Host))){const l=n[Re],h=Cr(void 0);try{return l?l.get(i,u,o&zt.Optional):Mr(i,u,o&zt.Optional)}finally{Cr(h)}}return Iu(u,0,o)}function uu(n,i,o,u=zt.Default,l){if(null!==n){if(1024&i[xn]){const E=function Uu(n,i,o,u,l){let h=n,E=i;for(;null!==h&&null!==E&&1024&E[xn]&&!(256&E[xn]);){const S=Wa(h,E,o,u|zt.Self,ks);if(S!==ks)return S;let P=h.parent;if(!P){const z=E[ai];if(z){const X=z.get(o,ks,u);if(X!==ks)return X}P=ss(E),E=E[Fn]}h=P}return l}(n,i,o,u,ks);if(E!==ks)return E}const h=Wa(n,i,o,u,ks);if(h!==ks)return h}return la(i,o,u,l)}function Wa(n,i,o,u,l){const h=function ca(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(Tt)?n[Tt]:void 0;return"number"==typeof i?i>=0?i&Ea:Pa:i}(o);if("function"==typeof h){if(!xo(i,n,u))return u&zt.Host?Iu(l,0,u):la(i,o,u,l);try{const E=h(u);if(null!=E||u&zt.Optional)return E;It()}finally{ta()}}else if("number"==typeof h){let E=null,S=Ga(n,i),P=Y,z=u&zt.Host?i[pn][Zr]:null;for((-1===S||u&zt.SkipSelf)&&(P=-1===S?li(n,i):i[S+8],P!==Y&&lu(u,!1)?(E=i[$t],S=_s(P),i=$i(P,i)):S=-1);-1!==S;){const X=i[$t];if(Is(h,S,X.data)){const ue=_i(S,i,o,E,u,z);if(ue!==ks)return ue}P=i[S+8],P!==Y&&lu(u,i[$t].data[S+8]===z)&&Is(h,S,i)?(E=X,S=_s(P),i=$i(P,i)):S=-1}}return l}function _i(n,i,o,u,l,h){const E=i[$t],S=E.data[n+8],X=ws(S,E,o,null==u?to(S)&&$a:u!=E&&0!=(3&S.type),l&zt.Host&&h===S);return null!==X?Dn(i,E,X,S):ks}function ws(n,i,o,u,l){const h=n.providerIndexes,E=i.data,S=1048575&h,P=n.directiveStart,X=h>>20,Pe=l?S+X:n.directiveEnd;for(let qe=u?S:S+X;qe<Pe;qe++){const Ct=E[qe];if(qe<P&&o===Ct||qe>=P&&Ct.type===o)return qe}if(l){const qe=E[P];if(qe&&Ii(qe)&&qe.type===o)return P}return null}function Dn(n,i,o,u){let l=n[o];const h=i.data;if(function $e(n){return n instanceof ce}(l)){const E=l;E.resolving&&function Le(n,i){const o=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new We(-200,`Circular dependency in DI detected for ${n}${o}`)}(function Dt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():pt(n)}(h[o]));const S=Oa(E.canSeeViewProviders);E.resolving=!0;const P=E.injectImpl?Cr(E.injectImpl):null;xo(n,u,zt.Default);try{l=n[o]=E.factory(void 0,h,n,u),i.firstCreatePass&&o>=u.directiveStart&&function Ws(n,i,o){const{ngOnChanges:u,ngOnInit:l,ngDoCheck:h}=i.type.prototype;if(u){const E=fo(i);(o.preOrderHooks??(o.preOrderHooks=[])).push(n,E),(o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(n,E)}l&&(o.preOrderHooks??(o.preOrderHooks=[])).push(0-n,l),h&&((o.preOrderHooks??(o.preOrderHooks=[])).push(n,h),(o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(n,h))}(o,h[o],i)}finally{null!==P&&Cr(P),Oa(S),E.resolving=!1,ta()}}return l}function Is(n,i,o){return!!(o[i+(n>>Fo)]&1<<n)}function lu(n,i){return!(n&zt.Self||n&zt.Host&&i)}class es{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,u){return uu(this._tNode,this._lView,i,er(u),o)}}function Pa(){return new es(fi(),Ye())}function Fr(n){return le(()=>{const i=n.prototype.constructor,o=i[ot]||Ka(i),u=Object.prototype;let l=Object.getPrototypeOf(n.prototype).constructor;for(;l&&l!==u;){const h=l[ot]||Ka(l);if(h&&h!==o)return h;l=Object.getPrototypeOf(l)}return h=>new h})}function Ka(n){return Ge(n)?()=>{const i=Ka(de(n));return i&&i()}:Ms(n)}function ss(n){const i=n[$t],o=i.type;return 2===o?i.declTNode:1===o?n[Zr]:null}function qa(n){return function Uo(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const o=n.attrs;if(o){const u=o.length;let l=0;for(;l<u;){const h=o[l];if(Si(h))break;if(0===h)l+=2;else if("number"==typeof h)for(l++;l<u&&"string"==typeof o[l];)l++;else{if(h===i)return o[l+1];l+=2}}}return null}(fi(),n)}const Bo="__parameters__";function N(n,i,o){return le(()=>{const u=function oo(n){return function(...o){if(n){const u=n(...o);for(const l in u)this[l]=u[l]}}}(i);function l(...h){if(this instanceof l)return u.apply(this,h),this;const E=new l(...h);return S.annotation=E,S;function S(P,z,X){const ue=P.hasOwnProperty(Bo)?P[Bo]:Object.defineProperty(P,Bo,{value:[]})[Bo];for(;ue.length<=X;)ue.push(null);return(ue[X]=ue[X]||[]).push(E),P}}return o&&(l.prototype=Object.create(o.prototype)),l.prototype.ngMetadataName=n,l.annotationCls=l,l})}class A{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Ve({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Jr(n,i){n.forEach(o=>Array.isArray(o)?Jr(o,i):i(o))}function lr(n,i,o){i>=n.length?n.push(o):n.splice(i,0,o)}function os(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function ni(n,i,o){let u=en(n,i);return u>=0?n[1|u]=o:(u=~u,function St(n,i,o,u){let l=n.length;if(l==i)n.push(o,u);else if(1===l)n.push(u,n[0]),n[0]=o;else{for(l--,n.push(n[l-1],n[l]);l>i;)n[l]=n[l-2],l--;n[i]=o,n[i+1]=u}}(n,u,i,o)),u}function Zs(n,i){const o=en(n,i);if(o>=0)return n[1|o]}function en(n,i){return function I(n,i,o){let u=0,l=n.length>>o;for(;l!==u;){const h=u+(l-u>>1),E=n[h<<o];if(i===E)return h<<o;E>i?l=h:u=h+1}return~(l<<o)}(n,i,1)}const qn=qr(N("Optional"),8),Hr=qr(N("SkipSelf"),4);var jo=(()=>((jo=jo||{})[jo.Important=1]="Important",jo[jo.DashCase=2]="DashCase",jo))();const Dl=new Map;let Qa=0;const De="__ngContext__";function Ne(n,i){di(i)?(n[De]=i[Wr],function Cl(n){Dl.set(n[Wr],n)}(i)):n[De]=i}let $o;function ha(n,i){return $o(n,i)}function Ds(n){const i=n[cr];return _r(i)?i[cr]:i}function ul(n){return bl(n[At])}function mi(n){return bl(n[pr])}function bl(n){for(;null!==n&&!_r(n);)n=n[pr];return n}function us(n,i,o,u,l){if(null!=u){let h,E=!1;_r(u)?h=u:di(u)&&(E=!0,u=u[or]);const S=Tr(u);0===n&&null!==o?null==l?qi(i,o,S):Hn(i,o,S,l||null,!0):1===n&&null!==o?Hn(i,o,S,l||null,!0):2===n?function Gf(n,i,o){const u=Xa(n,i);u&&function Ja(n,i,o,u){n.removeChild(i,o,u)}(n,u,i,o)}(i,S,E):3===n&&i.destroyNode(S),null!=h&&function pm(n,i,o,u,l){const h=o[Zi];h!==Tr(o)&&us(i,n,u,h,l);for(let S=Kr;S<o.length;S++){const P=o[S];jc(P[$t],P,n,i,u,h)}}(i,n,h,o,l)}}function Ho(n,i,o){return n.createElement(i,o)}function T(n,i){const o=n[Vs],u=o.indexOf(i),l=i[cr];512&i[xn]&&(i[xn]&=-513,is(l,-1)),o.splice(u,1)}function K(n,i){if(n.length<=Kr)return;const o=Kr+i,u=n[o];if(u){const l=u[Wn];null!==l&&l!==n&&T(l,u),i>0&&(n[o-1][pr]=u[pr]);const h=os(n,Kr+i);!function Td(n,i){jc(n,i,i[be],2,null,null),i[or]=null,i[Zr]=null}(u[$t],u);const E=h[ei];null!==E&&E.detachView(h[$t]),u[cr]=null,u[pr]=null,u[xn]&=-65}return u}function ne(n,i){if(!(128&i[xn])){const o=i[be];o.destroyNode&&jc(n,i,o,3,null,null),function D(n){let i=n[At];if(!i)return Oe(n[$t],n);for(;i;){let o=null;if(di(i))o=i[At];else{const u=i[Kr];u&&(o=u)}if(!o){for(;i&&!i[pr]&&i!==n;)di(i)&&Oe(i[$t],i),i=i[cr];null===i&&(i=n),di(i)&&Oe(i[$t],i),o=i&&i[pr]}i=o}}(i)}}function Oe(n,i){if(!(128&i[xn])){i[xn]&=-65,i[xn]|=128,function Lt(n,i){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let u=0;u<o.length;u+=2){const l=i[o[u]];if(!(l instanceof ce)){const h=o[u+1];if(Array.isArray(h))for(let E=0;E<h.length;E+=2){const S=l[h[E]],P=h[E+1];Jn(4,S,P);try{P.call(S)}finally{Jn(5,S,P)}}else{Jn(4,l,h);try{h.call(l)}finally{Jn(5,l,h)}}}}}(n,i),function lt(n,i){const o=n.cleanup,u=i[cs];let l=-1;if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const E=o[h+3];E>=0?u[l=E]():u[l=-E].unsubscribe(),h+=2}else{const E=u[l=o[h+1]];o[h].call(E)}if(null!==u){for(let h=l+1;h<u.length;h++)(0,u[h])();i[cs]=null}}(n,i),1===i[$t].type&&i[be].destroy();const o=i[Wn];if(null!==o&&_r(i[cr])){o!==i[cr]&&T(o,i);const u=i[ei];null!==u&&u.detachView(n)}!function Jl(n){Dl.delete(n[Wr])}(i)}}function tn(n,i,o){return function bn(n,i,o){let u=i;for(;null!==u&&40&u.type;)u=(i=u).parent;if(null===u)return o[or];{const{componentOffset:l}=u;if(l>-1){const{encapsulation:h}=n.data[u.directiveStart+l];if(h===st.None||h===st.Emulated)return null}return Ni(u,o)}}(n,i.parent,o)}function Hn(n,i,o,u,l){n.insertBefore(i,o,u,l)}function qi(n,i,o){n.appendChild(i,o)}function Ia(n,i,o,u,l){null!==u?Hn(n,i,o,u,l):qi(n,i,o)}function Xa(n,i){return n.parentNode(i)}let $u,cl,Sd,Ad,ec=function mu(n,i,o){return 40&n.type?Ni(n,o):null};function Ml(n,i,o,u){const l=tn(n,u,i),h=i[be],S=function Al(n,i,o){return ec(n,i,o)}(u.parent||i[Zr],u,i);if(null!=l)if(Array.isArray(o))for(let P=0;P<o.length;P++)Ia(h,l,o[P],S,!1);else Ia(h,l,o,S,!1);void 0!==$u&&$u(h,u,i,o,l)}function ll(n,i){if(null!==i){const o=i.type;if(3&o)return Ni(i,n);if(4&o)return Bc(-1,n[i.index]);if(8&o){const u=i.child;if(null!==u)return ll(n,u);{const l=n[i.index];return _r(l)?Bc(-1,l):Tr(l)}}if(32&o)return ha(i,n)()||Tr(n[i.index]);{const u=Hu(n,i);return null!==u?Array.isArray(u)?u[0]:ll(Ds(n[pn]),u):ll(n,i.next)}}return null}function Hu(n,i){return null!==i?n[pn][Zr].projection[i.projection]:null}function Bc(n,i){const o=Kr+n+1;if(o<i.length){const u=i[o],l=u[$t].firstChild;if(null!==l)return ll(u,l)}return i[Zi]}function Wf(n,i,o,u,l,h,E){for(;null!=o;){const S=u[o.index],P=o.type;if(E&&0===i&&(S&&Ne(Tr(S),u),o.flags|=2),32!=(32&o.flags))if(8&P)Wf(n,i,o.child,u,l,h,!1),us(i,n,l,S,h);else if(32&P){const z=ha(o,u);let X;for(;X=z();)us(i,n,l,X,h);us(i,n,l,S,h)}else 16&P?zo(n,i,u,o,l,h):us(i,n,l,S,h);o=E?o.projectionNext:o.next}}function jc(n,i,o,u,l,h){Wf(o,u,n.firstChild,i,l,h,!1)}function zo(n,i,o,u,l,h){const E=o[pn],P=E[Zr].projection[u.projection];if(Array.isArray(P))for(let z=0;z<P.length;z++)us(i,n,l,P[z],h);else Wf(n,i,P,E[cr],l,h,!0)}function Kf(n,i,o){""===o?n.removeAttribute(i,"class"):n.setAttribute(i,"class",o)}function qf(n,i,o){const{mergedAttrs:u,classes:l,styles:h}=o;null!==u&&rr(n,i,u),null!==l&&Kf(n,i,l),null!==h&&function Rl(n,i,o){n.setAttribute(i,"style",o)}(n,i,h)}function nc(n){return function Zf(){if(void 0===cl&&(cl=null,fr.trustedTypes))try{cl=fr.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return cl}()?.createHTML(n)||n}function gm(n){Sd=n}function Ch(){if(void 0===Ad&&(Ad=null,fr.trustedTypes))try{Ad=fr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Ad}function Qf(n){return Ch()?.createHTML(n)||n}function ym(n){return Ch()?.createScriptURL(n)||n}class rc{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${mt})`}}class vm extends rc{getTypeName(){return"HTML"}}class Qv extends rc{getTypeName(){return"Style"}}class _m extends rc{getTypeName(){return"Script"}}class Jv extends rc{getTypeName(){return"URL"}}class Xv extends rc{getTypeName(){return"ResourceURL"}}function dl(n){return n instanceof rc?n.changingThisBreaksApplicationSecurity:n}function Ol(n,i){const o=function ic(n){return n instanceof rc&&n.getTypeName()||null}(n);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see ${mt})`)}return o===i}function Md(n){return new vm(n)}function Th(n){return new Qv(n)}function bh(n){return new _m(n)}function Em(n){return new Jv(n)}function wm(n){return new Xv(n)}class Im{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const o=(new window.DOMParser).parseFromString(nc(i),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(i):(o.removeChild(o.firstChild),o)}catch{return null}}}class $c{constructor(i){this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(i){const o=this.inertDocument.createElement("template");return o.innerHTML=nc(i),o}}const Jf=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function sc(n){return(n=String(n)).match(Jf)?n:"unsafe:"+n}function Ru(n){const i={};for(const o of n.split(","))i[o]=!0;return i}function Ou(...n){const i={};for(const o of n)for(const u in o)o.hasOwnProperty(u)&&(i[u]=!0);return i}const fa=Ru("area,br,col,hr,img,wbr"),Sh=Ru("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Rd=Ru("rp,rt"),oc=Ou(fa,Ou(Sh,Ru("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ou(Rd,Ru("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ou(Rd,Sh)),Mh=Ru("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Gu=Ou(Mh,Ru("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ru("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),n_=Ru("script,style,template");class Na{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let o=i.firstChild,u=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?u=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,u&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let l=this.checkClobberedElement(o,o.nextSibling);if(l){o=l;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(i){const o=i.nodeName.toLowerCase();if(!oc.hasOwnProperty(o))return this.sanitizedSomething=!0,!n_.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const u=i.attributes;for(let l=0;l<u.length;l++){const h=u.item(l),E=h.name,S=E.toLowerCase();if(!Gu.hasOwnProperty(S)){this.sanitizedSomething=!0;continue}let P=h.value;Mh[S]&&(P=sc(P)),this.buf.push(" ",E,'="',Xf(P),'"')}return this.buf.push(">"),!0}endElement(i){const o=i.nodeName.toLowerCase();oc.hasOwnProperty(o)&&!fa.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(i){this.buf.push(Xf(i))}checkClobberedElement(i,o){if(o&&(i.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return o}}const Tm=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Od=/([^\#-~ |!])/g;function Xf(n){return n.replace(/&/g,"&amp;").replace(Tm,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(Od,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let eu;function ep(n,i){let o=null;try{eu=eu||function zu(n){const i=new $c(n);return function Dm(){try{return!!(new window.DOMParser).parseFromString(nc(""),"text/html")}catch{return!1}}()?new Im(i):i}(n);let u=i?String(i):"";o=eu.getInertBodyElement(u);let l=5,h=u;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,u=h,h=o.innerHTML,o=eu.getInertBodyElement(u)}while(u!==h);return nc((new Na).sanitizeChildren(ac(o)||o))}finally{if(o){const u=ac(o)||o;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function ac(n){return"content"in n&&function r_(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Xs=(()=>((Xs=Xs||{})[Xs.NONE=0]="NONE",Xs[Xs.HTML=1]="HTML",Xs[Xs.STYLE=2]="STYLE",Xs[Xs.SCRIPT=3]="SCRIPT",Xs[Xs.URL=4]="URL",Xs[Xs.RESOURCE_URL=5]="RESOURCE_URL",Xs))();function mr(n){const i=Pu();return i?Qf(i.sanitize(Xs.HTML,n)||""):Ol(n,"HTML")?Qf(dl(n)):ep(function Dh(){return void 0!==Sd?Sd:typeof document<"u"?document:void 0}(),pt(n))}function Pd(n){const i=Pu();return i?i.sanitize(Xs.URL,n)||"":Ol(n,"URL")?dl(n):sc(pt(n))}function tp(n){const i=Pu();if(i)return ym(i.sanitize(Xs.RESOURCE_URL,n)||"");if(Ol(n,"ResourceURL"))return ym(dl(n));throw new We(904,!1)}function Am(n,i,o){return function s_(n,i){return"src"===i&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===i&&("base"===n||"link"===n)?tp:Pd}(i,o)(n)}function Pu(){const n=Ye();return n&&n[yt]}const Oh=new A("ENVIRONMENT_INITIALIZER"),Pl=new A("INJECTOR",-1),np=new A("INJECTOR_DEF_TYPES");class uc{get(i,o=Ei){if(o===Ei){const u=new Error(`NullInjectorError: No provider for ${Ae(i)}!`);throw u.name="NullInjectorError",u}return o}}function Mm(n){return{\u0275providers:n}}function Rm(...n){return{\u0275providers:Hc(0,n),\u0275fromNgModule:!0}}function Hc(n,...i){const o=[],u=new Set;let l;return Jr(i,h=>{const E=h;rp(E,o,[],u)&&(l||(l=[]),l.push(E))}),void 0!==l&&Om(l,o),o}function Om(n,i){for(let o=0;o<n.length;o++){const{providers:l}=n[o];zc(l,h=>{i.push(h)})}}function rp(n,i,o,u){if(!(n=de(n)))return!1;let l=null,h=Vn(n);const E=!h&&on(n);if(h||E){if(E&&!E.standalone)return!1;l=n}else{const P=n.ngModule;if(h=Vn(P),!h)return!1;l=P}const S=u.has(l);if(E){if(S)return!1;if(u.add(l),E.dependencies){const P="function"==typeof E.dependencies?E.dependencies():E.dependencies;for(const z of P)rp(z,i,o,u)}}else{if(!h)return!1;{if(null!=h.imports&&!S){let z;u.add(l);try{Jr(h.imports,X=>{rp(X,i,o,u)&&(z||(z=[]),z.push(X))})}finally{}void 0!==z&&Om(z,i)}if(!S){const z=Ms(l)||(()=>new l);i.push({provide:l,useFactory:z,deps:Mt},{provide:np,useValue:l,multi:!0},{provide:Oh,useValue:()=>Vt(l),multi:!0})}const P=h.providers;null==P||S||zc(P,X=>{i.push(X)})}}return l!==n&&void 0!==n.providers}function zc(n,i){for(let o of n)Ze(o)&&(o=o.\u0275providers),Array.isArray(o)?zc(o,i):i(o)}const Ph=we({provide:String,useValue:we});function xh(n){return null!==n&&"object"==typeof n&&Ph in n}function lc(n){return"function"==typeof n}const xl=new A("Set Injector scope."),yu={},Nm={};let Nh;function Nd(){return void 0===Nh&&(Nh=new uc),Nh}class vu{}class kh extends vu{get destroyed(){return this._destroyed}constructor(i,o,u,l){super(),this.parent=o,this.source=u,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Fh(i,E=>this.processProvider(E)),this.records.set(Pl,Wc(void 0,this)),l.has("environment")&&this.records.set(vu,Wc(void 0,this));const h=this.records.get(xl);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(np.multi,Mt,zt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const o=kn(this),u=Cr(void 0);try{return i()}finally{kn(o),Cr(u)}}get(i,o=Ei,u=zt.Default){this.assertNotDestroyed(),u=er(u);const l=kn(this),h=Cr(void 0);try{if(!(u&zt.SkipSelf)){let S=this.records.get(i);if(void 0===S){const P=function Fm(n){return"function"==typeof n||"object"==typeof n&&n instanceof A}(i)&&He(i);S=P&&this.injectableDefInScope(P)?Wc(kd(i),yu):null,this.records.set(i,S)}if(null!=S)return this.hydrate(i,S)}return(u&zt.Self?Nd():this.parent).get(i,o=u&zt.Optional&&o===Ei?null:o)}catch(E){if("NullInjectorError"===E.name){if((E[Er]=E[Er]||[]).unshift(Ae(i)),l)throw E;return function Nr(n,i,o,u){const l=n[Er];throw i[ur]&&l.unshift(i[ur]),n.message=function fe(n,i,o,u=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==Ur?n.slice(2):n;let l=Ae(i);if(Array.isArray(i))l=i.map(Ae).join(" -> ");else if("object"==typeof i){let h=[];for(let E in i)if(i.hasOwnProperty(E)){let S=i[E];h.push(E+":"+("string"==typeof S?JSON.stringify(S):Ae(S)))}l=`{${h.join(", ")}}`}return`${o}${u?"("+u+")":""}[${l}]: ${n.replace(Vr,"\n  ")}`}("\n"+n.message,l,o,u),n[Oi]=l,n[Er]=null,n}(E,i,"R3InjectorError",this.source)}throw E}finally{Cr(h),kn(l)}}resolveInjectorInitializers(){const i=kn(this),o=Cr(void 0);try{const u=this.get(Oh.multi,Mt,zt.Self);for(const l of u)l()}finally{kn(i),Cr(o)}}toString(){const i=[],o=this.records;for(const u of o.keys())i.push(Ae(u));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new We(205,!1)}processProvider(i){let o=lc(i=de(i))?i:de(i&&i.provide);const u=function sp(n){return xh(n)?Wc(void 0,n.useValue):Wc(km(n),yu)}(i);if(lc(i)||!0!==i.multi)this.records.get(o);else{let l=this.records.get(o);l||(l=Wc(void 0,yu,!0),l.factory=()=>Rt(l.multi),this.records.set(o,l)),o=i,l.multi.push(i)}this.records.set(o,u)}hydrate(i,o){return o.value===yu&&(o.value=Nm,o.value=o.factory()),"object"==typeof o.value&&o.value&&function Xr(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(i){if(!i.providedIn)return!1;const o=de(i.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function kd(n){const i=He(n),o=null!==i?i.factory:Ms(n);if(null!==o)return o;if(n instanceof A)throw new We(204,!1);if(n instanceof Function)return function ip(n){const i=n.length;if(i>0)throw function gi(n,i){const o=[];for(let u=0;u<n;u++)o.push(i);return o}(i,"?"),new We(204,!1);const o=function Rn(n){return n&&(n[an]||n[ci])||null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new We(204,!1)}function km(n,i,o){let u;if(lc(n)){const l=de(n);return Ms(l)||kd(l)}if(xh(n))u=()=>de(n.useValue);else if(function Gc(n){return!(!n||!n.useFactory)}(n))u=()=>n.useFactory(...Rt(n.deps||[]));else if(function Pm(n){return!(!n||!n.useExisting)}(n))u=()=>Vt(de(n.useExisting));else{const l=de(n&&(n.useClass||n.provide));if(!function lo(n){return!!n.deps}(n))return Ms(l)||kd(l);u=()=>new l(...Rt(n.deps))}return u}function Wc(n,i,o=!1){return{factory:n,value:i,multi:o?[]:void 0}}function Fh(n,i){for(const o of n)Array.isArray(o)?Fh(o,i):o&&Ze(o)?Fh(o.\u0275providers,i):i(o)}class op{}class Fd{}class Um{resolveComponentFactory(i){throw function Lm(n){const i=Error(`No component factory found for ${Ae(n)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=n,i}(i)}}let cc=(()=>{class n{}return n.NULL=new Um,n})();function Ld(){return Wu(fi(),Ye())}function Wu(n,i){return new hl(Ni(n,i))}let hl=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=Ld,n})();function Lh(n){return n instanceof hl?n.nativeElement:n}class ap{}let Bm=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function jm(){const n=Ye(),o=Yr(fi().index,n);return(di(o)?o:n)[be]}(),n})(),u_=(()=>{class n{}return n.\u0275prov=Ve({token:n,providedIn:"root",factory:()=>null}),n})();class up{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const lp=new up("15.2.9"),cp={},dp="ngOriginalError";function hp(n){return n[dp]}class dc{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i);this._console.error("ERROR",i),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&hp(i);for(;o&&hp(o);)o=hp(o);return o||null}}function xu(n){return n instanceof Function?n():n}function Gm(n,i,o){let u=n.length;for(;;){const l=n.indexOf(i,o);if(-1===l)return l;if(0===l||n.charCodeAt(l-1)<=32){const h=i.length;if(l+h===u||n.charCodeAt(l+h)<=32)return l}o=l+1}}const qc="ng-template";function gp(n,i,o){let u=0,l=!0;for(;u<n.length;){let h=n[u++];if("string"==typeof h&&l){const E=n[u++];if(o&&"class"===h&&-1!==Gm(E.toLowerCase(),i,0))return!0}else{if(1===h){for(;u<n.length&&"string"==typeof(h=n[u++]);)if(h.toLowerCase()===i)return!0;return!1}"number"==typeof h&&(l=!1)}}return!1}function Wm(n){return 4===n.type&&n.value!==qc}function Km(n,i,o){return i===(4!==n.type||o?n.value:qc)}function mp(n,i,o){let u=4;const l=n.attrs||[],h=function g_(n){for(let i=0;i<n.length;i++)if(Si(n[i]))return i;return n.length}(l);let E=!1;for(let S=0;S<i.length;S++){const P=i[S];if("number"!=typeof P){if(!E)if(4&u){if(u=2|1&u,""!==P&&!Km(n,P,o)||""===P&&1===i.length){if(_u(u))return!1;E=!0}}else{const z=8&u?P:i[++S];if(8&u&&null!==n.attrs){if(!gp(n.attrs,z,o)){if(_u(u))return!1;E=!0}continue}const ue=f_(8&u?"class":P,l,Wm(n),o);if(-1===ue){if(_u(u))return!1;E=!0;continue}if(""!==z){let Pe;Pe=ue>h?"":l[ue+1].toLowerCase();const qe=8&u?Pe:null;if(qe&&-1!==Gm(qe,z,0)||2&u&&z!==Pe){if(_u(u))return!1;E=!0}}}}else{if(!E&&!_u(u)&&!_u(P))return!1;if(E&&_u(P))continue;E=!1,u=P|1&u}}return _u(u)||E}function _u(n){return 0==(1&n)}function f_(n,i,o,u){if(null===i)return-1;let l=0;if(u||!o){let h=!1;for(;l<i.length;){const E=i[l];if(E===n)return l;if(3===E||6===E)h=!0;else{if(1===E||2===E){let S=i[++l];for(;"string"==typeof S;)S=i[++l];continue}if(4===E)break;if(0===E){l+=4;continue}}l+=h?1:2}return-1}return function m_(n,i){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const u=n[o];if("number"==typeof u)return-1;if(u===i)return o;o++}return-1}(i,n)}function yp(n,i,o=!1){for(let u=0;u<i.length;u++)if(mp(n,i[u],o))return!0;return!1}function hc(n,i){return n?":not("+i.trim()+")":i}function qm(n){let i=n[0],o=1,u=2,l="",h=!1;for(;o<n.length;){let E=n[o];if("string"==typeof E)if(2&u){const S=n[++o];l+="["+E+(S.length>0?'="'+S+'"':"")+"]"}else 8&u?l+="."+E:4&u&&(l+=" "+E);else""!==l&&!_u(E)&&(i+=hc(h,l),l=""),u=E,h=h||!_u(u);o++}return""!==l&&(i+=hc(h,l)),i}const zn={};function vp(n){Ym(_n(),Ye(),br()+n,!1)}function Ym(n,i,o,u){if(!u)if(3==(3&i[xn])){const h=n.preOrderCheckHooks;null!==h&&_a(i,h,o)}else{const h=n.preOrderHooks;null!==h&&ja(i,h,0,o)}Gs(o)}function wp(n,i=null,o=null,u){const l=Ip(n,i,o,u);return l.resolveInjectorInitializers(),l}function Ip(n,i=null,o=null,u,l=new Set){const h=[o||Mt,Rm(n)];return u=u||("object"==typeof n?void 0:Ae(n)),new kh(h,i||Nd(),u||null,l)}let gc=(()=>{class n{static create(o,u){if(Array.isArray(o))return wp({name:""},u,o,"");{const l=o.name??"";return wp({name:l},o.parent,o.providers,l)}}}return n.THROW_IF_NOT_FOUND=Ei,n.NULL=new uc,n.\u0275prov=Ve({token:n,providedIn:"any",factory:()=>Vt(Pl)}),n.__NG_ELEMENT_ID__=-1,n})();function Ku(n,i=zt.Default){const o=Ye();return null===o?Vt(n,i):uu(fi(),o,de(n),i)}function Rp(){throw new Error("invalid")}function sa(n,i){const o=n.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const h=o[u+1];if(-1!==h){const E=n.data[h];Ma(o[u]),E.contentQueries(2,i[h],h)}}}function mc(n,i,o,u,l,h,E,S,P,z,X){const ue=i.blueprint.slice();return ue[or]=l,ue[xn]=76|u,(null!==X||n&&1024&n[xn])&&(ue[xn]|=1024),hi(ue),ue[cr]=ue[Fn]=n,ue[kr]=o,ue[Te]=E||n&&n[Te],ue[be]=S||n&&n[be],ue[yt]=P||n&&n[yt]||null,ue[Re]=z||n&&n[Re]||null,ue[Zr]=h,ue[Wr]=function Yl(){return Qa++}(),ue[ai]=X,ue[pn]=2==i.type?n[pn]:ue,ue}function yc(n,i,o,u,l){let h=n.data[i];if(null===h)h=function qu(n,i,o,u,l){const h=Fa(),E=Os(),P=n.data[i]=function w_(n,i,o,u,l,h){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,E?h:h&&h.parent,o,i,u,l);return null===n.firstChild&&(n.firstChild=P),null!==h&&(E?null==h.child&&null!==P.parent&&(h.child=P):null===h.next&&(h.next=P,P.prev=h)),P}(n,i,o,u,l),function Aa(){return Pn.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=o,h.value=u,h.attrs=l;const E=function Qo(){const n=Pn.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();h.injectorIndex=null===E?-1:E.injectorIndex}return ms(h,!0),h}function Zu(n,i,o,u){if(0===o)return-1;const l=i.length;for(let h=0;h<o;h++)i.push(u),n.blueprint.push(u),n.data.push(null);return l}function Gh(n,i,o){Ns(i);try{const u=n.viewQuery;null!==u&&Bp(1,u,o);const l=n.template;null!==l&&ay(n,i,l,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&sa(n,i),n.staticViewQueries&&Bp(2,n.viewQuery,o);const h=n.components;null!==h&&function zh(n,i){for(let o=0;o<i.length;o++)Up(n,i[o])}(i,h)}catch(u){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),u}finally{i[xn]&=-5,na()}}function Yu(n,i,o,u){const l=i[xn];if(128!=(128&l)){Ns(i);try{hi(i),function xs(n){return Pn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&ay(n,i,o,2,u);const E=3==(3&l);if(E){const z=n.preOrderCheckHooks;null!==z&&_a(i,z,null)}else{const z=n.preOrderHooks;null!==z&&ja(i,z,0,null),R(i,0)}if(function zd(n){for(let i=ul(n);null!==i;i=mi(i)){if(!i[Mo])continue;const o=i[Vs];for(let u=0;u<o.length;u++){const l=o[u];512&l[xn]||is(l[cr],1),l[xn]|=512}}}(i),function Vp(n){for(let i=ul(n);null!==i;i=mi(i))for(let o=Kr;o<i.length;o++){const u=i[o],l=u[$t];Ji(u)&&Yu(l,u,l.template,u[kr])}}(i),null!==n.contentQueries&&sa(n,i),E){const z=n.contentCheckHooks;null!==z&&_a(i,z)}else{const z=n.contentHooks;null!==z&&ja(i,z,1),R(i,1)}!function sy(n,i){const o=n.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const l=o[u];if(l<0)Gs(~l);else{const h=l,E=o[++u],S=o[++u];La(E,h),S(2,i[h])}}}finally{Gs(-1)}}(n,i);const S=n.components;null!==S&&function oy(n,i){for(let o=0;o<i.length;o++)Yh(n,i[o])}(i,S);const P=n.viewQuery;if(null!==P&&Bp(2,P,u),E){const z=n.viewCheckHooks;null!==z&&_a(i,z)}else{const z=n.viewHooks;null!==z&&ja(i,z,2),R(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[xn]&=-41,512&i[xn]&&(i[xn]&=-513,is(i[cr],-1))}finally{na()}}}function ay(n,i,o,u,l){const h=br(),E=2&u;try{Gs(-1),E&&i.length>wr&&Ym(n,i,wr,!1),Jn(E?2:0,l),o(u,l)}finally{Gs(h),Jn(E?3:1,l)}}function Ll(n,i,o){if($r(i)){const l=i.directiveEnd;for(let h=i.directiveStart;h<l;h++){const E=n.data[h];E.contentQueries&&E.contentQueries(1,o[h],h)}}}function Wh(n,i,o){tt()&&(function C_(n,i,o,u){const l=o.directiveStart,h=o.directiveEnd;to(o)&&function A_(n,i,o){const u=Ni(i,n),l=Op(o),h=n[Te],E=Qh(n,mc(n,l,null,o.onPush?32:16,u,i,h,h.createRenderer(u,o),null,null,null));n[i.index]=E}(i,o,n.data[l+o.componentOffset]),n.firstCreatePass||za(o,i),Ne(u,i);const E=o.initialInputs;for(let S=l;S<h;S++){const P=n.data[S],z=Dn(i,n,S,o);Ne(z,i),null!==E&&M_(0,S-l,z,P,0,E),Ii(P)&&(Yr(o.index,i)[kr]=Dn(i,n,S,o))}}(n,i,o,Ni(o,i)),64==(64&o.flags)&&fy(n,i,o))}function Qu(n,i,o=Ni){const u=i.localNames;if(null!==u){let l=i.index+1;for(let h=0;h<u.length;h+=2){const E=u[h+1],S=-1===E?o(i,n):n[E];n[l++]=S}}}function Op(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=Pp(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):i}function Pp(n,i,o,u,l,h,E,S,P,z){const X=wr+u,ue=X+l,Pe=function uy(n,i){const o=[];for(let u=0;u<i;u++)o.push(u<n?null:zn);return o}(X,ue),qe="function"==typeof z?z():z;return Pe[$t]={type:n,blueprint:Pe,template:o,queries:null,viewQuery:S,declTNode:i,data:Pe.slice().fill(null,X),bindingStartIndex:X,expandoStartIndex:ue,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof E?E():E,firstChild:null,schemas:P,consts:qe,incompleteFirstPass:!1}}function xp(n,i,o,u){const l=yy(i);null===o?l.push(u):(l.push(o),n.firstCreatePass&&jp(n).push(u,l.length-1))}function Hd(n,i,o,u){for(let l in n)if(n.hasOwnProperty(l)){o=null===o?{}:o;const h=n[l];null===u?ly(o,i,l,h):u.hasOwnProperty(l)&&ly(o,i,u[l],h)}return o}function ly(n,i,o,u){n.hasOwnProperty(o)?n[o].push(i,u):n[o]=[i,u]}function tu(n,i,o,u,l,h,E,S){const P=Ni(i,o);let X,z=i.inputs;!S&&null!=z&&(X=z[u])?(Vl(n,o,X,u,l),to(i)&&function dy(n,i){const o=Yr(i,n);16&o[xn]||(o[xn]|=32)}(o,i.index)):3&i.type&&(u=function cy(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(u),l=null!=E?E(l,i.value||"",u):l,h.setProperty(P,u,l))}function qh(n,i,o,u){if(tt()){const l=null===u?null:{"":-1},h=function Go(n,i){const o=n.directiveRegistry;let u=null,l=null;if(o)for(let h=0;h<o.length;h++){const E=o[h];if(yp(i,E.selectors,!1))if(u||(u=[]),Ii(E))if(null!==E.findHostDirectiveDefs){const S=[];l=l||new Map,E.findHostDirectiveDefs(E,S,l),u.unshift(...S,E),Fp(n,i,S.length)}else u.unshift(E),Fp(n,i,0);else l=l||new Map,E.findHostDirectiveDefs?.(E,u,l),u.push(E)}return null===u?null:[u,l]}(n,o);let E,S;null===h?E=S=null:[E,S]=h,null!==E&&Np(n,i,o,E,l,S),l&&function T_(n,i,o){if(i){const u=n.localNames=[];for(let l=0;l<i.length;l+=2){const h=o[i[l+1]];if(null==h)throw new We(-301,!1);u.push(i[l],h)}}}(o,u,l)}o.mergedAttrs=ki(o.mergedAttrs,o.attrs)}function Np(n,i,o,u,l,h){for(let z=0;z<u.length;z++)Vo(za(o,i),n,u[z].type);!function S_(n,i,o){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+o,n.providerIndexes=i}(o,n.data.length,u.length);for(let z=0;z<u.length;z++){const X=u[z];X.providersResolver&&X.providersResolver(X)}let E=!1,S=!1,P=Zu(n,i,u.length,null);for(let z=0;z<u.length;z++){const X=u[z];o.mergedAttrs=ki(o.mergedAttrs,X.hostAttrs),Lp(n,o,i,P,X),b_(P,X,l),null!==X.contentQueries&&(o.flags|=4),(null!==X.hostBindings||null!==X.hostAttrs||0!==X.hostVars)&&(o.flags|=64);const ue=X.type.prototype;!E&&(ue.ngOnChanges||ue.ngOnInit||ue.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(o.index),E=!0),!S&&(ue.ngOnChanges||ue.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(o.index),S=!0),P++}!function I_(n,i,o){const l=i.directiveEnd,h=n.data,E=i.attrs,S=[];let P=null,z=null;for(let X=i.directiveStart;X<l;X++){const ue=h[X],Pe=o?o.get(ue):null,Ct=Pe?Pe.outputs:null;P=Hd(ue.inputs,X,P,Pe?Pe.inputs:null),z=Hd(ue.outputs,X,z,Ct);const Kt=null===P||null===E||Wm(i)?null:py(P,X,E);S.push(Kt)}null!==P&&(P.hasOwnProperty("class")&&(i.flags|=8),P.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=S,i.inputs=P,i.outputs=z}(n,o,h)}function fy(n,i,o){const u=o.directiveStart,l=o.directiveEnd,h=o.index,E=function Vu(){return Pn.lFrame.currentDirectiveIndex}();try{Gs(h);for(let S=u;S<l;S++){const P=n.data[S],z=i[S];pi(S),(null!==P.hostBindings||0!==P.hostVars||null!==P.hostAttrs)&&kp(P,z)}}finally{Gs(-1),pi(E)}}function kp(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function Fp(n,i,o){i.componentOffset=o,(n.components??(n.components=[])).push(i.index)}function b_(n,i,o){if(o){if(i.exportAs)for(let u=0;u<i.exportAs.length;u++)o[i.exportAs[u]]=n;Ii(i)&&(o[""]=n)}}function Lp(n,i,o,u,l){n.data[u]=l;const h=l.factory||(l.factory=Ms(l.type)),E=new ce(h,Ii(l),Ku);n.blueprint[u]=E,o[u]=E,function D_(n,i,o,u,l){const h=l.hostBindings;if(h){let E=n.hostBindingOpCodes;null===E&&(E=n.hostBindingOpCodes=[]);const S=~i.index;(function hy(n){let i=n.length;for(;i>0;){const o=n[--i];if("number"==typeof o&&o<0)return o}return 0})(E)!=S&&E.push(S),E.push(o,u,h)}}(n,i,u,Zu(n,o,l.hostVars,zn),l)}function nu(n,i,o,u,l,h){const E=Ni(n,i);!function Xc(n,i,o,u,l,h,E){if(null==h)n.removeAttribute(i,l,o);else{const S=null==E?pt(h):E(h,u||"",l);n.setAttribute(i,l,S,o)}}(i[be],E,h,n.value,o,u,l)}function M_(n,i,o,u,l,h){const E=h[i];if(null!==E){const S=u.setInput;for(let P=0;P<E.length;){const z=E[P++],X=E[P++],ue=E[P++];null!==S?u.setInput(o,ue,z,X):o[X]=ue}}}function py(n,i,o){let u=null,l=0;for(;l<o.length;){const h=o[l];if(0!==h)if(5!==h){if("number"==typeof h)break;if(n.hasOwnProperty(h)){null===u&&(u=[]);const E=n[h];for(let S=0;S<E.length;S+=2)if(E[S]===i){u.push(h,E[S+1],o[l+1]);break}}l+=2}else l+=2;else l+=4}return u}function Zh(n,i,o,u){return[n,!0,!1,i,null,0,u,o,null,null]}function Yh(n,i){const o=Yr(i,n);if(Ji(o)){const u=o[$t];48&o[xn]?Yu(u,o,u.template,o[kr]):o[wi]>0&&Gd(o)}}function Gd(n){for(let u=ul(n);null!==u;u=mi(u))for(let l=Kr;l<u.length;l++){const h=u[l];if(Ji(h))if(512&h[xn]){const E=h[$t];Yu(E,h,E.template,h[kr])}else h[wi]>0&&Gd(h)}const o=n[$t].components;if(null!==o)for(let u=0;u<o.length;u++){const l=Yr(o[u],n);Ji(l)&&l[wi]>0&&Gd(l)}}function Up(n,i){const o=Yr(i,n),u=o[$t];(function gy(n,i){for(let o=i.length;o<n.blueprint.length;o++)i.push(n.blueprint[o])})(u,o),Gh(u,o,o[kr])}function Qh(n,i){return n[At]?n[En][pr]=i:n[At]=i,n[En]=i,i}function Wd(n){for(;n;){n[xn]|=32;const i=Ds(n);if(ds(n)&&!i)return n;n=i}return null}function Kd(n,i,o,u=!0){const l=i[Te];l.begin&&l.begin();try{Yu(n,i,n.template,o)}catch(E){throw u&&_c(i,E),E}finally{l.end&&l.end()}}function Bp(n,i,o){Ma(0),i(n,o)}function yy(n){return n[cs]||(n[cs]=[])}function jp(n){return n.cleanup||(n.cleanup=[])}function _c(n,i){const o=n[Re],u=o?o.get(dc,null):null;u&&u.handleError(i)}function Vl(n,i,o,u,l){for(let h=0;h<o.length;){const E=o[h++],S=o[h++],P=i[E],z=n.data[E];null!==z.setInput?z.setInput(P,l,u,S):P[S]=l}}function Nu(n,i,o){const u=go(i,n);!function Cd(n,i,o){n.setValue(i,o)}(n[be],u,o)}function Ec(n,i,o){let u=o?n.styles:null,l=o?n.classes:null,h=0;if(null!==i)for(let E=0;E<i.length;E++){const S=i[E];"number"==typeof S?h=S:1==h?l=ve(l,S):2==h&&(u=ve(u,S+": "+i[++E]+";"))}o?n.styles=u:n.stylesWithoutHost=u,o?n.classes=l:n.classesWithoutHost=l}function qd(n,i,o,u,l=!1){for(;null!==o;){const h=i[o.index];if(null!==h&&u.push(Tr(h)),_r(h))for(let S=Kr;S<h.length;S++){const P=h[S],z=P[$t].firstChild;null!==z&&qd(P[$t],P,z,u)}const E=o.type;if(8&E)qd(n,i,o.child,u);else if(32&E){const S=ha(o,i);let P;for(;P=S();)u.push(P)}else if(16&E){const S=Hu(i,o);if(Array.isArray(S))u.push(...S);else{const P=Ds(i[pn]);qd(P[$t],P,S,u,!0)}}o=l?o.projectionNext:o.next}return u}class ed{get rootNodes(){const i=this._lView,o=i[$t];return qd(o,i,o.firstChild,[])}constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[kr]}set context(i){this._lView[kr]=i}get destroyed(){return 128==(128&this._lView[xn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[cr];if(_r(i)){const o=i[rs],u=o?o.indexOf(this):-1;u>-1&&(K(i,u),os(o,u))}this._attachedToViewContainer=!1}ne(this._lView[$t],this._lView)}onDestroy(i){xp(this._lView[$t],this._lView,null,i)}markForCheck(){Wd(this._cdRefInjectingView||this._lView)}detach(){this._lView[xn]&=-65}reattach(){this._lView[xn]|=64}detectChanges(){Kd(this._lView[$t],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new We(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Js(n,i){jc(n,i,i[be],2,null,null)}(this._lView[$t],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new We(902,!1);this._appRef=i}}class _y extends ed{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;Kd(i[$t],i,i[kr],!1)}checkNoChanges(){}get context(){return null}}class Ey extends cc{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=on(i);return new td(o,this.ngModule)}}function Jh(n){const i=[];for(let o in n)n.hasOwnProperty(o)&&i.push({propName:n[o],templateName:o});return i}class $p{constructor(i,o){this.injector=i,this.parentInjector=o}get(i,o,u){u=er(u);const l=this.injector.get(i,cp,u);return l!==cp||o===cp?l:this.parentInjector.get(i,o,u)}}class td extends Fd{get inputs(){return Jh(this.componentDef.inputs)}get outputs(){return Jh(this.componentDef.outputs)}constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function y_(n){return n.map(qm).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}create(i,o,u,l){let h=(l=l||this.ngModule)instanceof vu?l:l?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const E=h?new $p(i,h):i,S=E.get(ap,null);if(null===S)throw new We(407,!1);const P=E.get(u_,null),z=S.createRenderer(null,this.componentDef),X=this.componentDef.selectors[0][0]||"div",ue=u?function E_(n,i,o){return n.selectRootElement(i,o===st.ShadowDom)}(z,u,this.componentDef.encapsulation):Ho(z,X,function O_(n){const i=n.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(X)),Pe=this.componentDef.onPush?288:272,qe=Pp(0,null,null,1,0,null,null,null,null,null),Ct=mc(null,qe,null,Pe,null,null,S,z,P,E,null);let Kt,hn;Ns(Ct);try{const Mn=this.componentDef;let sr,Pt=null;Mn.findHostDirectiveDefs?(sr=[],Pt=new Map,Mn.findHostDirectiveDefs(Mn,sr,Pt),sr.push(Mn)):sr=[Mn];const yr=function Xh(n,i){const o=n[$t],u=wr;return n[u]=i,yc(o,u,2,"#host",null)}(Ct,ue),Ls=function Zd(n,i,o,u,l,h,E,S){const P=l[$t];!function ef(n,i,o,u){for(const l of n)i.mergedAttrs=ki(i.mergedAttrs,l.hostAttrs);null!==i.mergedAttrs&&(Ec(i,i.mergedAttrs,!0),null!==o&&qf(u,o,i))}(u,n,i,E);const z=h.createRenderer(i,o),X=mc(l,Op(o),null,o.onPush?32:16,l[n.index],n,h,z,S||null,null,null);return P.firstCreatePass&&Fp(P,n,u.length-1),Qh(l,X),l[n.index]=X}(yr,ue,Mn,sr,Ct,S,z);hn=ps(qe,wr),ue&&function zp(n,i,o,u){if(u)rr(n,o,["ng-version",lp.full]);else{const{attrs:l,classes:h}=function Zm(n){const i=[],o=[];let u=1,l=2;for(;u<n.length;){let h=n[u];if("string"==typeof h)2===l?""!==h&&i.push(h,n[++u]):8===l&&o.push(h);else{if(!_u(l))break;l=h}u++}return{attrs:i,classes:o}}(i.selectors[0]);l&&rr(n,o,l),h&&h.length>0&&Kf(n,o,h.join(" "))}}(z,Mn,ue,u),void 0!==o&&function Gp(n,i,o){const u=n.projection=[];for(let l=0;l<i.length;l++){const h=o[l];u.push(null!=h?Array.from(h):null)}}(hn,this.ngContentSelectors,o),Kt=function Hp(n,i,o,u,l,h){const E=fi(),S=l[$t],P=Ni(E,l);Np(S,l,E,o,null,u);for(let X=0;X<o.length;X++)Ne(Dn(l,S,E.directiveStart+X,E),l);fy(S,l,E),P&&Ne(P,l);const z=Dn(l,S,E.directiveStart+E.componentOffset,E);if(n[kr]=l[kr]=z,null!==h)for(const X of h)X(z,i);return Ll(S,E,n),z}(Ls,Mn,sr,Pt,Ct,[Dy]),Gh(qe,Ct,null)}finally{na()}return new wy(this.componentType,Kt,Wu(hn,Ct),Ct,hn)}}class wy extends op{constructor(i,o,u,l,h){super(),this.location=u,this._rootLView=l,this._tNode=h,this.instance=o,this.hostView=this.changeDetectorRef=new _y(l),this.componentType=i}setInput(i,o){const u=this._tNode.inputs;let l;if(null!==u&&(l=u[i])){const h=this._rootLView;Vl(h[$t],h,l,i,o),Wd(Yr(this._tNode.index,h))}}get injector(){return new es(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function Dy(){const n=fi();ra(Ye()[$t],n)}function tf(n){let i=function Cy(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const u=[n];for(;i;){let l;if(Ii(n))l=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new We(903,!1);l=i.\u0275dir}if(l){if(o){u.push(l);const E=n;E.inputs=Yd(n.inputs),E.declaredInputs=Yd(n.declaredInputs),E.outputs=Yd(n.outputs);const S=l.hostBindings;S&&pa(n,S);const P=l.viewQuery,z=l.contentQueries;if(P&&P_(n,P),z&&x_(n,z),Ce(n.inputs,l.inputs),Ce(n.declaredInputs,l.declaredInputs),Ce(n.outputs,l.outputs),Ii(l)&&l.data.animation){const X=n.data;X.animation=(X.animation||[]).concat(l.data.animation)}}const h=l.features;if(h)for(let E=0;E<h.length;E++){const S=h[E];S&&S.ngInherit&&S(n),S===tf&&(o=!1)}}i=Object.getPrototypeOf(i)}!function nf(n){let i=0,o=null;for(let u=n.length-1;u>=0;u--){const l=n[u];l.hostVars=i+=l.hostVars,l.hostAttrs=ki(l.hostAttrs,o=ki(o,l.hostAttrs))}}(u)}function Yd(n){return n===Be?{}:n===Mt?[]:n}function P_(n,i){const o=n.viewQuery;n.viewQuery=o?(u,l)=>{i(u,l),o(u,l)}:i}function x_(n,i){const o=n.contentQueries;n.contentQueries=o?(u,l,h)=>{i(u,l,h),o(u,l,h)}:i}function pa(n,i){const o=n.hostBindings;n.hostBindings=o?(u,l)=>{i(u,l),o(u,l)}:i}function nd(n){return!!wc(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function wc(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Do(n,i,o){return!Object.is(n[i],o)&&(n[i]=o,!0)}function ku(n,i,o,u){const l=Do(n,i,o);return Do(n,i+1,u)||l}function Jd(n,i,o,u){const l=Ye();return Do(l,ys(),i)&&(_n(),nu(Sr(),l,n,i,o,u)),Jd}function iu(n,i,o,u){return Do(n,ys(),o)?i+pt(o)+u:zn}function id(n,i,o,u,l,h,E,S){const z=function rd(n,i,o,u,l){const h=ku(n,i,o,u);return Do(n,i+2,l)||h}(n,ji(),o,l,E);return so(3),z?i+pt(o)+u+pt(l)+h+pt(E)+S:zn}function My(n,i,o,u,l,h,E,S){const P=Ye(),z=_n(),X=n+wr,ue=z.firstCreatePass?function Qp(n,i,o,u,l,h,E,S,P){const z=i.consts,X=yc(i,n,4,E||null,gs(z,S));qh(i,o,X,gs(z,P)),ra(i,X);const ue=X.tView=Pp(2,X,u,l,h,i.directiveRegistry,i.pipeRegistry,null,i.schemas,z);return null!==i.queries&&(i.queries.template(i,X),ue.queries=i.queries.embeddedTView(X)),X}(X,z,P,i,o,u,l,h,E):z.data[X];ms(ue,!1);const Pe=P[be].createComment("");Ml(z,P,Pe,ue),Ne(Pe,P),Qh(P,P[X]=Zh(Pe,P,Pe,ue)),Us(ue)&&Wh(z,P,ue),null!=E&&Qu(P,ue,S)}function Ry(n){return Ti(function Jo(){return Pn.lFrame.contextLView}(),wr+n)}function eh(n,i,o){const u=Ye();return Do(u,ys(),i)&&tu(_n(),Sr(),u,n,i,u[be],o,!1),eh}function Xp(n,i,o,u,l){const E=l?"class":"style";Vl(n,o,i.inputs[E],E,u)}function th(n,i,o,u){const l=Ye(),h=_n(),E=wr+n,S=l[be],P=h.firstCreatePass?function eg(n,i,o,u,l,h){const E=i.consts,P=yc(i,n,2,u,gs(E,l));return qh(i,o,P,gs(E,h)),null!==P.attrs&&Ec(P,P.attrs,!1),null!==P.mergedAttrs&&Ec(P,P.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,P),P}(E,h,l,i,o,u):h.data[E],z=l[E]=Ho(S,i,function ko(){return Pn.lFrame.currentNamespace}()),X=Us(P);return ms(P,!0),qf(S,z,P),32!=(32&P.flags)&&Ml(h,l,z,P),0===function F(){return Pn.lFrame.elementDepthCount}()&&Ne(z,l),function k(){Pn.lFrame.elementDepthCount++}(),X&&(Wh(h,l,P),Ll(h,P,l)),null!==u&&Qu(l,P),th}function ad(){let n=fi();Os()?zs():(n=n.parent,ms(n,!1));const i=n;!function te(){Pn.lFrame.elementDepthCount--}();const o=_n();return o.firstCreatePass&&(ra(o,n),$r(n)&&o.queries.elementEnd(n)),null!=i.classesWithoutHost&&function dr(n){return 0!=(8&n.flags)}(i)&&Xp(o,i,Ye(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function hr(n){return 0!=(16&n.flags)}(i)&&Xp(o,i,Ye(),i.stylesWithoutHost,!1),ad}function nh(n,i,o,u){return th(n,i,o,u),ad(),nh}function fl(n,i,o){const u=Ye(),l=_n(),h=n+wr,E=l.firstCreatePass?function tg(n,i,o,u,l){const h=i.consts,E=gs(h,u),S=yc(i,n,8,"ng-container",E);return null!==E&&Ec(S,E,!0),qh(i,o,S,gs(h,l)),null!==i.queries&&i.queries.elementStart(i,S),S}(h,l,u,i,o):l.data[h];ms(E,!0);const S=u[h]=u[be].createComment("");return Ml(l,u,S,E),Ne(S,u),Us(E)&&(Wh(l,u,E),Ll(l,E,u)),null!=o&&Qu(u,E),fl}function Fu(){let n=fi();const i=_n();return Os()?zs():(n=n.parent,ms(n,!1)),i.firstCreatePass&&(ra(i,n),$r(n)&&i.queries.elementEnd(n)),Fu}function Tc(){return Ye()}function Hl(n){return!!n&&"function"==typeof n.then}function ng(n){return!!n&&"function"==typeof n.subscribe}const bc=ng;function rg(n,i,o,u){const l=Ye(),h=_n(),E=fi();return function cf(n,i,o,u,l,h,E){const S=Us(u),z=n.firstCreatePass&&jp(n),X=i[kr],ue=yy(i);let Pe=!0;if(3&u.type||E){const Kt=Ni(u,i),hn=E?E(Kt):Kt,Mn=ue.length,sr=E?yr=>E(Tr(yr[u.index])):u.index;let Pt=null;if(!E&&S&&(Pt=function ig(n,i,o,u){const l=n.cleanup;if(null!=l)for(let h=0;h<l.length-1;h+=2){const E=l[h];if(E===o&&l[h+1]===u){const S=i[cs],P=l[h+2];return S.length>P?S[P]:null}"string"==typeof E&&(h+=2)}return null}(n,i,l,u.index)),null!==Pt)(Pt.__ngLastListenerFn__||Pt).__ngNextListenerFn__=h,Pt.__ngLastListenerFn__=h,Pe=!1;else{h=hf(u,i,X,h,!1);const yr=o.listen(hn,l,h);ue.push(h,yr),z&&z.push(l,sr,Mn,Mn+1)}}else h=hf(u,i,X,h,!1);const qe=u.outputs;let Ct;if(Pe&&null!==qe&&(Ct=qe[l])){const Kt=Ct.length;if(Kt)for(let hn=0;hn<Kt;hn+=2){const Ls=i[Ct[hn]][Ct[hn+1]].subscribe(h),Ao=ue.length;ue.push(h,Ls),z&&z.push(l,u.index,Ao,-(Ao+1))}}}(h,l,l[be],E,n,i,u),rg}function df(n,i,o,u){try{return Jn(6,i,o),!1!==o(u)}catch(l){return _c(n,l),!1}finally{Jn(7,i,o)}}function hf(n,i,o,u,l){return function h(E){if(E===Function)return u;Wd(n.componentOffset>-1?Yr(n.index,i):i);let P=df(i,o,u,E),z=h.__ngNextListenerFn__;for(;z;)P=df(i,o,z,E)&&P,z=z.__ngNextListenerFn__;return l&&!1===P&&(E.preventDefault(),E.returnValue=!1),P}}function Py(n=1){return function No(n){return(Pn.lFrame.contextLView=function _o(n,i){for(;n>0;)i=i[Fn],n--;return i}(n,Pn.lFrame.contextLView))[kr]}(n)}function ag(n,i,o){return ff(n,"",i,"",o),ag}function ff(n,i,o,u,l){const h=Ye(),E=iu(h,i,o,u);return E!==zn&&tu(_n(),Sr(),h,n,E,h[be],l,!1),ff}function pf(n,i){return n<<17|i<<2}function Ju(n){return n>>17&32767}function pg(n){return 2|n}function pl(n){return(131068&n)>>2}function gg(n,i){return-131069&n|i<<2}function gf(n){return 1|n}function Vy(n,i,o,u,l){const h=n[o+1],E=null===i;let S=u?Ju(h):pl(h),P=!1;for(;0!==S&&(!1===P||E);){const X=n[S+1];vg(n[S],i)&&(P=!0,n[S+1]=u?gf(X):pg(X)),S=u?Ju(X):pl(X)}P&&(n[o+1]=u?pg(h):gf(h))}function vg(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&en(n,i)>=0}const Co={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function mf(n){return n.substring(Co.key,Co.keyEnd)}function $_(n){return n.substring(Co.value,Co.valueEnd)}function yf(n,i){const o=Co.textEnd;return o===i?-1:(i=Co.keyEnd=function H_(n,i,o){for(;i<o&&n.charCodeAt(i)>32;)i++;return i}(n,Co.key=i,o),zl(n,i,o))}function Sc(n,i){const o=Co.textEnd;let u=Co.key=zl(n,i,o);return o===u?-1:(u=Co.keyEnd=function Ig(n,i,o){let u;for(;i<o&&(45===(u=n.charCodeAt(i))||95===u||(-33&u)>=65&&(-33&u)<=90||u>=48&&u<=57);)i++;return i}(n,u,o),u=Xu(n,u,o),u=Co.value=zl(n,u,o),u=Co.valueEnd=function Dg(n,i,o){let u=-1,l=-1,h=-1,E=i,S=E;for(;E<o;){const P=n.charCodeAt(E++);if(59===P)return S;34===P||39===P?S=E=Uy(n,P,E,o):i===E-4&&85===h&&82===l&&76===u&&40===P?S=E=Uy(n,41,E,o):P>32&&(S=E),h=l,l=u,u=-33&P}return S}(n,u,o),Xu(n,u,o))}function wg(n){Co.key=0,Co.keyEnd=0,Co.value=0,Co.valueEnd=0,Co.textEnd=n.length}function zl(n,i,o){for(;i<o&&n.charCodeAt(i)<=32;)i++;return i}function Xu(n,i,o,u){return(i=zl(n,i,o))<o&&i++,i}function Uy(n,i,o,u){let l=-1,h=o;for(;h<u;){const E=n.charCodeAt(h++);if(E==i&&92!==l)return h;l=92==E&&92===l?0:E}throw new Error}function Cg(n,i,o){return ou(n,i,o,!1),Cg}function Tg(n,i){return ou(n,i,null,!0),Tg}function su(n){Lu(Ef,z_,n,!1)}function z_(n,i){for(let o=function Eg(n){return wg(n),Sc(n,zl(n,0,Co.textEnd))}(i);o>=0;o=Sc(i,o))Ef(n,mf(i),$_(i))}function vf(n){Lu(Mg,el,n,!0)}function el(n,i){for(let o=function _g(n){return wg(n),yf(n,zl(n,0,Co.textEnd))}(i);o>=0;o=yf(i,o))ni(n,mf(i),!0)}function ou(n,i,o,u){const l=Ye(),h=_n(),E=so(2);h.firstUpdatePass&&bg(h,n,E,u),i!==zn&&Do(l,E,i)&&sh(h,h.data[br()],l,l[be],n,l[E+1]=function Hy(n,i){return null==n||""===n||("string"==typeof i?n+=i:"object"==typeof n&&(n=Ae(dl(n)))),n}(i,o),u,E)}function Lu(n,i,o,u){const l=_n(),h=so(2);l.firstUpdatePass&&bg(l,null,h,u);const E=Ye();if(o!==zn&&Do(E,h,o)){const S=l.data[br()];if(Ac(S,u)&&!_f(l,h)){let P=u?S.classesWithoutHost:S.stylesWithoutHost;null!==P&&(o=ve(P,o||"")),Xp(l,S,E,o,u)}else!function K_(n,i,o,u,l,h,E,S){l===zn&&(l=Mt);let P=0,z=0,X=0<l.length?l[0]:null,ue=0<h.length?h[0]:null;for(;null!==X||null!==ue;){const Pe=P<l.length?l[P+1]:void 0,qe=z<h.length?h[z+1]:void 0;let Kt,Ct=null;X===ue?(P+=2,z+=2,Pe!==qe&&(Ct=ue,Kt=qe)):null===ue||null!==X&&X<ue?(P+=2,Ct=X):(z+=2,Ct=ue,Kt=qe),null!==Ct&&sh(n,i,o,u,Ct,Kt,E,S),X=P<l.length?l[P]:null,ue=z<h.length?h[z]:null}}(l,S,E,E[be],E[h+1],E[h+1]=function Ag(n,i,o){if(null==o||""===o)return Mt;const u=[],l=dl(o);if(Array.isArray(l))for(let h=0;h<l.length;h++)n(u,l[h],!0);else if("object"==typeof l)for(const h in l)l.hasOwnProperty(h)&&n(u,h,l[h]);else"string"==typeof l&&i(u,l);return u}(n,i,o),u,h)}}function _f(n,i){return i>=n.expandoStartIndex}function bg(n,i,o,u){const l=n.data;if(null===l[o+1]){const h=l[br()],E=_f(n,o);Ac(h,u)&&null===i&&!E&&(i=!1),i=function Sg(n,i,o,u){const l=Xo(n);let h=u?i.residualClasses:i.residualStyles;if(null===l)0===(u?i.classBindings:i.styleBindings)&&(o=ih(o=rh(null,n,i,o,u),i.attrs,u),h=null);else{const E=i.directiveStylingLast;if(-1===E||n[E]!==l)if(o=rh(l,n,i,o,u),null===h){let P=function jy(n,i,o){const u=o?i.classBindings:i.styleBindings;if(0!==pl(u))return n[Ju(u)]}(n,i,u);void 0!==P&&Array.isArray(P)&&(P=rh(null,n,i,P[1],u),P=ih(P,i.attrs,u),function G_(n,i,o,u){n[Ju(o?i.classBindings:i.styleBindings)]=u}(n,i,u,P))}else h=function W_(n,i,o){let u;const l=i.directiveEnd;for(let h=1+i.directiveStylingLast;h<l;h++)u=ih(u,n[h].hostAttrs,o);return ih(u,i.attrs,o)}(n,i,u)}return void 0!==h&&(u?i.residualClasses=h:i.residualStyles=h),o}(l,h,i,u),function j_(n,i,o,u,l,h){let E=h?i.classBindings:i.styleBindings,S=Ju(E),P=pl(E);n[u]=o;let X,z=!1;if(Array.isArray(o)?(X=o[1],(null===X||en(o,X)>0)&&(z=!0)):X=o,l)if(0!==P){const Pe=Ju(n[S+1]);n[u+1]=pf(Pe,S),0!==Pe&&(n[Pe+1]=gg(n[Pe+1],u)),n[S+1]=function fg(n,i){return 131071&n|i<<17}(n[S+1],u)}else n[u+1]=pf(S,0),0!==S&&(n[S+1]=gg(n[S+1],u)),S=u;else n[u+1]=pf(P,0),0===S?S=u:n[P+1]=gg(n[P+1],u),P=u;z&&(n[u+1]=pg(n[u+1])),Vy(n,X,u,!0),Vy(n,X,u,!1),function yg(n,i,o,u,l){const h=l?n.residualClasses:n.residualStyles;null!=h&&"string"==typeof i&&en(h,i)>=0&&(o[u+1]=gf(o[u+1]))}(i,X,n,u,h),E=pf(S,P),h?i.classBindings=E:i.styleBindings=E}(l,h,i,o,E,u)}}function rh(n,i,o,u,l){let h=null;const E=o.directiveEnd;let S=o.directiveStylingLast;for(-1===S?S=o.directiveStart:S++;S<E&&(h=i[S],u=ih(u,h.hostAttrs,l),h!==n);)S++;return null!==n&&(o.directiveStylingLast=S),u}function ih(n,i,o){const u=o?1:2;let l=-1;if(null!==i)for(let h=0;h<i.length;h++){const E=i[h];"number"==typeof E?l=E:l===u&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ni(n,E,!!o||i[++h]))}return void 0===n?null:n}function Ef(n,i,o){ni(n,i,dl(o))}function Mg(n,i,o){const u=String(i);""!==u&&!u.includes(" ")&&ni(n,u,o)}function sh(n,i,o,u,l,h,E,S){if(!(3&i.type))return;const P=n.data,z=P[S+1],X=function mg(n){return 1==(1&n)}(z)?$y(P,i,o,l,pl(z),E):void 0;oh(X)||(oh(h)||function hg(n){return 2==(2&n)}(z)&&(h=$y(P,null,o,l,S,E)),function ts(n,i,o,u,l){if(i)l?n.addClass(o,u):n.removeClass(o,u);else{let h=-1===u.indexOf("-")?void 0:jo.DashCase;null==l?n.removeStyle(o,u,h):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),h|=jo.Important),n.setStyle(o,u,l,h))}}(u,E,go(br(),o),l,h))}function $y(n,i,o,u,l,h){const E=null===i;let S;for(;l>0;){const P=n[l],z=Array.isArray(P),X=z?P[1]:P,ue=null===X;let Pe=o[l+1];Pe===zn&&(Pe=ue?Mt:void 0);let qe=ue?Zs(Pe,u):X===u?Pe:void 0;if(z&&!oh(qe)&&(qe=Zs(P,u)),oh(qe)&&(S=qe,E))return S;const Ct=n[l+1];l=E?Ju(Ct):pl(Ct)}if(null!==i){let P=h?i.residualClasses:i.residualStyles;null!=P&&(S=Zs(P,u))}return S}function oh(n){return void 0!==n}function Ac(n,i){return 0!=(n.flags&(i?8:16))}function Rg(n,i=""){const o=Ye(),u=_n(),l=n+wr,h=u.firstCreatePass?yc(u,l,1,i,null):u.data[l],E=o[l]=function Ai(n,i){return n.createText(i)}(o[be],i);Ml(u,o,E,h),ms(h,!1)}function ud(n){return wf("",n,""),ud}function wf(n,i,o){const u=Ye(),l=iu(u,n,i,o);return l!==zn&&Nu(u,br(),l),wf}function Og(n,i,o,u,l){const h=Ye(),E=function Dc(n,i,o,u,l,h){const S=ku(n,ji(),o,l);return so(2),S?i+pt(o)+u+pt(l)+h:zn}(h,n,i,o,u,l);return E!==zn&&Nu(h,br(),E),Og}function Pg(n,i,o,u,l,h,E){const S=Ye(),P=id(S,n,i,o,u,l,h,E);return P!==zn&&Nu(S,br(),P),Pg}function Lr(n,i,o){const u=Ye();if(Do(u,ys(),i)){const h=_n(),E=Sr();tu(h,E,u,n,i,function vy(n,i,o){return(null===n||Ii(n))&&(o=function Rs(n){for(;Array.isArray(n);){if("object"==typeof n[Ko])return n;n=n[or]}return null}(o[i.index])),o[be]}(Xo(h.data),E,u),o,!0)}return Lr}const Gl=void 0;var lh=["en",[["a","p"],["AM","PM"],Gl],[["AM","PM"],Gl,Gl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Gl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Gl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Gl,"{1} 'at' {0}",Gl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ev(n){const o=Math.floor(Math.abs(n)),u=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let cd={};function To(n){const i=function nv(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=X_(i);if(o)return o;const u=i.split("-")[0];if(o=X_(u),o)return o;if("en"===u)return lh;throw new We(701,!1)}function tv(n){return To(n)[Qn.PluralCase]}function X_(n){return n in cd||(cd[n]=fr.ng&&fr.ng.common&&fr.ng.common.locales&&fr.ng.common.locales[n]),cd[n]}var Qn=(()=>((Qn=Qn||{})[Qn.LocaleId=0]="LocaleId",Qn[Qn.DayPeriodsFormat=1]="DayPeriodsFormat",Qn[Qn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Qn[Qn.DaysFormat=3]="DaysFormat",Qn[Qn.DaysStandalone=4]="DaysStandalone",Qn[Qn.MonthsFormat=5]="MonthsFormat",Qn[Qn.MonthsStandalone=6]="MonthsStandalone",Qn[Qn.Eras=7]="Eras",Qn[Qn.FirstDayOfWeek=8]="FirstDayOfWeek",Qn[Qn.WeekendRange=9]="WeekendRange",Qn[Qn.DateFormat=10]="DateFormat",Qn[Qn.TimeFormat=11]="TimeFormat",Qn[Qn.DateTimeFormat=12]="DateTimeFormat",Qn[Qn.NumberSymbols=13]="NumberSymbols",Qn[Qn.NumberFormats=14]="NumberFormats",Qn[Qn.CurrencyCode=15]="CurrencyCode",Qn[Qn.CurrencySymbol=16]="CurrencySymbol",Qn[Qn.CurrencyName=17]="CurrencyName",Qn[Qn.Currencies=18]="Currencies",Qn[Qn.Directionality=19]="Directionality",Qn[Qn.PluralCase=20]="PluralCase",Qn[Qn.ExtraData=21]="ExtraData",Qn))();const dd="en-US";let Gg=dd;function md(n,i,o,u,l){if(n=de(n),Array.isArray(n))for(let h=0;h<n.length;h++)md(n[h],i,o,u,l);else{const h=_n(),E=Ye();let S=lc(n)?n:de(n.provide),P=km(n);const z=fi(),X=1048575&z.providerIndexes,ue=z.directiveStart,Pe=z.providerIndexes>>20;if(lc(n)||!n.multi){const qe=new ce(P,l,Ku),Ct=_v(S,i,l?X:X+Pe,ue);-1===Ct?(Vo(za(z,E),h,S),Wl(h,n,i.length),i.push(S),z.directiveStart++,z.directiveEnd++,l&&(z.providerIndexes+=1048576),o.push(qe),E.push(qe)):(o[Ct]=qe,E[Ct]=qe)}else{const qe=_v(S,i,X+Pe,ue),Ct=_v(S,i,X,X+Pe),hn=Ct>=0&&o[Ct];if(l&&!hn||!l&&!(qe>=0&&o[qe])){Vo(za(z,E),h,S);const Mn=function jE(n,i,o,u,l){const h=new ce(n,o,Ku);return h.multi=[],h.index=i,h.componentProviders=0,vv(h,l,u&&!o),h}(l?Kl:BE,o.length,l,u,P);!l&&hn&&(o[Ct].providerFactory=Mn),Wl(h,n,i.length,0),i.push(S),z.directiveStart++,z.directiveEnd++,l&&(z.providerIndexes+=1048576),o.push(Mn),E.push(Mn)}else Wl(h,n,qe>-1?qe:Ct,vv(o[l?Ct:qe],P,!l&&u));!l&&u&&hn&&o[Ct].componentProviders++}}}function Wl(n,i,o,u){const l=lc(i),h=function xm(n){return!!n.useClass}(i);if(l||h){const P=(h?de(i.useClass):i).prototype.ngOnDestroy;if(P){const z=n.destroyHooks||(n.destroyHooks=[]);if(!l&&i.multi){const X=z.indexOf(o);-1===X?z.push(o,[u,P]):z[X+1].push(u,P)}else z.push(o,P)}}}function vv(n,i,o){return o&&n.componentProviders++,n.multi.push(i)-1}function _v(n,i,o,u){for(let l=o;l<u;l++)if(i[l]===n)return l;return-1}function BE(n,i,o,u){return Ev(this.multi,[])}function Kl(n,i,o,u){const l=this.multi;let h;if(this.providerFactory){const E=this.providerFactory.componentProviders,S=Dn(o,o[$t],this.providerFactory.index,u);h=S.slice(0,E),Ev(l,h);for(let P=E;P<S.length;P++)h.push(S[P])}else h=[],Ev(l,h);return h}function Ev(n,i){for(let o=0;o<n.length;o++)i.push((0,n[o])());return i}function wv(n,i=[]){return o=>{o.providersResolver=(u,l)=>function gd(n,i,o){const u=_n();if(u.firstCreatePass){const l=Ii(n);md(o,u.data,u.blueprint,l,!0),md(i,u.data,u.blueprint,l,!1)}}(u,l?l(n):n,i)}}class gh{}class T0{}function b0(n,i){return new Iv(n,i??null)}class Iv extends gh{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ey(this);const u=oi(i);this._bootstrapComponents=xu(u.bootstrap),this._r3Injector=Ip(i,o,[{provide:gh,useValue:this},{provide:cc,useValue:this.componentFactoryResolver}],Ae(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class Dv extends T0{constructor(i){super(),this.moduleType=i}create(i){return new Iv(this.moduleType,i)}}class S0 extends gh{constructor(i,o,u){super(),this.componentFactoryResolver=new Ey(this),this.instance=null;const l=new kh([...i,{provide:gh,useValue:this},{provide:cc,useValue:this.componentFactoryResolver}],o||Nd(),u,new Set(["environment"]));this.injector=l,l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function Cv(n,i,o=null){return new S0(n,i,o).injector}let mh=(()=>{class n{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const u=Hc(0,o.type),l=u.length>0?Cv([u],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,l)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=Ve({token:n,providedIn:"environment",factory:()=>new n(Vt(vu))}),n})();function Lf(n){n.getStandaloneInjector=i=>i.get(mh).getOrCreateStandaloneInjector(n)}function x0(n,i,o,u){return tm(Ye(),Kn(),n,i,o,u)}function tm(n,i,o,u,l,h){const E=i+o;return Do(n,E,l)?function Ca(n,i,o){return n[i]=o}(n,E+1,h?u.call(h,l):u(l)):function yh(n,i){const o=n[i];return o===zn?void 0:o}(n,E+1)}function nm(n,i){const o=_n();let u;const l=n+wr;o.firstCreatePass?(u=function Nv(n,i){if(i)for(let o=i.length-1;o>=0;o--){const u=i[o];if(n===u.name)return u}}(i,o.pipeRegistry),o.data[l]=u,u.onDestroy&&(o.destroyHooks??(o.destroyHooks=[])).push(l,u.onDestroy)):u=o.data[l];const h=u.factory||(u.factory=Ms(u.type)),E=Cr(Ku);try{const S=Oa(!1),P=h();return Oa(S),function Jp(n,i,o,u){o>=n.data.length&&(n.data[o]=null,n.blueprint[o]=null),i[o]=u}(o,Ye(),l,P),P}finally{Cr(E)}}function Bf(n,i,o){const u=n+wr,l=Ye(),h=Ti(l,u);return function vh(n,i){return n[$t].data[i].pure}(l,u)?tm(l,Kn(),i,h.transform,o,h):h.transform(o)}function im(n){return i=>{setTimeout(n,void 0,i)}}const yl=class Fv extends y.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,u){let l=i,h=o||(()=>null),E=u;if(i&&"object"==typeof i){const P=i;l=P.next?.bind(P),h=P.error?.bind(P),E=P.complete?.bind(P)}this.__isAsync&&(h=im(h),l&&(l=im(l)),E&&(E=im(E)));const S=super.subscribe({next:l,error:h,complete:E});return i instanceof L.w0&&i.add(S),S}};function rw(){return this._results[Symbol.iterator]()}class sm{get changes(){return this._changes||(this._changes=new yl)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=sm.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=rw)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const u=this;u.dirty=!1;const l=function ir(n){return n.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function Xn(n,i,o){if(n.length!==i.length)return!1;for(let u=0;u<n.length;u++){let l=n[u],h=i[u];if(o&&(l=o(l),h=o(h)),h!==l)return!1}return!0}(u._results,l,o))&&(u._results=l,u.length=l.length,u.last=l[this.length-1],u.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ql=(()=>{class n{}return n.__NG_ELEMENT_ID__=iw,n})();const Lv=ql,L0=class extends Lv{constructor(i,o,u){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(i,o){const u=this._declarationTContainer.tView,l=mc(this._declarationLView,u,i,16,null,u.declTNode,null,null,null,null,o||null);l[Wn]=this._declarationLView[this._declarationTContainer.index];const E=this._declarationLView[ei];return null!==E&&(l[ei]=E.createEmbeddedView(u)),Gh(u,l,i),new ed(l)}};function iw(){return yd(fi(),Ye())}function yd(n,i){return 4&n.type?new L0(i,n,Wu(n,i)):null}let jf=(()=>{class n{}return n.__NG_ELEMENT_ID__=V0,n})();function V0(){return B0(fi(),Ye())}const U0=jf,Vv=class extends U0{constructor(i,o,u){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=u}get element(){return Wu(this._hostTNode,this._hostLView)}get injector(){return new es(this._hostTNode,this._hostLView)}get parentInjector(){const i=li(this._hostTNode,this._hostLView);if(ui(i)){const o=$i(i,this._hostLView),u=_s(i);return new es(o[$t].data[u+8],o)}return new es(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=om(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-Kr}createEmbeddedView(i,o,u){let l,h;"number"==typeof u?l=u:null!=u&&(l=u.index,h=u.injector);const E=i.createEmbeddedView(o||{},h);return this.insert(E,l),E}createComponent(i,o,u,l,h){const E=i&&!function ar(n){return"function"==typeof n}(i);let S;if(E)S=o;else{const ue=o||{};S=ue.index,u=ue.injector,l=ue.projectableNodes,h=ue.environmentInjector||ue.ngModuleRef}const P=E?i:new td(on(i)),z=u||this.parentInjector;if(!h&&null==P.ngModule){const Pe=(E?z:this.parentInjector).get(vu,null);Pe&&(h=Pe)}const X=P.create(z,l,void 0,h);return this.insert(X.hostView,S),X}insert(i,o){const u=i._lView,l=u[$t];if(function bi(n){return _r(n[cr])}(u)){const X=this.indexOf(i);if(-1!==X)this.detach(X);else{const ue=u[cr],Pe=new Vv(ue,ue[Zr],ue[cr]);Pe.detach(Pe.indexOf(i))}}const h=this._adjustIndex(o),E=this._lContainer;!function d(n,i,o,u){const l=Kr+u,h=o.length;u>0&&(o[l-1][pr]=i),u<h-Kr?(i[pr]=o[l],lr(o,Kr+u,i)):(o.push(i),i[pr]=null),i[cr]=o;const E=i[Wn];null!==E&&o!==E&&function m(n,i){const o=n[Vs];i[pn]!==i[cr][cr][pn]&&(n[Mo]=!0),null===o?n[Vs]=[i]:o.push(i)}(E,i);const S=i[ei];null!==S&&S.insertView(n),i[xn]|=64}(l,u,E,h);const S=Bc(h,E),P=u[be],z=Xa(P,E[Zi]);return null!==z&&function hm(n,i,o,u,l,h){u[or]=l,u[Zr]=i,jc(n,u,o,1,l,h)}(l,E[Zr],P,u,z,S),i.attachToViewContainerRef(),lr(am(E),h,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=om(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),u=K(this._lContainer,o);u&&(os(am(this._lContainer),o),ne(u[$t],u))}detach(i){const o=this._adjustIndex(i,-1),u=K(this._lContainer,o);return u&&null!=os(am(this._lContainer),o)?new ed(u):null}_adjustIndex(i,o=0){return i??this.length+o}};function om(n){return n[rs]}function am(n){return n[rs]||(n[rs]=[])}function B0(n,i){let o;const u=i[n.index];if(_r(u))o=u;else{let l;if(8&n.type)l=Tr(u);else{const h=i[be];l=h.createComment("");const E=Ni(n,i);Hn(h,Xa(h,E),l,function Uc(n,i){return n.nextSibling(i)}(h,E),!1)}i[n.index]=o=Zh(u,i,l,n),Qh(i,o)}return new Vv(o,n,i)}class Uv{constructor(i){this.queryList=i,this.matches=null}clone(){return new Uv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Bv{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const u=null!==i.contentQueries?i.contentQueries[0]:o.length,l=[];for(let h=0;h<u;h++){const E=o.getByIndex(h);l.push(this.queries[E.indexInDeclarationView].clone())}return new Bv(l)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==Q0(i,o).matches&&this.queries[o].setDirty()}}class j0{constructor(i,o,u=null){this.predicate=i,this.flags=o,this.read=u}}class um{constructor(i=[]){this.queries=i}elementStart(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let u=0;u<this.length;u++){const l=null!==o?o.length:0,h=this.getByIndex(u).embeddedTView(i,l);h&&(h.indexInDeclarationView=u,null!==o?o.push(h):o=[h])}return null!==o?new um(o):null}template(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class jv{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new jv(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=i.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let l=0;l<u.length;l++){const h=u[l];this.matchTNodeWithReadOption(i,o,sw(o,h)),this.matchTNodeWithReadOption(i,o,ws(o,i,h,!1,!1))}else u===ql?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,ws(o,i,u,!1,!1))}matchTNodeWithReadOption(i,o,u){if(null!==u){const l=this.metadata.read;if(null!==l)if(l===hl||l===jf||l===ql&&4&o.type)this.addMatch(o.index,-2);else{const h=ws(o,i,l,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,u)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function sw(n,i){const o=n.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===i)return o[u+1];return null}function aw(n,i,o,u){return-1===o?function ow(n,i){return 11&n.type?Wu(n,i):4&n.type?yd(n,i):null}(i,n):-2===o?function uw(n,i,o){return o===hl?Wu(i,n):o===ql?yd(i,n):o===jf?B0(i,n):void 0}(n,i,u):Dn(n,n[$t],o,i)}function $0(n,i,o,u){const l=i[ei].queries[u];if(null===l.matches){const h=n.data,E=o.matches,S=[];for(let P=0;P<E.length;P+=2){const z=E[P];S.push(z<0?null:aw(i,h[z],E[P+1],o.metadata.read))}l.matches=S}return l.matches}function $v(n,i,o,u){const l=n.queries.getByIndex(o),h=l.matches;if(null!==h){const E=$0(n,i,l,o);for(let S=0;S<h.length;S+=2){const P=h[S];if(P>0)u.push(E[S/2]);else{const z=h[S+1],X=i[-P];for(let ue=Kr;ue<X.length;ue++){const Pe=X[ue];Pe[Wn]===Pe[cr]&&$v(Pe[$t],Pe,z,u)}if(null!==X[Vs]){const ue=X[Vs];for(let Pe=0;Pe<ue.length;Pe++){const qe=ue[Pe];$v(qe[$t],qe,z,u)}}}}}return u}function H0(n){const i=Ye(),o=_n(),u=vs();Ma(u+1);const l=Q0(o,u);if(n.dirty&&function Po(n){return 4==(4&n[xn])}(i)===(2==(2&l.metadata.flags))){if(null===l.matches)n.reset([]);else{const h=l.crossesNgTemplate?$v(o,i,u,[]):$0(o,i,l,u);n.reset(h,Lh),n.notifyOnChanges()}return!0}return!1}function G0(n,i,o,u){const l=_n();if(l.firstCreatePass){const h=fi();(function Z0(n,i,o){null===n.queries&&(n.queries=new um),n.queries.track(new jv(i,o))})(l,new j0(i,o,u),h.index),function Y0(n,i){const o=n.contentQueries||(n.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,i)}(l,n),2==(2&o)&&(l.staticContentQueries=!0)}!function q0(n,i,o){const u=new sm(4==(4&o));xp(n,i,u,u.destroy),null===i[ei]&&(i[ei]=new Bv),i[ei].queries.push(new Uv(u))}(l,Ye(),o)}function W0(){return function K0(n,i){return n[ei].queries[i].queryList}(Ye(),vs())}function Q0(n,i){return n.queries.getByIndex(i)}function J0(n,i){return yd(n,i)}function lm(n){return!!oi(n)}function Eh(...n){}const Iw=new A("Application Initializer");let Gv=(()=>{class n{constructor(o){this.appInits=o,this.resolve=Eh,this.reject=Eh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,l)=>{this.resolve=u,this.reject=l})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const h=this.appInits[l]();if(Hl(h))o.push(h);else if(bc(h)){const E=new Promise((S,P)=>{h.subscribe({complete:S,error:P})});o.push(E)}}Promise.all(o).then(()=>{u()}).catch(l=>{this.reject(l)}),0===o.length&&u(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)(Vt(Iw,8))},n.\u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Dw=new A("AppId",{providedIn:"root",factory:function Cw(){return`${aE()}${aE()}${aE()}`}});function aE(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Tw=new A("Platform Initializer"),rI=new A("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),iI=new A("AnimationModuleType");let sI=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Wv=new A("LocaleId",{providedIn:"root",factory:()=>Or(Wv,zt.Optional|zt.SkipSelf)||function oI(){return typeof $localize<"u"&&$localize.locale||dd}()}),aI=new A("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class uI{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let lI=(()=>{class n{compileModuleSync(o){return new Dv(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const u=this.compileModuleSync(o),h=xu(oi(o).declarations).reduce((E,S)=>{const P=on(S);return P&&E.push(new td(P)),E},[]);return new uI(u,h)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const hI=(()=>Promise.resolve(0))();function uE(n){typeof Zone>"u"?hI.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class rl{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new yl(!1),this.onMicrotaskEmpty=new yl(!1),this.onStable=new yl(!1),this.onError=new yl(!1),typeof Zone>"u")throw new We(908,!1);Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!u&&o,l.shouldCoalesceRunChangeDetection=u,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function fI(){let n=fr.requestAnimationFrame,i=fr.cancelAnimationFrame;if(typeof Zone<"u"&&n&&i){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const u=i[Zone.__symbol__("OriginalDelegate")];u&&(i=u)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function mI(n){const i=()=>{!function gI(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(fr,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,cE(n),n.isCheckStableRunning=!0,lE(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),cE(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,l,h,E,S)=>{try{return Aw(n),o.invokeTask(l,h,E,S)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||n.shouldCoalesceRunChangeDetection)&&i(),Mw(n)}},onInvoke:(o,u,l,h,E,S,P)=>{try{return Aw(n),o.invoke(l,h,E,S,P)}finally{n.shouldCoalesceRunChangeDetection&&i(),Mw(n)}},onHasTask:(o,u,l,h)=>{o.hasTask(l,h),u===l&&("microTask"==h.change?(n._hasPendingMicrotasks=h.microTask,cE(n),lE(n)):"macroTask"==h.change&&(n.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,u,l,h)=>(o.handleError(l,h),n.runOutsideAngular(()=>n.onError.emit(h)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!rl.isInAngularZone())throw new We(909,!1)}static assertNotInAngularZone(){if(rl.isInAngularZone())throw new We(909,!1)}run(i,o,u){return this._inner.run(i,o,u)}runTask(i,o,u,l){const h=this._inner,E=h.scheduleEventTask("NgZoneEvent: "+l,i,pI,Eh,Eh);try{return h.runTask(E,o,u)}finally{h.cancelTask(E)}}runGuarded(i,o,u){return this._inner.runGuarded(i,o,u)}runOutsideAngular(i){return this._outer.run(i)}}const pI={};function lE(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function cE(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Aw(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Mw(n){n._nesting--,lE(n)}class yI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new yl,this.onMicrotaskEmpty=new yl,this.onStable=new yl,this.onError=new yl}run(i,o,u){return i.apply(o,u)}runGuarded(i,o,u){return i.apply(o,u)}runOutsideAngular(i){return i()}runTask(i,o,u,l){return i.apply(o,u)}}const Rw=new A(""),Ow=new A("");let dE,vI=(()=>{class n{constructor(o,u,l){this._ngZone=o,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,dE||(function _I(n){dE=n}(l),l.addToWindow(u)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{rl.assertNotInAngularZone(),uE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())uE(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,l){let h=-1;u&&u>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(E=>E.timeoutId!==h),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:h,updateCb:l})}whenStable(o,u,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,u,l){return[]}}return n.\u0275fac=function(o){return new(o||n)(Vt(rl),Vt(Pw),Vt(Ow))},n.\u0275prov=Ve({token:n,factory:n.\u0275fac}),n})(),Pw=(()=>{class n{constructor(){this._applications=new Map}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return dE?.findTestabilityInTree(this,o,u)??null}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const xc=!1;let Ed=null;const xw=new A("AllowMultipleToken"),hE=new A("PlatformDestroyListeners"),Nw=new A("appBootstrapListener");class II{constructor(i,o){this.name=i,this.token=o}}function Fw(n,i,o=[]){const u=`Platform: ${i}`,l=new A(u);return(h=[])=>{let E=fE();if(!E||E.injector.get(xw,!1)){const S=[...o,...h,{provide:l,useValue:!0}];n?n(S):function DI(n){if(Ed&&!Ed.get(xw,!1))throw new We(400,!1);Ed=n;const i=n.get(Vw);(function kw(n){const i=n.get(Tw,null);i&&i.forEach(o=>o())})(n)}(function Lw(n=[],i){return gc.create({name:i,providers:[{provide:xl,useValue:"platform"},{provide:hE,useValue:new Set([()=>Ed=null])},...n]})}(S,u))}return function TI(n){const i=fE();if(!i)throw new We(401,!1);return i}()}}function fE(){return Ed?.get(Vw)??null}let Vw=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const l=function Bw(n,i){let o;return o="noop"===n?new yI:("zone.js"===n?void 0:n)||new rl(i),o}(u?.ngZone,function Uw(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(u)),h=[{provide:rl,useValue:l}];return l.run(()=>{const E=gc.create({providers:h,parent:this.injector,name:o.moduleType.name}),S=o.create(E),P=S.injector.get(dc,null);if(!P)throw new We(402,!1);return l.runOutsideAngular(()=>{const z=l.onError.subscribe({next:X=>{P.handleError(X)}});S.onDestroy(()=>{qv(this._modules,S),z.unsubscribe()})}),function jw(n,i,o){try{const u=o();return Hl(u)?u.catch(l=>{throw i.runOutsideAngular(()=>n.handleError(l)),l}):u}catch(u){throw i.runOutsideAngular(()=>n.handleError(u)),u}}(P,l,()=>{const z=S.injector.get(Gv);return z.runInitializers(),z.donePromise.then(()=>(function n0(n){_t(n,"Expected localeId to be defined"),"string"==typeof n&&(Gg=n.toLowerCase().replace(/_/g,"-"))}(S.injector.get(Wv,dd)||dd),this._moduleDoBootstrap(S),S))})})}bootstrapModule(o,u=[]){const l=$w({},u);return function EI(n,i,o){const u=new Dv(o);return Promise.resolve(u)}(0,0,o).then(h=>this.bootstrapModuleFactory(h,l))}_moduleDoBootstrap(o){const u=o.injector.get(Kv);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(l=>u.bootstrap(l));else{if(!o.instance.ngDoBootstrap)throw new We(-403,!1);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new We(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const o=this._injector.get(hE,null);o&&(o.forEach(u=>u()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(o){return new(o||n)(Vt(gc))},n.\u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function $w(n,i){return Array.isArray(i)?i.reduce($w,n):{...n,...i}}let Kv=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(o,u,l){this._zone=o,this._injector=u,this._exceptionHandler=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new q.y(S=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{S.next(this._stable),S.complete()})}),E=new q.y(S=>{let P;this._zone.runOutsideAngular(()=>{P=this._zone.onStable.subscribe(()=>{rl.assertNotInAngularZone(),uE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,S.next(!0))})})});const z=this._zone.onUnstable.subscribe(()=>{rl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{S.next(!1)}))});return()=>{P.unsubscribe(),z.unsubscribe()}});this.isStable=(0,ie.T)(h,E.pipe((0,Z.B)()))}bootstrap(o,u){const l=o instanceof Fd;if(!this._injector.get(Gv).done){!l&&Br(o);throw new We(405,xc)}let E;E=l?o:this._injector.get(cc).resolveComponentFactory(o),this.componentTypes.push(E.componentType);const S=function wI(n){return n.isBoundToModule}(E)?void 0:this._injector.get(gh),z=E.create(gc.NULL,[],u||E.selector,S),X=z.location.nativeElement,ue=z.injector.get(Rw,null);return ue?.registerApplication(X),z.onDestroy(()=>{this.detachView(z.hostView),qv(this.components,z),ue?.unregisterApplication(X)}),this._loadComponent(z),z}tick(){if(this._runningTick)throw new We(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;qv(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const u=this._injector.get(Nw,[]);u.push(...this._bootstrapListeners),u.forEach(l=>l(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>qv(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new We(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(o){return new(o||n)(Vt(rl),Vt(vu),Vt(dc))},n.\u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function qv(n,i){const o=n.indexOf(i);o>-1&&n.splice(o,1)}function SI(){return!1}let AI=(()=>{class n{}return n.__NG_ELEMENT_ID__=MI,n})();function MI(n){return function RI(n,i,o){if(to(n)&&!o){const u=Yr(n.index,i);return new ed(u,u)}return 47&n.type?new ed(i[pn],i):null}(fi(),Ye(),16==(16&n))}class Kw{constructor(){}supports(i){return nd(i)}create(i){return new FI(i)}}const kI=(n,i)=>i;class FI{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||kI}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,u=this._removalsHead,l=0,h=null;for(;o||u;){const E=!u||o&&o.currentIndex<Zw(u,l,h)?o:u,S=Zw(E,l,h),P=E.currentIndex;if(E===u)l--,u=u._nextRemoved;else if(o=o._next,null==E.previousIndex)l++;else{h||(h=[]);const z=S-l,X=P-l;if(z!=X){for(let Pe=0;Pe<z;Pe++){const qe=Pe<h.length?h[Pe]:h[Pe]=0,Ct=qe+Pe;X<=Ct&&Ct<z&&(h[Pe]=qe+1)}h[E.previousIndex]=X-z}}S!==P&&i(E,S,P)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!nd(i))throw new We(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let l,h,E,o=this._itHead,u=!1;if(Array.isArray(i)){this.length=i.length;for(let S=0;S<this.length;S++)h=i[S],E=this._trackByFn(S,h),null!==o&&Object.is(o.trackById,E)?(u&&(o=this._verifyReinsertion(o,h,E,S)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,E,S),u=!0),o=o._next}else l=0,function L_(n,i){if(Array.isArray(n))for(let o=0;o<n.length;o++)i(n[o]);else{const o=n[Symbol.iterator]();let u;for(;!(u=o.next()).done;)i(u.value)}}(i,S=>{E=this._trackByFn(l,S),null!==o&&Object.is(o.trackById,E)?(u&&(o=this._verifyReinsertion(o,S,E,l)),Object.is(o.item,S)||this._addIdentityChange(o,S)):(o=this._mismatch(o,S,E,l),u=!0),o=o._next,l++}),this.length=l;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,u,l){let h;return null===i?h=this._itTail:(h=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,h,l)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(u,l))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,h,l)):i=this._addAfter(new LI(o,u),h,l),i}_verifyReinsertion(i,o,u,l){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==h?i=this._reinsertAfter(h,i._prev,l):i.currentIndex!=l&&(i.currentIndex=l,this._addToMoves(i,l)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const l=i._prevRemoved,h=i._nextRemoved;return null===l?this._removalsHead=h:l._nextRemoved=h,null===h?this._removalsTail=l:h._prevRemoved=l,this._insertAfter(i,o,u),this._addToMoves(i,u),i}_moveAfter(i,o,u){return this._unlink(i),this._insertAfter(i,o,u),this._addToMoves(i,u),i}_addAfter(i,o,u){return this._insertAfter(i,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,u){const l=null===o?this._itHead:o._next;return i._next=l,i._prev=o,null===l?this._itTail=i:l._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new qw),this._linkedRecords.put(i),i.currentIndex=u,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,u=i._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new qw),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class LI{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class VI{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,i))return u;return null}remove(i){const o=i._prevDup,u=i._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class qw{constructor(){this.map=new Map}put(i){const o=i.trackById;let u=this.map.get(o);u||(u=new VI,this.map.set(o,u)),u.add(i)}get(i,o){const l=this.map.get(i);return l?l.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Zw(n,i,o){const u=n.previousIndex;if(null===u)return u;let l=0;return o&&u<o.length&&(l=o[u]),u+i+l}class Yw{constructor(){}supports(i){return i instanceof Map||wc(i)}create(){return new UI}}class UI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||wc(i)))throw new We(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(u,l)=>{if(o&&o.key===l)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(l,u);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const u=i._prev;return o._next=i,o._prev=u,i._prev=o,u&&(u._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const l=this._records.get(i);this._maybeAddToChanges(l,o);const h=l._prev,E=l._next;return h&&(h._next=E),E&&(E._prev=h),l._next=null,l._prev=null,l}const u=new BI(i);return this._records.set(i,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(u=>o(i[u],u))}}class BI{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Qw(){return new vE([new Kw])}let vE=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(null!=u){const l=u.factories.slice();o=o.concat(l)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||Qw()),deps:[[n,new Hr,new qn]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(null!=u)return u;throw new We(901,!1)}}return n.\u0275prov=Ve({token:n,providedIn:"root",factory:Qw}),n})();function Jw(){return new _E([new Yw])}let _E=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(u){const l=u.factories.slice();o=o.concat(l)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||Jw()),deps:[[n,new Hr,new qn]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(u)return u;throw new We(901,!1)}}return n.\u0275prov=Ve({token:n,providedIn:"root",factory:Jw}),n})();const HI=Fw(null,"core",[]);let zI=(()=>{class n{constructor(o){}}return n.\u0275fac=function(o){return new(o||n)(Vt(Kv))},n.\u0275mod=Fe({type:n}),n.\u0275inj=Me({}),n})();function GI(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},4006:(jt,je,j)=>{j.d(je,{EJ:()=>As,Fj:()=>Ze,JJ:()=>On,JL:()=>zt,Kr:()=>Yo,NI:()=>Re,UX:()=>mo,Wl:()=>se,YN:()=>no,_Y:()=>wr,cw:()=>st,sg:()=>Ii,u:()=>hs,u5:()=>Pn});var y=j(4650),L=j(6895),q=j(8996),ie=j(4128),Z=j(4004);let we=(()=>{class U{constructor(k,te){this._renderer=k,this._elementRef=te,this.onChange=tt=>{},this.onTouched=()=>{}}setProperty(k,te){this._renderer.setProperty(this._elementRef.nativeElement,k,te)}registerOnTouched(k){this.onTouched=k}registerOnChange(k){this.onChange=k}setDisabledState(k){this.setProperty("disabled",k)}}return U.\u0275fac=function(k){return new(k||U)(y.Y36(y.Qsj),y.Y36(y.SBq))},U.\u0275dir=y.lG2({type:U}),U})(),Ce=(()=>{class U extends we{}return U.\u0275fac=function(){let F;return function(te){return(F||(F=y.n5z(U)))(te||U)}}(),U.\u0275dir=y.lG2({type:U,features:[y.qOj]}),U})();const Ae=new y.OlP("NgValueAccessor"),ve={provide:Ae,useExisting:(0,y.Gpc)(()=>se),multi:!0};let se=(()=>{class U extends Ce{writeValue(k){this.setProperty("checked",k)}}return U.\u0275fac=function(){let F;return function(te){return(F||(F=y.n5z(U)))(te||U)}}(),U.\u0275dir=y.lG2({type:U,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(k,te){1&k&&y.NdJ("change",function(In){return te.onChange(In.target.checked)})("blur",function(){return te.onTouched()})},features:[y._Bn([ve]),y.qOj]}),U})();const oe={provide:Ae,useExisting:(0,y.Gpc)(()=>Ze),multi:!0},Ge=new y.OlP("CompositionEventMode");let Ze=(()=>{class U extends we{constructor(k,te,tt){super(k,te),this._compositionMode=tt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function de(){const U=(0,L.q)()?(0,L.q)().getUserAgent():"";return/android (\d+)/.test(U.toLowerCase())}())}writeValue(k){this.setProperty("value",k??"")}_handleInput(k){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(k)}_compositionStart(){this._composing=!0}_compositionEnd(k){this._composing=!1,this._compositionMode&&this.onChange(k)}}return U.\u0275fac=function(k){return new(k||U)(y.Y36(y.Qsj),y.Y36(y.SBq),y.Y36(Ge,8))},U.\u0275dir=y.lG2({type:U,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(k,te){1&k&&y.NdJ("input",function(In){return te._handleInput(In.target.value)})("blur",function(){return te.onTouched()})("compositionstart",function(){return te._compositionStart()})("compositionend",function(In){return te._compositionEnd(In.target.value)})},features:[y._Bn([oe]),y.qOj]}),U})();const gt=!1,rt=new y.OlP("NgValidators"),pt=new y.OlP("NgAsyncValidators");function Ht(U){return null!=U}function yi(U){const F=(0,y.QGY)(U)?(0,q.D)(U):U;if(gt&&!(0,y.CqO)(F)){let k="Expected async validator to return Promise or Observable.";throw"object"==typeof U&&(k+=" Are you using a synchronous validator where an async validator is expected?"),new y.vHH(-1101,k)}return F}function Qe(U){let F={};return U.forEach(k=>{F=null!=k?{...F,...k}:F}),0===Object.keys(F).length?null:F}function ke(U,F){return F.map(k=>k(U))}function it(U){return U.map(F=>function Je(U){return!U.validate}(F)?F:k=>F.validate(k))}function _t(U){return null!=U?function ft(U){if(!U)return null;const F=U.filter(Ht);return 0==F.length?null:function(k){return Qe(ke(k,F))}}(it(U)):null}function Nt(U){return null!=U?function ct(U){if(!U)return null;const F=U.filter(Ht);return 0==F.length?null:function(k){const te=ke(k,F).map(yi);return(0,ie.D)(te).pipe((0,Z.U)(Qe))}}(it(U)):null}function Gn(U,F){return null===U?[F]:Array.isArray(U)?[...U,F]:[U,F]}function Bt(U){return U._rawValidators}function Ve(U){return U._rawAsyncValidators}function ut(U){return U?Array.isArray(U)?U:[U]:[]}function Me(U,F){return Array.isArray(U)?U.includes(F):U===F}function He(U,F){const k=ut(F);return ut(U).forEach(tt=>{Me(k,tt)||k.push(tt)}),k}function qt(U,F){return ut(F).filter(k=>!Me(U,k))}class fn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(F){this._rawValidators=F||[],this._composedValidatorFn=_t(this._rawValidators)}_setAsyncValidators(F){this._rawAsyncValidators=F||[],this._composedAsyncValidatorFn=Nt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(F){this._onDestroyCallbacks.push(F)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(F=>F()),this._onDestroyCallbacks=[]}reset(F){this.control&&this.control.reset(F)}hasError(F,k){return!!this.control&&this.control.hasError(F,k)}getError(F,k){return this.control?this.control.getError(F,k):null}}class Rn extends fn{get formDirective(){return null}get path(){return null}}class Vn extends fn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class an{constructor(F){this._cd=F}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let On=(()=>{class U extends an{constructor(k){super(k)}}return U.\u0275fac=function(k){return new(k||U)(y.Y36(Vn,2))},U.\u0275dir=y.lG2({type:U,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(k,te){2&k&&y.ekj("ng-untouched",te.isUntouched)("ng-touched",te.isTouched)("ng-pristine",te.isPristine)("ng-dirty",te.isDirty)("ng-valid",te.isValid)("ng-invalid",te.isInvalid)("ng-pending",te.isPending)},features:[y.qOj]}),U})(),zt=(()=>{class U extends an{constructor(k){super(k)}}return U.\u0275fac=function(k){return new(k||U)(y.Y36(Rn,10))},U.\u0275dir=y.lG2({type:U,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(k,te){2&k&&y.ekj("ng-untouched",te.isUntouched)("ng-touched",te.isTouched)("ng-pristine",te.isPristine)("ng-dirty",te.isDirty)("ng-valid",te.isValid)("ng-invalid",te.isInvalid)("ng-pending",te.isPending)("ng-submitted",te.isSubmitted)},features:[y.qOj]}),U})();function Vr(U,F){return U?`with name: '${F}'`:`at index: ${F}`}const kn=!1,Rr="VALID",Vt="INVALID",$n="PENDING",Or="DISABLED";function er(U){return(Nr(U)?U.validators:U)||null}function qr(U,F){return(Nr(F)?F.asyncValidators:U)||null}function Nr(U){return null!=U&&!Array.isArray(U)&&"object"==typeof U}class Ee{constructor(F,k){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(F),this._assignAsyncValidators(k)}get validator(){return this._composedValidatorFn}set validator(F){this._rawValidators=this._composedValidatorFn=F}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(F){this._rawAsyncValidators=this._composedAsyncValidatorFn=F}get parent(){return this._parent}get valid(){return this.status===Rr}get invalid(){return this.status===Vt}get pending(){return this.status==$n}get disabled(){return this.status===Or}get enabled(){return this.status!==Or}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(F){this._assignValidators(F)}setAsyncValidators(F){this._assignAsyncValidators(F)}addValidators(F){this.setValidators(He(F,this._rawValidators))}addAsyncValidators(F){this.setAsyncValidators(He(F,this._rawAsyncValidators))}removeValidators(F){this.setValidators(qt(F,this._rawValidators))}removeAsyncValidators(F){this.setAsyncValidators(qt(F,this._rawAsyncValidators))}hasValidator(F){return Me(this._rawValidators,F)}hasAsyncValidator(F){return Me(this._rawAsyncValidators,F)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(F={}){this.touched=!0,this._parent&&!F.onlySelf&&this._parent.markAsTouched(F)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(F=>F.markAllAsTouched())}markAsUntouched(F={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(k=>{k.markAsUntouched({onlySelf:!0})}),this._parent&&!F.onlySelf&&this._parent._updateTouched(F)}markAsDirty(F={}){this.pristine=!1,this._parent&&!F.onlySelf&&this._parent.markAsDirty(F)}markAsPristine(F={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(k=>{k.markAsPristine({onlySelf:!0})}),this._parent&&!F.onlySelf&&this._parent._updatePristine(F)}markAsPending(F={}){this.status=$n,!1!==F.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!F.onlySelf&&this._parent.markAsPending(F)}disable(F={}){const k=this._parentMarkedDirty(F.onlySelf);this.status=Or,this.errors=null,this._forEachChild(te=>{te.disable({...F,onlySelf:!0})}),this._updateValue(),!1!==F.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...F,skipPristineCheck:k}),this._onDisabledChange.forEach(te=>te(!0))}enable(F={}){const k=this._parentMarkedDirty(F.onlySelf);this.status=Rr,this._forEachChild(te=>{te.enable({...F,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:F.emitEvent}),this._updateAncestors({...F,skipPristineCheck:k}),this._onDisabledChange.forEach(te=>te(!1))}_updateAncestors(F){this._parent&&!F.onlySelf&&(this._parent.updateValueAndValidity(F),F.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(F){this._parent=F}getRawValue(){return this.value}updateValueAndValidity(F={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Rr||this.status===$n)&&this._runAsyncValidator(F.emitEvent)),!1!==F.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!F.onlySelf&&this._parent.updateValueAndValidity(F)}_updateTreeValidity(F={emitEvent:!0}){this._forEachChild(k=>k._updateTreeValidity(F)),this.updateValueAndValidity({onlySelf:!0,emitEvent:F.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Or:Rr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(F){if(this.asyncValidator){this.status=$n,this._hasOwnPendingAsyncValidator=!0;const k=yi(this.asyncValidator(this));this._asyncValidationSubscription=k.subscribe(te=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(te,{emitEvent:F})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(F,k={}){this.errors=F,this._updateControlsErrors(!1!==k.emitEvent)}get(F){let k=F;return null==k||(Array.isArray(k)||(k=k.split(".")),0===k.length)?null:k.reduce((te,tt)=>te&&te._find(tt),this)}getError(F,k){const te=k?this.get(k):this;return te&&te.errors?te.errors[F]:null}hasError(F,k){return!!this.getError(F,k)}get root(){let F=this;for(;F._parent;)F=F._parent;return F}_updateControlsErrors(F){this.status=this._calculateStatus(),F&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(F)}_initObservables(){this.valueChanges=new y.vpe,this.statusChanges=new y.vpe}_calculateStatus(){return this._allControlsDisabled()?Or:this.errors?Vt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus($n)?$n:this._anyControlsHaveStatus(Vt)?Vt:Rr}_anyControlsHaveStatus(F){return this._anyControls(k=>k.status===F)}_anyControlsDirty(){return this._anyControls(F=>F.dirty)}_anyControlsTouched(){return this._anyControls(F=>F.touched)}_updatePristine(F={}){this.pristine=!this._anyControlsDirty(),this._parent&&!F.onlySelf&&this._parent._updatePristine(F)}_updateTouched(F={}){this.touched=this._anyControlsTouched(),this._parent&&!F.onlySelf&&this._parent._updateTouched(F)}_registerOnCollectionChange(F){this._onCollectionChange=F}_setUpdateStrategy(F){Nr(F)&&null!=F.updateOn&&(this._updateOn=F.updateOn)}_parentMarkedDirty(F){return!F&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(F){return null}_assignValidators(F){this._rawValidators=Array.isArray(F)?F.slice():F,this._composedValidatorFn=function Rt(U){return Array.isArray(U)?_t(U):U||null}(this._rawValidators)}_assignAsyncValidators(F){this._rawAsyncValidators=Array.isArray(F)?F.slice():F,this._composedAsyncValidatorFn=function ln(U){return Array.isArray(U)?Nt(U):U||null}(this._rawAsyncValidators)}}class st extends Ee{constructor(F,k,te){super(er(k),qr(te,k)),this.controls=F,this._initObservables(),this._setUpdateStrategy(k),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(F,k){return this.controls[F]?this.controls[F]:(this.controls[F]=k,k.setParent(this),k._registerOnCollectionChange(this._onCollectionChange),k)}addControl(F,k,te={}){this.registerControl(F,k),this.updateValueAndValidity({emitEvent:te.emitEvent}),this._onCollectionChange()}removeControl(F,k={}){this.controls[F]&&this.controls[F]._registerOnCollectionChange(()=>{}),delete this.controls[F],this.updateValueAndValidity({emitEvent:k.emitEvent}),this._onCollectionChange()}setControl(F,k,te={}){this.controls[F]&&this.controls[F]._registerOnCollectionChange(()=>{}),delete this.controls[F],k&&this.registerControl(F,k),this.updateValueAndValidity({emitEvent:te.emitEvent}),this._onCollectionChange()}contains(F){return this.controls.hasOwnProperty(F)&&this.controls[F].enabled}setValue(F,k={}){(function le(U,F,k){U._forEachChild((te,tt)=>{if(void 0===k[tt])throw new y.vHH(1002,kn?function Yt(U,F){return`Must supply a value for form control ${Vr(U,F)}`}(F,tt):"")})})(this,!0,F),Object.keys(F).forEach(te=>{(function fe(U,F,k){const te=U.controls;if(!(F?Object.keys(te):te).length)throw new y.vHH(1e3,kn?function Ur(U){return`\n    There are no form controls registered with this ${U?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(F):"");if(!te[k])throw new y.vHH(1001,kn?function ur(U,F){return`Cannot find form control ${Vr(U,F)}`}(F,k):"")})(this,!0,te),this.controls[te].setValue(F[te],{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k)}patchValue(F,k={}){null!=F&&(Object.keys(F).forEach(te=>{const tt=this.controls[te];tt&&tt.patchValue(F[te],{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k))}reset(F={},k={}){this._forEachChild((te,tt)=>{te.reset(F[tt],{onlySelf:!0,emitEvent:k.emitEvent})}),this._updatePristine(k),this._updateTouched(k),this.updateValueAndValidity(k)}getRawValue(){return this._reduceChildren({},(F,k,te)=>(F[te]=k.getRawValue(),F))}_syncPendingControls(){let F=this._reduceChildren(!1,(k,te)=>!!te._syncPendingControls()||k);return F&&this.updateValueAndValidity({onlySelf:!0}),F}_forEachChild(F){Object.keys(this.controls).forEach(k=>{const te=this.controls[k];te&&F(te,k)})}_setUpControls(){this._forEachChild(F=>{F.setParent(this),F._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(F){for(const[k,te]of Object.entries(this.controls))if(this.contains(k)&&F(te))return!0;return!1}_reduceValue(){return this._reduceChildren({},(k,te,tt)=>((te.enabled||this.disabled)&&(k[tt]=te.value),k))}_reduceChildren(F,k){let te=F;return this._forEachChild((tt,In)=>{te=k(te,tt,In)}),te}_allControlsDisabled(){for(const F of Object.keys(this.controls))if(this.controls[F].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(F){return this.controls.hasOwnProperty(F)?this.controls[F]:null}}const re=new y.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Ie}),Ie="always";function Tt(U,F,k=Ie){Pi(U,F),F.valueAccessor.writeValue(U.value),(U.disabled||"always"===k)&&F.valueAccessor.setDisabledState?.(U.disabled),function Fe(U,F){F.valueAccessor.registerOnChange(k=>{U._pendingValue=k,U._pendingChange=!0,U._pendingDirty=!0,"change"===U.updateOn&&Xt(U,F)})}(U,F),function Sn(U,F){const k=(te,tt)=>{F.valueAccessor.writeValue(te),tt&&F.viewToModelUpdate(te)};U.registerOnChange(k),F._registerOnDestroy(()=>{U._unregisterOnChange(k)})}(U,F),function wt(U,F){F.valueAccessor.registerOnTouched(()=>{U._pendingTouched=!0,"blur"===U.updateOn&&U._pendingChange&&Xt(U,F),"submit"!==U.updateOn&&U.markAsTouched()})}(U,F),function Nn(U,F){if(F.valueAccessor.setDisabledState){const k=te=>{F.valueAccessor.setDisabledState(te)};U.registerOnDisabledChange(k),F._registerOnDestroy(()=>{U._unregisterOnDisabledChange(k)})}}(U,F)}function cn(U,F,k=!0){const te=()=>{};F.valueAccessor&&(F.valueAccessor.registerOnChange(te),F.valueAccessor.registerOnTouched(te)),Xe(U,F),U&&(F._invokeOnDestroyCallbacks(),U._registerOnCollectionChange(()=>{}))}function tr(U,F){U.forEach(k=>{k.registerOnValidatorChange&&k.registerOnValidatorChange(F)})}function Pi(U,F){const k=Bt(U);null!==F.validator?U.setValidators(Gn(k,F.validator)):"function"==typeof k&&U.setValidators([k]);const te=Ve(U);null!==F.asyncValidator?U.setAsyncValidators(Gn(te,F.asyncValidator)):"function"==typeof te&&U.setAsyncValidators([te]);const tt=()=>U.updateValueAndValidity();tr(F._rawValidators,tt),tr(F._rawAsyncValidators,tt)}function Xe(U,F){let k=!1;if(null!==U){if(null!==F.validator){const tt=Bt(U);if(Array.isArray(tt)&&tt.length>0){const In=tt.filter(Qr=>Qr!==F.validator);In.length!==tt.length&&(k=!0,U.setValidators(In))}}if(null!==F.asyncValidator){const tt=Ve(U);if(Array.isArray(tt)&&tt.length>0){const In=tt.filter(Qr=>Qr!==F.asyncValidator);In.length!==tt.length&&(k=!0,U.setAsyncValidators(In))}}}const te=()=>{};return tr(F._rawValidators,te),tr(F._rawAsyncValidators,te),k}function Xt(U,F){U._pendingDirty&&U.markAsDirty(),U.setValue(U._pendingValue,{emitModelToViewChange:!1}),F.viewToModelUpdate(U._pendingValue),U._pendingChange=!1}function cs(U,F){const k=U.indexOf(F);k>-1&&U.splice(k,1)}function kr(U){return"object"==typeof U&&null!==U&&2===Object.keys(U).length&&"value"in U&&"disabled"in U}const Re=class extends Ee{constructor(F=null,k,te){super(er(k),qr(te,k)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(F),this._setUpdateStrategy(k),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Nr(k)&&(k.nonNullable||k.initialValueIsDefault)&&(this.defaultValue=kr(F)?F.value:F)}setValue(F,k={}){this.value=this._pendingValue=F,this._onChange.length&&!1!==k.emitModelToViewChange&&this._onChange.forEach(te=>te(this.value,!1!==k.emitViewToModelChange)),this.updateValueAndValidity(k)}patchValue(F,k={}){this.setValue(F,k)}reset(F=this.defaultValue,k={}){this._applyFormState(F),this.markAsPristine(k),this.markAsUntouched(k),this.setValue(this.value,k),this._pendingChange=!1}_updateValue(){}_anyControls(F){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(F){this._onChange.push(F)}_unregisterOnChange(F){cs(this._onChange,F)}registerOnDisabledChange(F){this._onDisabledChange.push(F)}_unregisterOnDisabledChange(F){cs(this._onDisabledChange,F)}_forEachChild(F){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(F){kr(F)?(this.value=this._pendingValue=F.value,F.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=F}};let wr=(()=>{class U{}return U.\u0275fac=function(k){return new(k||U)},U.\u0275dir=y.lG2({type:U,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),U})(),rs=(()=>{class U{}return U.\u0275fac=function(k){return new(k||U)},U.\u0275mod=y.oAB({type:U}),U.\u0275inj=y.cJS({}),U})();const _r=new y.OlP("NgModelWithFormControlWarning"),Us={provide:Rn,useExisting:(0,y.Gpc)(()=>Ii)};let Ii=(()=>{class U extends Rn{constructor(k,te,tt){super(),this.callSetDisabledState=tt,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new y.vpe,this._setValidators(k),this._setAsyncValidators(te)}ngOnChanges(k){this._checkFormPresent(),k.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Xe(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(k){const te=this.form.get(k.path);return Tt(te,k,this.callSetDisabledState),te.updateValueAndValidity({emitEvent:!1}),this.directives.push(k),te}getControl(k){return this.form.get(k.path)}removeControl(k){cn(k.control||null,k,!1),function xn(U,F){const k=U.indexOf(F);k>-1&&U.splice(k,1)}(this.directives,k)}addFormGroup(k){this._setUpFormContainer(k)}removeFormGroup(k){this._cleanUpFormContainer(k)}getFormGroup(k){return this.form.get(k.path)}addFormArray(k){this._setUpFormContainer(k)}removeFormArray(k){this._cleanUpFormContainer(k)}getFormArray(k){return this.form.get(k.path)}updateModel(k,te){this.form.get(k.path).setValue(te)}onSubmit(k){return this.submitted=!0,function or(U,F){U._syncPendingControls(),F.forEach(k=>{const te=k.control;"submit"===te.updateOn&&te._pendingChange&&(k.viewToModelUpdate(te._pendingValue),te._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(k),"dialog"===k?.target?.method}onReset(){this.resetForm()}resetForm(k){this.form.reset(k),this.submitted=!1}_updateDomValue(){this.directives.forEach(k=>{const te=k.control,tt=this.form.get(k.path);te!==tt&&(cn(te||null,k),(U=>U instanceof Re)(tt)&&(Tt(tt,k,this.callSetDisabledState),k.control=tt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(k){const te=this.form.get(k.path);(function An(U,F){Pi(U,F)})(te,k),te.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(k){if(this.form){const te=this.form.get(k.path);te&&function on(U,F){return Xe(U,F)}(te,k)&&te.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Pi(this.form,this),this._oldForm&&Xe(this._oldForm,this)}_checkFormPresent(){}}return U.\u0275fac=function(k){return new(k||U)(y.Y36(rt,10),y.Y36(pt,10),y.Y36(re,8))},U.\u0275dir=y.lG2({type:U,selectors:[["","formGroup",""]],hostBindings:function(k,te){1&k&&y.NdJ("submit",function(In){return te.onSubmit(In)})("reset",function(){return te.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[y._Bn([Us]),y.qOj,y.TTD]}),U})();const Ss={provide:Vn,useExisting:(0,y.Gpc)(()=>hs)};let hs=(()=>{class U extends Vn{set isDisabled(k){}constructor(k,te,tt,In,Qr){super(),this._ngModelWarningConfig=Qr,this._added=!1,this.update=new y.vpe,this._ngModelWarningSent=!1,this._parent=k,this._setValidators(te),this._setAsyncValidators(tt),this.valueAccessor=function $t(U,F){if(!F)return null;let k,te,tt;return Array.isArray(F),F.forEach(In=>{In.constructor===Ze?k=In:function xi(U){return Object.getPrototypeOf(U.constructor)===Ce}(In)?te=In:tt=In}),tt||te||k||null}(0,In)}ngOnChanges(k){this._added||this._setUpControl(),function bs(U,F){if(!U.hasOwnProperty("model"))return!1;const k=U.model;return!!k.isFirstChange()||!Object.is(F,k.currentValue)}(k,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(k){this.viewModel=k,this.update.emit(k)}get path(){return function ot(U,F){return[...F.path,U]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return U._ngModelWarningSentOnce=!1,U.\u0275fac=function(k){return new(k||U)(y.Y36(Rn,13),y.Y36(rt,10),y.Y36(pt,10),y.Y36(Ae,10),y.Y36(_r,8))},U.\u0275dir=y.lG2({type:U,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[y._Bn([Ss]),y.qOj,y.TTD]}),U})();const js={provide:Ae,useExisting:(0,y.Gpc)(()=>As),multi:!0};function ga(U,F){return null==U?`${F}`:(F&&"object"==typeof F&&(F="Object"),`${U}: ${F}`.slice(0,50))}let As=(()=>{class U extends Ce{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(k){this._compareWith=k}writeValue(k){this.value=k;const tt=ga(this._getOptionId(k),k);this.setProperty("value",tt)}registerOnChange(k){this.onChange=te=>{this.value=this._getOptionValue(te),k(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(k){for(const te of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(te),k))return te;return null}_getOptionValue(k){const te=function ma(U){return U.split(":")[0]}(k);return this._optionMap.has(te)?this._optionMap.get(te):k}}return U.\u0275fac=function(){let F;return function(te){return(F||(F=y.n5z(U)))(te||U)}}(),U.\u0275dir=y.lG2({type:U,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(k,te){1&k&&y.NdJ("change",function(In){return te.onChange(In.target.value)})("blur",function(){return te.onTouched()})},inputs:{compareWith:"compareWith"},features:[y._Bn([js]),y.qOj]}),U})(),no=(()=>{class U{constructor(k,te,tt){this._element=k,this._renderer=te,this._select=tt,this._select&&(this.id=this._select._registerOption())}set ngValue(k){null!=this._select&&(this._select._optionMap.set(this.id,k),this._setElementValue(ga(this.id,k)),this._select.writeValue(this._select.value))}set value(k){this._setElementValue(k),this._select&&this._select.writeValue(this._select.value)}_setElementValue(k){this._renderer.setProperty(this._element.nativeElement,"value",k)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return U.\u0275fac=function(k){return new(k||U)(y.Y36(y.SBq),y.Y36(y.Qsj),y.Y36(As,9))},U.\u0275dir=y.lG2({type:U,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),U})();const Zo={provide:Ae,useExisting:(0,y.Gpc)(()=>Yi),multi:!0};function Bi(U,F){return null==U?`${F}`:("string"==typeof F&&(F=`'${F}'`),F&&"object"==typeof F&&(F="Object"),`${U}: ${F}`.slice(0,50))}let Yi=(()=>{class U extends Ce{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(k){this._compareWith=k}writeValue(k){let te;if(this.value=k,Array.isArray(k)){const tt=k.map(In=>this._getOptionId(In));te=(In,Qr)=>{In._setSelected(tt.indexOf(Qr.toString())>-1)}}else te=(tt,In)=>{tt._setSelected(!1)};this._optionMap.forEach(te)}registerOnChange(k){this.onChange=te=>{const tt=[],In=te.selectedOptions;if(void 0!==In){const Qr=In;for(let Ye=0;Ye<Qr.length;Ye++){const yo=this._getOptionValue(Qr[Ye].value);tt.push(yo)}}else{const Qr=te.options;for(let Ye=0;Ye<Qr.length;Ye++){const _n=Qr[Ye];if(_n.selected){const yo=this._getOptionValue(_n.value);tt.push(yo)}}}this.value=tt,k(tt)}}_registerOption(k){const te=(this._idCounter++).toString();return this._optionMap.set(te,k),te}_getOptionId(k){for(const te of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(te)._value,k))return te;return null}_getOptionValue(k){const te=function ho(U){return U.split(":")[0]}(k);return this._optionMap.has(te)?this._optionMap.get(te)._value:k}}return U.\u0275fac=function(){let F;return function(te){return(F||(F=y.n5z(U)))(te||U)}}(),U.\u0275dir=y.lG2({type:U,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(k,te){1&k&&y.NdJ("change",function(In){return te.onChange(In.target)})("blur",function(){return te.onTouched()})},inputs:{compareWith:"compareWith"},features:[y._Bn([Zo]),y.qOj]}),U})(),Yo=(()=>{class U{constructor(k,te,tt){this._element=k,this._renderer=te,this._select=tt,this._select&&(this.id=this._select._registerOption(this))}set ngValue(k){null!=this._select&&(this._value=k,this._setElementValue(Bi(this.id,k)),this._select.writeValue(this._select.value))}set value(k){this._select?(this._value=k,this._setElementValue(Bi(this.id,k)),this._select.writeValue(this._select.value)):this._setElementValue(k)}_setElementValue(k){this._renderer.setProperty(this._element.nativeElement,"value",k)}_setSelected(k){this._renderer.setProperty(this._element.nativeElement,"selected",k)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return U.\u0275fac=function(k){return new(k||U)(y.Y36(y.SBq),y.Y36(y.Qsj),y.Y36(Yi,9))},U.\u0275dir=y.lG2({type:U,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),U})(),ps=(()=>{class U{}return U.\u0275fac=function(k){return new(k||U)},U.\u0275mod=y.oAB({type:U}),U.\u0275inj=y.cJS({imports:[rs]}),U})(),Pn=(()=>{class U{static withConfig(k){return{ngModule:U,providers:[{provide:re,useValue:k.callSetDisabledState??Ie}]}}}return U.\u0275fac=function(k){return new(k||U)},U.\u0275mod=y.oAB({type:U}),U.\u0275inj=y.cJS({imports:[ps]}),U})(),mo=(()=>{class U{static withConfig(k){return{ngModule:U,providers:[{provide:_r,useValue:k.warnOnNgModelWithFormControl??"always"},{provide:re,useValue:k.callSetDisabledState??Ie}]}}}return U.\u0275fac=function(k){return new(k||U)},U.\u0275mod=y.oAB({type:U}),U.\u0275inj=y.cJS({imports:[ps]}),U})()},1481:(jt,je,j)=>{j.d(je,{Dx:()=>Qt,H7:()=>Ee,b2:()=>vr,q6:()=>ci,se:()=>Ht});var y=j(6895),L=j(4650);class q extends y.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ie extends q{static makeCurrent(){(0,y.HT)(new ie)}onAndCancel(ye,re,Ie){return ye.addEventListener(re,Ie,!1),()=>{ye.removeEventListener(re,Ie,!1)}}dispatchEvent(ye,re){ye.dispatchEvent(re)}remove(ye){ye.parentNode&&ye.parentNode.removeChild(ye)}createElement(ye,re){return(re=re||this.getDefaultDocument()).createElement(ye)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ye){return ye.nodeType===Node.ELEMENT_NODE}isShadowRoot(ye){return ye instanceof DocumentFragment}getGlobalEventTarget(ye,re){return"window"===re?window:"document"===re?ye:"body"===re?ye.body:null}getBaseHref(ye){const re=function we(){return Z=Z||document.querySelector("base"),Z?Z.getAttribute("href"):null}();return null==re?null:function Ae(me){Ce=Ce||document.createElement("a"),Ce.setAttribute("href",me);const ye=Ce.pathname;return"/"===ye.charAt(0)?ye:`/${ye}`}(re)}resetBaseElement(){Z=null}getUserAgent(){return window.navigator.userAgent}getCookie(ye){return(0,y.Mx)(document.cookie,ye)}}let Ce,Z=null;const ve=new L.OlP("TRANSITION_ID"),oe=[{provide:L.ip1,useFactory:function se(me,ye,re){return()=>{re.get(L.CZH).donePromise.then(()=>{const Ie=(0,y.q)(),ot=ye.querySelectorAll(`style[ng-transition="${me}"]`);for(let Tt=0;Tt<ot.length;Tt++)Ie.remove(ot[Tt])})}},deps:[ve,y.K0,L.zs3],multi:!0}];let Ge=(()=>{class me{build(){return new XMLHttpRequest}}return me.\u0275fac=function(re){return new(re||me)},me.\u0275prov=L.Yz7({token:me,factory:me.\u0275fac}),me})();const Ze=new L.OlP("EventManagerPlugins");let gt=(()=>{class me{constructor(re,Ie){this._zone=Ie,this._eventNameToPlugin=new Map,re.forEach(ot=>{ot.manager=this}),this._plugins=re.slice().reverse()}addEventListener(re,Ie,ot){return this._findPluginFor(Ie).addEventListener(re,Ie,ot)}addGlobalEventListener(re,Ie,ot){return this._findPluginFor(Ie).addGlobalEventListener(re,Ie,ot)}getZone(){return this._zone}_findPluginFor(re){const Ie=this._eventNameToPlugin.get(re);if(Ie)return Ie;const ot=this._plugins;for(let Tt=0;Tt<ot.length;Tt++){const cn=ot[Tt];if(cn.supports(re))return this._eventNameToPlugin.set(re,cn),cn}throw new Error(`No event manager plugin found for event ${re}`)}}return me.\u0275fac=function(re){return new(re||me)(L.LFG(Ze),L.LFG(L.R0b))},me.\u0275prov=L.Yz7({token:me,factory:me.\u0275fac}),me})();class mt{constructor(ye){this._doc=ye}addGlobalEventListener(ye,re,Ie){const ot=(0,y.q)().getGlobalEventTarget(this._doc,ye);if(!ot)throw new Error(`Unsupported event target ${ot} for event ${re}`);return this.addEventListener(ot,re,Ie)}}let We=(()=>{class me{constructor(){this.usageCount=new Map}addStyles(re){for(const Ie of re)1===this.changeUsageCount(Ie,1)&&this.onStyleAdded(Ie)}removeStyles(re){for(const Ie of re)0===this.changeUsageCount(Ie,-1)&&this.onStyleRemoved(Ie)}onStyleRemoved(re){}onStyleAdded(re){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(re,Ie){const ot=this.usageCount;let Tt=ot.get(re)??0;return Tt+=Ie,Tt>0?ot.set(re,Tt):ot.delete(re),Tt}ngOnDestroy(){for(const re of this.getAllStyles())this.onStyleRemoved(re);this.usageCount.clear()}}return me.\u0275fac=function(re){return new(re||me)},me.\u0275prov=L.Yz7({token:me,factory:me.\u0275fac}),me})(),rt=(()=>{class me extends We{constructor(re){super(),this.doc=re,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(re){for(const Ie of this.hostNodes)this.addStyleToHost(Ie,re)}onStyleRemoved(re){const Ie=this.styleRef;Ie.get(re)?.forEach(Tt=>Tt.remove()),Ie.delete(re)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(re){this.hostNodes.add(re);for(const Ie of this.getAllStyles())this.addStyleToHost(re,Ie)}removeHost(re){this.hostNodes.delete(re)}addStyleToHost(re,Ie){const ot=this.doc.createElement("style");ot.textContent=Ie,re.appendChild(ot);const Tt=this.styleRef.get(Ie);Tt?Tt.push(ot):this.styleRef.set(Ie,[ot])}resetHostNodes(){const re=this.hostNodes;re.clear(),re.add(this.doc.head)}}return me.\u0275fac=function(re){return new(re||me)(L.LFG(y.K0))},me.\u0275prov=L.Yz7({token:me,factory:me.\u0275fac}),me})();const pt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Dt=/%COMP%/g,Ue=new L.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function bt(me,ye){return ye.flat(100).map(re=>re.replace(Dt,me))}function mn(me){return ye=>{if("__ngUnwrap__"===ye)return me;!1===me(ye)&&(ye.preventDefault(),ye.returnValue=!1)}}let Ht=(()=>{class me{constructor(re,Ie,ot,Tt){this.eventManager=re,this.sharedStylesHost=Ie,this.appId=ot,this.removeStylesOnCompDestory=Tt,this.rendererByCompId=new Map,this.defaultRenderer=new yi(re)}createRenderer(re,Ie){if(!re||!Ie)return this.defaultRenderer;const ot=this.getOrCreateRenderer(re,Ie);return ot instanceof _t?ot.applyToHost(re):ot instanceof ft&&ot.applyStyles(),ot}getOrCreateRenderer(re,Ie){const ot=this.rendererByCompId;let Tt=ot.get(Ie.id);if(!Tt){const cn=this.eventManager,tr=this.sharedStylesHost,Nn=this.removeStylesOnCompDestory;switch(Ie.encapsulation){case L.ifc.Emulated:Tt=new _t(cn,tr,Ie,this.appId,Nn);break;case L.ifc.ShadowDom:return new it(cn,tr,re,Ie);default:Tt=new ft(cn,tr,Ie,Nn)}Tt.onDestroy=()=>ot.delete(Ie.id),ot.set(Ie.id,Tt)}return Tt}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return me.\u0275fac=function(re){return new(re||me)(L.LFG(gt),L.LFG(rt),L.LFG(L.AFp),L.LFG(Ue))},me.\u0275prov=L.Yz7({token:me,factory:me.\u0275fac}),me})();class yi{constructor(ye){this.eventManager=ye,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ye,re){return re?document.createElementNS(pt[re]||re,ye):document.createElement(ye)}createComment(ye){return document.createComment(ye)}createText(ye){return document.createTextNode(ye)}appendChild(ye,re){(Je(ye)?ye.content:ye).appendChild(re)}insertBefore(ye,re,Ie){ye&&(Je(ye)?ye.content:ye).insertBefore(re,Ie)}removeChild(ye,re){ye&&ye.removeChild(re)}selectRootElement(ye,re){let Ie="string"==typeof ye?document.querySelector(ye):ye;if(!Ie)throw new Error(`The selector "${ye}" did not match any elements`);return re||(Ie.textContent=""),Ie}parentNode(ye){return ye.parentNode}nextSibling(ye){return ye.nextSibling}setAttribute(ye,re,Ie,ot){if(ot){re=ot+":"+re;const Tt=pt[ot];Tt?ye.setAttributeNS(Tt,re,Ie):ye.setAttribute(re,Ie)}else ye.setAttribute(re,Ie)}removeAttribute(ye,re,Ie){if(Ie){const ot=pt[Ie];ot?ye.removeAttributeNS(ot,re):ye.removeAttribute(`${Ie}:${re}`)}else ye.removeAttribute(re)}addClass(ye,re){ye.classList.add(re)}removeClass(ye,re){ye.classList.remove(re)}setStyle(ye,re,Ie,ot){ot&(L.JOm.DashCase|L.JOm.Important)?ye.style.setProperty(re,Ie,ot&L.JOm.Important?"important":""):ye.style[re]=Ie}removeStyle(ye,re,Ie){Ie&L.JOm.DashCase?ye.style.removeProperty(re):ye.style[re]=""}setProperty(ye,re,Ie){ye[re]=Ie}setValue(ye,re){ye.nodeValue=re}listen(ye,re,Ie){return"string"==typeof ye?this.eventManager.addGlobalEventListener(ye,re,mn(Ie)):this.eventManager.addEventListener(ye,re,mn(Ie))}}function Je(me){return"TEMPLATE"===me.tagName&&void 0!==me.content}class it extends yi{constructor(ye,re,Ie,ot){super(ye),this.sharedStylesHost=re,this.hostEl=Ie,this.shadowRoot=Ie.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Tt=bt(ot.id,ot.styles);for(const cn of Tt){const tr=document.createElement("style");tr.textContent=cn,this.shadowRoot.appendChild(tr)}}nodeOrShadowRoot(ye){return ye===this.hostEl?this.shadowRoot:ye}appendChild(ye,re){return super.appendChild(this.nodeOrShadowRoot(ye),re)}insertBefore(ye,re,Ie){return super.insertBefore(this.nodeOrShadowRoot(ye),re,Ie)}removeChild(ye,re){return super.removeChild(this.nodeOrShadowRoot(ye),re)}parentNode(ye){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ye)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ft extends yi{constructor(ye,re,Ie,ot,Tt=Ie.id){super(ye),this.sharedStylesHost=re,this.removeStylesOnCompDestory=ot,this.rendererUsageCount=0,this.styles=bt(Tt,Ie.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class _t extends ft{constructor(ye,re,Ie,ot,Tt){const cn=ot+"-"+Ie.id;super(ye,re,Ie,Tt,cn),this.contentAttr=function xt(me){return"_ngcontent-%COMP%".replace(Dt,me)}(cn),this.hostAttr=function nn(me){return"_nghost-%COMP%".replace(Dt,me)}(cn)}applyToHost(ye){this.applyStyles(),this.setAttribute(ye,this.hostAttr,"")}createElement(ye,re){const Ie=super.createElement(ye,re);return super.setAttribute(Ie,this.contentAttr,""),Ie}}let ct=(()=>{class me extends mt{constructor(re){super(re)}supports(re){return!0}addEventListener(re,Ie,ot){return re.addEventListener(Ie,ot,!1),()=>this.removeEventListener(re,Ie,ot)}removeEventListener(re,Ie,ot){return re.removeEventListener(Ie,ot)}}return me.\u0275fac=function(re){return new(re||me)(L.LFG(y.K0))},me.\u0275prov=L.Yz7({token:me,factory:me.\u0275fac}),me})();const Nt=["alt","control","meta","shift"],Gn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Bt={alt:me=>me.altKey,control:me=>me.ctrlKey,meta:me=>me.metaKey,shift:me=>me.shiftKey};let Ve=(()=>{class me extends mt{constructor(re){super(re)}supports(re){return null!=me.parseEventName(re)}addEventListener(re,Ie,ot){const Tt=me.parseEventName(Ie),cn=me.eventCallback(Tt.fullKey,ot,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,y.q)().onAndCancel(re,Tt.domEventName,cn))}static parseEventName(re){const Ie=re.toLowerCase().split("."),ot=Ie.shift();if(0===Ie.length||"keydown"!==ot&&"keyup"!==ot)return null;const Tt=me._normalizeKey(Ie.pop());let cn="",tr=Ie.indexOf("code");if(tr>-1&&(Ie.splice(tr,1),cn="code."),Nt.forEach(Pi=>{const Xe=Ie.indexOf(Pi);Xe>-1&&(Ie.splice(Xe,1),cn+=Pi+".")}),cn+=Tt,0!=Ie.length||0===Tt.length)return null;const Nn={};return Nn.domEventName=ot,Nn.fullKey=cn,Nn}static matchEventFullKeyCode(re,Ie){let ot=Gn[re.key]||re.key,Tt="";return Ie.indexOf("code.")>-1&&(ot=re.code,Tt="code."),!(null==ot||!ot)&&(ot=ot.toLowerCase()," "===ot?ot="space":"."===ot&&(ot="dot"),Nt.forEach(cn=>{cn!==ot&&(0,Bt[cn])(re)&&(Tt+=cn+".")}),Tt+=ot,Tt===Ie)}static eventCallback(re,Ie,ot){return Tt=>{me.matchEventFullKeyCode(Tt,re)&&ot.runGuarded(()=>Ie(Tt))}}static _normalizeKey(re){return"esc"===re?"escape":re}}return me.\u0275fac=function(re){return new(re||me)(L.LFG(y.K0))},me.\u0275prov=L.Yz7({token:me,factory:me.\u0275fac}),me})();const ci=(0,L.eFA)(L._c5,"browser",[{provide:L.Lbi,useValue:y.bD},{provide:L.g9A,useValue:function Rn(){ie.makeCurrent()},multi:!0},{provide:y.K0,useFactory:function an(){return(0,L.RDi)(document),document},deps:[]}]),On=new L.OlP(""),zt=[{provide:L.rWj,useClass:class de{addToWindow(ye){L.dqk.getAngularTestability=(Ie,ot=!0)=>{const Tt=ye.findTestabilityInTree(Ie,ot);if(null==Tt)throw new Error("Could not find testability for element.");return Tt},L.dqk.getAllAngularTestabilities=()=>ye.getAllTestabilities(),L.dqk.getAllAngularRootElements=()=>ye.getAllRootElements(),L.dqk.frameworkStabilizers||(L.dqk.frameworkStabilizers=[]),L.dqk.frameworkStabilizers.push(Ie=>{const ot=L.dqk.getAllAngularTestabilities();let Tt=ot.length,cn=!1;const tr=function(Nn){cn=cn||Nn,Tt--,0==Tt&&Ie(cn)};ot.forEach(function(Nn){Nn.whenStable(tr)})})}findTestabilityInTree(ye,re,Ie){return null==re?null:ye.getTestability(re)??(Ie?(0,y.q)().isShadowRoot(re)?this.findTestabilityInTree(ye,re.host,!0):this.findTestabilityInTree(ye,re.parentElement,!0):null)}},deps:[]},{provide:L.lri,useClass:L.dDg,deps:[L.R0b,L.eoX,L.rWj]},{provide:L.dDg,useClass:L.dDg,deps:[L.R0b,L.eoX,L.rWj]}],Dr=[{provide:L.zSh,useValue:"root"},{provide:L.qLn,useFactory:function Vn(){return new L.qLn},deps:[]},{provide:Ze,useClass:ct,multi:!0,deps:[y.K0,L.R0b,L.Lbi]},{provide:Ze,useClass:Ve,multi:!0,deps:[y.K0]},{provide:Ht,useClass:Ht,deps:[gt,rt,L.AFp,Ue]},{provide:L.FYo,useExisting:Ht},{provide:We,useExisting:rt},{provide:rt,useClass:rt,deps:[y.K0]},{provide:gt,useClass:gt,deps:[Ze,L.R0b]},{provide:y.JF,useClass:Ge,deps:[]},[]];let vr=(()=>{class me{constructor(re){}static withServerTransition(re){return{ngModule:me,providers:[{provide:L.AFp,useValue:re.appId},{provide:ve,useExisting:L.AFp},oe]}}}return me.\u0275fac=function(re){return new(re||me)(L.LFG(On,12))},me.\u0275mod=L.oAB({type:me}),me.\u0275inj=L.cJS({providers:[...Dr,...zt],imports:[y.ez,L.hGG]}),me})(),Qt=(()=>{class me{constructor(re){this._doc=re}getTitle(){return this._doc.title}setTitle(re){this._doc.title=re||""}}return me.\u0275fac=function(re){return new(re||me)(L.LFG(y.K0))},me.\u0275prov=L.Yz7({token:me,factory:function(re){let Ie=null;return Ie=re?new re:function fr(){return new Qt((0,L.LFG)(y.K0))}(),Ie},providedIn:"root"}),me})();typeof window<"u"&&window;let Ee=(()=>{class me{}return me.\u0275fac=function(re){return new(re||me)},me.\u0275prov=L.Yz7({token:me,factory:function(re){let Ie=null;return Ie=re?new(re||me):L.LFG(Be),Ie},providedIn:"root"}),me})(),Be=(()=>{class me extends Ee{constructor(re){super(),this._doc=re}sanitize(re,Ie){if(null==Ie)return null;switch(re){case L.q3G.NONE:return Ie;case L.q3G.HTML:return(0,L.qzn)(Ie,"HTML")?(0,L.z3N)(Ie):(0,L.EiD)(this._doc,String(Ie)).toString();case L.q3G.STYLE:return(0,L.qzn)(Ie,"Style")?(0,L.z3N)(Ie):Ie;case L.q3G.SCRIPT:if((0,L.qzn)(Ie,"Script"))return(0,L.z3N)(Ie);throw new Error("unsafe value used in a script context");case L.q3G.URL:return(0,L.qzn)(Ie,"URL")?(0,L.z3N)(Ie):(0,L.mCW)(String(Ie));case L.q3G.RESOURCE_URL:if((0,L.qzn)(Ie,"ResourceURL"))return(0,L.z3N)(Ie);throw new Error(`unsafe value used in a resource URL context (see ${L.JZr})`);default:throw new Error(`Unexpected SecurityContext ${re} (see ${L.JZr})`)}}bypassSecurityTrustHtml(re){return(0,L.JVY)(re)}bypassSecurityTrustStyle(re){return(0,L.L6k)(re)}bypassSecurityTrustScript(re){return(0,L.eBb)(re)}bypassSecurityTrustUrl(re){return(0,L.LAX)(re)}bypassSecurityTrustResourceUrl(re){return(0,L.pB0)(re)}}return me.\u0275fac=function(re){return new(re||me)(L.LFG(y.K0))},me.\u0275prov=L.Yz7({token:me,factory:function(re){let Ie=null;return Ie=re?new re:function st(me){return new Be(me.get(y.K0))}(L.LFG(L.zs3)),Ie},providedIn:"root"}),me})()},6378:(jt,je,j)=>{j.d(je,{F0:()=>Dn,rH:()=>Is,Bz:()=>os,lC:()=>fs});var y=j(4650),L=j(8996),q=j(9646),ie=j(7579);class Z extends ie.x{constructor(I){super(),this._value=I}get value(){return this.getValue()}_subscribe(I){const p=super._subscribe(I);return!p.closed&&I.next(this._value),p}getValue(){const{hasError:I,thrownError:p,_value:w}=this;if(I)throw p;return this._throwIfClosed(),w}next(I){super.next(this._value=I)}}var we=j(6805),Ce=j(9751),Ae=j(4742),ve=j(4671),se=j(3268),oe=j(7669),de=j(1810),Ge=j(5403),Ze=j(9672);function gt(..._){const I=(0,oe.yG)(_),p=(0,oe.jO)(_),{args:w,keys:M}=(0,Ae.D)(_);if(0===w.length)return(0,L.D)([],I);const W=new Ce.y(function mt(_,I,p=ve.y){return w=>{We(I,()=>{const{length:M}=_,W=new Array(M);let J=M,Se=M;for(let et=0;et<M;et++)We(I,()=>{const kt=(0,L.D)(_[et],I);let Ot=!1;kt.subscribe((0,Ge.x)(w,qn=>{W[et]=qn,Ot||(Ot=!0,Se--),Se||w.next(p(W.slice()))},()=>{--J||w.complete()}))},w)},w)}}(w,I,M?J=>(0,de.n)(M,J):ve.y));return p?W.pipe((0,se.Z)(p)):W}function We(_,I,p){_?(0,Ze.f)(p,_,I):I()}var rt=j(7272),pt=j(9770),Dt=j(9635),Le=j(576);function _e(_,I){const p=(0,Le.m)(_)?_:()=>_,w=M=>M.error(p());return new Ce.y(I?M=>I.schedule(w,0,M):w)}var nt=j(515),It=j(727),ht=j(4482);function Ue(){return(0,ht.e)((_,I)=>{let p=null;_._refCount++;const w=(0,Ge.x)(I,void 0,void 0,void 0,()=>{if(!_||_._refCount<=0||0<--_._refCount)return void(p=null);const M=_._connection,W=p;p=null,M&&(!W||M===W)&&M.unsubscribe(),I.unsubscribe()});_.subscribe(w),w.closed||(p=_.connect())})}class xt extends Ce.y{constructor(I,p){super(),this.source=I,this.subjectFactory=p,this._subject=null,this._refCount=0,this._connection=null,(0,ht.A)(I)&&(this.lift=I.lift)}_subscribe(I){return this.getSubject().subscribe(I)}getSubject(){const I=this._subject;return(!I||I.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:I}=this;this._subject=this._connection=null,I?.unsubscribe()}connect(){let I=this._connection;if(!I){I=this._connection=new It.w0;const p=this.getSubject();I.add(this.source.subscribe((0,Ge.x)(p,void 0,()=>{this._teardown(),p.complete()},w=>{this._teardown(),p.error(w)},()=>this._teardown()))),I.closed&&(this._connection=null,I=It.w0.EMPTY)}return I}refCount(){return Ue()(this)}}var nn=j(6895),bt=j(4004),mn=j(3900),Ht=j(5698),Qe=j(9300),ke=j(5577),Je=j(590),it=j(4351),ft=j(8505),_t=j(8421);function ct(_){return(0,ht.e)((I,p)=>{let W,w=null,M=!1;w=I.subscribe((0,Ge.x)(p,void 0,void 0,J=>{W=(0,_t.Xf)(_(J,ct(_)(I))),w?(w.unsubscribe(),w=null,W.subscribe(p)):M=!0})),M&&(w.unsubscribe(),w=null,W.subscribe(p))})}function Gn(_,I){return(0,ht.e)(function Nt(_,I,p,w,M){return(W,J)=>{let Se=p,et=I,kt=0;W.subscribe((0,Ge.x)(J,Ot=>{const qn=kt++;et=Se?_(et,Ot,qn):(Se=!0,Ot),w&&J.next(et)},M&&(()=>{Se&&J.next(et),J.complete()})))}}(_,I,arguments.length>=2,!0))}function Bt(_){return _<=0?()=>nt.E:(0,ht.e)((I,p)=>{let w=[];I.subscribe((0,Ge.x)(p,M=>{w.push(M),_<w.length&&w.shift()},()=>{for(const M of w)p.next(M);p.complete()},void 0,()=>{w=null}))})}var Ve=j(8068),ut=j(6590);function Me(_,I){const p=arguments.length>=2;return w=>w.pipe(_?(0,Qe.h)((M,W)=>_(M,W,w)):ve.y,Bt(1),p?(0,ut.d)(I):(0,Ve.T)(()=>new we.K))}function fn(_){return(0,ht.e)((I,p)=>{try{I.subscribe(p)}finally{p.add(_)}})}var Rn=j(8189),Vn=j(1481);const an="primary",Gr=Symbol("RouteTitle");class ci{constructor(I){this.params=I||{}}has(I){return Object.prototype.hasOwnProperty.call(this.params,I)}get(I){if(this.has(I)){const p=this.params[I];return Array.isArray(p)?p[0]:p}return null}getAll(I){if(this.has(I)){const p=this.params[I];return Array.isArray(p)?p:[p]}return[]}get keys(){return Object.keys(this.params)}}function On(_){return new ci(_)}function zt(_,I,p){const w=p.path.split("/");if(w.length>_.length||"full"===p.pathMatch&&(I.hasChildren()||w.length<_.length))return null;const M={};for(let W=0;W<w.length;W++){const J=w[W],Se=_[W];if(J.startsWith(":"))M[J.substring(1)]=Se;else if(J!==Se.path)return null}return{consumed:_.slice(0,w.length),posParams:M}}function vr(_,I){const p=_?Object.keys(_):void 0,w=I?Object.keys(I):void 0;if(!p||!w||p.length!=w.length)return!1;let M;for(let W=0;W<p.length;W++)if(M=p[W],!Cr(_[M],I[M]))return!1;return!0}function Cr(_,I){if(Array.isArray(_)&&Array.isArray(I)){if(_.length!==I.length)return!1;const p=[..._].sort(),w=[...I].sort();return p.every((M,W)=>w[W]===M)}return _===I}function Mr(_){return Array.prototype.concat.apply([],_)}function Ri(_){return _.length>0?_[_.length-1]:null}function Qt(_,I){for(const p in _)_.hasOwnProperty(p)&&I(_[p],p)}function Jt(_){return(0,y.CqO)(_)?_:(0,y.QGY)(_)?(0,L.D)(Promise.resolve(_)):(0,q.of)(_)}const vn=!1,Ei={exact:function Vr(_,I,p){if(!er(_.segments,I.segments)||!kn(_.segments,I.segments,p)||_.numberOfChildren!==I.numberOfChildren)return!1;for(const w in I.children)if(!_.children[w]||!Vr(_.children[w],I.children[w],p))return!1;return!0},subset:ur},si={exact:function Oi(_,I){return vr(_,I)},subset:function Ur(_,I){return Object.keys(I).length<=Object.keys(_).length&&Object.keys(I).every(p=>Cr(_[p],I[p]))},ignored:()=>!0};function Er(_,I,p){return Ei[p.paths](_.root,I.root,p.matrixParams)&&si[p.queryParams](_.queryParams,I.queryParams)&&!("exact"===p.fragment&&_.fragment!==I.fragment)}function ur(_,I,p){return Yt(_,I,I.segments,p)}function Yt(_,I,p,w){if(_.segments.length>p.length){const M=_.segments.slice(0,p.length);return!(!er(M,p)||I.hasChildren()||!kn(M,p,w))}if(_.segments.length===p.length){if(!er(_.segments,p)||!kn(_.segments,p,w))return!1;for(const M in I.children)if(!_.children[M]||!ur(_.children[M],I.children[M],w))return!1;return!0}{const M=p.slice(0,_.segments.length),W=p.slice(_.segments.length);return!!(er(_.segments,M)&&kn(_.segments,M,w)&&_.children[an])&&Yt(_.children[an],I,W,w)}}function kn(_,I,p){return I.every((w,M)=>si[p](_[M].parameters,w.parameters))}class Rr{constructor(I=new Vt([],{}),p={},w=null){this.root=I,this.queryParams=p,this.fragment=w}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=On(this.queryParams)),this._queryParamMap}toString(){return Nr.serialize(this)}}class Vt{constructor(I,p){this.segments=I,this.children=p,this.parent=null,Qt(p,(w,M)=>w.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return fe(this)}}class $n{constructor(I,p){this.path=I,this.parameters=p}get parameterMap(){return this._parameterMap||(this._parameterMap=On(this.parameters)),this._parameterMap}toString(){return re(this)}}function er(_,I){return _.length===I.length&&_.every((p,w)=>p.path===I[w].path)}let qr=(()=>{class _{}return _.\u0275fac=function(p){return new(p||_)},_.\u0275prov=y.Yz7({token:_,factory:function(){return new ln},providedIn:"root"}),_})();class ln{parse(I){const p=new Fe(I);return new Rr(p.parseRootSegment(),p.parseQueryParams(),p.parseFragment())}serialize(I){const p=`/${le(I.root,!0)}`,w=function ot(_){const I=Object.keys(_).map(p=>{const w=_[p];return Array.isArray(w)?w.map(M=>`${st(p)}=${st(M)}`).join("&"):`${st(p)}=${st(w)}`}).filter(p=>!!p);return I.length?`?${I.join("&")}`:""}(I.queryParams);return`${p}${w}${"string"==typeof I.fragment?`#${function Be(_){return encodeURI(_)}(I.fragment)}`:""}`}}const Nr=new ln;function fe(_){return _.segments.map(I=>re(I)).join("/")}function le(_,I){if(!_.hasChildren())return fe(_);if(I){const p=_.children[an]?le(_.children[an],!1):"",w=[];return Qt(_.children,(M,W)=>{W!==an&&w.push(`${W}:${le(M,!1)}`)}),w.length>0?`${p}(${w.join("//")})`:p}{const p=function Rt(_,I){let p=[];return Qt(_.children,(w,M)=>{M===an&&(p=p.concat(I(w,M)))}),Qt(_.children,(w,M)=>{M!==an&&(p=p.concat(I(w,M)))}),p}(_,(w,M)=>M===an?[le(_.children[an],!1)]:[`${M}:${le(w,!1)}`]);return 1===Object.keys(_.children).length&&null!=_.children[an]?`${fe(_)}/${p[0]}`:`${fe(_)}/(${p.join("//")})`}}function Ee(_){return encodeURIComponent(_).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function st(_){return Ee(_).replace(/%3B/gi,";")}function Mt(_){return Ee(_).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function me(_){return decodeURIComponent(_)}function ye(_){return me(_.replace(/\+/g,"%20"))}function re(_){return`${Mt(_.path)}${function Ie(_){return Object.keys(_).map(I=>`;${Mt(I)}=${Mt(_[I])}`).join("")}(_.parameters)}`}const Tt=/^[^\/()?;=#]+/;function cn(_){const I=_.match(Tt);return I?I[0]:""}const tr=/^[^=?&#]+/,Pi=/^[^&#]+/;class Fe{constructor(I){this.url=I,this.remaining=I}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Vt([],{}):new Vt([],this.parseChildren())}parseQueryParams(){const I={};if(this.consumeOptional("?"))do{this.parseQueryParam(I)}while(this.consumeOptional("&"));return I}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const I=[];for(this.peekStartsWith("(")||I.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),I.push(this.parseSegment());let p={};this.peekStartsWith("/(")&&(this.capture("/"),p=this.parseParens(!0));let w={};return this.peekStartsWith("(")&&(w=this.parseParens(!1)),(I.length>0||Object.keys(p).length>0)&&(w[an]=new Vt(I,p)),w}parseSegment(){const I=cn(this.remaining);if(""===I&&this.peekStartsWith(";"))throw new y.vHH(4009,vn);return this.capture(I),new $n(me(I),this.parseMatrixParams())}parseMatrixParams(){const I={};for(;this.consumeOptional(";");)this.parseParam(I);return I}parseParam(I){const p=cn(this.remaining);if(!p)return;this.capture(p);let w="";if(this.consumeOptional("=")){const M=cn(this.remaining);M&&(w=M,this.capture(w))}I[me(p)]=me(w)}parseQueryParam(I){const p=function Nn(_){const I=_.match(tr);return I?I[0]:""}(this.remaining);if(!p)return;this.capture(p);let w="";if(this.consumeOptional("=")){const J=function Xe(_){const I=_.match(Pi);return I?I[0]:""}(this.remaining);J&&(w=J,this.capture(w))}const M=ye(p),W=ye(w);if(I.hasOwnProperty(M)){let J=I[M];Array.isArray(J)||(J=[J],I[M]=J),J.push(W)}else I[M]=W}parseParens(I){const p={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const w=cn(this.remaining),M=this.remaining[w.length];if("/"!==M&&")"!==M&&";"!==M)throw new y.vHH(4010,vn);let W;w.indexOf(":")>-1?(W=w.slice(0,w.indexOf(":")),this.capture(W),this.capture(":")):I&&(W=an);const J=this.parseChildren();p[W]=1===Object.keys(J).length?J[an]:new Vt([],J),this.consumeOptional("//")}return p}peekStartsWith(I){return this.remaining.startsWith(I)}consumeOptional(I){return!!this.peekStartsWith(I)&&(this.remaining=this.remaining.substring(I.length),!0)}capture(I){if(!this.consumeOptional(I))throw new y.vHH(4011,vn)}}function wt(_){return _.segments.length>0?new Vt([],{[an]:_}):_}function Xt(_){const I={};for(const w of Object.keys(_.children)){const W=Xt(_.children[w]);(W.segments.length>0||W.hasChildren())&&(I[w]=W)}return function Sn(_){if(1===_.numberOfChildren&&_.children[an]){const I=_.children[an];return new Vt(_.segments.concat(I.segments),I.children)}return _}(new Vt(_.segments,I))}function An(_){return _ instanceof Rr}const on=!1;function oi(_,I,p,w,M){if(0===p.length)return xi(I.root,I.root,I.root,w,M);const W=function xn(_){if("string"==typeof _[0]&&1===_.length&&"/"===_[0])return new $t(!0,0,_);let I=0,p=!1;const w=_.reduce((M,W,J)=>{if("object"==typeof W&&null!=W){if(W.outlets){const Se={};return Qt(W.outlets,(et,kt)=>{Se[kt]="string"==typeof et?et.split("/"):et}),[...M,{outlets:Se}]}if(W.segmentPath)return[...M,W.segmentPath]}return"string"!=typeof W?[...M,W]:0===J?(W.split("/").forEach((Se,et)=>{0==et&&"."===Se||(0==et&&""===Se?p=!0:".."===Se?I++:""!=Se&&M.push(Se))}),M):[...M,W]},[]);return new $t(p,I,w)}(p);return W.toRoot()?xi(I.root,I.root,new Vt([],{}),w,M):function J(et){const kt=function wi(_,I,p,w){if(_.isAbsolute)return new cr(I.root,!0,0);if(-1===w)return new cr(p,p===I.root,0);return function Zr(_,I,p){let w=_,M=I,W=p;for(;W>M;){if(W-=M,w=w.parent,!w)throw new y.vHH(4005,on&&"Invalid number of '../'");M=w.segments.length}return new cr(w,!1,M-W)}(p,w+(Ts(_.commands[0])?0:1),_.numberOfDoubleDots)}(W,I,_.snapshot?._urlSegment,et),Ot=kt.processChildren?Re(kt.segmentGroup,kt.index,W.commands):kr(kt.segmentGroup,kt.index,W.commands);return xi(I.root,kt.segmentGroup,Ot,w,M)}(_.snapshot?._lastPathIndex)}function Ts(_){return"object"==typeof _&&null!=_&&!_.outlets&&!_.segmentPath}function bs(_){return"object"==typeof _&&null!=_&&_.outlets}function xi(_,I,p,w,M){let J,W={};w&&Qt(w,(et,kt)=>{W[kt]=Array.isArray(et)?et.map(Ot=>`${Ot}`):`${et}`}),J=_===I?p:or(_,I,p);const Se=wt(Xt(J));return new Rr(Se,W,M)}function or(_,I,p){const w={};return Qt(_.children,(M,W)=>{w[W]=M===I?p:or(M,I,p)}),new Vt(_.segments,w)}class $t{constructor(I,p,w){if(this.isAbsolute=I,this.numberOfDoubleDots=p,this.commands=w,I&&w.length>0&&Ts(w[0]))throw new y.vHH(4003,on&&"Root segment cannot have matrix parameters");const M=w.find(bs);if(M&&M!==Ri(w))throw new y.vHH(4004,on&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class cr{constructor(I,p,w){this.segmentGroup=I,this.processChildren=p,this.index=w}}function kr(_,I,p){if(_||(_=new Vt([],{})),0===_.segments.length&&_.hasChildren())return Re(_,I,p);const w=function Te(_,I,p){let w=0,M=I;const W={match:!1,pathIndex:0,commandIndex:0};for(;M<_.segments.length;){if(w>=p.length)return W;const J=_.segments[M],Se=p[w];if(bs(Se))break;const et=`${Se}`,kt=w<p.length-1?p[w+1]:null;if(M>0&&void 0===et)break;if(et&&kt&&"object"==typeof kt&&void 0===kt.outlets){if(!En(et,kt,J))return W;w+=2}else{if(!En(et,{},J))return W;w++}M++}return{match:!0,pathIndex:M,commandIndex:w}}(_,I,p),M=p.slice(w.commandIndex);if(w.match&&w.pathIndex<_.segments.length){const W=new Vt(_.segments.slice(0,w.pathIndex),{});return W.children[an]=new Vt(_.segments.slice(w.pathIndex),_.children),Re(W,0,M)}return w.match&&0===M.length?new Vt(_.segments,{}):w.match&&!_.hasChildren()?be(_,I,p):w.match?Re(_,0,M):be(_,I,p)}function Re(_,I,p){if(0===p.length)return new Vt(_.segments,{});{const w=function cs(_){return bs(_[0])?_[0].outlets:{[an]:_}}(p),M={};if(!w[an]&&_.children[an]&&1===_.numberOfChildren&&0===_.children[an].segments.length){const W=Re(_.children[an],I,p);return new Vt(_.segments,W.children)}return Qt(w,(W,J)=>{"string"==typeof W&&(W=[W]),null!==W&&(M[J]=kr(_.children[J],I,W))}),Qt(_.children,(W,J)=>{void 0===w[J]&&(M[J]=W)}),new Vt(_.segments,M)}}function be(_,I,p){const w=_.segments.slice(0,I);let M=0;for(;M<p.length;){const W=p[M];if(bs(W)){const et=yt(W.outlets);return new Vt(w,et)}if(0===M&&Ts(p[0])){w.push(new $n(_.segments[I].path,At(p[0]))),M++;continue}const J=bs(W)?W.outlets[an]:`${W}`,Se=M<p.length-1?p[M+1]:null;J&&Se&&Ts(Se)?(w.push(new $n(J,At(Se))),M+=2):(w.push(new $n(J,{})),M++)}return new Vt(w,{})}function yt(_){const I={};return Qt(_,(p,w)=>{"string"==typeof p&&(p=[p]),null!==p&&(I[w]=be(new Vt([],{}),0,p))}),I}function At(_){const I={};return Qt(_,(p,w)=>I[w]=`${p}`),I}function En(_,I,p){return _==p.path&&vr(I,p.parameters)}const Fn="imperative";class pn{constructor(I,p){this.id=I,this.url=p}}class Wn extends pn{constructor(I,p,w="imperative",M=null){super(I,p),this.type=0,this.navigationTrigger=w,this.restoredState=M}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class jr extends pn{constructor(I,p,w){super(I,p),this.urlAfterRedirects=w,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ei extends pn{constructor(I,p,w,M){super(I,p),this.reason=w,this.code=M,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Wr extends pn{constructor(I,p,w,M){super(I,p),this.reason=w,this.code=M,this.type=16}}class ai extends pn{constructor(I,p,w,M){super(I,p),this.error=w,this.target=M,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class wr extends pn{constructor(I,p,w,M){super(I,p),this.urlAfterRedirects=w,this.state=M,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ns extends pn{constructor(I,p,w,M){super(I,p),this.urlAfterRedirects=w,this.state=M,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ko extends pn{constructor(I,p,w,M,W){super(I,p),this.urlAfterRedirects=w,this.state=M,this.shouldActivate=W,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Mo extends pn{constructor(I,p,w,M){super(I,p),this.urlAfterRedirects=w,this.state=M,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zi extends pn{constructor(I,p,w,M){super(I,p),this.urlAfterRedirects=w,this.state=M,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rs{constructor(I){this.route=I,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Vs{constructor(I){this.route=I,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Kr{constructor(I){this.snapshot=I,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oa{constructor(I){this.snapshot=I,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class di{constructor(I){this.snapshot=I,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _r{constructor(I){this.snapshot=I,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $r{constructor(I,p,w){this.routerEvent=I,this.position=p,this.anchor=w,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Ii=(()=>{class _{createUrlTree(p,w,M,W,J,Se){return oi(p||w.root,M,W,J,Se)}}return _.\u0275fac=function(p){return new(p||_)},_.\u0275prov=y.Yz7({token:_,factory:_.\u0275fac}),_})(),Bs=(()=>{class _{}return _.\u0275fac=function(p){return new(p||_)},_.\u0275prov=y.Yz7({token:_,factory:function(I){return Ii.\u0275fac(I)},providedIn:"root"}),_})();class qo{constructor(I){this._root=I}get root(){return this._root.value}parent(I){const p=this.pathFromRoot(I);return p.length>1?p[p.length-2]:null}children(I){const p=Gi(I,this._root);return p?p.children.map(w=>w.value):[]}firstChild(I){const p=Gi(I,this._root);return p&&p.children.length>0?p.children[0].value:null}siblings(I){const p=aa(I,this._root);return p.length<2?[]:p[p.length-2].children.map(M=>M.value).filter(M=>M!==I)}pathFromRoot(I){return aa(I,this._root).map(p=>p.value)}}function Gi(_,I){if(_===I.value)return I;for(const p of I.children){const w=Gi(_,p);if(w)return w}return null}function aa(_,I){if(_===I.value)return[I];for(const p of I.children){const w=aa(_,p);if(w.length)return w.unshift(I),w}return[]}class Ss{constructor(I,p){this.value=I,this.children=p}toString(){return`TreeNode(${this.value})`}}function hs(_){const I={};return _&&_.children.forEach(p=>I[p.value.outlet]=p),I}class js extends qo{constructor(I,p){super(I),this.snapshot=p,Ta(this,I)}toString(){return this.snapshot.toString()}}function ga(_,I){const p=function ma(_,I){const J=new Bi([],{},{},"",{},an,I,null,_.root,-1,{});return new ho("",new Ss(J,[]))}(_,I),w=new Z([new $n("",{})]),M=new Z({}),W=new Z({}),J=new Z({}),Se=new Z(""),et=new As(w,M,J,Se,W,an,I,p.root);return et.snapshot=p.root,new js(new Ss(et,[]),p)}class As{constructor(I,p,w,M,W,J,Se,et){this.url=I,this.params=p,this.queryParams=w,this.fragment=M,this.data=W,this.outlet=J,this.component=Se,this.title=this.data?.pipe((0,bt.U)(kt=>kt[Gr]))??(0,q.of)(void 0),this._futureSnapshot=et}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,bt.U)(I=>On(I)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,bt.U)(I=>On(I)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function no(_,I="emptyOnly"){const p=_.pathFromRoot;let w=0;if("always"!==I)for(w=p.length-1;w>=1;){const M=p[w],W=p[w-1];if(M.routeConfig&&""===M.routeConfig.path)w--;else{if(W.component)break;w--}}return function Zo(_){return _.reduce((I,p)=>({params:{...I.params,...p.params},data:{...I.data,...p.data},resolve:{...p.data,...I.resolve,...p.routeConfig?.data,...p._resolvedData}}),{params:{},data:{},resolve:{}})}(p.slice(w))}class Bi{get title(){return this.data?.[Gr]}constructor(I,p,w,M,W,J,Se,et,kt,Ot,qn){this.url=I,this.params=p,this.queryParams=w,this.fragment=M,this.data=W,this.outlet=J,this.component=Se,this.routeConfig=et,this._urlSegment=kt,this._lastPathIndex=Ot,this._resolve=qn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=On(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=On(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(w=>w.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ho extends qo{constructor(I,p){super(p),this.url=I,Ta(this,p)}toString(){return Yi(this._root)}}function Ta(_,I){I.value._routerState=_,I.children.forEach(p=>Ta(_,p))}function Yi(_){const I=_.children.length>0?` { ${_.children.map(Yi).join(", ")} } `:"";return`${_.value}${I}`}function Yo(_){if(_.snapshot){const I=_.snapshot,p=_._futureSnapshot;_.snapshot=p,vr(I.queryParams,p.queryParams)||_.queryParams.next(p.queryParams),I.fragment!==p.fragment&&_.fragment.next(p.fragment),vr(I.params,p.params)||_.params.next(p.params),function Dr(_,I){if(_.length!==I.length)return!1;for(let p=0;p<_.length;++p)if(!vr(_[p],I[p]))return!1;return!0}(I.url,p.url)||_.url.next(p.url),vr(I.data,p.data)||_.data.next(p.data)}else _.snapshot=_._futureSnapshot,_.data.next(_._futureSnapshot.data)}function Ro(_,I){const p=vr(_.params,I.params)&&function Or(_,I){return er(_,I)&&_.every((p,w)=>vr(p.parameters,I[w].parameters))}(_.url,I.url);return p&&!(!_.parent!=!I.parent)&&(!_.parent||Ro(_.parent,I.parent))}function vi(_,I,p){if(p&&_.shouldReuseRoute(I.value,p.value.snapshot)){const w=p.value;w._futureSnapshot=I.value;const M=function Ms(_,I,p){return I.children.map(w=>{for(const M of p.children)if(_.shouldReuseRoute(w.value,M.value.snapshot))return vi(_,w,M);return vi(_,w)})}(_,I,p);return new Ss(w,M)}{if(_.shouldAttach(I.value)){const W=_.retrieve(I.value);if(null!==W){const J=W.route;return J.value._futureSnapshot=I.value,J.children=I.children.map(Se=>vi(_,Se)),J}}const w=function ya(_){return new As(new Z(_.url),new Z(_.params),new Z(_.queryParams),new Z(_.fragment),new Z(_.data),_.outlet,_.component,_)}(I.value),M=I.children.map(W=>vi(_,W));return new Ss(w,M)}}const Hs="ngNavigationCancelingError";function fo(_,I){const{redirectTo:p,navigationBehaviorOptions:w}=An(I)?{redirectTo:I,navigationBehaviorOptions:void 0}:I,M=ba(!1,0,I);return M.url=p,M.navigationBehaviorOptions=w,M}function ba(_,I,p){const w=new Error("NavigationCancelingError: "+(_||""));return w[Hs]=!0,w.cancellationCode=I,p&&(w.url=p),w}function Di(_){return po(_)&&An(_.url)}function po(_){return _&&_[Hs]}class ro{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Oo,this.attachRef=null}}let Oo=(()=>{class _{constructor(){this.contexts=new Map}onChildOutletCreated(p,w){const M=this.getOrCreateContext(p);M.outlet=w,this.contexts.set(p,M)}onChildOutletDestroyed(p){const w=this.getContext(p);w&&(w.outlet=null,w.attachRef=null)}onOutletDeactivated(){const p=this.contexts;return this.contexts=new Map,p}onOutletReAttached(p){this.contexts=p}getOrCreateContext(p){let w=this.getContext(p);return w||(w=new ro,this.contexts.set(p,w)),w}getContext(p){return this.contexts.get(p)||null}}return _.\u0275fac=function(p){return new(p||_)},_.\u0275prov=y.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();const Wi=!1;let fs=(()=>{class _{constructor(){this.activated=null,this._activatedRoute=null,this.name=an,this.activateEvents=new y.vpe,this.deactivateEvents=new y.vpe,this.attachEvents=new y.vpe,this.detachEvents=new y.vpe,this.parentContexts=(0,y.f3M)(Oo),this.location=(0,y.f3M)(y.s_b),this.changeDetector=(0,y.f3M)(y.sBO),this.environmentInjector=(0,y.f3M)(y.lqb)}ngOnChanges(p){if(p.name){const{firstChange:w,previousValue:M}=p.name;if(w)return;this.isTrackedInParentContexts(M)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(M)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(p){return this.parentContexts.getContext(p)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const p=this.parentContexts.getContext(this.name);p?.route&&(p.attachRef?this.attach(p.attachRef,p.route):this.activateWith(p.route,p.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new y.vHH(4012,Wi);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new y.vHH(4012,Wi);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new y.vHH(4012,Wi);this.location.detach();const p=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(p.instance),p}attach(p,w){this.activated=p,this._activatedRoute=w,this.location.insert(p.hostView),this.attachEvents.emit(p.instance)}deactivate(){if(this.activated){const p=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(p)}}activateWith(p,w){if(this.isActivated)throw new y.vHH(4013,Wi);this._activatedRoute=p;const M=this.location,J=p.snapshot.component,Se=this.parentContexts.getOrCreateContext(this.name).children,et=new Jn(p,Se,M.injector);if(w&&function Ci(_){return!!_.resolveComponentFactory}(w)){const kt=w.resolveComponentFactory(J);this.activated=M.createComponent(kt,M.length,et)}else this.activated=M.createComponent(J,{index:M.length,injector:et,environmentInjector:w??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return _.\u0275fac=function(p){return new(p||_)},_.\u0275dir=y.lG2({type:_,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[y.TTD]}),_})();class Jn{constructor(I,p,w){this.route=I,this.childContexts=p,this.parent=w}get(I,p){return I===As?this.route:I===Oo?this.childContexts:this.parent.get(I,p)}}let Qi=(()=>{class _{}return _.\u0275fac=function(p){return new(p||_)},_.\u0275cmp=y.Xpm({type:_,selectors:[["ng-component"]],standalone:!0,features:[y.jDz],decls:1,vars:0,template:function(p,w){1&p&&y._UZ(0,"router-outlet")},dependencies:[fs],encapsulation:2}),_})();function Tr(_,I){return _.providers&&!_._injector&&(_._injector=(0,y.MMx)(_.providers,I,`Route: ${_.path}`)),_._injector??I}function Ji(_){const I=_.children&&_.children.map(Ji),p=I?{..._,children:I}:{..._};return!p.component&&!p.loadComponent&&(I||p.loadChildren)&&p.outlet&&p.outlet!==an&&(p.component=Qi),p}function bi(_){return _.outlet||an}function gs(_,I){const p=_.filter(w=>bi(w)===I);return p.push(..._.filter(w=>bi(w)!==I)),p}function hi(_){if(!_)return null;if(_.routeConfig?._injector)return _.routeConfig._injector;for(let I=_.parent;I;I=I.parent){const p=I.routeConfig;if(p?._loadedInjector)return p._loadedInjector;if(p?._injector)return p._injector}return null}class Pn{constructor(I,p,w,M){this.routeReuseStrategy=I,this.futureState=p,this.currState=w,this.forwardEvent=M}activate(I){const p=this.futureState._root,w=this.currState?this.currState._root:null;this.deactivateChildRoutes(p,w,I),Yo(this.futureState.root),this.activateChildRoutes(p,w,I)}deactivateChildRoutes(I,p,w){const M=hs(p);I.children.forEach(W=>{const J=W.value.outlet;this.deactivateRoutes(W,M[J],w),delete M[J]}),Qt(M,(W,J)=>{this.deactivateRouteAndItsChildren(W,w)})}deactivateRoutes(I,p,w){const M=I.value,W=p?p.value:null;if(M===W)if(M.component){const J=w.getContext(M.outlet);J&&this.deactivateChildRoutes(I,p,J.children)}else this.deactivateChildRoutes(I,p,w);else W&&this.deactivateRouteAndItsChildren(p,w)}deactivateRouteAndItsChildren(I,p){I.value.component&&this.routeReuseStrategy.shouldDetach(I.value.snapshot)?this.detachAndStoreRouteSubtree(I,p):this.deactivateRouteAndOutlet(I,p)}detachAndStoreRouteSubtree(I,p){const w=p.getContext(I.value.outlet),M=w&&I.value.component?w.children:p,W=hs(I);for(const J of Object.keys(W))this.deactivateRouteAndItsChildren(W[J],M);if(w&&w.outlet){const J=w.outlet.detach(),Se=w.children.onOutletDeactivated();this.routeReuseStrategy.store(I.value.snapshot,{componentRef:J,route:I,contexts:Se})}}deactivateRouteAndOutlet(I,p){const w=p.getContext(I.value.outlet),M=w&&I.value.component?w.children:p,W=hs(I);for(const J of Object.keys(W))this.deactivateRouteAndItsChildren(W[J],M);w&&(w.outlet&&(w.outlet.deactivate(),w.children.onOutletDeactivated()),w.attachRef=null,w.resolver=null,w.route=null)}activateChildRoutes(I,p,w){const M=hs(p);I.children.forEach(W=>{this.activateRoutes(W,M[W.value.outlet],w),this.forwardEvent(new _r(W.value.snapshot))}),I.children.length&&this.forwardEvent(new oa(I.value.snapshot))}activateRoutes(I,p,w){const M=I.value,W=p?p.value:null;if(Yo(M),M===W)if(M.component){const J=w.getOrCreateContext(M.outlet);this.activateChildRoutes(I,p,J.children)}else this.activateChildRoutes(I,p,w);else if(M.component){const J=w.getOrCreateContext(M.outlet);if(this.routeReuseStrategy.shouldAttach(M.snapshot)){const Se=this.routeReuseStrategy.retrieve(M.snapshot);this.routeReuseStrategy.store(M.snapshot,null),J.children.onOutletReAttached(Se.contexts),J.attachRef=Se.componentRef,J.route=Se.route.value,J.outlet&&J.outlet.attach(Se.componentRef,Se.route.value),Yo(Se.route.value),this.activateChildRoutes(I,null,J.children)}else{const Se=hi(M.snapshot),et=Se?.get(y._Vd)??null;J.attachRef=null,J.route=M,J.resolver=et,J.injector=Se,J.outlet&&J.outlet.activateWith(M,J.injector),this.activateChildRoutes(I,null,J.children)}}else this.activateChildRoutes(I,null,w)}}class mo{constructor(I){this.path=I,this.route=this.path[this.path.length-1]}}class U{constructor(I,p){this.component=I,this.route=p}}function F(_,I,p){const w=_._root;return tt(w,I?I._root:null,p,[w.value])}function te(_,I){const p=Symbol(),w=I.get(_,p);return w===p?"function"!=typeof _||(0,y.Z0I)(_)?I.get(_):_:w}function tt(_,I,p,w,M={canDeactivateChecks:[],canActivateChecks:[]}){const W=hs(I);return _.children.forEach(J=>{(function In(_,I,p,w,M={canDeactivateChecks:[],canActivateChecks:[]}){const W=_.value,J=I?I.value:null,Se=p?p.getContext(_.value.outlet):null;if(J&&W.routeConfig===J.routeConfig){const et=function Qr(_,I,p){if("function"==typeof p)return p(_,I);switch(p){case"pathParamsChange":return!er(_.url,I.url);case"pathParamsOrQueryParamsChange":return!er(_.url,I.url)||!vr(_.queryParams,I.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ro(_,I)||!vr(_.queryParams,I.queryParams);default:return!Ro(_,I)}}(J,W,W.routeConfig.runGuardsAndResolvers);et?M.canActivateChecks.push(new mo(w)):(W.data=J.data,W._resolvedData=J._resolvedData),tt(_,I,W.component?Se?Se.children:null:p,w,M),et&&Se&&Se.outlet&&Se.outlet.isActivated&&M.canDeactivateChecks.push(new U(Se.outlet.component,J))}else J&&Ye(I,Se,M),M.canActivateChecks.push(new mo(w)),tt(_,null,W.component?Se?Se.children:null:p,w,M)})(J,W[J.value.outlet],p,w.concat([J.value]),M),delete W[J.value.outlet]}),Qt(W,(J,Se)=>Ye(J,p.getContext(Se),M)),M}function Ye(_,I,p){const w=hs(_),M=_.value;Qt(w,(W,J)=>{Ye(W,M.component?I?I.children.getContext(J):null:I,p)}),p.canDeactivateChecks.push(new U(M.component&&I&&I.outlet&&I.outlet.isActivated?I.outlet.component:null,M))}function _n(_){return"function"==typeof _}function Jo(_){return _ instanceof we.K||"EmptyError"===_?.name}const Xi=Symbol("INITIAL_VALUE");function Ps(){return(0,mn.w)(_=>gt(_.map(I=>I.pipe((0,Ht.q)(1),function yi(..._){const I=(0,oe.yG)(_);return(0,ht.e)((p,w)=>{(I?(0,rt.z)(_,p,I):(0,rt.z)(_,p)).subscribe(w)})}(Xi)))).pipe((0,bt.U)(I=>{for(const p of I)if(!0!==p){if(p===Xi)return Xi;if(!1===p||p instanceof Rr)return p}return!0}),(0,Qe.h)(I=>I!==Xi),(0,Ht.q)(1)))}function pi(_){return(0,Dt.z)((0,ft.b)(I=>{if(An(I))throw fo(0,I)}),(0,bt.U)(I=>!0===I))}const vs={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ma(_,I,p,w,M){const W=ea(_,I,p);return W.matched?function Xo(_,I,p,w){const M=I.canMatch;if(!M||0===M.length)return(0,q.of)(!0);const W=M.map(J=>{const Se=te(J,_);return Jt(function ms(_){return _&&_n(_.canMatch)}(Se)?Se.canMatch(I,p):_.runInContext(()=>Se(I,p)))});return(0,q.of)(W).pipe(Ps(),pi())}(w=Tr(I,w),I,p).pipe((0,bt.U)(J=>!0===J?W:{...vs})):(0,q.of)(W)}function ea(_,I,p){if(""===I.path)return"full"===I.pathMatch&&(_.hasChildren()||p.length>0)?{...vs}:{matched:!0,consumedSegments:[],remainingSegments:p,parameters:{},positionalParamSegments:{}};const M=(I.matcher||zt)(p,_,I);if(!M)return{...vs};const W={};Qt(M.posParams,(Se,et)=>{W[et]=Se.path});const J=M.consumed.length>0?{...W,...M.consumed[M.consumed.length-1].parameters}:W;return{matched:!0,consumedSegments:M.consumed,remainingSegments:p.slice(M.consumed.length),parameters:J,positionalParamSegments:M.posParams??{}}}function xo(_,I,p,w){if(p.length>0&&function va(_,I,p){return p.some(w=>ta(_,I,w)&&bi(w)!==an)}(_,p,w)){const W=new Vt(I,function Va(_,I,p,w){const M={};M[an]=w,w._sourceSegment=_,w._segmentIndexShift=I.length;for(const W of p)if(""===W.path&&bi(W)!==an){const J=new Vt([],{});J._sourceSegment=_,J._segmentIndexShift=I.length,M[bi(W)]=J}return M}(_,I,w,new Vt(p,_.children)));return W._sourceSegment=_,W._segmentIndexShift=I.length,{segmentGroup:W,slicedSegments:[]}}if(0===p.length&&function Ra(_,I,p){return p.some(w=>ta(_,I,w))}(_,p,w)){const W=new Vt(_.segments,function Ns(_,I,p,w,M){const W={};for(const J of w)if(ta(_,p,J)&&!M[bi(J)]){const Se=new Vt([],{});Se._sourceSegment=_,Se._segmentIndexShift=I.length,W[bi(J)]=Se}return{...M,...W}}(_,I,p,w,_.children));return W._sourceSegment=_,W._segmentIndexShift=I.length,{segmentGroup:W,slicedSegments:p}}const M=new Vt(_.segments,_.children);return M._sourceSegment=_,M._segmentIndexShift=I.length,{segmentGroup:M,slicedSegments:p}}function ta(_,I,p){return(!(_.hasChildren()||I.length>0)||"full"!==p.pathMatch)&&""===p.path}function na(_,I,p,w){return!!(bi(_)===w||w!==an&&ta(I,p,_))&&("**"===_.path||ea(I,_,p).matched)}function No(_,I,p){return 0===I.length&&!_.children[p]}const _o=!1;class br{constructor(I){this.segmentGroup=I||null}}class Gs{constructor(I){this.urlTree=I}}function Sr(_){return _e(new br(_))}function Ua(_){return _e(new Gs(_))}class ko{constructor(I,p,w,M,W){this.injector=I,this.configLoader=p,this.urlSerializer=w,this.urlTree=M,this.config=W,this.allowRedirects=!0}apply(){const I=xo(this.urlTree.root,[],[],this.config).segmentGroup,p=new Vt(I.segments,I.children);return this.expandSegmentGroup(this.injector,this.config,p,an).pipe((0,bt.U)(W=>this.createUrlTree(Xt(W),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ct(W=>{if(W instanceof Gs)return this.allowRedirects=!1,this.match(W.urlTree);throw W instanceof br?this.noMatchError(W):W}))}match(I){return this.expandSegmentGroup(this.injector,this.config,I.root,an).pipe((0,bt.U)(M=>this.createUrlTree(Xt(M),I.queryParams,I.fragment))).pipe(ct(M=>{throw M instanceof br?this.noMatchError(M):M}))}noMatchError(I){return new y.vHH(4002,_o)}createUrlTree(I,p,w){const M=wt(I);return new Rr(M,p,w)}expandSegmentGroup(I,p,w,M){return 0===w.segments.length&&w.hasChildren()?this.expandChildren(I,p,w).pipe((0,bt.U)(W=>new Vt([],W))):this.expandSegment(I,w,p,w.segments,M,!0)}expandChildren(I,p,w){const M=[];for(const W of Object.keys(w.children))"primary"===W?M.unshift(W):M.push(W);return(0,L.D)(M).pipe((0,it.b)(W=>{const J=w.children[W],Se=gs(p,W);return this.expandSegmentGroup(I,Se,J,W).pipe((0,bt.U)(et=>({segment:et,outlet:W})))}),Gn((W,J)=>(W[J.outlet]=J.segment,W),{}),Me())}expandSegment(I,p,w,M,W,J){return(0,L.D)(w).pipe((0,it.b)(Se=>this.expandSegmentAgainstRoute(I,p,w,Se,M,W,J).pipe(ct(kt=>{if(kt instanceof br)return(0,q.of)(null);throw kt}))),(0,Je.P)(Se=>!!Se),ct((Se,et)=>{if(Jo(Se))return No(p,M,W)?(0,q.of)(new Vt([],{})):Sr(p);throw Se}))}expandSegmentAgainstRoute(I,p,w,M,W,J,Se){return na(M,p,W,J)?void 0===M.redirectTo?this.matchSegmentAgainstRoute(I,p,M,W,J):Se&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(I,p,w,M,W,J):Sr(p):Sr(p)}expandSegmentAgainstRouteUsingRedirect(I,p,w,M,W,J){return"**"===M.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(I,w,M,J):this.expandRegularSegmentAgainstRouteUsingRedirect(I,p,w,M,W,J)}expandWildCardWithParamsAgainstRouteUsingRedirect(I,p,w,M){const W=this.applyRedirectCommands([],w.redirectTo,{});return w.redirectTo.startsWith("/")?Ua(W):this.lineralizeSegments(w,W).pipe((0,ke.z)(J=>{const Se=new Vt(J,{});return this.expandSegment(I,Se,p,J,M,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(I,p,w,M,W,J){const{matched:Se,consumedSegments:et,remainingSegments:kt,positionalParamSegments:Ot}=ea(p,M,W);if(!Se)return Sr(p);const qn=this.applyRedirectCommands(et,M.redirectTo,Ot);return M.redirectTo.startsWith("/")?Ua(qn):this.lineralizeSegments(M,qn).pipe((0,ke.z)(Li=>this.expandSegment(I,p,w,Li.concat(kt),J,!1)))}matchSegmentAgainstRoute(I,p,w,M,W){return"**"===w.path?(I=Tr(w,I),w.loadChildren?(w._loadedRoutes?(0,q.of)({routes:w._loadedRoutes,injector:w._loadedInjector}):this.configLoader.loadChildren(I,w)).pipe((0,bt.U)(Se=>(w._loadedRoutes=Se.routes,w._loadedInjector=Se.injector,new Vt(M,{})))):(0,q.of)(new Vt(M,{}))):Ma(p,w,M,I).pipe((0,mn.w)(({matched:J,consumedSegments:Se,remainingSegments:et})=>J?this.getChildConfig(I=w._injector??I,w,M).pipe((0,ke.z)(Ot=>{const qn=Ot.injector??I,Li=Ot.routes,{segmentGroup:Hr,slicedSegments:as}=xo(p,Se,et,Li),zi=new Vt(Hr.segments,Hr.children);if(0===as.length&&zi.hasChildren())return this.expandChildren(qn,Li,zi).pipe((0,bt.U)(cu=>new Vt(Se,cu)));if(0===Li.length&&0===as.length)return(0,q.of)(new Vt(Se,{}));const ri=bi(w)===W;return this.expandSegment(qn,zi,Li,as,ri?an:W,!0).pipe((0,bt.U)(xa=>new Vt(Se.concat(xa.segments),xa.children)))})):Sr(p)))}getChildConfig(I,p,w){return p.children?(0,q.of)({routes:p.children,injector:I}):p.loadChildren?void 0!==p._loadedRoutes?(0,q.of)({routes:p._loadedRoutes,injector:p._loadedInjector}):function Vu(_,I,p,w){const M=I.canLoad;if(void 0===M||0===M.length)return(0,q.of)(!0);const W=M.map(J=>{const Se=te(J,_);return Jt(function io(_){return _&&_n(_.canLoad)}(Se)?Se.canLoad(I,p):_.runInContext(()=>Se(I,p)))});return(0,q.of)(W).pipe(Ps(),pi())}(I,p,w).pipe((0,ke.z)(M=>M?this.configLoader.loadChildren(I,p).pipe((0,ft.b)(W=>{p._loadedRoutes=W.routes,p._loadedInjector=W.injector})):function Ba(_){return _e(ba(_o,3))}())):(0,q.of)({routes:[],injector:I})}lineralizeSegments(I,p){let w=[],M=p.root;for(;;){if(w=w.concat(M.segments),0===M.numberOfChildren)return(0,q.of)(w);if(M.numberOfChildren>1||!M.children[an])return I.redirectTo,_e(new y.vHH(4e3,_o));M=M.children[an]}}applyRedirectCommands(I,p,w){return this.applyRedirectCreateUrlTree(p,this.urlSerializer.parse(p),I,w)}applyRedirectCreateUrlTree(I,p,w,M){const W=this.createSegmentGroup(I,p.root,w,M);return new Rr(W,this.createQueryParams(p.queryParams,this.urlTree.queryParams),p.fragment)}createQueryParams(I,p){const w={};return Qt(I,(M,W)=>{if("string"==typeof M&&M.startsWith(":")){const Se=M.substring(1);w[W]=p[Se]}else w[W]=M}),w}createSegmentGroup(I,p,w,M){const W=this.createSegments(I,p.segments,w,M);let J={};return Qt(p.children,(Se,et)=>{J[et]=this.createSegmentGroup(I,Se,w,M)}),new Vt(W,J)}createSegments(I,p,w,M){return p.map(W=>W.path.startsWith(":")?this.findPosParam(I,W,M):this.findOrReturn(W,w))}findPosParam(I,p,w){const M=w[p.path.substring(1)];if(!M)throw new y.vHH(4001,_o);return M}findOrReturn(I,p){let w=0;for(const M of p){if(M.path===I.path)return p.splice(w),M;w++}return I}}class _a{}class ${constructor(I,p,w,M,W,J,Se){this.injector=I,this.rootComponentType=p,this.config=w,this.urlTree=M,this.url=W,this.paramsInheritanceStrategy=J,this.urlSerializer=Se}recognize(){const I=xo(this.urlTree.root,[],[],this.config.filter(p=>void 0===p.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,I,an).pipe((0,bt.U)(p=>{if(null===p)return null;const w=new Bi([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},an,this.rootComponentType,null,this.urlTree.root,-1,{}),M=new Ss(w,p),W=new ho(this.url,M);return this.inheritParamsAndData(W._root),W}))}inheritParamsAndData(I){const p=I.value,w=no(p,this.paramsInheritanceStrategy);p.params=Object.freeze(w.params),p.data=Object.freeze(w.data),I.children.forEach(M=>this.inheritParamsAndData(M))}processSegmentGroup(I,p,w,M){return 0===w.segments.length&&w.hasChildren()?this.processChildren(I,p,w):this.processSegment(I,p,w,w.segments,M)}processChildren(I,p,w){return(0,L.D)(Object.keys(w.children)).pipe((0,it.b)(M=>{const W=w.children[M],J=gs(p,M);return this.processSegmentGroup(I,J,W,M)}),Gn((M,W)=>M&&W?(M.push(...W),M):null),function He(_,I=!1){return(0,ht.e)((p,w)=>{let M=0;p.subscribe((0,Ge.x)(w,W=>{const J=_(W,M++);(J||I)&&w.next(W),!J&&w.complete()}))})}(M=>null!==M),(0,ut.d)(null),Me(),(0,bt.U)(M=>{if(null===M)return null;const W=$e(M);return function x(_){_.sort((I,p)=>I.value.outlet===an?-1:p.value.outlet===an?1:I.value.outlet.localeCompare(p.value.outlet))}(W),W}))}processSegment(I,p,w,M,W){return(0,L.D)(p).pipe((0,it.b)(J=>this.processSegmentAgainstRoute(J._injector??I,J,w,M,W)),(0,Je.P)(J=>!!J),ct(J=>{if(Jo(J))return No(w,M,W)?(0,q.of)([]):(0,q.of)(null);throw J}))}processSegmentAgainstRoute(I,p,w,M,W){if(p.redirectTo||!na(p,w,M,W))return(0,q.of)(null);let J;if("**"===p.path){const Se=M.length>0?Ri(M).parameters:{},et=gr(w)+M.length,kt=new Bi(M,Se,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,hr(p),bi(p),p.component??p._loadedComponent??null,p,un(w),et,jn(p));J=(0,q.of)({snapshot:kt,consumedSegments:[],remainingSegments:[]})}else J=Ma(w,p,M,I).pipe((0,bt.U)(({matched:Se,consumedSegments:et,remainingSegments:kt,parameters:Ot})=>{if(!Se)return null;const qn=gr(w)+et.length;return{snapshot:new Bi(et,Ot,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,hr(p),bi(p),p.component??p._loadedComponent??null,p,un(w),qn,jn(p)),consumedSegments:et,remainingSegments:kt}}));return J.pipe((0,mn.w)(Se=>{if(null===Se)return(0,q.of)(null);const{snapshot:et,consumedSegments:kt,remainingSegments:Ot}=Se;I=p._injector??I;const qn=p._loadedInjector??I,Li=function Y(_){return _.children?_.children:_.loadChildren?_._loadedRoutes:[]}(p),{segmentGroup:Hr,slicedSegments:as}=xo(w,kt,Ot,Li.filter(ri=>void 0===ri.redirectTo));if(0===as.length&&Hr.hasChildren())return this.processChildren(qn,Li,Hr).pipe((0,bt.U)(ri=>null===ri?null:[new Ss(et,ri)]));if(0===Li.length&&0===as.length)return(0,q.of)([new Ss(et,[])]);const zi=bi(p)===W;return this.processSegment(qn,Li,Hr,as,zi?an:W).pipe((0,bt.U)(ri=>null===ri?null:[new Ss(et,ri)]))}))}}function ce(_){const I=_.value.routeConfig;return I&&""===I.path&&void 0===I.redirectTo}function $e(_){const I=[],p=new Set;for(const w of _){if(!ce(w)){I.push(w);continue}const M=I.find(W=>w.value.routeConfig===W.value.routeConfig);void 0!==M?(M.children.push(...w.children),p.add(M)):I.push(w)}for(const w of p){const M=$e(w.children);I.push(new Ss(w.value,M))}return I.filter(w=>!p.has(w))}function un(_){let I=_;for(;I._sourceSegment;)I=I._sourceSegment;return I}function gr(_){let I=_,p=I._segmentIndexShift??0;for(;I._sourceSegment;)I=I._sourceSegment,p+=I._segmentIndexShift??0;return p-1}function hr(_){return _.data||{}}function jn(_){return _.resolve||{}}function ui(_){return"string"==typeof _.title||null===_.title}function _s(_){return(0,mn.w)(I=>{const p=_(I);return p?(0,L.D)(p).pipe((0,bt.U)(()=>I)):(0,q.of)(I)})}const $i=new y.OlP("ROUTES");let $a=(()=>{class _{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,y.f3M)(y.Sil)}loadComponent(p){if(this.componentLoaders.get(p))return this.componentLoaders.get(p);if(p._loadedComponent)return(0,q.of)(p._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(p);const w=Jt(p.loadComponent()).pipe((0,bt.U)(il),(0,ft.b)(W=>{this.onLoadEndListener&&this.onLoadEndListener(p),p._loadedComponent=W}),fn(()=>{this.componentLoaders.delete(p)})),M=new xt(w,()=>new ie.x).pipe(Ue());return this.componentLoaders.set(p,M),M}loadChildren(p,w){if(this.childrenLoaders.get(w))return this.childrenLoaders.get(w);if(w._loadedRoutes)return(0,q.of)({routes:w._loadedRoutes,injector:w._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(w);const W=this.loadModuleFactoryOrRoutes(w.loadChildren).pipe((0,bt.U)(Se=>{this.onLoadEndListener&&this.onLoadEndListener(w);let et,kt,Ot=!1;Array.isArray(Se)?kt=Se:(et=Se.create(p).injector,kt=Mr(et.get($i,[],y.XFs.Self|y.XFs.Optional)));return{routes:kt.map(Ji),injector:et}}),fn(()=>{this.childrenLoaders.delete(w)})),J=new xt(W,()=>new ie.x).pipe(Ue());return this.childrenLoaders.set(w,J),J}loadModuleFactoryOrRoutes(p){return Jt(p()).pipe((0,bt.U)(il),(0,ke.z)(w=>w instanceof y.YKP||Array.isArray(w)?(0,q.of)(w):(0,L.D)(this.compiler.compileModuleAsync(w))))}}return _.\u0275fac=function(p){return new(p||_)},_.\u0275prov=y.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();function il(_){return function Oa(_){return _&&"object"==typeof _&&"default"in _}(_)?_.default:_}let Fo=(()=>{class _{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new ie.x,this.configLoader=(0,y.f3M)($a),this.environmentInjector=(0,y.f3M)(y.lqb),this.urlSerializer=(0,y.f3M)(qr),this.rootContexts=(0,y.f3M)(Oo),this.navigationId=0,this.afterPreactivation=()=>(0,q.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=M=>this.events.next(new Vs(M)),this.configLoader.onLoadStartListener=M=>this.events.next(new rs(M))}complete(){this.transitions?.complete()}handleNavigationRequest(p){const w=++this.navigationId;this.transitions?.next({...this.transitions.value,...p,id:w})}setupNavigations(p){return this.transitions=new Z({id:0,targetPageId:0,currentUrlTree:p.currentUrlTree,currentRawUrl:p.currentUrlTree,extractedUrl:p.urlHandlingStrategy.extract(p.currentUrlTree),urlAfterRedirects:p.urlHandlingStrategy.extract(p.currentUrlTree),rawUrl:p.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Fn,restoredState:null,currentSnapshot:p.routerState.snapshot,targetSnapshot:null,currentRouterState:p.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Qe.h)(w=>0!==w.id),(0,bt.U)(w=>({...w,extractedUrl:p.urlHandlingStrategy.extract(w.rawUrl)})),(0,mn.w)(w=>{let M=!1,W=!1;return(0,q.of)(w).pipe((0,ft.b)(J=>{this.currentNavigation={id:J.id,initialUrl:J.rawUrl,extractedUrl:J.extractedUrl,trigger:J.source,extras:J.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,mn.w)(J=>{const Se=p.browserUrlTree.toString(),et=!p.navigated||J.extractedUrl.toString()!==Se||Se!==p.currentUrlTree.toString();if(!et&&"reload"!==(J.extras.onSameUrlNavigation??p.onSameUrlNavigation)){const Ot="";return this.events.next(new Wr(J.id,p.serializeUrl(w.rawUrl),Ot,0)),p.rawUrlTree=J.rawUrl,J.resolve(null),nt.E}if(p.urlHandlingStrategy.shouldProcessUrl(J.rawUrl))return Ha(J.source)&&(p.browserUrlTree=J.extractedUrl),(0,q.of)(J).pipe((0,mn.w)(Ot=>{const qn=this.transitions?.getValue();return this.events.next(new Wn(Ot.id,this.urlSerializer.serialize(Ot.extractedUrl),Ot.source,Ot.restoredState)),qn!==this.transitions?.getValue()?nt.E:Promise.resolve(Ot)}),function Ws(_,I,p,w){return(0,mn.w)(M=>function wu(_,I,p,w,M){return new ko(_,I,p,w,M).apply()}(_,I,p,M.extractedUrl,w).pipe((0,bt.U)(W=>({...M,urlAfterRedirects:W}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,p.config),(0,ft.b)(Ot=>{this.currentNavigation={...this.currentNavigation,finalUrl:Ot.urlAfterRedirects},w.urlAfterRedirects=Ot.urlAfterRedirects}),function ti(_,I,p,w,M){return(0,ke.z)(W=>function R(_,I,p,w,M,W,J="emptyOnly"){return new $(_,I,p,w,M,J,W).recognize().pipe((0,mn.w)(Se=>null===Se?function ja(_){return new Ce.y(I=>I.error(_))}(new _a):(0,q.of)(Se)))}(_,I,p,W.urlAfterRedirects,w.serialize(W.urlAfterRedirects),w,M).pipe((0,bt.U)(J=>({...W,targetSnapshot:J}))))}(this.environmentInjector,this.rootComponentType,p.config,this.urlSerializer,p.paramsInheritanceStrategy),(0,ft.b)(Ot=>{if(w.targetSnapshot=Ot.targetSnapshot,"eager"===p.urlUpdateStrategy){if(!Ot.extras.skipLocationChange){const Li=p.urlHandlingStrategy.merge(Ot.urlAfterRedirects,Ot.rawUrl);p.setBrowserUrl(Li,Ot)}p.browserUrlTree=Ot.urlAfterRedirects}const qn=new wr(Ot.id,this.urlSerializer.serialize(Ot.extractedUrl),this.urlSerializer.serialize(Ot.urlAfterRedirects),Ot.targetSnapshot);this.events.next(qn)}));if(et&&p.urlHandlingStrategy.shouldProcessUrl(p.rawUrlTree)){const{id:Ot,extractedUrl:qn,source:Li,restoredState:Hr,extras:as}=J,zi=new Wn(Ot,this.urlSerializer.serialize(qn),Li,Hr);this.events.next(zi);const ri=ga(qn,this.rootComponentType).snapshot;return w={...J,targetSnapshot:ri,urlAfterRedirects:qn,extras:{...as,skipLocationChange:!1,replaceUrl:!1}},(0,q.of)(w)}{const Ot="";return this.events.next(new Wr(J.id,p.serializeUrl(w.extractedUrl),Ot,1)),p.rawUrlTree=J.rawUrl,J.resolve(null),nt.E}}),(0,ft.b)(J=>{const Se=new ns(J.id,this.urlSerializer.serialize(J.extractedUrl),this.urlSerializer.serialize(J.urlAfterRedirects),J.targetSnapshot);this.events.next(Se)}),(0,bt.U)(J=>w={...J,guards:F(J.targetSnapshot,J.currentSnapshot,this.rootContexts)}),function Kn(_,I){return(0,ke.z)(p=>{const{targetSnapshot:w,currentSnapshot:M,guards:{canActivateChecks:W,canDeactivateChecks:J}}=p;return 0===J.length&&0===W.length?(0,q.of)({...p,guardsResult:!0}):function ji(_,I,p,w){return(0,L.D)(_).pipe((0,ke.z)(M=>function La(_,I,p,w,M){const W=I&&I.routeConfig?I.routeConfig.canDeactivate:null;if(!W||0===W.length)return(0,q.of)(!0);const J=W.map(Se=>{const et=hi(I)??M,kt=te(Se,et);return Jt(function Qo(_){return _&&_n(_.canDeactivate)}(kt)?kt.canDeactivate(_,I,p,w):et.runInContext(()=>kt(_,I,p,w))).pipe((0,Je.P)())});return(0,q.of)(J).pipe(Ps())}(M.component,M.route,p,I,w)),(0,Je.P)(M=>!0!==M,!0))}(J,w,M,_).pipe((0,ke.z)(Se=>Se&&function yo(_){return"boolean"==typeof _}(Se)?function xs(_,I,p,w){return(0,L.D)(I).pipe((0,it.b)(M=>(0,rt.z)(function so(_,I){return null!==_&&I&&I(new Kr(_)),(0,q.of)(!0)}(M.route.parent,w),function ys(_,I){return null!==_&&I&&I(new di(_)),(0,q.of)(!0)}(M.route,w),function vo(_,I,p){const w=I[I.length-1],W=I.slice(0,I.length-1).reverse().map(J=>function k(_){const I=_.routeConfig?_.routeConfig.canActivateChild:null;return I&&0!==I.length?{node:_,guards:I}:null}(J)).filter(J=>null!==J).map(J=>(0,pt.P)(()=>{const Se=J.guards.map(et=>{const kt=hi(J.node)??p,Ot=te(et,kt);return Jt(function Fa(_){return _&&_n(_.canActivateChild)}(Ot)?Ot.canActivateChild(w,_):kt.runInContext(()=>Ot(w,_))).pipe((0,Je.P)())});return(0,q.of)(Se).pipe(Ps())}));return(0,q.of)(W).pipe(Ps())}(_,M.path,p),function Aa(_,I,p){const w=I.routeConfig?I.routeConfig.canActivate:null;if(!w||0===w.length)return(0,q.of)(!0);const M=w.map(W=>(0,pt.P)(()=>{const J=hi(I)??p,Se=te(W,J);return Jt(function fi(_){return _&&_n(_.canActivate)}(Se)?Se.canActivate(I,_):J.runInContext(()=>Se(I,_))).pipe((0,Je.P)())}));return(0,q.of)(M).pipe(Ps())}(_,M.route,p))),(0,Je.P)(M=>!0!==M,!0))}(w,W,_,I):(0,q.of)(Se)),(0,bt.U)(Se=>({...p,guardsResult:Se})))})}(this.environmentInjector,J=>this.events.next(J)),(0,ft.b)(J=>{if(w.guardsResult=J.guardsResult,An(J.guardsResult))throw fo(0,J.guardsResult);const Se=new Ko(J.id,this.urlSerializer.serialize(J.extractedUrl),this.urlSerializer.serialize(J.urlAfterRedirects),J.targetSnapshot,!!J.guardsResult);this.events.next(Se)}),(0,Qe.h)(J=>!!J.guardsResult||(p.restoreHistory(J),this.cancelNavigationTransition(J,"",3),!1)),_s(J=>{if(J.guards.canActivateChecks.length)return(0,q.of)(J).pipe((0,ft.b)(Se=>{const et=new Mo(Se.id,this.urlSerializer.serialize(Se.extractedUrl),this.urlSerializer.serialize(Se.urlAfterRedirects),Se.targetSnapshot);this.events.next(et)}),(0,mn.w)(Se=>{let et=!1;return(0,q.of)(Se).pipe(function rr(_,I){return(0,ke.z)(p=>{const{targetSnapshot:w,guards:{canActivateChecks:M}}=p;if(!M.length)return(0,q.of)(p);let W=0;return(0,L.D)(M).pipe((0,it.b)(J=>function Si(_,I,p,w){const M=_.routeConfig,W=_._resolve;return void 0!==M?.title&&!ui(M)&&(W[Gr]=M.title),function Ks(_,I,p,w){const M=function ki(_){return[...Object.keys(_),...Object.getOwnPropertySymbols(_)]}(_);if(0===M.length)return(0,q.of)({});const W={};return(0,L.D)(M).pipe((0,ke.z)(J=>function qs(_,I,p,w){const M=hi(I)??w,W=te(_,M);return Jt(W.resolve?W.resolve(I,p):M.runInContext(()=>W(I,p)))}(_[J],I,p,w).pipe((0,Je.P)(),(0,ft.b)(Se=>{W[J]=Se}))),Bt(1),function qt(_){return(0,bt.U)(()=>_)}(W),ct(J=>Jo(J)?nt.E:_e(J)))}(W,_,I,w).pipe((0,bt.U)(J=>(_._resolvedData=J,_.data=no(_,p).resolve,M&&ui(M)&&(_.data[Gr]=M.title),null)))}(J.route,w,_,I)),(0,ft.b)(()=>W++),Bt(1),(0,ke.z)(J=>W===M.length?(0,q.of)(p):nt.E))})}(p.paramsInheritanceStrategy,this.environmentInjector),(0,ft.b)({next:()=>et=!0,complete:()=>{et||(p.restoreHistory(Se),this.cancelNavigationTransition(Se,"",2))}}))}),(0,ft.b)(Se=>{const et=new Zi(Se.id,this.urlSerializer.serialize(Se.extractedUrl),this.urlSerializer.serialize(Se.urlAfterRedirects),Se.targetSnapshot);this.events.next(et)}))}),_s(J=>{const Se=et=>{const kt=[];et.routeConfig?.loadComponent&&!et.routeConfig._loadedComponent&&kt.push(this.configLoader.loadComponent(et.routeConfig).pipe((0,ft.b)(Ot=>{et.component=Ot}),(0,bt.U)(()=>{})));for(const Ot of et.children)kt.push(...Se(Ot));return kt};return gt(Se(J.targetSnapshot.root)).pipe((0,ut.d)(),(0,Ht.q)(1))}),_s(()=>this.afterPreactivation()),(0,bt.U)(J=>{const Se=function $s(_,I,p){const w=vi(_,I._root,p?p._root:void 0);return new js(w,I)}(p.routeReuseStrategy,J.targetSnapshot,J.currentRouterState);return w={...J,targetRouterState:Se}}),(0,ft.b)(J=>{p.currentUrlTree=J.urlAfterRedirects,p.rawUrlTree=p.urlHandlingStrategy.merge(J.urlAfterRedirects,J.rawUrl),p.routerState=J.targetRouterState,"deferred"===p.urlUpdateStrategy&&(J.extras.skipLocationChange||p.setBrowserUrl(p.rawUrlTree,J),p.browserUrlTree=J.urlAfterRedirects)}),((_,I,p)=>(0,bt.U)(w=>(new Pn(I,w.targetRouterState,w.currentRouterState,p).activate(_),w)))(this.rootContexts,p.routeReuseStrategy,J=>this.events.next(J)),(0,Ht.q)(1),(0,ft.b)({next:J=>{M=!0,this.lastSuccessfulNavigation=this.currentNavigation,p.navigated=!0,this.events.next(new jr(J.id,this.urlSerializer.serialize(J.extractedUrl),this.urlSerializer.serialize(p.currentUrlTree))),p.titleStrategy?.updateTitle(J.targetRouterState.snapshot),J.resolve(!0)},complete:()=>{M=!0}}),fn(()=>{M||W||this.cancelNavigationTransition(w,"",1),this.currentNavigation?.id===w.id&&(this.currentNavigation=null)}),ct(J=>{if(W=!0,po(J)){Di(J)||(p.navigated=!0,p.restoreHistory(w,!0));const Se=new ei(w.id,this.urlSerializer.serialize(w.extractedUrl),J.message,J.cancellationCode);if(this.events.next(Se),Di(J)){const et=p.urlHandlingStrategy.merge(J.url,p.rawUrlTree),kt={skipLocationChange:w.extras.skipLocationChange,replaceUrl:"eager"===p.urlUpdateStrategy||Ha(w.source)};p.scheduleNavigation(et,Fn,null,kt,{resolve:w.resolve,reject:w.reject,promise:w.promise})}else w.resolve(!1)}else{p.restoreHistory(w,!0);const Se=new ai(w.id,this.urlSerializer.serialize(w.extractedUrl),J,w.targetSnapshot??void 0);this.events.next(Se);try{w.resolve(p.errorHandler(J))}catch(et){w.reject(et)}}return nt.E}))}))}cancelNavigationTransition(p,w,M){const W=new ei(p.id,this.urlSerializer.serialize(p.extractedUrl),w,M);this.events.next(W),p.resolve(!1)}}return _.\u0275fac=function(p){return new(p||_)},_.\u0275prov=y.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();function Ha(_){return _!==Fn}let ks=(()=>{class _{buildTitle(p){let w,M=p.root;for(;void 0!==M;)w=this.getResolvedTitleForRoute(M)??w,M=M.children.find(W=>W.outlet===an);return w}getResolvedTitleForRoute(p){return p.data[Gr]}}return _.\u0275fac=function(p){return new(p||_)},_.\u0275prov=y.Yz7({token:_,factory:function(){return(0,y.f3M)(sl)},providedIn:"root"}),_})(),sl=(()=>{class _ extends ks{constructor(p){super(),this.title=p}updateTitle(p){const w=this.buildTitle(p);void 0!==w&&this.title.setTitle(w)}}return _.\u0275fac=function(p){return new(p||_)(y.LFG(Vn.Dx))},_.\u0275prov=y.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})(),za=(()=>{class _{}return _.\u0275fac=function(p){return new(p||_)},_.\u0275prov=y.Yz7({token:_,factory:function(){return(0,y.f3M)(Ga)},providedIn:"root"}),_})();class Lo{shouldDetach(I){return!1}store(I,p){}shouldAttach(I){return!1}retrieve(I){return null}shouldReuseRoute(I,p){return I.routeConfig===p.routeConfig}}let Ga=(()=>{class _ extends Lo{}return _.\u0275fac=function(){let I;return function(w){return(I||(I=y.n5z(_)))(w||_)}}(),_.\u0275prov=y.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();const Vo=new y.OlP("",{providedIn:"root",factory:()=>({})});let Uo=(()=>{class _{}return _.\u0275fac=function(p){return new(p||_)},_.\u0275prov=y.Yz7({token:_,factory:function(){return(0,y.f3M)(Iu)},providedIn:"root"}),_})(),Iu=(()=>{class _{shouldProcessUrl(p){return!0}extract(p){return p}merge(p,w){return p}}return _.\u0275fac=function(p){return new(p||_)},_.\u0275prov=y.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();function uu(_){throw _}function Wa(_,I,p){return I.parse("/")}const _i={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ws={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Dn=(()=>{class _{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,y.f3M)(y.c2e),this.isNgZoneEnabled=!1,this.options=(0,y.f3M)(Vo,{optional:!0})||{},this.errorHandler=this.options.errorHandler||uu,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Wa,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,y.f3M)(Uo),this.routeReuseStrategy=(0,y.f3M)(za),this.urlCreationStrategy=(0,y.f3M)(Bs),this.titleStrategy=(0,y.f3M)(ks),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Mr((0,y.f3M)($i,{optional:!0})??[]),this.navigationTransitions=(0,y.f3M)(Fo),this.urlSerializer=(0,y.f3M)(qr),this.location=(0,y.f3M)(nn.Ye),this.isNgZoneEnabled=(0,y.f3M)(y.R0b)instanceof y.R0b&&y.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Rr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ga(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(p=>{this.lastSuccessfulId=p.id,this.currentPageId=this.browserPageId??0},p=>{this.console.warn(`Unhandled Navigation Error: ${p}`)})}resetRootComponentType(p){this.routerState.root.component=p,this.navigationTransitions.rootComponentType=p}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const p=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Fn,p)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(p=>{const w="popstate"===p.type?"popstate":"hashchange";"popstate"===w&&setTimeout(()=>{this.navigateToSyncWithBrowser(p.url,w,p.state)},0)}))}navigateToSyncWithBrowser(p,w,M){const W={replaceUrl:!0},J=M?.navigationId?M:null;if(M){const et={...M};delete et.navigationId,delete et.\u0275routerPageId,0!==Object.keys(et).length&&(W.state=et)}const Se=this.parseUrl(p);this.scheduleNavigation(Se,w,J,W)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(p){this.config=p.map(Ji),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(p,w={}){const{relativeTo:M,queryParams:W,fragment:J,queryParamsHandling:Se,preserveFragment:et}=w,kt=et?this.currentUrlTree.fragment:J;let Ot=null;switch(Se){case"merge":Ot={...this.currentUrlTree.queryParams,...W};break;case"preserve":Ot=this.currentUrlTree.queryParams;break;default:Ot=W||null}return null!==Ot&&(Ot=this.removeEmptyProps(Ot)),this.urlCreationStrategy.createUrlTree(M,this.routerState,this.currentUrlTree,p,Ot,kt??null)}navigateByUrl(p,w={skipLocationChange:!1}){const M=An(p)?p:this.parseUrl(p),W=this.urlHandlingStrategy.merge(M,this.rawUrlTree);return this.scheduleNavigation(W,Fn,null,w)}navigate(p,w={skipLocationChange:!1}){return function ca(_){for(let I=0;I<_.length;I++){const p=_[I];if(null==p)throw new y.vHH(4008,false)}}(p),this.navigateByUrl(this.createUrlTree(p,w),w)}serializeUrl(p){return this.urlSerializer.serialize(p)}parseUrl(p){let w;try{w=this.urlSerializer.parse(p)}catch(M){w=this.malformedUriErrorHandler(M,this.urlSerializer,p)}return w}isActive(p,w){let M;if(M=!0===w?{..._i}:!1===w?{...ws}:w,An(p))return Er(this.currentUrlTree,p,M);const W=this.parseUrl(p);return Er(this.currentUrlTree,W,M)}removeEmptyProps(p){return Object.keys(p).reduce((w,M)=>{const W=p[M];return null!=W&&(w[M]=W),w},{})}scheduleNavigation(p,w,M,W,J){if(this.disposed)return Promise.resolve(!1);let Se,et,kt,Ot;return J?(Se=J.resolve,et=J.reject,kt=J.promise):kt=new Promise((qn,Li)=>{Se=qn,et=Li}),Ot="computed"===this.canceledNavigationResolution?M&&M.\u0275routerPageId?M.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:Ot,source:w,restoredState:M,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:p,extras:W,resolve:Se,reject:et,promise:kt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),kt.catch(qn=>Promise.reject(qn))}setBrowserUrl(p,w){const M=this.urlSerializer.serialize(p);if(this.location.isCurrentPathEqualTo(M)||w.extras.replaceUrl){const J={...w.extras.state,...this.generateNgRouterState(w.id,this.browserPageId)};this.location.replaceState(M,"",J)}else{const W={...w.extras.state,...this.generateNgRouterState(w.id,w.targetPageId)};this.location.go(M,"",W)}}restoreHistory(p,w=!1){if("computed"===this.canceledNavigationResolution){const W=this.currentPageId-(this.browserPageId??this.currentPageId);0!==W?this.location.historyGo(W):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===W&&(this.resetState(p),this.browserUrlTree=p.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(w&&this.resetState(p),this.resetUrlToCurrentUrlTree())}resetState(p){this.routerState=p.currentRouterState,this.currentUrlTree=p.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,p.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(p,w){return"computed"===this.canceledNavigationResolution?{navigationId:p,\u0275routerPageId:w}:{navigationId:p}}}return _.\u0275fac=function(p){return new(p||_)},_.\u0275prov=y.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})(),Is=(()=>{class _{constructor(p,w,M,W,J,Se){this.router=p,this.route=w,this.tabIndexAttribute=M,this.renderer=W,this.el=J,this.locationStrategy=Se,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new ie.x;const et=J.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===et||"area"===et,this.isAnchorElement?this.subscription=p.events.subscribe(kt=>{kt instanceof jr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(p){this._preserveFragment=(0,y.D6c)(p)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(p){this._skipLocationChange=(0,y.D6c)(p)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(p){this._replaceUrl=(0,y.D6c)(p)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(p){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",p)}ngOnChanges(p){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(p){null!=p?(this.commands=Array.isArray(p)?p:[p],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(p,w,M,W,J){return!!(null===this.urlTree||this.isAnchorElement&&(0!==p||w||M||W||J||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const p=null===this.href?null:(0,y.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",p)}applyAttributeValue(p,w){const M=this.renderer,W=this.el.nativeElement;null!==w?M.setAttribute(W,p,w):M.removeAttribute(W,p)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return _.\u0275fac=function(p){return new(p||_)(y.Y36(Dn),y.Y36(As),y.$8M("tabindex"),y.Y36(y.Qsj),y.Y36(y.SBq),y.Y36(nn.S$))},_.\u0275dir=y.lG2({type:_,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(p,w){1&p&&y.NdJ("click",function(W){return w.onClick(W.button,W.ctrlKey,W.shiftKey,W.altKey,W.metaKey)}),2&p&&y.uIk("target",w.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[y.TTD]}),_})();class Pa{}let Uu=(()=>{class _{constructor(p,w,M,W,J){this.router=p,this.injector=M,this.preloadingStrategy=W,this.loader=J}setUpPreloading(){this.subscription=this.router.events.pipe((0,Qe.h)(p=>p instanceof jr),(0,it.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(p,w){const M=[];for(const W of w){W.providers&&!W._injector&&(W._injector=(0,y.MMx)(W.providers,p,`Route: ${W.path}`));const J=W._injector??p,Se=W._loadedInjector??J;(W.loadChildren&&!W._loadedRoutes&&void 0===W.canLoad||W.loadComponent&&!W._loadedComponent)&&M.push(this.preloadConfig(J,W)),(W.children||W._loadedRoutes)&&M.push(this.processRoutes(Se,W.children??W._loadedRoutes))}return(0,L.D)(M).pipe((0,Rn.J)())}preloadConfig(p,w){return this.preloadingStrategy.preload(w,()=>{let M;M=w.loadChildren&&void 0===w.canLoad?this.loader.loadChildren(p,w):(0,q.of)(null);const W=M.pipe((0,ke.z)(J=>null===J?(0,q.of)(void 0):(w._loadedRoutes=J.routes,w._loadedInjector=J.injector,this.processRoutes(J.injector??p,J.routes))));if(w.loadComponent&&!w._loadedComponent){const J=this.loader.loadComponent(w);return(0,L.D)([W,J]).pipe((0,Rn.J)())}return W})}}return _.\u0275fac=function(p){return new(p||_)(y.LFG(Dn),y.LFG(y.Sil),y.LFG(y.lqb),y.LFG(Pa),y.LFG($a))},_.\u0275prov=y.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();const ss=new y.OlP("");let qa=(()=>{class _{constructor(p,w,M,W,J={}){this.urlSerializer=p,this.transitions=w,this.viewportScroller=M,this.zone=W,this.options=J,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},J.scrollPositionRestoration=J.scrollPositionRestoration||"disabled",J.anchorScrolling=J.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(p=>{p instanceof Wn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=p.navigationTrigger,this.restoredId=p.restoredState?p.restoredState.navigationId:0):p instanceof jr&&(this.lastId=p.id,this.scheduleScrollEvent(p,this.urlSerializer.parse(p.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(p=>{p instanceof $r&&(p.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(p.position):p.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(p.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(p,w){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new $r(p,"popstate"===this.lastSource?this.store[this.restoredId]:null,w))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return _.\u0275fac=function(p){y.$Z()},_.\u0275prov=y.Yz7({token:_,factory:_.\u0275fac}),_})();var Fi=(()=>((Fi=Fi||{})[Fi.COMPLETE=0]="COMPLETE",Fi[Fi.FAILED=1]="FAILED",Fi[Fi.REDIRECTING=2]="REDIRECTING",Fi))();const Eo=!1;function N(_,I){return{\u0275kind:_,\u0275providers:I}}const g=new y.OlP("",{providedIn:"root",factory:()=>!1});function Q(){const _=(0,y.f3M)(y.zs3);return I=>{const p=_.get(y.z2F);if(I!==p.components[0])return;const w=_.get(Dn),M=_.get(he);1===_.get(pe)&&w.initialNavigation(),_.get(Gt,null,y.XFs.Optional)?.setUpPreloading(),_.get(ss,null,y.XFs.Optional)?.init(),w.resetRootComponentType(p.componentTypes[0]),M.closed||(M.next(),M.complete(),M.unsubscribe())}}const he=new y.OlP(Eo?"bootstrap done indicator":"",{factory:()=>new ie.x}),pe=new y.OlP(Eo?"initial navigation":"",{providedIn:"root",factory:()=>1});function Wt(){let _=[];return _=Eo?[{provide:y.Xts,multi:!0,useFactory:()=>{const I=(0,y.f3M)(Dn);return()=>I.events.subscribe(p=>{console.group?.(`Router Event: ${p.constructor.name}`),console.log(function to(_){if(!("type"in _))return`Unknown Router Event: ${_.constructor.name}`;switch(_.type){case 14:return`ActivationEnd(path: '${_.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${_.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${_.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${_.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${_.id}, url: '${_.url}', urlAfterRedirects: '${_.urlAfterRedirects}', state: ${_.state}, shouldActivate: ${_.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${_.id}, url: '${_.url}', urlAfterRedirects: '${_.urlAfterRedirects}', state: ${_.state})`;case 2:return`NavigationCancel(id: ${_.id}, url: '${_.url}')`;case 16:return`NavigationSkipped(id: ${_.id}, url: '${_.url}')`;case 1:return`NavigationEnd(id: ${_.id}, url: '${_.url}', urlAfterRedirects: '${_.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${_.id}, url: '${_.url}', error: ${_.error})`;case 0:return`NavigationStart(id: ${_.id}, url: '${_.url}')`;case 6:return`ResolveEnd(id: ${_.id}, url: '${_.url}', urlAfterRedirects: '${_.urlAfterRedirects}', state: ${_.state})`;case 5:return`ResolveStart(id: ${_.id}, url: '${_.url}', urlAfterRedirects: '${_.urlAfterRedirects}', state: ${_.state})`;case 10:return`RouteConfigLoadEnd(path: ${_.route.path})`;case 9:return`RouteConfigLoadStart(path: ${_.route.path})`;case 4:return`RoutesRecognized(id: ${_.id}, url: '${_.url}', urlAfterRedirects: '${_.urlAfterRedirects}', state: ${_.state})`;case 15:return`Scroll(anchor: '${_.anchor}', position: '${_.position?`${_.position[0]}, ${_.position[1]}`:null}')`}}(p)),console.log(p),console.groupEnd?.()})}}]:[],N(1,_)}const Gt=new y.OlP(Eo?"router preloader":"");function Un(_){return N(0,[{provide:Gt,useExisting:Uu},{provide:Pa,useExisting:_}])}const ar=!1,ir=new y.OlP(ar?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Jr=[nn.Ye,{provide:qr,useClass:ln},Dn,Oo,{provide:As,useFactory:function oo(_){return _.routerState.root},deps:[Dn]},$a,ar?{provide:g,useValue:!0}:[]];function lr(){return new y.PXZ("Router",Dn)}let os=(()=>{class _{constructor(p){}static forRoot(p,w){return{ngModule:_,providers:[Jr,ar&&w?.enableTracing?Wt().\u0275providers:[],{provide:$i,multi:!0,useValue:p},{provide:ir,useFactory:St,deps:[[Dn,new y.FiY,new y.tp0]]},{provide:Vo,useValue:w||{}},w?.useHash?{provide:nn.S$,useClass:nn.Do}:{provide:nn.S$,useClass:nn.b0},{provide:ss,useFactory:()=>{const _=(0,y.f3M)(nn.EM),I=(0,y.f3M)(y.R0b),p=(0,y.f3M)(Vo),w=(0,y.f3M)(Fo),M=(0,y.f3M)(qr);return p.scrollOffset&&_.setOffset(p.scrollOffset),new qa(M,w,_,I,p)}},w?.preloadingStrategy?Un(w.preloadingStrategy).\u0275providers:[],{provide:y.PXZ,multi:!0,useFactory:lr},w?.initialNavigation?Ar(w):[],[{provide:ni,useFactory:Q},{provide:y.tb,multi:!0,useExisting:ni}]]}}static forChild(p){return{ngModule:_,providers:[{provide:$i,multi:!0,useValue:p}]}}}return _.\u0275fac=function(p){return new(p||_)(y.LFG(ir,8))},_.\u0275mod=y.oAB({type:_}),_.\u0275inj=y.cJS({imports:[Qi]}),_})();function St(_){if(ar&&_)throw new y.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Ar(_){return["disabled"===_.initialNavigation?N(3,[{provide:y.ip1,multi:!0,useFactory:()=>{const I=(0,y.f3M)(Dn);return()=>{I.setUpLocationChangeListener()}}},{provide:pe,useValue:2}]).\u0275providers:[],"enabledBlocking"===_.initialNavigation?N(2,[{provide:pe,useValue:0},{provide:y.ip1,multi:!0,deps:[y.zs3],useFactory:I=>{const p=I.get(nn.V_,Promise.resolve());return()=>p.then(()=>new Promise(w=>{const M=I.get(Dn),W=I.get(he);(function Bo(_,I){_.events.pipe((0,Qe.h)(p=>p instanceof jr||p instanceof ei||p instanceof ai||p instanceof Wr),(0,bt.U)(p=>p instanceof jr||p instanceof Wr?Fi.COMPLETE:p instanceof ei&&(0===p.code||1===p.code)?Fi.REDIRECTING:Fi.FAILED),(0,Qe.h)(p=>p!==Fi.REDIRECTING),(0,Ht.q)(1)).subscribe(()=>{I()})})(M,()=>{w(!0)}),I.get(Fo).afterPreactivation=()=>(w(!0),W.closed?(0,q.of)(void 0):W),M.initialNavigation()}))}}]).\u0275providers:[]]}const ni=new y.OlP(ar?"Router Initializer":"")},3942:(jt,je,j)=>{j.d(je,{Z:()=>gt});var y=j(2090),L=j(4859),q=j(6881),ie=j(1877);class Z{constructor(We,rt){this._delegate=We,this.firebase=rt,(0,q._addComponent)(We,new L.wA("app-compat",()=>this,"PUBLIC")),this.container=We.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(We){this._delegate.automaticDataCollectionEnabled=We}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(We=>{this._delegate.checkDestroyed(),We()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,q.deleteApp)(this._delegate)))}_getService(We,rt=q._DEFAULT_ENTRY_NAME){var pt;this._delegate.checkDestroyed();const Dt=this._delegate.container.getProvider(We);return!Dt.isInitialized()&&"EXPLICIT"===(null===(pt=Dt.getComponent())||void 0===pt?void 0:pt.instantiationMode)&&Dt.initialize(),Dt.getImmediate({identifier:rt})}_removeServiceInstance(We,rt=q._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(We).clearInstance(rt)}_addComponent(We){(0,q._addComponent)(this._delegate,We)}_addOrOverwriteComponent(We){(0,q._addOrOverwriteComponent)(this._delegate,We)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ce=new y.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),se=function ve(){const mt=function Ae(mt){const We={},rt={__esModule:!0,initializeApp:function Le(ht,Ue={}){const xt=q.initializeApp(ht,Ue);if((0,y.r3)(We,xt.name))return We[xt.name];const nn=new mt(xt,rt);return We[xt.name]=nn,nn},app:Dt,registerVersion:q.registerVersion,setLogLevel:q.setLogLevel,onLog:q.onLog,apps:null,SDK_VERSION:q.SDK_VERSION,INTERNAL:{registerComponent:function nt(ht){const Ue=ht.name,xt=Ue.replace("-compat","");if(q._registerComponent(ht)&&"PUBLIC"===ht.type){const nn=(bt=Dt())=>{if("function"!=typeof bt[xt])throw Ce.create("invalid-app-argument",{appName:Ue});return bt[xt]()};void 0!==ht.serviceProps&&(0,y.ZB)(nn,ht.serviceProps),rt[xt]=nn,mt.prototype[xt]=function(...bt){return this._getService.bind(this,Ue).apply(this,ht.multipleInstances?bt:[])}}return"PUBLIC"===ht.type?rt[xt]:null},removeApp:function pt(ht){delete We[ht]},useAsService:function It(ht,Ue){return"serverAuth"===Ue?null:Ue},modularAPIs:q}};function Dt(ht){if(!(0,y.r3)(We,ht=ht||q._DEFAULT_ENTRY_NAME))throw Ce.create("no-app",{appName:ht});return We[ht]}return rt.default=rt,Object.defineProperty(rt,"apps",{get:function _e(){return Object.keys(We).map(ht=>We[ht])}}),Dt.App=mt,rt}(Z);return mt.INTERNAL=Object.assign(Object.assign({},mt.INTERNAL),{createFirebaseNamespace:ve,extendNamespace:function We(rt){(0,y.ZB)(mt,rt)},createSubscribe:y.ne,ErrorFactory:y.LL,deepExtend:y.ZB}),mt}(),oe=new ie.Yd("@firebase/app-compat");if((0,y.jU)()&&void 0!==self.firebase){oe.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const mt=self.firebase.SDK_VERSION;mt&&mt.indexOf("LITE")>=0&&oe.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const gt=se;!function Ze(mt){(0,q.registerVersion)("@firebase/app-compat","0.2.11",mt)}()},6881:(jt,je,j)=>{j.r(je),j.d(je,{FirebaseError:()=>ie.ZR,SDK_VERSION:()=>Yt,_DEFAULT_ENTRY_NAME:()=>Mr,_addComponent:()=>Jt,_addOrOverwriteComponent:()=>vn,_apps:()=>fr,_clearComponents:()=>Oi,_components:()=>Qt,_getProvider:()=>si,_registerComponent:()=>Ei,_removeServiceInstance:()=>Er,deleteApp:()=>$n,getApp:()=>Rr,getApps:()=>Vt,initializeApp:()=>kn,onLog:()=>Rt,registerVersion:()=>er,setLogLevel:()=>qr});var y=j(5861),L=j(4859),q=j(1877),ie=j(2090);const Z=(Xe,Fe)=>Fe.some(wt=>Xe instanceof wt);let we,Ce;const se=new WeakMap,oe=new WeakMap,de=new WeakMap,Ge=new WeakMap,Ze=new WeakMap;let We={get(Xe,Fe,wt){if(Xe instanceof IDBTransaction){if("done"===Fe)return oe.get(Xe);if("objectStoreNames"===Fe)return Xe.objectStoreNames||de.get(Xe);if("store"===Fe)return wt.objectStoreNames[1]?void 0:wt.objectStore(wt.objectStoreNames[0])}return Le(Xe[Fe])},set:(Xe,Fe,wt)=>(Xe[Fe]=wt,!0),has:(Xe,Fe)=>Xe instanceof IDBTransaction&&("done"===Fe||"store"===Fe)||Fe in Xe};function Dt(Xe){return"function"==typeof Xe?function pt(Xe){return Xe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ve(){return Ce||(Ce=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Xe)?function(...Fe){return Xe.apply(_e(this),Fe),Le(se.get(this))}:function(...Fe){return Le(Xe.apply(_e(this),Fe))}:function(Fe,...wt){const Xt=Xe.call(_e(this),Fe,...wt);return de.set(Xt,Fe.sort?Fe.sort():[Fe]),Le(Xt)}}(Xe):(Xe instanceof IDBTransaction&&function mt(Xe){if(oe.has(Xe))return;const Fe=new Promise((wt,Xt)=>{const Sn=()=>{Xe.removeEventListener("complete",An),Xe.removeEventListener("error",on),Xe.removeEventListener("abort",on)},An=()=>{wt(),Sn()},on=()=>{Xt(Xe.error||new DOMException("AbortError","AbortError")),Sn()};Xe.addEventListener("complete",An),Xe.addEventListener("error",on),Xe.addEventListener("abort",on)});oe.set(Xe,Fe)}(Xe),Z(Xe,function Ae(){return we||(we=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Xe,We):Xe)}function Le(Xe){if(Xe instanceof IDBRequest)return function gt(Xe){const Fe=new Promise((wt,Xt)=>{const Sn=()=>{Xe.removeEventListener("success",An),Xe.removeEventListener("error",on)},An=()=>{wt(Le(Xe.result)),Sn()},on=()=>{Xt(Xe.error),Sn()};Xe.addEventListener("success",An),Xe.addEventListener("error",on)});return Fe.then(wt=>{wt instanceof IDBCursor&&se.set(wt,Xe)}).catch(()=>{}),Ze.set(Fe,Xe),Fe}(Xe);if(Ge.has(Xe))return Ge.get(Xe);const Fe=Dt(Xe);return Fe!==Xe&&(Ge.set(Xe,Fe),Ze.set(Fe,Xe)),Fe}const _e=Xe=>Ze.get(Xe),ht=["get","getKey","getAll","getAllKeys","count"],Ue=["put","add","delete","clear"],xt=new Map;function nn(Xe,Fe){if(!(Xe instanceof IDBDatabase)||Fe in Xe||"string"!=typeof Fe)return;if(xt.get(Fe))return xt.get(Fe);const wt=Fe.replace(/FromIndex$/,""),Xt=Fe!==wt,Sn=Ue.includes(wt);if(!(wt in(Xt?IDBIndex:IDBObjectStore).prototype)||!Sn&&!ht.includes(wt))return;const An=function(){var on=(0,y.Z)(function*(nr,...Bn){const Br=this.transaction(nr,Sn?"readwrite":"readonly");let oi=Br.store;return Xt&&(oi=oi.index(Bn.shift())),(yield Promise.all([oi[wt](...Bn),Sn&&Br.done]))[0]});return function(Bn){return on.apply(this,arguments)}}();return xt.set(Fe,An),An}!function rt(Xe){We=Xe(We)}(Xe=>({...Xe,get:(Fe,wt,Xt)=>nn(Fe,wt)||Xe.get(Fe,wt,Xt),has:(Fe,wt)=>!!nn(Fe,wt)||Xe.has(Fe,wt)}));class bt{constructor(Fe){this.container=Fe}getPlatformInfoString(){return this.container.getProviders().map(wt=>{if(function mn(Xe){return"VERSION"===Xe.getComponent()?.type}(wt)){const Xt=wt.getImmediate();return`${Xt.library}/${Xt.version}`}return null}).filter(wt=>wt).join(" ")}}const Ht="@firebase/app",Qe=new q.Yd("@firebase/app"),Mr="[DEFAULT]",Ri={[Ht]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},fr=new Map,Qt=new Map;function Jt(Xe,Fe){try{Xe.container.addComponent(Fe)}catch(wt){Qe.debug(`Component ${Fe.name} failed to register with FirebaseApp ${Xe.name}`,wt)}}function vn(Xe,Fe){Xe.container.addOrOverwriteComponent(Fe)}function Ei(Xe){const Fe=Xe.name;if(Qt.has(Fe))return Qe.debug(`There were multiple attempts to register component ${Fe}.`),!1;Qt.set(Fe,Xe);for(const wt of fr.values())Jt(wt,Xe);return!0}function si(Xe,Fe){const wt=Xe.container.getProvider("heartbeat").getImmediate({optional:!0});return wt&&wt.triggerHeartbeat(),Xe.container.getProvider(Fe)}function Er(Xe,Fe,wt=Mr){si(Xe,Fe).clearInstance(wt)}function Oi(){Qt.clear()}const Ur=new ie.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ur{constructor(Fe,wt,Xt){this._isDeleted=!1,this._options=Object.assign({},Fe),this._config=Object.assign({},wt),this._name=wt.name,this._automaticDataCollectionEnabled=wt.automaticDataCollectionEnabled,this._container=Xt,this.container.addComponent(new L.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Fe){this.checkDestroyed(),this._automaticDataCollectionEnabled=Fe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Fe){this._isDeleted=Fe}checkDestroyed(){if(this.isDeleted)throw Ur.create("app-deleted",{appName:this._name})}}const Yt="9.22.1";function kn(Xe,Fe={}){let wt=Xe;"object"!=typeof Fe&&(Fe={name:Fe});const Xt=Object.assign({name:Mr,automaticDataCollectionEnabled:!1},Fe),Sn=Xt.name;if("string"!=typeof Sn||!Sn)throw Ur.create("bad-app-name",{appName:String(Sn)});if(wt||(wt=(0,ie.aH)()),!wt)throw Ur.create("no-options");const An=fr.get(Sn);if(An){if((0,ie.vZ)(wt,An.options)&&(0,ie.vZ)(Xt,An.config))return An;throw Ur.create("duplicate-app",{appName:Sn})}const on=new L.H0(Sn);for(const Bn of Qt.values())on.addComponent(Bn);const nr=new ur(wt,Xt,on);return fr.set(Sn,nr),nr}function Rr(Xe=Mr){const Fe=fr.get(Xe);if(!Fe&&Xe===Mr&&(0,ie.aH)())return kn();if(!Fe)throw Ur.create("no-app",{appName:Xe});return Fe}function Vt(){return Array.from(fr.values())}function $n(Xe){return Or.apply(this,arguments)}function Or(){return(Or=(0,y.Z)(function*(Xe){const Fe=Xe.name;fr.has(Fe)&&(fr.delete(Fe),yield Promise.all(Xe.container.getProviders().map(wt=>wt.delete())),Xe.isDeleted=!0)})).apply(this,arguments)}function er(Xe,Fe,wt){var Xt;let Sn=null!==(Xt=Ri[Xe])&&void 0!==Xt?Xt:Xe;wt&&(Sn+=`-${wt}`);const An=Sn.match(/\s|\//),on=Fe.match(/\s|\//);if(An||on){const nr=[`Unable to register library "${Sn}" with version "${Fe}":`];return An&&nr.push(`library name "${Sn}" contains illegal characters (whitespace or "/")`),An&&on&&nr.push("and"),on&&nr.push(`version name "${Fe}" contains illegal characters (whitespace or "/")`),void Qe.warn(nr.join(" "))}Ei(new L.wA(`${Sn}-version`,()=>({library:Sn,version:Fe}),"VERSION"))}function Rt(Xe,Fe){if(null!==Xe&&"function"!=typeof Xe)throw Ur.create("invalid-log-argument");(0,q.Am)(Xe,Fe)}function qr(Xe){(0,q.Ub)(Xe)}const ln="firebase-heartbeat-database",Nr=1,fe="firebase-heartbeat-store";let le=null;function Ee(){return le||(le=function nt(Xe,Fe,{blocked:wt,upgrade:Xt,blocking:Sn,terminated:An}={}){const on=indexedDB.open(Xe,Fe),nr=Le(on);return Xt&&on.addEventListener("upgradeneeded",Bn=>{Xt(Le(on.result),Bn.oldVersion,Bn.newVersion,Le(on.transaction),Bn)}),wt&&on.addEventListener("blocked",Bn=>wt(Bn.oldVersion,Bn.newVersion,Bn)),nr.then(Bn=>{An&&Bn.addEventListener("close",()=>An()),Sn&&Bn.addEventListener("versionchange",Br=>Sn(Br.oldVersion,Br.newVersion,Br))}).catch(()=>{}),nr}(ln,Nr,{upgrade:(Xe,Fe)=>{0===Fe&&Xe.createObjectStore(fe)}}).catch(Xe=>{throw Ur.create("idb-open",{originalErrorMessage:Xe.message})})),le}function Be(){return(Be=(0,y.Z)(function*(Xe){try{return yield(yield Ee()).transaction(fe).objectStore(fe).get(ye(Xe))}catch(Fe){if(Fe instanceof ie.ZR)Qe.warn(Fe.message);else{const wt=Ur.create("idb-get",{originalErrorMessage:Fe?.message});Qe.warn(wt.message)}}})).apply(this,arguments)}function Mt(Xe,Fe){return me.apply(this,arguments)}function me(){return(me=(0,y.Z)(function*(Xe,Fe){try{const Xt=(yield Ee()).transaction(fe,"readwrite");yield Xt.objectStore(fe).put(Fe,ye(Xe)),yield Xt.done}catch(wt){if(wt instanceof ie.ZR)Qe.warn(wt.message);else{const Xt=Ur.create("idb-set",{originalErrorMessage:wt?.message});Qe.warn(Xt.message)}}})).apply(this,arguments)}function ye(Xe){return`${Xe.name}!${Xe.options.appId}`}class ot{constructor(Fe){this.container=Fe,this._heartbeatsCache=null;const wt=this.container.getProvider("app").getImmediate();this._storage=new tr(wt),this._heartbeatsCachePromise=this._storage.read().then(Xt=>(this._heartbeatsCache=Xt,Xt))}triggerHeartbeat(){var Fe=this;return(0,y.Z)(function*(){const Xt=Fe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Sn=Tt();if(null===Fe._heartbeatsCache&&(Fe._heartbeatsCache=yield Fe._heartbeatsCachePromise),Fe._heartbeatsCache.lastSentHeartbeatDate!==Sn&&!Fe._heartbeatsCache.heartbeats.some(An=>An.date===Sn))return Fe._heartbeatsCache.heartbeats.push({date:Sn,agent:Xt}),Fe._heartbeatsCache.heartbeats=Fe._heartbeatsCache.heartbeats.filter(An=>{const on=new Date(An.date).valueOf();return Date.now()-on<=2592e6}),Fe._storage.overwrite(Fe._heartbeatsCache)})()}getHeartbeatsHeader(){var Fe=this;return(0,y.Z)(function*(){if(null===Fe._heartbeatsCache&&(yield Fe._heartbeatsCachePromise),null===Fe._heartbeatsCache||0===Fe._heartbeatsCache.heartbeats.length)return"";const wt=Tt(),{heartbeatsToSend:Xt,unsentEntries:Sn}=function cn(Xe,Fe=1024){const wt=[];let Xt=Xe.slice();for(const Sn of Xe){const An=wt.find(on=>on.agent===Sn.agent);if(An){if(An.dates.push(Sn.date),Nn(wt)>Fe){An.dates.pop();break}}else if(wt.push({agent:Sn.agent,dates:[Sn.date]}),Nn(wt)>Fe){wt.pop();break}Xt=Xt.slice(1)}return{heartbeatsToSend:wt,unsentEntries:Xt}}(Fe._heartbeatsCache.heartbeats),An=(0,ie.L)(JSON.stringify({version:2,heartbeats:Xt}));return Fe._heartbeatsCache.lastSentHeartbeatDate=wt,Sn.length>0?(Fe._heartbeatsCache.heartbeats=Sn,yield Fe._storage.overwrite(Fe._heartbeatsCache)):(Fe._heartbeatsCache.heartbeats=[],Fe._storage.overwrite(Fe._heartbeatsCache)),An})()}}function Tt(){return(new Date).toISOString().substring(0,10)}class tr{constructor(Fe){this.app=Fe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,y.Z)(function*(){return!!(0,ie.hl)()&&(0,ie.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Fe=this;return(0,y.Z)(function*(){return(yield Fe._canUseIndexedDBPromise)&&(yield function st(Xe){return Be.apply(this,arguments)}(Fe.app))||{heartbeats:[]}})()}overwrite(Fe){var wt=this;return(0,y.Z)(function*(){var Xt;if(yield wt._canUseIndexedDBPromise){const An=yield wt.read();return Mt(wt.app,{lastSentHeartbeatDate:null!==(Xt=Fe.lastSentHeartbeatDate)&&void 0!==Xt?Xt:An.lastSentHeartbeatDate,heartbeats:Fe.heartbeats})}})()}add(Fe){var wt=this;return(0,y.Z)(function*(){var Xt;if(yield wt._canUseIndexedDBPromise){const An=yield wt.read();return Mt(wt.app,{lastSentHeartbeatDate:null!==(Xt=Fe.lastSentHeartbeatDate)&&void 0!==Xt?Xt:An.lastSentHeartbeatDate,heartbeats:[...An.heartbeats,...Fe.heartbeats]})}})()}}function Nn(Xe){return(0,ie.L)(JSON.stringify({version:2,heartbeats:Xe})).length}!function Pi(Xe){Ei(new L.wA("platform-logger",Fe=>new bt(Fe),"PRIVATE")),Ei(new L.wA("heartbeat",Fe=>new ot(Fe),"PRIVATE")),er(Ht,"0.9.11",Xe),er(Ht,"0.9.11","esm2017"),er("fire-js","")}("")},4859:(jt,je,j)=>{j.d(je,{H0:()=>Ae,wA:()=>q});var y=j(5861),L=j(2090);class q{constructor(se,oe,de){this.name=se,this.instanceFactory=oe,this.type=de,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(se){return this.instantiationMode=se,this}setMultipleInstances(se){return this.multipleInstances=se,this}setServiceProps(se){return this.serviceProps=se,this}setInstanceCreatedCallback(se){return this.onInstanceCreated=se,this}}const ie="[DEFAULT]";class Z{constructor(se,oe){this.name=se,this.container=oe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(se){const oe=this.normalizeInstanceIdentifier(se);if(!this.instancesDeferred.has(oe)){const de=new L.BH;if(this.instancesDeferred.set(oe,de),this.isInitialized(oe)||this.shouldAutoInitialize())try{const Ge=this.getOrInitializeService({instanceIdentifier:oe});Ge&&de.resolve(Ge)}catch{}}return this.instancesDeferred.get(oe).promise}getImmediate(se){var oe;const de=this.normalizeInstanceIdentifier(se?.identifier),Ge=null!==(oe=se?.optional)&&void 0!==oe&&oe;if(!this.isInitialized(de)&&!this.shouldAutoInitialize()){if(Ge)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:de})}catch(Ze){if(Ge)return null;throw Ze}}getComponent(){return this.component}setComponent(se){if(se.name!==this.name)throw Error(`Mismatching Component ${se.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=se,this.shouldAutoInitialize()){if(function Ce(ve){return"EAGER"===ve.instantiationMode}(se))try{this.getOrInitializeService({instanceIdentifier:ie})}catch{}for(const[oe,de]of this.instancesDeferred.entries()){const Ge=this.normalizeInstanceIdentifier(oe);try{const Ze=this.getOrInitializeService({instanceIdentifier:Ge});de.resolve(Ze)}catch{}}}}clearInstance(se=ie){this.instancesDeferred.delete(se),this.instancesOptions.delete(se),this.instances.delete(se)}delete(){var se=this;return(0,y.Z)(function*(){const oe=Array.from(se.instances.values());yield Promise.all([...oe.filter(de=>"INTERNAL"in de).map(de=>de.INTERNAL.delete()),...oe.filter(de=>"_delete"in de).map(de=>de._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(se=ie){return this.instances.has(se)}getOptions(se=ie){return this.instancesOptions.get(se)||{}}initialize(se={}){const{options:oe={}}=se,de=this.normalizeInstanceIdentifier(se.instanceIdentifier);if(this.isInitialized(de))throw Error(`${this.name}(${de}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ge=this.getOrInitializeService({instanceIdentifier:de,options:oe});for(const[Ze,gt]of this.instancesDeferred.entries())de===this.normalizeInstanceIdentifier(Ze)&&gt.resolve(Ge);return Ge}onInit(se,oe){var de;const Ge=this.normalizeInstanceIdentifier(oe),Ze=null!==(de=this.onInitCallbacks.get(Ge))&&void 0!==de?de:new Set;Ze.add(se),this.onInitCallbacks.set(Ge,Ze);const gt=this.instances.get(Ge);return gt&&se(gt,Ge),()=>{Ze.delete(se)}}invokeOnInitCallbacks(se,oe){const de=this.onInitCallbacks.get(oe);if(de)for(const Ge of de)try{Ge(se,oe)}catch{}}getOrInitializeService({instanceIdentifier:se,options:oe={}}){let de=this.instances.get(se);if(!de&&this.component&&(de=this.component.instanceFactory(this.container,{instanceIdentifier:(ve=se,ve===ie?void 0:ve),options:oe}),this.instances.set(se,de),this.instancesOptions.set(se,oe),this.invokeOnInitCallbacks(de,se),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,se,de)}catch{}var ve;return de||null}normalizeInstanceIdentifier(se=ie){return this.component?this.component.multipleInstances?se:ie:se}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ae{constructor(se){this.name=se,this.providers=new Map}addComponent(se){const oe=this.getProvider(se.name);if(oe.isComponentSet())throw new Error(`Component ${se.name} has already been registered with ${this.name}`);oe.setComponent(se)}addOrOverwriteComponent(se){this.getProvider(se.name).isComponentSet()&&this.providers.delete(se.name),this.addComponent(se)}getProvider(se){if(this.providers.has(se))return this.providers.get(se);const oe=new Z(se,this);return this.providers.set(se,oe),oe}getProviders(){return Array.from(this.providers.values())}}},1877:(jt,je,j)=>{j.d(je,{Am:()=>ve,Ub:()=>Ae,Yd:()=>Ce,in:()=>L});const y=[];var L=(()=>{return(se=L||(L={}))[se.DEBUG=0]="DEBUG",se[se.VERBOSE=1]="VERBOSE",se[se.INFO=2]="INFO",se[se.WARN=3]="WARN",se[se.ERROR=4]="ERROR",se[se.SILENT=5]="SILENT",L;var se})();const q={debug:L.DEBUG,verbose:L.VERBOSE,info:L.INFO,warn:L.WARN,error:L.ERROR,silent:L.SILENT},ie=L.INFO,Z={[L.DEBUG]:"log",[L.VERBOSE]:"log",[L.INFO]:"info",[L.WARN]:"warn",[L.ERROR]:"error"},we=(se,oe,...de)=>{if(oe<se.logLevel)return;const Ge=(new Date).toISOString(),Ze=Z[oe];if(!Ze)throw new Error(`Attempted to log a message with an invalid logType (value: ${oe})`);console[Ze](`[${Ge}]  ${se.name}:`,...de)};class Ce{constructor(oe){this.name=oe,this._logLevel=ie,this._logHandler=we,this._userLogHandler=null,y.push(this)}get logLevel(){return this._logLevel}set logLevel(oe){if(!(oe in L))throw new TypeError(`Invalid value "${oe}" assigned to \`logLevel\``);this._logLevel=oe}setLogLevel(oe){this._logLevel="string"==typeof oe?q[oe]:oe}get logHandler(){return this._logHandler}set logHandler(oe){if("function"!=typeof oe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=oe}get userLogHandler(){return this._userLogHandler}set userLogHandler(oe){this._userLogHandler=oe}debug(...oe){this._userLogHandler&&this._userLogHandler(this,L.DEBUG,...oe),this._logHandler(this,L.DEBUG,...oe)}log(...oe){this._userLogHandler&&this._userLogHandler(this,L.VERBOSE,...oe),this._logHandler(this,L.VERBOSE,...oe)}info(...oe){this._userLogHandler&&this._userLogHandler(this,L.INFO,...oe),this._logHandler(this,L.INFO,...oe)}warn(...oe){this._userLogHandler&&this._userLogHandler(this,L.WARN,...oe),this._logHandler(this,L.WARN,...oe)}error(...oe){this._userLogHandler&&this._userLogHandler(this,L.ERROR,...oe),this._logHandler(this,L.ERROR,...oe)}}function Ae(se){y.forEach(oe=>{oe.setLogLevel(se)})}function ve(se,oe){for(const de of y){let Ge=null;oe&&oe.level&&(Ge=q[oe.level]),de.userLogHandler=null===se?null:(Ze,gt,...mt)=>{const We=mt.map(rt=>{if(null==rt)return null;if("string"==typeof rt)return rt;if("number"==typeof rt||"boolean"==typeof rt)return rt.toString();if(rt instanceof Error)return rt.message;try{return JSON.stringify(rt)}catch{return null}}).filter(rt=>rt).join(" ");gt>=(Ge??Ze.logLevel)&&se({level:L[gt].toLowerCase(),message:We,args:mt,type:Ze.name})}}}},259:(jt,je,j)=>{j.d(je,{C6:()=>y.getApps,KN:()=>y.registerVersion,Mq:()=>y.getApp,ZF:()=>y.initializeApp});var y=j(6881);(0,y.registerVersion)("firebase","9.22.1","app")},4322:(jt,je,j)=>{j.d(je,{v0:()=>y.o,w$:()=>y.ae});var y=j(1389);j(2090),j(6881),j(1877),j(4859)},9260:(jt,je,j)=>{j.d(je,{Z:()=>y.Z});var y=j(3942);y.Z.registerVersion("firebase","9.22.1","app-compat")},2018:(jt,je,j)=>{function y(Ve){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ut){return typeof ut}:function(ut){return ut&&"function"==typeof Symbol&&ut.constructor===Symbol&&ut!==Symbol.prototype?"symbol":typeof ut})(Ve)}function ie(Ve,ut,Me){return(ut=function q(Ve){var ut=function L(Ve,ut){if("object"!==y(Ve)||null===Ve)return Ve;var Me=Ve[Symbol.toPrimitive];if(void 0!==Me){var He=Me.call(Ve,ut||"default");if("object"!==y(He))return He;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===ut?String:Number)(Ve)}(Ve,"string");return"symbol"===y(ut)?ut:String(ut)}(ut))in Ve?Object.defineProperty(Ve,ut,{value:Me,enumerable:!0,configurable:!0,writable:!0}):Ve[ut]=Me,Ve}j.d(je,{Rh:()=>_t,_W:()=>ke});var Z=j(4650),we=j(7340),Ce=j(6895),Ae=j(7579),ve=j(1481);const se=["toast-component",""];function oe(Ve,ut){if(1&Ve){const Me=Z.EpF();Z.TgZ(0,"button",5),Z.NdJ("click",function(){Z.CHM(Me);const qt=Z.oxw();return Z.KtG(qt.remove())}),Z.TgZ(1,"span",6),Z._uU(2,"\xd7"),Z.qZA()()}}function de(Ve,ut){if(1&Ve&&(Z.ynx(0),Z._uU(1),Z.BQk()),2&Ve){const Me=Z.oxw(2);Z.xp6(1),Z.hij("[",Me.duplicatesCount+1,"]")}}function Ge(Ve,ut){if(1&Ve&&(Z.TgZ(0,"div"),Z._uU(1),Z.YNc(2,de,2,1,"ng-container",4),Z.qZA()),2&Ve){const Me=Z.oxw();Z.Tol(Me.options.titleClass),Z.uIk("aria-label",Me.title),Z.xp6(1),Z.hij(" ",Me.title," "),Z.xp6(1),Z.Q6J("ngIf",Me.duplicatesCount)}}function Ze(Ve,ut){if(1&Ve&&Z._UZ(0,"div",7),2&Ve){const Me=Z.oxw();Z.Tol(Me.options.messageClass),Z.Q6J("innerHTML",Me.message,Z.oJD)}}function gt(Ve,ut){if(1&Ve&&(Z.TgZ(0,"div",8),Z._uU(1),Z.qZA()),2&Ve){const Me=Z.oxw();Z.Tol(Me.options.messageClass),Z.uIk("aria-label",Me.message),Z.xp6(1),Z.hij(" ",Me.message," ")}}function mt(Ve,ut){if(1&Ve&&(Z.TgZ(0,"div"),Z._UZ(1,"div",9),Z.qZA()),2&Ve){const Me=Z.oxw();Z.xp6(1),Z.Udp("width",Me.width+"%")}}class It{constructor(ut,Me){ie(this,"_attachedHost",void 0),ie(this,"component",void 0),ie(this,"viewContainerRef",void 0),ie(this,"injector",void 0),this.component=ut,this.injector=Me}attach(ut,Me){return this._attachedHost=ut,ut.attach(this,Me)}detach(){const ut=this._attachedHost;if(ut)return this._attachedHost=void 0,ut.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(ut){this._attachedHost=ut}}class ht{constructor(){ie(this,"_attachedPortal",void 0),ie(this,"_disposeFn",void 0)}attach(ut,Me){return this._attachedPortal=ut,this.attachComponentPortal(ut,Me)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(ut){this._disposeFn=ut}}class Ue{constructor(ut){ie(this,"_overlayRef",void 0),ie(this,"componentInstance",void 0),ie(this,"duplicatesCount",0),ie(this,"_afterClosed",new Ae.x),ie(this,"_activate",new Ae.x),ie(this,"_manualClose",new Ae.x),ie(this,"_resetTimeout",new Ae.x),ie(this,"_countDuplicate",new Ae.x),this._overlayRef=ut}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(ut,Me){ut&&this._resetTimeout.next(),Me&&this._countDuplicate.next(++this.duplicatesCount)}}class xt{constructor(ut,Me,He,qt,fn,Rn){ie(this,"toastId",void 0),ie(this,"config",void 0),ie(this,"message",void 0),ie(this,"title",void 0),ie(this,"toastType",void 0),ie(this,"toastRef",void 0),ie(this,"_onTap",new Ae.x),ie(this,"_onAction",new Ae.x),this.toastId=ut,this.config=Me,this.message=He,this.title=qt,this.toastType=fn,this.toastRef=Rn,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(ut){this._onAction.next(ut)}onAction(){return this._onAction.asObservable()}}const bt=new Z.OlP("ToastConfig");class mn extends ht{constructor(ut,Me,He){super(),ie(this,"_hostDomElement",void 0),ie(this,"_componentFactoryResolver",void 0),ie(this,"_appRef",void 0),this._hostDomElement=ut,this._componentFactoryResolver=Me,this._appRef=He}attachComponentPortal(ut,Me){const He=this._componentFactoryResolver.resolveComponentFactory(ut.component);let qt;return qt=He.create(ut.injector),this._appRef.attachView(qt.hostView),this.setDisposeFn(()=>{this._appRef.detachView(qt.hostView),qt.destroy()}),Me?this._hostDomElement.insertBefore(this._getComponentRootNode(qt),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(qt)),qt}_getComponentRootNode(ut){return ut.hostView.rootNodes[0]}}let Ht=(()=>{class Ve{constructor(){ie(this,"_document",(0,Z.f3M)(Ce.K0)),ie(this,"_containerElement",void 0)}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Me=this._document.createElement("div");Me.classList.add("overlay-container"),Me.setAttribute("aria-live","polite"),this._document.body.appendChild(Me),this._containerElement=Me}}return ie(Ve,"\u0275fac",function(Me){return new(Me||Ve)}),ie(Ve,"\u0275prov",Z.Yz7({token:Ve,factory:Ve.\u0275fac,providedIn:"root"})),Ve})();class yi{constructor(ut){ie(this,"_portalHost",void 0),this._portalHost=ut}attach(ut,Me=!0){return this._portalHost.attach(ut,Me)}detach(){return this._portalHost.detach()}}let Qe=(()=>{class Ve{constructor(){ie(this,"_overlayContainer",(0,Z.f3M)(Ht)),ie(this,"_componentFactoryResolver",(0,Z.f3M)(Z._Vd)),ie(this,"_appRef",(0,Z.f3M)(Z.z2F)),ie(this,"_document",(0,Z.f3M)(Ce.K0)),ie(this,"_paneElements",new Map)}create(Me,He){return this._createOverlayRef(this.getPaneElement(Me,He))}getPaneElement(Me="",He){return this._paneElements.get(He)||this._paneElements.set(He,{}),this._paneElements.get(He)[Me]||(this._paneElements.get(He)[Me]=this._createPaneElement(Me,He)),this._paneElements.get(He)[Me]}_createPaneElement(Me,He){const qt=this._document.createElement("div");return qt.id="toast-container",qt.classList.add(Me),qt.classList.add("toast-container"),He?He.getContainerElement().appendChild(qt):this._overlayContainer.getContainerElement().appendChild(qt),qt}_createPortalHost(Me){return new mn(Me,this._componentFactoryResolver,this._appRef)}_createOverlayRef(Me){return new yi(this._createPortalHost(Me))}}return ie(Ve,"\u0275fac",function(Me){return new(Me||Ve)}),ie(Ve,"\u0275prov",Z.Yz7({token:Ve,factory:Ve.\u0275fac,providedIn:"root"})),Ve})(),ke=(()=>{class Ve{constructor(Me,He,qt,fn,Rn){ie(this,"overlay",void 0),ie(this,"_injector",void 0),ie(this,"sanitizer",void 0),ie(this,"ngZone",void 0),ie(this,"toastrConfig",void 0),ie(this,"currentlyActive",0),ie(this,"toasts",[]),ie(this,"overlayContainer",void 0),ie(this,"previousToastMessage",void 0),ie(this,"index",0),this.overlay=He,this._injector=qt,this.sanitizer=fn,this.ngZone=Rn,this.toastrConfig={...Me.default,...Me.config},Me.config.iconClasses&&(this.toastrConfig.iconClasses={...Me.default.iconClasses,...Me.config.iconClasses})}show(Me,He,qt={},fn=""){return this._preBuildNotification(fn,Me,He,this.applyConfig(qt))}success(Me,He,qt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",Me,He,this.applyConfig(qt))}error(Me,He,qt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",Me,He,this.applyConfig(qt))}info(Me,He,qt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",Me,He,this.applyConfig(qt))}warning(Me,He,qt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",Me,He,this.applyConfig(qt))}clear(Me){for(const He of this.toasts)if(void 0!==Me){if(He.toastId===Me)return void He.toastRef.manualClose()}else He.toastRef.manualClose()}remove(Me){const He=this._findToast(Me);if(!He||(He.activeToast.toastRef.close(),this.toasts.splice(He.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const qt=this.toasts[this.currentlyActive].toastRef;qt.isInactive()||(this.currentlyActive=this.currentlyActive+1,qt.activate())}return!0}findDuplicate(Me="",He="",qt,fn){const{includeTitleDuplicates:Rn}=this.toastrConfig;for(const Vn of this.toasts)if((!Rn||Rn&&Vn.title===Me)&&Vn.message===He)return Vn.toastRef.onDuplicate(qt,fn),Vn;return null}applyConfig(Me={}){return{...this.toastrConfig,...Me}}_findToast(Me){for(let He=0;He<this.toasts.length;He++)if(this.toasts[He].toastId===Me)return{index:He,activeToast:this.toasts[He]};return null}_preBuildNotification(Me,He,qt,fn){return fn.onActivateTick?this.ngZone.run(()=>this._buildNotification(Me,He,qt,fn)):this._buildNotification(Me,He,qt,fn)}_buildNotification(Me,He,qt,fn){if(!fn.toastComponent)throw new Error("toastComponent required");const Rn=this.findDuplicate(qt,He,this.toastrConfig.resetTimeoutOnDuplicate&&fn.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&qt||He)&&this.toastrConfig.preventDuplicates&&null!==Rn)return Rn;this.previousToastMessage=He;let Vn=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(Vn=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const an=this.overlay.create(fn.positionClass,this.overlayContainer);this.index=this.index+1;let Gr=He;He&&fn.enableHtml&&(Gr=this.sanitizer.sanitize(Z.q3G.HTML,He));const ci=new Ue(an),On=new xt(this.index,fn,Gr,qt,Me,ci),Dr=Z.zs3.create({providers:[{provide:xt,useValue:On}],parent:this._injector}),vr=new It(fn.toastComponent,Dr),Cr=an.attach(vr,fn.newestOnTop);ci.componentInstance=Cr.instance;const Mr={toastId:this.index,title:qt||"",message:He||"",toastRef:ci,onShown:ci.afterActivate(),onHidden:ci.afterClosed(),onTap:On.onTap(),onAction:On.onAction(),portal:Cr};return Vn||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{Mr.toastRef.activate()})),this.toasts.push(Mr),Mr}}return ie(Ve,"\u0275fac",function(Me){return new(Me||Ve)(Z.LFG(bt),Z.LFG(Qe),Z.LFG(Z.zs3),Z.LFG(ve.H7),Z.LFG(Z.R0b))}),ie(Ve,"\u0275prov",Z.Yz7({token:Ve,factory:Ve.\u0275fac,providedIn:"root"})),Ve})();const it={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class Ve{get displayStyle(){if("inactive"===this.state.value)return"none"}constructor(Me,He,qt){ie(this,"toastrService",void 0),ie(this,"toastPackage",void 0),ie(this,"ngZone",void 0),ie(this,"message",void 0),ie(this,"title",void 0),ie(this,"options",void 0),ie(this,"duplicatesCount",void 0),ie(this,"originalTimeout",void 0),ie(this,"width",-1),ie(this,"toastClasses",""),ie(this,"state",void 0),ie(this,"timeout",void 0),ie(this,"intervalId",void 0),ie(this,"hideTime",void 0),ie(this,"sub",void 0),ie(this,"sub1",void 0),ie(this,"sub2",void 0),ie(this,"sub3",void 0),this.toastrService=Me,this.toastPackage=He,this.ngZone=qt,this.message=He.message,this.title=He.title,this.options=He.config,this.originalTimeout=He.config.timeOut,this.toastClasses=`${He.toastType} ${He.config.toastClass}`,this.sub=He.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=He.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=He.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=He.toastRef.countDuplicate().subscribe(fn=>{this.duplicatesCount=fn}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const Me=(new Date).getTime();this.width=(this.hideTime-Me)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(Me,He){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(Me),He)):this.timeout=setTimeout(()=>Me(),He)}outsideInterval(Me,He){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(Me),He)):this.intervalId=setInterval(()=>Me(),He)}runInsideAngular(Me){this.ngZone?this.ngZone.run(()=>Me()):Me()}}return ie(Ve,"\u0275fac",function(Me){return new(Me||Ve)(Z.Y36(ke),Z.Y36(xt),Z.Y36(Z.R0b))}),ie(Ve,"\u0275cmp",Z.Xpm({type:Ve,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(Me,He){1&Me&&Z.NdJ("click",function(){return He.tapToast()})("mouseenter",function(){return He.stickAround()})("mouseleave",function(){return He.delayedHideToast()}),2&Me&&(Z.d8E("@flyInOut",He.state),Z.Tol(He.toastClasses),Z.Udp("display",He.displayStyle))},standalone:!0,features:[Z.jDz],attrs:se,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(Me,He){1&Me&&(Z.YNc(0,oe,3,0,"button",0),Z.YNc(1,Ge,3,5,"div",1),Z.YNc(2,Ze,1,3,"div",2),Z.YNc(3,gt,2,4,"div",3),Z.YNc(4,mt,2,2,"div",4)),2&Me&&(Z.Q6J("ngIf",He.options.closeButton),Z.xp6(1),Z.Q6J("ngIf",He.title),Z.xp6(1),Z.Q6J("ngIf",He.message&&He.options.enableHtml),Z.xp6(1),Z.Q6J("ngIf",He.message&&!He.options.enableHtml),Z.xp6(1),Z.Q6J("ngIf",He.options.progressBar))},dependencies:[Ce.O5],encapsulation:2,data:{animation:[(0,we.X$)("flyInOut",[(0,we.SB)("inactive",(0,we.oB)({opacity:0})),(0,we.SB)("active",(0,we.oB)({opacity:1})),(0,we.SB)("removed",(0,we.oB)({opacity:0})),(0,we.eR)("inactive => active",(0,we.jt)("{{ easeTime }}ms {{ easing }}")),(0,we.eR)("active => removed",(0,we.jt)("{{ easeTime }}ms {{ easing }}"))])]}})),Ve})()},ft=(Ve={})=>(0,Z.MR2)([{provide:bt,useValue:{default:it,config:Ve}}]);let _t=(()=>{class Ve{static forRoot(Me={}){return{ngModule:Ve,providers:[ft(Me)]}}}return ie(Ve,"\u0275fac",function(Me){return new(Me||Ve)}),ie(Ve,"\u0275mod",Z.oAB({type:Ve})),ie(Ve,"\u0275inj",Z.cJS({})),Ve})()},5861:(jt,je,j)=>{function y(q,ie,Z,we,Ce,Ae,ve){try{var se=q[Ae](ve),oe=se.value}catch(de){return void Z(de)}se.done?ie(oe):Promise.resolve(oe).then(we,Ce)}function L(q){return function(){var ie=this,Z=arguments;return new Promise(function(we,Ce){var Ae=q.apply(ie,Z);function ve(oe){y(Ae,we,Ce,ve,se,"next",oe)}function se(oe){y(Ae,we,Ce,ve,se,"throw",oe)}ve(void 0)})}}j.d(je,{Z:()=>L})}},jt=>{jt(jt.s=403)}]);