"use strict";(self.webpackChunkTP_CLINICA=self.webpackChunkTP_CLINICA||[]).push([[983],{2668:(x,b,a)=>{a.d(b,{T:()=>e});var u=a(5861),g=a(6912),d=a(4650),f=a(516);let e=(()=>{class c{constructor(o){this.firestoreDB=o,this.nombreColeccion="especialidades"}cargarEspecialidadConIdAsignado(o){return this.firestoreDB.guardarObjetoConIdAsignado(this.nombreColeccion,{...o})}cargarEspecialidadSinIdAsignado(o){return this.firestoreDB.guardarObjetoSinIdAsignado(this.nombreColeccion,{...o})}traerEspecialidadPorId(o){var l=this;return(0,u.Z)(function*(){return l.firestoreDB.traerObjetoPorId_Promesa(l.nombreColeccion,o)})()}obtenerListaDeEspecialidades(){return this.firestoreDB.traerListaDeObjetos(this.nombreColeccion)}obtenerListadoDeEspecialidadesObservable(){return this.firestoreDB.traerListaDeObjetosConObservable(this.nombreColeccion)}modificarEspecialidad(o){return this.firestoreDB.modificarObjeto(this.nombreColeccion,o)}eliminarEspecialidad(o){return this.firestoreDB.eliminarObjeto(this.nombreColeccion,o)}traerListaDeEspecialidadesFiltradaConObservable(o){return this.firestoreDB.traerListaDeObjetosFiltradaConObservable(this.nombreColeccion,"nombre",g.n.igual,o)}}return c.\u0275fac=function(o){return new(o||c)(d.LFG(f.C))},c.\u0275prov=d.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},5113:(x,b,a)=>{a.d(b,{p:()=>e});var u=a(5861),g=a(6912),d=a(4650),f=a(516);let e=(()=>{class c{constructor(o){this.firestoreDB=o,this.nombreColeccion="horarios"}cargarItemConIdAsignado(o){return this.firestoreDB.guardarObjetoConIdAsignado(this.nombreColeccion,{...o})}cargarItemSinIdAsignado(o){return this.firestoreDB.guardarObjetoSinIdAsignado(this.nombreColeccion,{...o})}traerItemPorId(o){var l=this;return(0,u.Z)(function*(){return l.firestoreDB.traerObjetoPorId_Promesa(l.nombreColeccion,o)})()}traerItemPorId_Observable(o){return this.firestoreDB.traerObjetoPorId_Observable(this.nombreColeccion,o)}obtenerListaDeItems(){return this.firestoreDB.traerListaDeObjetos(this.nombreColeccion)}obtenerListadoDeItemsObservable(){return this.firestoreDB.traerListaDeObjetosConObservable(this.nombreColeccion)}modificarItem(o){return this.firestoreDB.modificarObjeto(this.nombreColeccion,o)}eliminarItem(o){return this.firestoreDB.eliminarObjeto(this.nombreColeccion,o)}traerListaDeItemsFiltradaConObservable(o,l){return this.firestoreDB.traerListaDeObjetosFiltradaConObservable(this.nombreColeccion,o,g.n.igual,l)}traerListaDeItemsFiltradaCon_DESIGUALDAD_Observable(o,l){return this.firestoreDB.traerListaDeObjetosFiltradaConObservable(this.nombreColeccion,o,g.n.distinto,l)}traerListaDeItemsFiltradoPor_TRES_CamposDe_IGUALDAD(o,l,h,C,O,T){return this.firestoreDB.traerListaDeObjetosCon_TRES_FiltrosDe_IGUALDAD_ConObservable(this.nombreColeccion,o,l,h,C,O,T)}traerListaFiltradaPor_UN_Campo(o,l){return this.firestoreDB.traerListaDeObjetosFiltrada(this.nombreColeccion,o,g.n.igual,l)}traerListaFiltradaPor_UN_Campo_DESIGUALDAD(o,l){return this.firestoreDB.traerListaDeObjetosFiltrada(this.nombreColeccion,o,g.n.distinto,l)}traerListaFiltradaPor_DOS_CamposObservable(o,l,h,C){return this.firestoreDB.traerListaDeObjetosCon_DOS_FiltrosDe_IGUALDAD_ConObservable(this.nombreColeccion,o,l,h,C)}traerListaFiltradaPor_DOS_Campos(o,l,h,C){return this.firestoreDB.traerListaDeObjetosCon_DOS_FiltrosDe_IGUALDAD(this.nombreColeccion,o,l,h,C)}traerListaFiltradaPor_DOS_Campos_IGUALDAD_DESIGUALDAD(o,l,h,C){return this.firestoreDB.traerListaDeObjetosCon_UnFiltro_IGUALDAD_YUNO_DESIGUALDAD(this.nombreColeccion,o,l,h,C)}traerListaFiltradaPor_TRES_Campos(o,l,h,C,O,T){return this.firestoreDB.traerListaDeObjetosCon_TRES_FiltrosDe_IGUALDAD(this.nombreColeccion,o,l,h,C,O,T)}traerListaFiltradaPor_TRES_Campos_I_I_D_Observable(o,l,h,C,O,T){return this.firestoreDB.traerListaDeObjetosCon_TRES_Filtros_I_I_D_ConObservable(this.nombreColeccion,o,l,h,C,O,T)}traerListaFiltradaPor_DOS_Campos_D_I_Observable(o,l,h,C){return this.firestoreDB.traerListaDeObjetosCon_DOS_FiltrosDe_D_I_ConObservable(this.nombreColeccion,o,l,h,C)}}return c.\u0275fac=function(o){return new(o||c)(d.LFG(f.C))},c.\u0275prov=d.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},4465:(x,b,a)=>{a.d(b,{k:()=>d});var u=a(4650),g=a(3648);let d=(()=>{class f{constructor(c){this.toastr=c}exito(c="",m="",o=3e3){this.toastr.success(""!=c?c:"Se ha completado la operaci\xf3n con \xe9xito!.",""!=m?m:"Operaci\xf3n exitosa.",{toastClass:"toast-custom-success",timeOut:o,extendedTimeOut:1e3,enableHtml:!0,positionClass:"toast-custom-position"})}error(c="",m="",o=3e3){this.toastr.error(""!=c?c:"Ha ocurrido un error al procesar la operaci\xf3n.",""!=m?m:"Ha ocurrido un error.",{toastClass:"toast-custom-error",timeOut:o,extendedTimeOut:1e3,enableHtml:!0,positionClass:"toast-custom-position"})}informacion(c="",m="",o=3e3){this.toastr.success(""!=c?c:"",""!=m?m:"Aviso.",{toastClass:"toast-custom-info",timeOut:o,extendedTimeOut:1e3,enableHtml:!0,positionClass:"toast-custom-position"})}}return f.\u0275fac=function(c){return new(c||f)(u.LFG(g._W))},f.\u0275prov=u.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()},8276:(x,b,a)=>{a.d(b,{y:()=>g});var u=a(4650);let g=(()=>{class d{constructor(e,c){this.elementRef=e,this.renderer=c,this.iniciar()}iniciar(){this.renderer.addClass(this.elementRef.nativeElement,"titulo-luminoso"),this.renderer.setStyle(this.elementRef.nativeElement,"font-size","48px"),this.renderer.setStyle(this.elementRef.nativeElement,"color","wheat"),this.renderer.setStyle(this.elementRef.nativeElement,"font-weight","bold")}}return d.\u0275fac=function(e){return new(e||d)(u.Y36(u.SBq),u.Y36(u.Qsj))},d.\u0275dir=u.lG2({type:d,selectors:[["","appIluminar",""]]}),d})()},3389:(x,b,a)=>{a.d(b,{j:()=>g});var u=a(4650);let g=(()=>{class d{constructor(e,c){this.item=e,this.renderer=c,this.colorPrincipal="",this.colorSecundario=""}onMouseEnter(){this.aplicar(this.colorSecundario||this.colorPrincipal||"green")}onMouseLeave(){this.aplicar(null)}aplicar(e){this.renderer.setStyle(this.item.nativeElement,"background-color",e),null!=e?(this.renderer.setStyle(this.item.nativeElement,"color","white"),this.item.nativeElement.style.cursor="pointer"):this.renderer.setStyle(this.item.nativeElement,"color","black")}}return d.\u0275fac=function(e){return new(e||d)(u.Y36(u.SBq),u.Y36(u.Qsj))},d.\u0275dir=u.lG2({type:d,selectors:[["","appResaltador",""]],hostBindings:function(e,c){1&e&&u.NdJ("mouseenter",function(){return c.onMouseEnter()})("mouseleave",function(){return c.onMouseLeave()})},inputs:{colorPrincipal:"colorPrincipal",colorSecundario:["appResaltador","colorSecundario"]}}),d})()},2150:(x,b,a)=>{a.d(b,{o:()=>g});var u=a(4650);let g=(()=>{class d{transform(e,c=!1){return!Array.isArray(e)||0===e.length||e.sort(c?(m,o)=>m.fechaHC>o.fechaHC?-1:m.fechaHC<o.fechaHC?1:0:(m,o)=>m.fechaDate.seconds<o.fechaDate.seconds?-1:m.fechaDate.seconds>o.fechaDate.seconds?1:0),e}}return d.\u0275fac=function(e){return new(e||d)},d.\u0275pipe=u.Yjl({name:"sortBySeconds",type:d,pure:!0}),d})()},8983:(x,b,a)=>{a.r(b),a.d(b,{SolicitarTurnoModule:()=>ue});var u=a(6895),g=a(155),d=a(5861),f=a(3474),e=a(4650);let c=(()=>{class i{transform(t){return t.apellido+" "+t.nombre+" - DNI:"+t.dni+" - "+f.L[t.perfil]}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275pipe=e.Yjl({name:"usuario",type:i,pure:!0}),i})(),m=(()=>{class i{transform(t){return Array.isArray(t)&&0!==t.length?t.sort((n,s)=>`${n.apellido} ${n.nombre}`.localeCompare(`${s.apellido} ${s.nombre}`)):t}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275pipe=e.Yjl({name:"sortByNameAndLastName",type:i,pure:!0}),i})();var o=a(1209),l=a(2668),h=a(9724),C=a(4465),O=a(5113),T=a(605),L=a(2189),P=a(3389),w=a(8276);function M(i,r){1&i&&(e.TgZ(0,"div",5)(1,"span",6),e._uU(2,"Cargando..."),e.qZA(),e._UZ(3,"div",7),e.qZA())}function y(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",12)(1,"div",13)(2,"button",14),e.NdJ("click",function(){const p=e.CHM(t).$implicit,_=e.oxw(4);return e.KtG(_.seleccionEspecialista(p))}),e._UZ(3,"img",15),e.TgZ(4,"p",16),e._uU(5),e.qZA()()()()}if(2&i){const t=r.$implicit,n=e.oxw(4);e.Q6J("appResaltador","green"),e.xp6(2),e.ekj("fila-seleccionada",null!=n.filaSeleccionada&&t.id===n.filaSeleccionada.id),e.xp6(1),e.Q6J("src",t.imagen,e.LSH),e.xp6(2),e.AsE("",t.apellido,", ",t.nombre,"")}}function F(i,r){if(1&i&&(e.TgZ(0,"div",10),e.YNc(1,y,6,6,"div",11),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.especialistas)}}function B(i,r){if(1&i&&(e.ynx(0),e.YNc(1,F,2,1,"div",9),e.BQk()),2&i){const t=e.oxw(2),n=e.MAs(8);e.xp6(1),e.Q6J("ngIf",t.especialistas.length>0)("ngIfElse",n)}}function N(i,r){if(1&i&&e.YNc(0,B,2,2,"ng-container",8),2&i){const t=e.oxw();e.Q6J("ngIf",t.especialistas)}}function Z(i,r){1&i&&(e.TgZ(0,"h2"),e._uU(1,"La especialidad seleccionada NO CUENTA con especialistas por el momento."),e.qZA())}let U=(()=>{class i{constructor(){this.spinner=!1,this.titulo="Lista de Especialistas",this.OnSeleccionEspecialista=new e.vpe}seleccionEspecialista(t){this.filaSeleccionada=t,this.OnSeleccionEspecialista.emit(t)}ngOnChanges(t){this.filaSeleccionada=null}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-lista-especialistas"]],inputs:{spinner:"spinner",especialistas:"especialistas",titulo:"titulo"},outputs:{OnSeleccionEspecialista:"OnSeleccionEspecialista"},features:[e.TTD],decls:9,vars:3,consts:[[2,"max-height","700px","min-height","160px"],[1,"border","p-2","w-100","bg-dark","text-light"],["class","d-flex justify-content-around",4,"ngIf","ngIfElse"],["lista",""],["sinEspecialistas",""],[1,"d-flex","justify-content-around"],[1,"fs-3","fw-bold"],[1,"spinner-border","text-danger","text-center",2,"align-self","center","scale","1.2"],[4,"ngIf"],["class","bg-light","style","max-height: 700px; min-height: 160px; overflow-y: auto",4,"ngIf","ngIfElse"],[1,"bg-light",2,"max-height","700px","min-height","160px","overflow-y","auto"],[3,"appResaltador",4,"ngFor","ngForOf"],[3,"appResaltador"],[1,"d-flex","justify-content-center","mx-0","border","text-dark"],["type","button",1,"btn","btn-primary",2,"border-radius","50%","min-width","150px",3,"click"],["alt","Imagen especialista","width","100px",2,"border-radius","50%",3,"src"],[1,"text-light","fw-bold","fs-6"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3"),e._uU(3),e.qZA(),e.YNc(4,M,4,0,"div",2),e.YNc(5,N,1,1,"ng-template",null,3,e.W1O),e.YNc(7,Z,2,0,"ng-template",null,4,e.W1O),e.qZA()()),2&t){const s=e.MAs(6);e.xp6(3),e.Oqu(n.titulo),e.xp6(1),e.Q6J("ngIf",n.spinner)("ngIfElse",s)}},dependencies:[u.sg,u.O5,P.j],styles:[".custom-font-headers[_ngcontent-%COMP%]{font-size:1.4em!important;font-weight:700!important}.custom-font-data[_ngcontent-%COMP%]{font-size:1.03em!important;word-wrap:break-word;font-weight:700}.fila-seleccionada[_ngcontent-%COMP%]{background-color:#009331!important;color:#fff!important;font-weight:700!important;.nueva-especialidad {color: black !important;}}.custom-font[_ngcontent-%COMP%]{font-size:3em!important;font-weight:700!important}.custom-pointer[_ngcontent-%COMP%]{cursor:pointer}img[_ngcontent-%COMP%]{height:100px}.imagen-usuario[_ngcontent-%COMP%]{border-radius:100px;width:100px}.textarea[_ngcontent-%COMP%]{resize:none;height:100%}.nueva-especialidad[_ngcontent-%COMP%]{color:red;font-weight:bolder;font-size:1.03em}.columna[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center!important}"]}),i})();var I=a(2150);let j=(()=>{class i{transform(t){return t&&t instanceof Array&&t.length>0?t.filter((s,p,_)=>p===_.findIndex(v=>v.fechaString===s.fechaString)):t}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275pipe=e.Yjl({name:"filtroDias",type:i,pure:!0}),i})(),H=(()=>{class i{transform(t){if(t){let n=new Date(1e3*t.fechaDate.seconds);return`${n.getDate()>9?n.getDate():"0"+n.getDate()}/${n.getMonth()+1>9?n.getMonth()+1:"0"+(n.getMonth()+1)}`}return""}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275pipe=e.Yjl({name:"fechaHoraFormato",type:i,pure:!0}),i})();function Y(i,r){1&i&&(e.TgZ(0,"div",5)(1,"span",6),e._uU(2,"Cargando..."),e.qZA(),e._UZ(3,"div",7),e.qZA())}function R(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"div",11),e.NdJ("click",function(){const p=e.CHM(t).$implicit,_=e.oxw(4);return e.KtG(_.seleccionFila(p))}),e.TgZ(2,"button",12),e.NdJ("click",function(){const p=e.CHM(t).$implicit,_=e.oxw(4);return e.KtG(_.seleccionTurno(p))}),e._uU(3),e.ALo(4,"fechaHoraFormato"),e.qZA()()()}if(2&i){const t=r.$implicit,n=e.oxw(4);e.xp6(1),e.ekj("fila-seleccionada",null!=n.filaSeleccionada&&t.id===n.filaSeleccionada.id),e.xp6(2),e.Oqu(e.lcZ(4,3,t))}}function k(i,r){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,R,5,5,"div",10),e.ALo(2,"sortBySeconds"),e.ALo(3,"filtroDias"),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,1,e.lcZ(3,3,t.turnos)))}}function J(i,r){if(1&i&&(e.ynx(0),e.YNc(1,k,4,5,"div",9),e.BQk()),2&i){const t=e.oxw(2),n=e.MAs(8);e.xp6(1),e.Q6J("ngIf",t.turnos.length>0)("ngIfElse",n)}}function z(i,r){if(1&i&&e.YNc(0,J,2,2,"ng-container",8),2&i){const t=e.oxw();e.Q6J("ngIf",t.turnos)}}function Q(i,r){1&i&&(e.TgZ(0,"h2"),e._uU(1,"El especialista seleccionado NO TIENE turnos disponibles para la especialidad seleccionada."),e.qZA())}let G=(()=>{class i{constructor(){this.spinner=!1,this.turnos=null,this.OnSeleccionTurno=new e.vpe}seleccionTurno(t){this.OnSeleccionTurno.emit(t)}seleccionFila(t){this.filaSeleccionada=t}ngOnChanges(t){this.filaSeleccionada=null}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-dias"]],inputs:{spinner:"spinner",turnos:"turnos"},outputs:{OnSeleccionTurno:"OnSeleccionTurno"},features:[e.TTD],decls:9,vars:2,consts:[[2,"height","500px","overflow-y","auto"],[1,"border","p-2","w-100","bg-dark","text-light"],["class","d-flex justify-content-around",4,"ngIf","ngIfElse"],["lista",""],["sinTurnos",""],[1,"d-flex","justify-content-around"],[1,"fs-3","fw-bold"],[1,"spinner-border","text-danger","text-center",2,"align-self","center","scale","1.2"],[4,"ngIf"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","custom-pointer","mx-0","border","bg-light","text-dark",2,"align-items","center",3,"click"],[1,"btn","btn-primary","fs-1","fw-bold","p-2","w-100","m-2","custom-font-data",2,"border-radius","0px !important","font-size","2em !important",3,"click"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3"),e._uU(3,"D\xedas Disponibles"),e.qZA(),e.YNc(4,Y,4,0,"div",2),e.YNc(5,z,1,1,"ng-template",null,3,e.W1O),e.YNc(7,Q,2,0,"ng-template",null,4,e.W1O),e.qZA()()),2&t){const s=e.MAs(6);e.xp6(4),e.Q6J("ngIf",n.spinner)("ngIfElse",s)}},dependencies:[u.sg,u.O5,I.o,j,H],styles:[".custom-font-headers[_ngcontent-%COMP%]{font-size:1.4em!important;font-weight:700!important}.custom-font-data[_ngcontent-%COMP%]{font-size:1.03em!important;word-wrap:break-word;font-weight:700}.fila-seleccionada[_ngcontent-%COMP%]{background-color:#009331!important;color:#fff!important;font-weight:700!important}.custom-font[_ngcontent-%COMP%]{font-size:3em!important;font-weight:700!important}.custom-pointer[_ngcontent-%COMP%]{cursor:pointer}img[_ngcontent-%COMP%]{height:100px}.imagen-usuario[_ngcontent-%COMP%]{border-radius:100px;width:100px}.textarea[_ngcontent-%COMP%]{resize:none;height:100%}.nueva-especialidad[_ngcontent-%COMP%]{color:red;font-weight:bolder;font-size:1.03em}.columna[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center!important}"]}),i})(),$=(()=>{class i{transform(t){if(t){let n=new Date(1e3*t.fechaDate.seconds),s=n.getHours();const p=n.getMinutes(),_=s>=12?"pm":"am";return s%=12,s=s||12,`${s<10?`0${s}`:`${s}`}:${p<10?`0${p}`:`${p}`}${_}`}return""}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275pipe=e.Yjl({name:"horaFormato",type:i,pure:!0}),i})();function K(i,r){1&i&&(e.TgZ(0,"div",5)(1,"span",6),e._uU(2,"Cargando..."),e.qZA(),e._UZ(3,"div",7),e.qZA())}function W(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"div",11),e.NdJ("click",function(){const p=e.CHM(t).$implicit,_=e.oxw(4);return e.KtG(_.seleccionFila(p))}),e.TgZ(2,"button",12),e.NdJ("click",function(){const p=e.CHM(t).$implicit,_=e.oxw(4);return e.KtG(_.seleccionTurno(p))}),e._uU(3),e.ALo(4,"horaFormato"),e.qZA()()()}if(2&i){const t=r.$implicit,n=e.oxw(4);e.xp6(1),e.ekj("fila-seleccionada",null!=n.filaSeleccionada&&t.id===n.filaSeleccionada.id),e.xp6(2),e.Oqu(e.lcZ(4,3,t))}}function q(i,r){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,W,5,5,"div",10),e.ALo(2,"sortBySeconds"),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,1,t.turnos))}}function X(i,r){if(1&i&&(e.ynx(0),e.YNc(1,q,3,3,"div",9),e.BQk()),2&i){const t=e.oxw(2),n=e.MAs(8);e.xp6(1),e.Q6J("ngIf",t.turnos.length>0)("ngIfElse",n)}}function V(i,r){if(1&i&&e.YNc(0,X,2,2,"ng-container",8),2&i){const t=e.oxw();e.Q6J("ngIf",t.turnos)}}function ee(i,r){1&i&&(e.TgZ(0,"h2"),e._uU(1,"El especialista seleccionado NO TIENE turnos disponibles para la especialidad seleccionada."),e.qZA())}let te=(()=>{class i{constructor(){this.spinner=!1,this.turnos=null,this.OnSeleccionTurno=new e.vpe}seleccionTurno(t){this.OnSeleccionTurno.emit(t)}seleccionFila(t){this.filaSeleccionada=t}ngOnChanges(t){this.filaSeleccionada=null}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-horas"]],inputs:{spinner:"spinner",turnos:"turnos"},outputs:{OnSeleccionTurno:"OnSeleccionTurno"},features:[e.TTD],decls:9,vars:2,consts:[[2,"height","500px","overflow-y","auto"],[1,"border","p-2","w-100","bg-dark","text-light"],["class","d-flex justify-content-around",4,"ngIf","ngIfElse"],["lista",""],["sinTurnos",""],[1,"d-flex","justify-content-around"],[1,"fs-3","fw-bold"],[1,"spinner-border","text-danger","text-center",2,"align-self","center","scale","1.2"],[4,"ngIf"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","custom-pointer","mx-0","border","bg-light","text-dark",2,"align-items","center",3,"click"],[1,"btn","btn-primary","fs-1","fw-bold","p-2","w-100","m-2","custom-font-data",2,"border-radius","0px !important","font-size","2em !important",3,"click"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3"),e._uU(3,"Horarios Disponibles"),e.qZA(),e.YNc(4,K,4,0,"div",2),e.YNc(5,V,1,1,"ng-template",null,3,e.W1O),e.YNc(7,ee,2,0,"ng-template",null,4,e.W1O),e.qZA()()),2&t){const s=e.MAs(6);e.xp6(4),e.Q6J("ngIf",n.spinner)("ngIfElse",s)}},dependencies:[u.sg,u.O5,I.o,$],styles:[".custom-font-headers[_ngcontent-%COMP%]{font-size:1.4em!important;font-weight:700!important}.custom-font-data[_ngcontent-%COMP%]{font-size:1.03em!important;word-wrap:break-word;font-weight:700}.fila-seleccionada[_ngcontent-%COMP%]{background-color:#009331!important;color:#fff!important;font-weight:700!important}.custom-font[_ngcontent-%COMP%]{font-size:3em!important;font-weight:700!important}.custom-pointer[_ngcontent-%COMP%]{cursor:pointer}img[_ngcontent-%COMP%]{height:100px}.imagen-usuario[_ngcontent-%COMP%]{border-radius:100px;width:100px}.textarea[_ngcontent-%COMP%]{resize:none;height:100%}.nueva-especialidad[_ngcontent-%COMP%]{color:red;font-weight:bolder;font-size:1.03em}.columna[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center!important}"]}),i})(),ie=(()=>{class i{transform(t){return Array.isArray(t)&&0!==t.length?t.sort((n,s)=>n.nombre.localeCompare(s.nombre)):t}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275pipe=e.Yjl({name:"sortByName",type:i,pure:!0}),i})();function ne(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",16)(1,"app-buscador",17),e.NdJ("OnLimpiarBuscador",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.limpiarDatos())})("OnSeleccionElemento",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.obtenerUsuario(s))}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("funcionBuscador",t.buscarPaciente)("titulo",t.tituloBuscador)("funcionPipe",t.transformarTexto)("limpiarDesdeExterior",t.limpiarAutocomplete)}}function oe(i,r){1&i&&(e.TgZ(0,"div",18)(1,"span",19),e._uU(2,"Cargando..."),e.qZA(),e._UZ(3,"div",20),e.qZA())}function re(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",23)(1,"div",24)(2,"button",25),e.NdJ("click",function(){const p=e.CHM(t).$implicit,_=e.oxw(2);return e.KtG(_.seleccionEspecialidad(p))}),e._UZ(3,"img",26),e.qZA()()()}if(2&i){const t=r.$implicit,n=e.oxw(2);e.Q6J("appResaltador","green"),e.xp6(2),e.ekj("fila-seleccionada",null!=n.filaSeleccionada&&t.id===n.filaSeleccionada.id),e.xp6(1),e.Q6J("src",t.imagen?t.imagen:"assets/imagenEspecialidad/medicina.jpg",e.LSH)}}function se(i,r){if(1&i&&(e.TgZ(0,"div",21),e.YNc(1,re,4,4,"div",22),e.ALo(2,"sortByName"),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,1,t.especialidades))}}function ae(i,r){1&i&&e._UZ(0,"app-loader")}const ce=[{path:"",component:(()=>{class i{constructor(t,n,s,p,_){var v=this;this.usuarioService=t,this.especialidadService=n,this.swalService=s,this.toastService=p,this.horariosService=_,this.tituloBuscador="Ingrese Nombre | Apellido | Dni de paciente",this.cargando=!1,this.spinner=!1,this.spinnerEspecialistas=!1,this.spinnerTurnos=!1,this.pacienteSeleccionado=null,this.limpiarAutocomplete=!1,this.buscarPaciente=function(){var D=(0,d.Z)(function*(S){S=S.trim();let E=yield v.usuarioService.traerListaFiltradaPor_UN_Campo("perfil",1);return E=E.filter(A=>A?.nombre?.toLowerCase().includes(S.toLowerCase())||A?.apellido?.toLowerCase().includes(S.toLowerCase())||A?.dni?.toString().includes(S)),E=v.ordenarPorNombreYApellidoPipe.transform(E),E});return function(S){return D.apply(this,arguments)}}(),this.transformarTexto=D=>this.usuarioPipe.transform(D)}eliminarSuscripciones(){this.eliminarSuscripcionEspecialidades(),this.eliminarSuscripcionEspecialistas(),this.eliminarSuscripcionTurnos(),this.eliminarSuscripcionUsuarios()}eliminarSuscripcionEspecialistas(){this.suscripcionEspecialistas&&this.suscripcionEspecialistas.unsubscribe()}esAdmin(){return this.usuarioActual?.perfil==f.L.administrador}eliminarSuscripcionEspecialidades(){this.suscripcionEspecialidades&&this.suscripcionEspecialidades.unsubscribe()}eliminarSuscripcionTurnos(){this.suscripcionTurnos&&this.suscripcionTurnos.unsubscribe()}eliminarSuscripcionUsuarios(){this.suscripcionUsuarios&&this.suscripcionUsuarios.unsubscribe()}ngOnDestroy(){this.eliminarSuscripciones()}ngOnInit(){this.cargando=!0,this.usuarioPipe=new c,this.ordenarPorNombreYApellidoPipe=new m,this.traerEspecialidades(),this.usuarioService.obtenerUsuarioActual().then(t=>{this.usuarioActual=t}),this.cargando=!1}seleccionEspecialista(t){this.spinnerTurnos=!0,this.eliminarSuscripcionTurnos(),this.suscripcionTurnos=this.horariosService.traerListaDeItemsFiltradoPor_TRES_CamposDe_IGUALDAD("idMedico",t.id,"idEspecialidad",this.especialidadSeleccionada.id,"ocupado",!1).subscribe(n=>{let s=new Date,p=new Date;p.setDate(s.getDate()+15);let _=n.filter(v=>{let D=new Date(1e3*v.fechaDate.seconds);return D>=s&&D<=p});this.turnos=_,this.spinnerTurnos=!1,0==this.turnos.length&&!this.cargando&&this.toastService.informacion("El especialista seleccionado NO TIENE turnos disponibles para la especialidad seleccionada.","Aviso.")})}traerEspecialidades(){this.eliminarSuscripcionTurnos(),this.spinner=!0,this.suscripcionEspecialidades=this.especialidadService.obtenerListadoDeEspecialidadesObservable().subscribe(t=>{this.especialidades=t,this.spinner=!1})}seleccionEspecialidad(t){this.esAdmin()&&null==this.pacienteSeleccionado?this.swalService.warning("Debe seleccionar un paciente para operar.","Aviso."):(this.filaSeleccionada=t,this.especialistas=null,this.turnos=null,this.turnosPorDia=null,this.spinnerEspecialistas=!0,this.especialidadSeleccionada=t,this.eliminarSuscripcionTurnos(),this.eliminarSuscripcionEspecialistas(),this.suscripcionEspecialistas=this.usuarioService.obtenerListadoDeUsuariosObservable().subscribe(n=>{let s=n.filter(p=>{if(p.especialidades){let _=p.especialidades.filter(v=>v.nombre==t.nombre);return null!=_&&_.length>0}return!1});this.especialistas=s,setTimeout(()=>{0==this.especialistas.length&&this.toastService.informacion("La especialidad seleccionada NO CUENTA con especialistas por el momento.","Aviso."),this.spinnerEspecialistas=!1},700)}))}seleccionTurno(t){let n;this.turnos=null,this.turnosPorDia=null,this.cargando=!0,t.ocupado=!0,t.estadoTurno="Solicitado",t.fechaSolicitud=(new Date).getTime(),n=this.esAdmin()?this.pacienteSeleccionado:this.usuarioActual,t.paciente=n,t.idPaciente=n.id,t.nombrePaciente=n.apellido+" "+n.nombre,this.horariosService.modificarItem(t).then(s=>{setTimeout(()=>{this.swalService.exito("Turno cargado con exito!"),this.cargando=!1},1e3)})}seleccionTurnoDia(t,n){t&&(this.turnosPorDia=n.filter(s=>s.fechaString==t.fechaString))}limpiarDatos(){this.especialidadSeleccionada=null,this.especialistas=null,this.especialidades=null,this.turnos=null,this.pacienteSeleccionado=null,this.filaSeleccionada=null,this.limpiarAutocomplete=!this.limpiarAutocomplete,this.traerEspecialidades()}obtenerUsuario(t){this.pacienteSeleccionado=t}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(o.i),e.Y36(l.T),e.Y36(h.J),e.Y36(C.k),e.Y36(O.p))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-solicitar-turno"]],decls:25,vars:10,consts:[[1,"entrada","p-0","m-0"],[1,"bg-dark"],["appIluminar","",1,"text-center"],[1,"d-flex","justify-content-between"],[1,"row","w-50","m-2"],["class","col border p-2 w-50 bg-dark text-light",4,"ngIf"],[1,"m-2"],[1,"btn","btn-warning","fw-bold","fs-4",3,"click"],[1,"row","w-100","p-0","m-0"],[1,"col","col-12","col-md-3"],[1,"border","p-2","w-100","bg-dark","text-light"],["class","d-flex justify-content-around",4,"ngIf","ngIfElse"],["lista",""],[3,"spinner","especialistas","OnSeleccionEspecialista"],[3,"spinner","turnos","OnSeleccionTurno"],[4,"ngIf"],[1,"col","border","p-2","w-50","bg-dark","text-light"],[3,"funcionBuscador","titulo","funcionPipe","limpiarDesdeExterior","OnLimpiarBuscador","OnSeleccionElemento"],[1,"d-flex","justify-content-around"],[1,"fs-3","fw-bold"],[1,"spinner-border","text-danger","text-center",2,"align-self","center","scale","1.2"],[1,"bg-light",2,"max-height","700px","min-height","160px","overflow-y","auto"],[3,"appResaltador",4,"ngFor","ngForOf"],[3,"appResaltador"],[1,"d-flex","justify-content-center","mx-0","border","text-dark"],["type","button",1,"btn","btn-primary",2,"border-radius","50%","min-width","150px",3,"click"],["alt","Imagen especialista","width","100px",2,"border-radius","50%",3,"src"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3,"SOLICITUD DE TURNOS"),e.qZA()(),e.TgZ(4,"div",3)(5,"div",4),e.YNc(6,ne,2,4,"div",5),e.qZA(),e.TgZ(7,"div",6)(8,"button",7),e.NdJ("click",function(){return n.limpiarDatos()}),e._uU(9,"Limpiar"),e.qZA()()(),e.TgZ(10,"div",8)(11,"div",9)(12,"div",10)(13,"h3"),e._uU(14,"Seleccione Especialidad"),e.qZA(),e.YNc(15,oe,4,0,"div",11),e.YNc(16,se,3,3,"ng-template",null,12,e.W1O),e.qZA()(),e.TgZ(18,"div",9)(19,"app-lista-especialistas",13),e.NdJ("OnSeleccionEspecialista",function(p){return n.seleccionEspecialista(p)}),e.qZA()(),e.TgZ(20,"div",9)(21,"app-dias",14),e.NdJ("OnSeleccionTurno",function(p){return n.seleccionTurnoDia(p,n.turnos)}),e.qZA()(),e.TgZ(22,"div",9)(23,"app-horas",14),e.NdJ("OnSeleccionTurno",function(p){return n.seleccionTurno(p)}),e.qZA()()()(),e.YNc(24,ae,1,0,"app-loader",15)),2&t){const s=e.MAs(17);e.xp6(6),e.Q6J("ngIf",n.esAdmin()),e.xp6(9),e.Q6J("ngIf",n.spinner)("ngIfElse",s),e.xp6(4),e.Q6J("spinner",n.spinnerEspecialistas)("especialistas",n.especialistas),e.xp6(2),e.Q6J("spinner",n.spinnerTurnos)("turnos",n.turnos),e.xp6(2),e.Q6J("spinner",n.spinnerTurnos)("turnos",n.turnosPorDia),e.xp6(1),e.Q6J("ngIf",n.cargando)}},dependencies:[u.sg,u.O5,T.R,L.a,P.j,w.y,U,G,te,ie],styles:[".custom-font-headers[_ngcontent-%COMP%]{font-size:1.4em!important;font-weight:700!important}.custom-pointer[_ngcontent-%COMP%]{font-size:1.03em!important;word-wrap:break-word;font-weight:700}.fila-seleccionada[_ngcontent-%COMP%]{background-color:#009331!important;color:#fff!important;font-weight:700!important;.nueva-especialidad {color: black !important;}}.custom-font[_ngcontent-%COMP%]{font-size:3em!important;font-weight:700!important}.custom-pointer[_ngcontent-%COMP%]{cursor:pointer}img[_ngcontent-%COMP%]{height:100px}.imagen-usuario[_ngcontent-%COMP%]{border-radius:100px;width:100px}.textarea[_ngcontent-%COMP%]{resize:none;height:100%}.nueva-especialidad[_ngcontent-%COMP%]{color:red;font-weight:bolder;font-size:1.03em}.columna[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center!important}.entrada[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slide-in-top .5s cubic-bezier(.25,.46,.45,.94) both}@keyframes _ngcontent-%COMP%_slide-in-top{0%{transform:translateY(-1000px);opacity:0}to{transform:translateY(0);opacity:1}}"]}),i})()}];let le=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[g.Bz.forChild(ce),g.Bz]}),i})();var pe=a(4466);let ue=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[u.ez,le,pe.m]}),i})()}}]);