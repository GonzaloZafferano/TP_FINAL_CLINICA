"use strict";(self.webpackChunkTP_CLINICA=self.webpackChunkTP_CLINICA||[]).push([[179],{2313:(Lt,je,L)=>{L.d(je,{nm:()=>Un});var f=L(4976),he=(L(4650),L(3692),L(259),L(5861)),we=L(6881),Te=L(4859),Oe=L(2090),ge=L(1877);const re=new Map,ie={activated:!1,tokenObservers:[]},ne={initialized:!1,enabled:!1};function ke(xe){return re.get(xe)||Object.assign({},ie)}function We(){return ne}const ct="https://content-firebaseappcheck.googleapis.com/v1",et="exchangeDebugToken",mt={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class De{constructor(Re,Me,_t,Dt,cn){if(this.operation=Re,this.retryPolicy=Me,this.getWaitDuration=_t,this.lowerBound=Dt,this.upperBound=cn,this.pending=null,this.nextErrorWaitInterval=Dt,Dt>cn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Re){var Me=this;return(0,he.Z)(function*(){Me.stop();try{Me.pending=new Oe.BH,yield function st(xe){return new Promise(Re=>{setTimeout(Re,xe)})}(Me.getNextRun(Re)),Me.pending.resolve(),yield Me.pending.promise,Me.pending=new Oe.BH,yield Me.operation(),Me.pending.resolve(),yield Me.pending.promise,Me.process(!0).catch(()=>{})}catch(_t){Me.retryPolicy(_t)?Me.process(!1).catch(()=>{}):Me.stop()}})()}getNextRun(Re){if(Re)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Me=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Me}}}const yt=new Oe.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function kt(xe){if(!ke(xe).activated)throw yt.create("use-before-activation",{appName:xe.name})}function Cn(xe,Re){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,he.Z)(function*({url:xe,body:Re},Me){const _t={"Content-Type":"application/json"},Dt=Me.getImmediate({optional:!0});if(Dt){const ii=yield Dt.getHeartbeatsHeader();ii&&(_t["X-Firebase-Client"]=ii)}const cn={method:"POST",body:JSON.stringify(Re),headers:_t};let An,gn;try{An=yield fetch(xe,cn)}catch(ii){throw yt.create("fetch-network-error",{originalErrorMessage:ii?.message})}if(200!==An.status)throw yt.create("fetch-status-error",{httpStatus:An.status});try{gn=yield An.json()}catch(ii){throw yt.create("fetch-parse-error",{originalErrorMessage:ii?.message})}const Wn=gn.ttl.match(/^([\d.]+)(s)$/);if(!Wn||!Wn[2]||isNaN(Number(Wn[1])))throw yt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${gn.ttl}`});const Mi=1e3*Number(Wn[1]),mi=Date.now();return{token:gn.token,expireTimeMillis:mi+Mi,issuedAtTimeMillis:mi}})).apply(this,arguments)}function Ze(xe,Re){const{projectId:Me,appId:_t,apiKey:Dt}=xe.options;return{url:`${ct}/projects/${Me}/apps/${_t}:${et}?key=${Dt}`,body:{debug_token:Re}}}const ut="firebase-app-check-database",ft=1,bt="firebase-app-check-store";let vt=null;function Wt(xe,Re){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,he.Z)(function*(xe,Re){const _t=(yield function ze(){return vt||(vt=new Promise((xe,Re)=>{try{const Me=indexedDB.open(ut,ft);Me.onsuccess=_t=>{xe(_t.target.result)},Me.onerror=_t=>{var Dt;Re(yt.create("storage-open",{originalErrorMessage:null===(Dt=_t.target.error)||void 0===Dt?void 0:Dt.message}))},Me.onupgradeneeded=_t=>{0===_t.oldVersion&&_t.target.result.createObjectStore(bt,{keyPath:"compositeKey"})}}catch(Me){Re(yt.create("storage-open",{originalErrorMessage:Me?.message}))}}),vt)}()).transaction(bt,"readwrite"),cn=_t.objectStore(bt).put({compositeKey:xe,value:Re});return new Promise((An,gn)=>{cn.onsuccess=Wn=>{An()},_t.onerror=Wn=>{var Mi;gn(yt.create("storage-set",{originalErrorMessage:null===(Mi=Wn.target.error)||void 0===Mi?void 0:Mi.message}))}})})).apply(this,arguments)}const _n=new ge.Yd("@firebase/app-check");function bi(xe,Re){return(0,Oe.hl)()?function _e(xe,Re){return Wt(function Nn(xe){return`${xe.options.appId}-${xe.name}`}(xe),Re)}(xe,Re).catch(Me=>{_n.warn(`Failed to write token to IndexedDB. Error: ${Me}`)}):Promise.resolve()}function Yn(){return We().enabled}function ki(){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,he.Z)(function*(){const xe=We();if(xe.enabled&&xe.token)return xe.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const $i={error:"UNKNOWN_ERROR"};function dr(xe){return Oe.US.encodeString(JSON.stringify(xe),!1)}function Sn(xe){return en.apply(this,arguments)}function en(){return(en=(0,he.Z)(function*(xe,Re=!1){const Me=xe.app;kt(Me);const _t=ke(Me);let cn,Dt=_t.token;if(Dt&&!kn(Dt)&&(_t.token=void 0,Dt=void 0),!Dt){const Wn=yield _t.cachedTokenPromise;Wn&&(kn(Wn)?Dt=Wn:yield bi(Me,void 0))}if(!Re&&Dt&&kn(Dt))return{token:Dt.token};let gn,An=!1;if(Yn()){_t.exchangeTokenPromise||(_t.exchangeTokenPromise=Cn(Ze(Me,yield ki()),xe.heartbeatServiceProvider).finally(()=>{_t.exchangeTokenPromise=void 0}),An=!0);const Wn=yield _t.exchangeTokenPromise;return yield bi(Me,Wn),_t.token=Wn,{token:Wn.token}}try{_t.exchangeTokenPromise||(_t.exchangeTokenPromise=_t.provider.getToken().finally(()=>{_t.exchangeTokenPromise=void 0}),An=!0),Dt=yield ke(Me).exchangeTokenPromise}catch(Wn){"appCheck/throttled"===Wn.code?_n.warn(Wn.message):_n.error(Wn),cn=Wn}return Dt?cn?gn=kn(Dt)?{token:Dt.token,internalError:cn}:zt(cn):(gn={token:Dt.token},_t.token=Dt,yield bi(Me,Dt)):gn=zt(cn),An&&function br(xe,Re){const Me=ke(xe).tokenObservers;for(const _t of Me)try{"EXTERNAL"===_t.type&&null!=Re.error?_t.error(Re.error):_t.next(Re)}catch{}}(Me,gn),gn})).apply(this,arguments)}function hn(xe){return Si.apply(this,arguments)}function Si(){return(Si=(0,he.Z)(function*(xe){const Re=xe.app;kt(Re);const{provider:Me}=ke(Re);if(Yn()){const _t=yield ki(),{token:Dt}=yield Cn(Ze(Re,_t),xe.heartbeatServiceProvider);return{token:Dt}}{const{token:_t}=yield Me.getToken();return{token:_t}}})).apply(this,arguments)}function tr(xe,Re){const Me=ke(xe),_t=Me.tokenObservers.filter(Dt=>Dt.next!==Re);0===_t.length&&Me.tokenRefresher&&Me.tokenRefresher.isRunning()&&Me.tokenRefresher.stop(),Me.tokenObservers=_t}function fn(xe){const{app:Re}=xe,Me=ke(Re);let _t=Me.tokenRefresher;_t||(_t=function gr(xe){const{app:Re}=xe;return new De((0,he.Z)(function*(){let _t;if(_t=ke(Re).token?yield Sn(xe,!0):yield Sn(xe),_t.error)throw _t.error;if(_t.internalError)throw _t.internalError}),()=>!0,()=>{const Me=ke(Re);if(Me.token){let _t=Me.token.issuedAtTimeMillis+.5*(Me.token.expireTimeMillis-Me.token.issuedAtTimeMillis)+3e5;return _t=Math.min(_t,Me.token.expireTimeMillis-3e5),Math.max(0,_t-Date.now())}return 0},mt.RETRIAL_MIN_WAIT,mt.RETRIAL_MAX_WAIT)}(xe),Me.tokenRefresher=_t),!_t.isRunning()&&Me.isTokenAutoRefreshEnabled&&_t.start()}function kn(xe){return xe.expireTimeMillis-Date.now()>0}function zt(xe){return{token:dr($i),error:xe}}class wn{constructor(Re,Me){this.app=Re,this.heartbeatServiceProvider=Me}_delete(){const{tokenObservers:Re}=ke(this.app);for(const Me of Re)tr(this.app,Me.next);return Promise.resolve()}}const Gt="app-check-internal";!function ln(){(0,we._registerComponent)(new Te.wA("app-check",xe=>function kr(xe,Re){return new wn(xe,Re)}(xe.getProvider("app").getImmediate(),xe.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((xe,Re,Me)=>{xe.getProvider(Gt).initialize()})),(0,we._registerComponent)(new Te.wA(Gt,xe=>function dn(xe){return{getToken:Re=>Sn(xe,Re),getLimitedUseToken:()=>hn(xe),addTokenListener:Re=>function Kr(xe,Re,Me,_t){const{app:Dt}=xe,cn=ke(Dt);if(cn.tokenObservers=[...cn.tokenObservers,{next:Me,error:_t,type:Re}],cn.token&&kn(cn.token)){const gn=cn.token;Promise.resolve().then(()=>{Me({token:gn.token}),fn(xe)}).catch(()=>{})}cn.cachedTokenPromise.then(()=>fn(xe))}(xe,"INTERNAL",Re),removeTokenListener:Re=>tr(xe.app,Re)}}(xe.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,we.registerVersion)("@firebase/app-check","0.8.0")}();class Un{constructor(){return(0,f.vb)("app-check")}}typeof window<"u"&&window},3692:(Lt,je,L)=>{L.d(je,{Ot:()=>ue,ZF:()=>Fe,hX:()=>ke,z6:()=>he});var f=L(259),D=L(4650),B=L(4976);class ue{constructor(De){return De}}class he{constructor(){return(0,f.C6)()}}const Oe=new D.OlP("angularfire2._apps"),ge={provide:ue,useFactory:function Te(be){return be&&1===be.length?be[0]:new ue((0,f.Mq)())},deps:[[new D.FiY,Oe]]},re={provide:he,deps:[[new D.FiY,Oe]]};function ie(be){return(De,st)=>{const Ct=De.runOutsideAngular(()=>be(st));return new ue(Ct)}}let ne=(()=>{class be{constructor(st){(0,f.KN)("angularfire",B.q4.full,"core"),(0,f.KN)("angularfire",B.q4.full,"app"),(0,f.KN)("angular",D.q4F.full,st.toString())}}return be.\u0275fac=function(st){return new(st||be)(D.LFG(D.Lbi))},be.\u0275mod=D.oAB({type:be}),be.\u0275inj=D.cJS({providers:[ge,re]}),be})();function ke(be,...De){return{ngModule:ne,providers:[{provide:Oe,useFactory:ie(be),multi:!0,deps:[D.R0b,D.zs3,B.HU,...De]}]}}const Fe=(0,B.u3)(f.ZF,!0)},1205:(Lt,je,L)=>{L.d(je,{zQ:()=>gi,ww:()=>ot});var f=L(4650),D=L(7579),B=L(9646),ue=L(9751),he=L(8996),we=L(6451),Te=L(5363),Oe=L(3900),ge=L(4004),re=L(6063);class ie extends D.x{constructor(ut=1/0,ft=1/0,bt=re.l){super(),this._bufferSize=ut,this._windowTime=ft,this._timestampProvider=bt,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ft===1/0,this._bufferSize=Math.max(1,ut),this._windowTime=Math.max(1,ft)}next(ut){const{isStopped:ft,_buffer:bt,_infiniteTimeWindow:wt,_timestampProvider:vt,_windowTime:ze}=this;ft||(bt.push(ut),!wt&&bt.push(vt.now()+ze)),this._trimBuffer(),super.next(ut)}_subscribe(ut){this._throwIfClosed(),this._trimBuffer();const ft=this._innerSubscribe(ut),{_infiniteTimeWindow:bt,_buffer:wt}=this,vt=wt.slice();for(let ze=0;ze<vt.length&&!ut.closed;ze+=bt?1:2)ut.next(vt[ze]);return this._checkFinalizedStatuses(ut),ft}_trimBuffer(){const{_bufferSize:ut,_timestampProvider:ft,_buffer:bt,_infiniteTimeWindow:wt}=this,vt=(wt?1:2)*ut;if(ut<1/0&&vt<bt.length&&bt.splice(0,bt.length-vt),!wt){const ze=ft.now();let Pt=0;for(let _e=1;_e<bt.length&&bt[_e]<=ze;_e+=2)Pt=_e;Pt&&bt.splice(0,Pt+1)}}}var ne=L(3099);function ke(Ze,ut,ft){let bt,wt=!1;return Ze&&"object"==typeof Ze?({bufferSize:bt=1/0,windowTime:ut=1/0,refCount:wt=!1,scheduler:ft}=Ze):bt=Ze??1/0,(0,ne.B)({connector:()=>new ie(bt,ut,ft),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:wt})}var ce=L(590),We=L(576);function ct(Ze,ut){return(0,We.m)(ut)?(0,Oe.w)(()=>Ze,ut):(0,Oe.w)(()=>Ze)}var Fe=L(9468),Ge=L(9300),et=L(4976),mt=L(2011),be=L(6895),De=L(2313),st=L(9260);const yt=new f.OlP("angularfire2.auth.use-emulator"),$e=new f.OlP("angularfire2.auth.settings"),kt=new f.OlP("angularfire2.auth.tenant-id"),Qt=new f.OlP("angularfire2.auth.langugage-code"),Tt=new f.OlP("angularfire2.auth.use-device-language"),Cn=new f.OlP("angularfire.auth.persistence");let gi=(()=>{class Ze{constructor(ft,bt,wt,vt,ze,Pt,_e,Be,at,Wt,Rn,Xn){const ir=new D.x,Nn=(0,B.of)(void 0).pipe((0,Te.Q)(ze.outsideAngular),(0,Oe.w)(()=>vt.runOutsideAngular(()=>L.e(568).then(L.bind(L,9568)))),(0,ge.U)(()=>(0,mt.on)(ft,vt,bt)),(0,ge.U)(_n=>((Ze,ut,ft,bt,wt,vt,ze,Pt)=>(0,mt.cc)(`${Ze.name}.auth`,"AngularFireAuth",Ze.name,()=>{const _e=ut.runOutsideAngular(()=>Ze.auth());if(ft&&_e.useEmulator(...ft),bt&&(_e.tenantId=bt),_e.languageCode=wt,vt&&_e.useDeviceLanguage(),ze)for(const[Be,at]of Object.entries(ze))_e.settings[Be]=at;return Pt&&_e.setPersistence(Pt),_e},[ft,bt,wt,vt,ze,Pt]))(_n,vt,Pt,Be,at,Wt,_e,Rn)),ke({bufferSize:1,refCount:!1}));if((0,be.PM)(wt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,B.of)(null);else{Nn.pipe((0,ce.P)()).subscribe();const Mr=Nn.pipe((0,Oe.w)(Mn=>Mn.getRedirectResult().then(xt=>xt,()=>null)),et.iC,ke({bufferSize:1,refCount:!1})),Qr=Nn.pipe((0,Oe.w)(Mn=>new ue.y(xt=>({unsubscribe:vt.runOutsideAngular(()=>Mn.onAuthStateChanged(Yn=>xt.next(Yn),Yn=>xt.error(Yn),()=>xt.complete()))})))),bi=Nn.pipe((0,Oe.w)(Mn=>new ue.y(xt=>({unsubscribe:vt.runOutsideAngular(()=>Mn.onIdTokenChanged(Yn=>xt.next(Yn),Yn=>xt.error(Yn),()=>xt.complete()))}))));this.authState=Mr.pipe(ct(Qr),(0,Fe.R)(ze.outsideAngular),(0,Te.Q)(ze.insideAngular)),this.user=Mr.pipe(ct(bi),(0,Fe.R)(ze.outsideAngular),(0,Te.Q)(ze.insideAngular)),this.idToken=this.user.pipe((0,Oe.w)(Mn=>Mn?(0,he.D)(Mn.getIdToken()):(0,B.of)(null))),this.idTokenResult=this.user.pipe((0,Oe.w)(Mn=>Mn?(0,he.D)(Mn.getIdTokenResult()):(0,B.of)(null))),this.credential=(0,we.T)(Mr,ir,this.authState.pipe((0,Ge.h)(Mn=>!Mn))).pipe((0,ge.U)(Mn=>Mn?.user?Mn:null),(0,Fe.R)(ze.outsideAngular),(0,Te.Q)(ze.insideAngular))}return(0,mt.pX)(this,Nn,vt,{spy:{apply:(_n,Mr,Qr)=>{(_n.startsWith("signIn")||_n.startsWith("createUser"))&&Qr.then(bi=>ir.next(bi))}}})}}return Ze.\u0275fac=function(ft){return new(ft||Ze)(f.LFG(mt.Dh),f.LFG(mt.xv,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(et.HU),f.LFG(yt,8),f.LFG($e,8),f.LFG(kt,8),f.LFG(Qt,8),f.LFG(Tt,8),f.LFG(Cn,8),f.LFG(De.nm,8))},Ze.\u0275prov=f.Yz7({token:Ze,factory:Ze.\u0275fac,providedIn:"any"}),Ze})(),ot=(()=>{class Ze{constructor(){st.Z.registerVersion("angularfire",et.q4.full,"auth-compat")}}return Ze.\u0275fac=function(ft){return new(ft||Ze)},Ze.\u0275mod=f.oAB({type:Ze}),Ze.\u0275inj=f.cJS({providers:[gi]}),Ze})()},2011:(Lt,je,L)=>{L.d(je,{Dh:()=>Oe,GT:()=>we,cc:()=>ce,hO:()=>ke,on:()=>re,pX:()=>he,xv:()=>ge});var f=L(4650),D=L(9260),B=L(4976);Lt=L.hmd(Lt);const ue=["ngOnDestroy"],he=(Ge,et,mt,be={})=>new Proxy(Ge,{get:(De,st)=>mt.runOutsideAngular(()=>{var Ct;if(Ge[st])return!(null===(Ct=be?.spy)||void 0===Ct)&&Ct.get&&be.spy.get(st,Ge[st]),Ge[st];if(ue.indexOf(st)>-1)return()=>{};const yt=et.toPromise().then($e=>{const kt=$e&&$e[st];return"function"==typeof kt?kt.bind($e):kt&&kt.then?kt.then(Qt=>mt.run(()=>Qt)):mt.run(()=>kt)});return new Proxy(()=>{},{get:($e,kt)=>yt[kt],apply:($e,kt,Qt)=>yt.then(Tt=>{var Cn;const Ut=Tt&&Tt(...Qt);return!(null===(Cn=be?.spy)||void 0===Cn)&&Cn.apply&&be.spy.apply(st,Qt,Ut),Ut})})})}),we=(Ge,et)=>{et.forEach(mt=>{Object.getOwnPropertyNames(mt.prototype||mt).forEach(be=>{Object.defineProperty(Ge.prototype,be,Object.getOwnPropertyDescriptor(mt.prototype||mt,be))})})};class Te{constructor(et){return et}}const Oe=new f.OlP("angularfire2.app.options"),ge=new f.OlP("angularfire2.app.name");function re(Ge,et,mt){const De="object"==typeof mt&&mt||{};De.name=De.name||"string"==typeof mt&&mt||"[DEFAULT]";const Ct=D.Z.apps.filter(yt=>yt&&yt.name===De.name)[0]||et.runOutsideAngular(()=>D.Z.initializeApp(Ge,De));try{JSON.stringify(Ge)!==JSON.stringify(Ct.options)&&ie("error",`${Ct.name} Firebase App already initialized with different options${Lt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Te(Ct)}const ie=(Ge,...et)=>{(0,f.X6Q)()&&typeof console<"u"&&console[Ge](...et)},ne={provide:Te,useFactory:re,deps:[Oe,f.R0b,[new f.FiY,ge]]};let ke=(()=>{class Ge{constructor(mt){D.Z.registerVersion("angularfire",B.q4.full,"core"),D.Z.registerVersion("angularfire",B.q4.full,"app-compat"),D.Z.registerVersion("angular",f.q4F.full,mt.toString())}static initializeApp(mt,be){return{ngModule:Ge,providers:[{provide:Oe,useValue:mt},{provide:ge,useValue:be}]}}}return Ge.\u0275fac=function(mt){return new(mt||Ge)(f.LFG(f.Lbi))},Ge.\u0275mod=f.oAB({type:Ge}),Ge.\u0275inj=f.cJS({providers:[ne]}),Ge})();function ce(Ge,et,mt,be,De){const[,st,Ct]=globalThis.\u0275AngularfireInstanceCache.find(yt=>yt[0]===Ge)||[];if(st)return function We(Ge,et){try{return Ge.toString()===et.toString()}catch{return Ge===et}}(De,Ct)||(Fe("error",`${et} was already initialized on the ${mt} Firebase App with different settings.${ct?" You may need to reload as Firebase is not HMR aware.":""}`),Fe("warn",{is:De,was:Ct})),st;{const yt=be();return globalThis.\u0275AngularfireInstanceCache.push([Ge,yt,De]),yt}}const ct=!!Lt.hot,Fe=(Ge,...et)=>{(0,f.X6Q)()&&typeof console<"u"&&console[Ge](...et)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},3132:(Lt,je,L)=>{L.d(je,{gg:()=>Yl,Um:()=>om,hJ:()=>Gv,BS:()=>um,oe:()=>K0,JU:()=>Y0,PL:()=>lm,ad:()=>cm,Xo:()=>Gf,Cm:()=>am,IO:()=>dm,pl:()=>Ed,r7:()=>_w,ar:()=>oE});var f=L(4976),D=L(4650),B=L(3692),ue=L(259);L(4322);class Oe{constructor(){return(0,f.vb)("auth")}}var Ot,kn=L(2313),zt=L(5861),wn=L(6881),kr=L(4859),dn=L(1877),Vn=L(2090),nr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},sr={},Xr=Xr||{},an=nr||self;function vr(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function me(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var Se="closure_uid_"+(1e9*Math.random()>>>0),pt=0;function qe(r,e,t){return r.call.apply(r.bind,arguments)}function Rt(r,e,t){if(!r)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,s),r.apply(e,a)}}return function(){return r.apply(e,arguments)}}function Ie(r,e,t){return(Ie=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?qe:Rt).apply(null,arguments)}function Ce(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),r.apply(this,s)}}function se(r,e){function t(){}t.prototype=e.prototype,r.$=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.ac=function(s,a,c){for(var p=Array(arguments.length-2),S=2;S<arguments.length;S++)p[S-2]=arguments[S];return e.prototype[a].apply(s,p)}}function Ae(){this.s=this.s,this.o=this.o}Ae.prototype.s=!1,Ae.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function pe(r){Object.prototype.hasOwnProperty.call(r,Se)&&r[Se]||(r[Se]=++pt)}(this)},Ae.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const At=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1};function rn(r){const e=r.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=r[s];return t}return[]}function Gn(r,e){for(let t=1;t<arguments.length;t++){const s=arguments[t];if(vr(s)){const a=r.length||0,c=s.length||0;r.length=a+c;for(let p=0;p<c;p++)r[a+p]=s[p]}else r.push(s)}}function Tn(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}Tn.prototype.h=function(){this.defaultPrevented=!0};var ei=function(){if(!an.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{an.addEventListener("test",()=>{},e),an.removeEventListener("test",()=>{},e)}catch{}return r}();function rt(r){return/^[\s\xa0]*$/.test(r)}function Ke(){var r=an.navigator;return r&&(r=r.userAgent)?r:""}function St(r){return-1!=Ke().indexOf(r)}function Gt(r){return Gt[" "](r),r}Gt[" "]=function(){};var eo,r,In=St("Opera"),Zt=St("Trident")||St("MSIE"),Un=St("Edge"),On=Un||Zt,Pr=St("Gecko")&&!(-1!=Ke().toLowerCase().indexOf("webkit")&&!St("Edge"))&&!(St("Trident")||St("MSIE"))&&!St("Edge"),Rr=-1!=Ke().toLowerCase().indexOf("webkit")&&!St("Edge");function Wi(){var r=an.document;return r?r.documentMode:void 0}e:{var Ki="",or=(r=Ke(),Pr?/rv:([^\);]+)(\)|;)/.exec(r):Un?/Edge\/([\d\.]+)/.exec(r):Zt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):Rr?/WebKit\/(\S+)/.exec(r):In?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(or&&(Ki=or?or[1]:""),Zt){var Vt=Wi();if(null!=Vt&&Vt>parseFloat(Ki)){eo=String(Vt);break e}}eo=Ki}var Zn=an.document&&Zt&&(Wi()||parseInt(eo,10))||void 0;function ci(r,e){if(Tn.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,s=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(Pr){e:{try{Gt(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:Ir[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&ci.$.h.call(this)}}se(ci,Tn);var Ir={2:"touch",3:"pen",4:"mouse"};ci.prototype.h=function(){ci.$.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var Ai="closure_listenable_"+(1e6*Math.random()|0),_r=0;function xe(r,e,t,s,a){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.la=a,this.key=++_r,this.fa=this.ia=!1}function Re(r){r.fa=!0,r.listener=null,r.proxy=null,r.src=null,r.la=null}function Me(r,e,t){for(const s in r)e.call(t,r[s],s,r)}function Dt(r){const e={};for(const t in r)e[t]=r[t];return e}const cn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function An(r,e){let t,s;for(let a=1;a<arguments.length;a++){for(t in s=arguments[a],s)r[t]=s[t];for(let c=0;c<cn.length;c++)t=cn[c],Object.prototype.hasOwnProperty.call(s,t)&&(r[t]=s[t])}}function gn(r){this.src=r,this.g={},this.h=0}function Wn(r,e){var t=e.type;if(t in r.g){var c,s=r.g[t],a=At(s,e);(c=0<=a)&&Array.prototype.splice.call(s,a,1),c&&(Re(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function Mi(r,e,t,s){for(var a=0;a<r.length;++a){var c=r[a];if(!c.fa&&c.listener==e&&c.capture==!!t&&c.la==s)return a}return-1}gn.prototype.add=function(r,e,t,s,a){var c=r.toString();(r=this.g[c])||(r=this.g[c]=[],this.h++);var p=Mi(r,e,s,a);return-1<p?(e=r[p],t||(e.ia=!1)):((e=new xe(e,this.src,c,!!s,a)).ia=t,r.push(e)),e};var mi="closure_lm_"+(1e6*Math.random()|0),ii={};function yi(r,e,t,s,a){if(s&&s.once)return wo(r,e,t,s,a);if(Array.isArray(e)){for(var c=0;c<e.length;c++)yi(r,e[c],t,s,a);return null}return t=Zr(t),r&&r[Ai]?r.O(e,t,me(s)?!!s.capture:!!s,a):ar(r,e,t,!1,s,a)}function ar(r,e,t,s,a,c){if(!e)throw Error("Invalid event type");var p=me(a)?!!a.capture:!!a,S=qr(r);if(S||(r[mi]=S=new gn(r)),(t=S.add(e,t,s,p,c)).proxy)return t;if(s=function es(){const e=$s;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=s,s.src=r,s.listener=t,r.addEventListener)ei||(a=p),void 0===a&&(a=!1),r.addEventListener(e.toString(),s,a);else if(r.attachEvent)r.attachEvent(qi(e.toString()),s);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(s)}return t}function wo(r,e,t,s,a){if(Array.isArray(e)){for(var c=0;c<e.length;c++)wo(r,e[c],t,s,a);return null}return t=Zr(t),r&&r[Ai]?r.P(e,t,me(s)?!!s.capture:!!s,a):ar(r,e,t,!0,s,a)}function Io(r,e,t,s,a){if(Array.isArray(e))for(var c=0;c<e.length;c++)Io(r,e[c],t,s,a);else s=me(s)?!!s.capture:!!s,t=Zr(t),r&&r[Ai]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=Mi(c=r.g[e],t,s,a))&&(Re(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete r.g[e],r.h--))):r&&(r=qr(r))&&(e=r.g[e.toString()],r=-1,e&&(r=Mi(e,t,s,a)),(t=-1<r?e[r]:null)&&os(t))}function os(r){if("number"!=typeof r&&r&&!r.fa){var e=r.src;if(e&&e[Ai])Wn(e.i,r);else{var t=r.type,s=r.proxy;e.removeEventListener?e.removeEventListener(t,s,r.capture):e.detachEvent?e.detachEvent(qi(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=qr(e))?(Wn(t,r),0==t.h&&(t.src=null,e[mi]=null)):Re(r)}}}function qi(r){return r in ii?ii[r]:ii[r]="on"+r}function $s(r,e){if(r.fa)r=!0;else{e=new ci(e,this);var t=r.listener,s=r.la||r.src;r.ia&&os(r),r=t.call(s,e)}return r}function qr(r){return(r=r[mi])instanceof gn?r:null}var qo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zr(r){return"function"==typeof r?r:(r[qo]||(r[qo]=function(e){return r.handleEvent(e)}),r[qo])}function ur(){Ae.call(this),this.i=new gn(this),this.S=this,this.J=null}function Sr(r,e){var t,s=r.J;if(s)for(t=[];s;s=s.J)t.push(s);if(r=r.S,s=e.type||e,"string"==typeof e)e=new Tn(e,r);else if(e instanceof Tn)e.target=e.target||r;else{var a=e;An(e=new Tn(s,r),a)}if(a=!0,t)for(var c=t.length-1;0<=c;c--){var p=e.g=t[c];a=ms(p,s,!0,e)&&a}if(a=ms(p=e.g=r,s,!0,e)&&a,a=ms(p,s,!1,e)&&a,t)for(c=0;c<t.length;c++)a=ms(p=e.g=t[c],s,!1,e)&&a}function ms(r,e,t,s){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,c=0;c<e.length;++c){var p=e[c];if(p&&!p.fa&&p.capture==t){var S=p.listener,U=p.la||p.src;p.ia&&Wn(r.i,p),a=!1!==S.call(U,s)&&a}}return a&&!s.defaultPrevented}se(ur,Ae),ur.prototype[Ai]=!0,ur.prototype.removeEventListener=function(r,e,t,s){Io(this,r,e,t,s)},ur.prototype.N=function(){if(ur.$.N.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],s=0;s<t.length;s++)Re(t[s]);delete r.g[e],r.h--}}this.J=null},ur.prototype.O=function(r,e,t,s){return this.i.add(String(r),e,!1,t,s)},ur.prototype.P=function(r,e,t,s){return this.i.add(String(r),e,!0,t,s)};var Fi=an.JSON.stringify;function Ps(){var r=Lo;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var to=new class Br{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new si,r=>r.reset());class si{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Zo(r){var e=1;r=r.split(":");const t=[];for(;0<e&&r.length;)t.push(r.shift()),e--;return r.length&&t.push(r.join(":")),t}function Fo(r){an.setTimeout(()=>{throw r},0)}let ys,no=!1,Lo=new class Hs{constructor(){this.h=this.g=null}add(e,t){const s=to.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}},Yo=()=>{const r=an.Promise.resolve(void 0);ys=()=>{r.then(ro)}};var ro=()=>{for(var r;r=Ps();){try{r.h.call(r.g)}catch(t){Fo(t)}var e=to;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}no=!1};function vs(r,e){ur.call(this),this.h=r||1,this.g=e||an,this.j=Ie(this.qb,this),this.l=Date.now()}function ca(r){r.ga=!1,r.T&&(r.g.clearTimeout(r.T),r.T=null)}function di(r,e,t){if("function"==typeof r)t&&(r=Ie(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=Ie(r.handleEvent,r)}return 2147483647<Number(e)?-1:an.setTimeout(r,e||0)}function Rs(r){r.g=di(()=>{r.g=null,r.i&&(r.i=!1,Rs(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}se(vs,ur),(Ot=vs.prototype).ga=!1,Ot.T=null,Ot.qb=function(){if(this.ga){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-r):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Sr(this,"tick"),this.ga&&(ca(this),this.start()))}},Ot.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ot.N=function(){vs.$.N.call(this),ca(this),delete this.g};class da extends Ae{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Rs(this)}N(){super.N(),this.g&&(an.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hi(r){Ae.call(this),this.h=r,this.g={}}se(Hi,Ae);var Vo=[];function Uo(r,e,t,s){Array.isArray(t)||(t&&(Vo[0]=t.toString()),t=Vo);for(var a=0;a<t.length;a++){var c=yi(e,t[a],s||r.handleEvent,!1,r.h||r);if(!c)break;r.g[c.key]=c}}function _s(r){Me(r.g,function(e,t){this.g.hasOwnProperty(t)&&os(e)},r),r.g={}}function vi(){this.g=!0}function Es(r,e,t,s){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ha(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var s=t[r];if(!(2>s.length)){var a=s[1];if(Array.isArray(a)&&!(1>a.length)){var c=a[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var p=1;p<a.length;p++)a[p]=""}}}return Fi(t)}catch{return e}}(r,t)+(s?" "+s:"")})}Hi.prototype.N=function(){Hi.$.N.call(this),_s(this)},Hi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},vi.prototype.Ea=function(){this.g=!1},vi.prototype.info=function(){};var Li={},so=null;function Os(){return so=so||new ur}function Ua(r){Tn.call(this,Li.Ta,r)}function ws(r){const e=Os();Sr(e,new Ua(e))}function oo(r,e){Tn.call(this,Li.STAT_EVENT,r),this.stat=e}function Kn(r){const e=Os();Sr(e,new oo(e,r))}function Ws(r,e){Tn.call(this,Li.Ua,r),this.size=e}function Is(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return an.setTimeout(function(){r()},e)}Li.Ta="serverreachability",se(Ua,Tn),Li.STAT_EVENT="statevent",se(oo,Tn),Li.Ua="timingevent",se(Ws,Tn);var jr={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},xs={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function as(){}function Qo(){}as.prototype.h=null;var ao,Zi={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function hi(){Tn.call(this,"d")}function oi(){Tn.call(this,"c")}function Pi(){}function Do(r,e,t,s){this.l=r,this.j=e,this.m=t,this.W=s||1,this.U=new Hi(this),this.P=us,this.V=new vs(r=On?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new ti}function ti(){this.i=null,this.g="",this.h=!1}se(hi,Tn),se(oi,Tn),se(Pi,as),Pi.prototype.g=function(){return new XMLHttpRequest},Pi.prototype.i=function(){return{}},ao=new Pi;var us=45e3,Vi={},En={};function Co(r,e,t){r.L=1,r.v=Ri(ls(e)),r.s=t,r.S=!0,$(r,null)}function $(r,e){r.G=Date.now(),nt(r),r.A=ls(r.v);var t=r.A,s=r.W;Array.isArray(s)||(s=[String(s)]),Aa(t.i,"t",s),r.C=0,t=r.l.J,r.h=new ti,r.g=yu(r.l,t?e:null,!r.s),0<r.O&&(r.M=new da(Ie(r.Pa,r,r.g),r.O)),Uo(r.U,r.g,"readystatechange",r.nb),e=r.I?Dt(r.I):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ha(r.A,r.u,r.s,e)):(r.u="GET",r.g.ha(r.A,r.u,null,e)),ws(),function zs(r,e,t,s,a,c){r.info(function(){if(r.g)if(c)for(var p="",S=c.split("&"),U=0;U<S.length;U++){var W=S[U].split("=");if(1<W.length){var ee=W[0];W=W[1];var ve=ee.split("_");p=2<=ve.length&&"type"==ve[1]?p+(ee+"=")+W+"&":p+(ee+"=redacted&")}}else p=null;else p=c;return"XMLHTTP REQ ("+s+") [attempt "+a+"]: "+e+"\n"+t+"\n"+p})}(r.j,r.u,r.A,r.m,r.W,r.s)}function V(r){return!!r.g&&"GET"==r.u&&2!=r.L&&r.l.Ha}function x(r,e,t){let a,s=!0;for(;!r.J&&r.C<t.length;){if(a=J(r,t),a==En){4==e&&(r.o=4,Kn(14),s=!1),Es(r.j,r.m,null,"[Incomplete Response]");break}if(a==Vi){r.o=4,Kn(15),Es(r.j,r.m,t,"[Invalid Chunk]"),s=!1;break}Es(r.j,r.m,a,null),fi(r,a)}V(r)&&a!=En&&a!=Vi&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,Kn(16),s=!1),r.i=r.i&&s,s?0<t.length&&!r.ba&&(r.ba=!0,(e=r.l).g==r&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),na(e),e.M=!0,Kn(11))):(Es(r.j,r.m,t,"[Invalid Chunked Response]"),mn(r),it(r))}function J(r,e){var t=r.C,s=e.indexOf("\n",t);return-1==s?En:(t=Number(e.substring(t,s)),isNaN(t)?Vi:(s+=1)+t>e.length?En:(e=e.slice(s,s+t),r.C=s+t,e))}function nt(r){r.Y=Date.now()+r.P,tn(r,r.P)}function tn(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=Is(Ie(r.lb,r),e)}function $r(r){r.B&&(an.clearTimeout(r.B),r.B=null)}function it(r){0==r.l.H||r.J||_i(r.l,r)}function mn(r){$r(r);var e=r.M;e&&"function"==typeof e.sa&&e.sa(),r.M=null,ca(r.V),_s(r.U),r.g&&(e=r.g,r.g=null,e.abort(),e.sa())}function fi(r,e){try{var t=r.l;if(0!=t.H&&(t.g==r||$a(t.i,r)))if(!r.K&&$a(t.i,r)&&3==t.H){try{var s=t.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var a=s;if(0==a[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<r.G))break e;mu(t),Yi(t)}Lu(t),Kn(18)}}else t.Fa=a[1],0<t.Fa-t.V&&37500>a[2]&&t.G&&0==t.A&&!t.v&&(t.v=Is(Ie(t.ib,t),6e3));if(1>=ja(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Ei(t,11)}else if((r.K||t.g==r)&&mu(t),!rt(e))for(a=t.Ja.g.parse(e),e=0;e<a.length;e++){let W=a[e];if(t.V=W[0],W=W[1],2==t.H)if("c"==W[0]){t.K=W[1],t.pa=W[2];const ee=W[3];null!=ee&&(t.ra=ee,t.l.info("VER="+t.ra));const ve=W[4];null!=ve&&(t.Ga=ve,t.l.info("SVER="+t.Ga));const Qe=W[5];null!=Qe&&"number"==typeof Qe&&0<Qe&&(t.L=s=1.5*Qe,t.l.info("backChannelRequestTimeoutMs_="+s)),s=t;const Et=r.g;if(Et){const jt=Et.g?Et.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jt){var c=s.i;c.g||-1==jt.indexOf("spdy")&&-1==jt.indexOf("quic")&&-1==jt.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&(Ui(c,c.h),c.h=null))}if(s.F){const sn=Et.g?Et.g.getResponseHeader("X-HTTP-Session-Id"):null;sn&&(s.Da=sn,Bn(s.I,s.F,sn))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-r.G,t.l.info("Handshake RTT: "+t.S+"ms"));var p=r;if((s=t).wa=ra(s,s.J?s.pa:null,s.Y),p.K){Fs(s.i,p);var S=p,U=s.L;U&&S.setTimeout(U),S.B&&($r(S),nt(S)),s.g=p}else Qi(s);0<t.j.length&&ma(t)}else"stop"!=W[0]&&"close"!=W[0]||Ei(t,7);else 3==t.H&&("stop"==W[0]||"close"==W[0]?"stop"==W[0]?Ei(t,7):ji(t):"noop"!=W[0]&&t.h&&t.h.Aa(W),t.A=0)}ws()}catch{}}function To(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(vr(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var t=function Hr(r){if(r.ta&&"function"==typeof r.ta)return r.ta();if(!r.Z||"function"!=typeof r.Z){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(vr(r)||"string"==typeof r){var e=[];r=r.length;for(var t=0;t<r;t++)e.push(t);return e}e=[],t=0;for(const s in r)e[t++]=s;return e}}}(r),s=function Ds(r){if(r.Z&&"function"==typeof r.Z)return r.Z();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(vr(r)){for(var e=[],t=r.length,s=0;s<t;s++)e.push(r[s]);return e}for(s in e=[],t=0,r)e[t++]=r[s];return e}(r),a=s.length,c=0;c<a;c++)e.call(void 0,s[c],t&&t[c],r)}(Ot=Do.prototype).setTimeout=function(r){this.P=r},Ot.nb=function(r){r=r.target;const e=this.M;e&&3==jn(r)?e.l():this.Pa(r)},Ot.Pa=function(r){try{if(r==this.g)e:{const ee=jn(this.g);var e=this.g.Ia();if(this.g.da(),!(3>ee)&&(3!=ee||On||this.g&&(this.h.h||this.g.ja()||Lr(this.g)))){this.J||4!=ee||7==e||ws(),$r(this);var t=this.g.da();this.ca=t;t:if(V(this)){var s=Lr(this.g);r="";var a=s.length,c=4==jn(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){mn(this),it(this);var p="";break t}this.h.i=new an.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,r+=this.h.i.decode(s[e],{stream:c&&e==a-1});s.splice(0,a),this.h.g+=r,this.C=0,p=this.h.g}else p=this.g.ja();if(this.i=200==t,function io(r,e,t,s,a,c,p){r.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+c+" "+p})}(this.j,this.u,this.A,this.m,this.W,ee,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var S,U=this.g;if((S=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rt(S)){var W=S;break t}}W=null}if(!(t=W)){this.i=!1,this.o=3,Kn(12),mn(this),it(this);break e}Es(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fi(this,t)}this.S?(x(this,ee,p),On&&this.i&&3==ee&&(Uo(this.U,this.V,"tick",this.mb),this.V.start())):(Es(this.j,this.m,p,null),fi(this,p)),4==ee&&mn(this),this.i&&!this.J&&(4==ee?_i(this.l,this):(this.i=!1,nt(this)))}else(function hs(r){const e={};r=(r.g&&2<=jn(r)&&r.g.getAllResponseHeaders()||"").split("\r\n");for(let s=0;s<r.length;s++){if(rt(r[s]))continue;var t=Zo(r[s]);const a=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const c=e[a]||[];e[a]=c,c.push(t)}!function _t(r,e){for(const t in r)e.call(void 0,r[t],t,r)}(e,function(s){return s.join(", ")})})(this.g),400==t&&0<p.indexOf("Unknown SID")?(this.o=3,Kn(12)):(this.o=0,Kn(13)),mn(this),it(this)}}}catch{}},Ot.mb=function(){if(this.g){var r=jn(this.g),e=this.g.ja();this.C<e.length&&($r(this),x(this,r,e),this.i&&4!=r&&nt(this))}},Ot.cancel=function(){this.J=!0,mn(this)},Ot.lb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function Gs(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(ws(),Kn(17)),mn(this),this.o=2,it(this)):tn(this,this.Y-r)};var bo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ns(r){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof Ns){this.h=r.h,fa(this,r.j),this.s=r.s,this.g=r.g,ks(this,r.m),this.l=r.l;var e=r.i,t=new lo;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),uo(this,t),this.o=r.o}else r&&(e=String(r).match(bo))?(this.h=!1,fa(this,e[1]||"",!0),this.s=cs(e[2]||""),this.g=cs(e[3]||"",!0),ks(this,e[4]),this.l=cs(e[5]||"",!0),uo(this,e[6]||"",!0),this.o=cs(e[7]||"")):(this.h=!1,this.i=new lo(null,this.h))}function ls(r){return new Ns(r)}function fa(r,e,t){r.j=t?cs(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function ks(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function uo(r,e,t){e instanceof lo?(r.i=e,function ea(r,e){e&&!r.j&&(bs(r),r.i=null,r.g.forEach(function(t,s){var a=s.toLowerCase();s!=a&&(Jo(this,s),Aa(this,a,t))},r)),r.j=e}(r.i,r.h)):(t||(e=ds(e,gu)),r.i=new lo(e,r.h))}function Bn(r,e,t){r.i.set(e,t)}function Ri(r){return Bn(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function cs(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function ds(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,Ts),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function Ts(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}Ns.prototype.toString=function(){var r=[],e=this.j;e&&r.push(ds(e,Sa,!0),":");var t=this.g;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(ds(e,Sa,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&r.push("/"),r.push(ds(t,"/"==t.charAt(0)?So:Ks,!0))),(t=this.i.toString())&&r.push("?",t),(t=this.o)&&r.push("#",ds(t,ai)),r.join("")};var Sa=/[#\/\?@]/g,Ks=/[#\?:]/g,So=/[#\?]/g,gu=/[#\?@]/g,ai=/#/g;function lo(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function bs(r){r.g||(r.g=new Map,r.h=0,r.i&&function Cs(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var s=r[t].indexOf("="),a=null;if(0<=s){var c=r[t].substring(0,s);a=r[t].substring(s+1)}else c=r[t];e(c,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Jo(r,e){bs(r),e=ts(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function Xo(r,e){return bs(r),e=ts(r,e),r.g.has(e)}function Aa(r,e,t){Jo(r,e),0<t.length&&(r.i=null,r.g.set(ts(r,e),rn(t)),r.h+=t.length)}function ts(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function qs(r){this.l=r||ta,r=an.PerformanceNavigationTiming?0<(r=an.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(an.g&&an.g.Ka&&an.g.Ka()&&an.g.Ka().ec),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ot=lo.prototype).add=function(r,e){bs(this),this.i=null,r=ts(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},Ot.forEach=function(r,e){bs(this),this.g.forEach(function(t,s){t.forEach(function(a){r.call(e,a,s,this)},this)},this)},Ot.ta=function(){bs(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let s=0;s<e.length;s++){const a=r[s];for(let c=0;c<a.length;c++)t.push(e[s])}return t},Ot.Z=function(r){bs(this);let e=[];if("string"==typeof r)Xo(this,r)&&(e=e.concat(this.g.get(ts(this,r))));else{r=Array.from(this.g.values());for(let t=0;t<r.length;t++)e=e.concat(r[t])}return e},Ot.set=function(r,e){return bs(this),this.i=null,Xo(this,r=ts(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},Ot.get=function(r,e){return r&&0<(r=this.Z(r)).length?String(r[0]):e},Ot.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var s=e[t];const c=encodeURIComponent(String(s)),p=this.Z(s);for(s=0;s<p.length;s++){var a=c;""!==p[s]&&(a+="="+encodeURIComponent(String(p[s]))),r.push(a)}}return this.i=r.join("&")};var ta=10;function Ba(r){return!!r.h||!!r.g&&r.g.size>=r.j}function ja(r){return r.h?1:r.g?r.g.size:0}function $a(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function Ui(r,e){r.g?r.g.add(e):r.h=e}function Fs(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function Or(r){if(null!=r.h)return r.i.concat(r.h.F);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.F);return e}return rn(r.i)}qs.prototype.cancel=function(){if(this.i=Or(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}};var Ma=class{stringify(r){return an.JSON.stringify(r,void 0)}parse(r){return an.JSON.parse(r,void 0)}};function jo(){this.g=new Ma}function Ha(r,e,t){const s=t||"";try{To(r,function(a,c){let p=a;me(a)&&(p=Fi(a)),e.push(s+c+"="+encodeURIComponent(p))})}catch(a){throw e.push(s+"type="+encodeURIComponent("_badmap")),a}}function pa(r,e,t,s,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(s)}catch{}}function Pa(r){this.l=r.fc||null,this.j=r.ob||!1}function Zs(r,e){ur.call(this),this.F=r,this.u=e,this.m=void 0,this.readyState=co,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}se(Pa,as),Pa.prototype.g=function(){return new Zs(this.l,this.j)},Pa.prototype.i=function(r){return function(){return r}}({}),se(Zs,ur);var co=0;function ga(r){r.j.read().then(r.Xa.bind(r)).catch(r.ka.bind(r))}function P(r){r.readyState=4,r.l=null,r.j=null,r.A=null,z(r)}function z(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(Ot=Zs.prototype).open=function(r,e){if(this.readyState!=co)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,z(this)},Ot.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.F||an).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ot.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,P(this)),this.readyState=co},Ot.$a=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,z(this)),this.g&&(this.readyState=3,z(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof an.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ga(this)}else r.text().then(this.Za.bind(this),this.ka.bind(this))},Ot.Xa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?P(this):z(this),3==this.readyState&&ga(this)}},Ot.Za=function(r){this.g&&(this.response=this.responseText=r,P(this))},Ot.Ya=function(r){this.g&&(this.response=r,P(this))},Ot.ka=function(){this.g&&P(this)},Ot.setRequestHeader=function(r,e){this.v.append(r,e)},Ot.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},Ot.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(Zs.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var F=an.JSON.parse;function Y(r){ur.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=fe,this.L=this.M=!1}se(Y,ur);var fe="",lt=/^https?$/i,It=["POST","PUT"];function er(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,rr(r),xn(r)}function rr(r){r.F||(r.F=!0,Sr(r,"complete"),Sr(r,"error"))}function hr(r){if(r.h&&typeof Xr<"u"&&(!r.C[1]||4!=jn(r)||2!=r.da()))if(r.v&&4==jn(r))di(r.La,0,r);else if(Sr(r,"readystatechange"),4==jn(r)){r.h=!1;try{const p=r.da();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===p){var a=String(r.I).match(bo)[1]||null;!a&&an.self&&an.self.location&&(a=an.self.location.protocol.slice(0,-1)),s=!lt.test(a?a.toLowerCase():"")}t=s}if(t)Sr(r,"complete"),Sr(r,"success");else{r.m=6;try{var c=2<jn(r)?r.g.statusText:""}catch{c=""}r.j=c+" ["+r.da()+"]",rr(r)}}finally{xn(r)}}}function xn(r,e){if(r.g){Fr(r);const t=r.g,s=r.C[0]?()=>{}:null;r.g=null,r.C=null,e||Sr(r,"ready");try{t.onreadystatechange=s}catch{}}}function Fr(r){r.g&&r.L&&(r.g.ontimeout=null),r.A&&(an.clearTimeout(r.A),r.A=null)}function jn(r){return r.g?r.g.readyState:0}function Lr(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.K){case fe:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function Oi(r){let e="";return Me(r,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}function mr(r,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=Oi(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):Bn(r,e,t))}function Vr(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function Bi(r){this.Ga=0,this.j=[],this.l=new vi,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Vr("failFast",!1,r),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Vr("baseRetryDelayMs",5e3,r),this.hb=Vr("retryDelaySeedMs",1e4,r),this.eb=Vr("forwardChannelMaxRetries",2,r),this.xa=Vr("forwardChannelRequestTimeoutMs",2e4,r),this.va=r&&r.xmlHttpFactory||void 0,this.Ha=r&&r.dc||!1,this.L=void 0,this.J=r&&r.supportsCrossDomainXhr||!1,this.K="",this.i=new qs(r&&r.concurrentRequestLimit),this.Ja=new jo,this.P=r&&r.fastHandshake||!1,this.O=r&&r.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=r&&r.bc||!1,r&&r.Ea&&this.l.Ea(),r&&r.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&r&&r.detectBufferingProxy||!1,this.qa=void 0,r&&r.longPollingTimeout&&0<r.longPollingTimeout&&(this.qa=r.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function ji(r){if(Ra(r),3==r.H){var e=r.W++,t=ls(r.I);if(Bn(t,"SID",r.K),Bn(t,"RID",e),Bn(t,"TYPE","terminate"),ya(r,t),(e=new Do(r,r.l,e)).L=2,e.v=Ri(ls(t)),t=!1,an.navigator&&an.navigator.sendBeacon)try{t=an.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&an.Image&&((new Image).src=e.v,t=!0),t||(e.g=yu(e.l,null),e.g.ha(e.v)),e.G=Date.now(),nt(e)}Vu(r)}function Yi(r){r.g&&(na(r),r.g.cancel(),r.g=null)}function Ra(r){Yi(r),r.u&&(an.clearTimeout(r.u),r.u=null),mu(r),r.i.cancel(),r.m&&("number"==typeof r.m&&an.clearTimeout(r.m),r.m=null)}function ma(r){if(!Ba(r.i)&&!r.m){r.m=!0;var e=r.Na;ys||Yo(),no||(ys(),no=!0),Lo.add(e,r),r.C=0}}function iu(r,e){var t;t=e?e.m:r.W++;const s=ls(r.I);Bn(s,"SID",r.K),Bn(s,"RID",t),Bn(s,"AID",r.V),ya(r,s),r.o&&r.s&&mr(s,r.o,r.s),t=new Do(r,r.l,t,r.C+1),null===r.o&&(t.I=r.s),e&&(r.j=e.F.concat(r.j)),e=Oa(r,t,1e3),t.setTimeout(Math.round(.5*r.xa)+Math.round(.5*r.xa*Math.random())),Ui(r.i,t),Co(t,s,e)}function ya(r,e){r.na&&Me(r.na,function(t,s){Bn(e,s,t)}),r.h&&To({},function(t,s){Bn(e,s,t)})}function Oa(r,e,t){t=Math.min(r.j.length,t);var s=r.h?Ie(r.h.Va,r.h,r):null;e:{var a=r.j;let c=-1;for(;;){const p=["count="+t];-1==c?0<t?(c=a[0].g,p.push("ofs="+c)):c=0:p.push("ofs="+c);let S=!0;for(let U=0;U<t;U++){let W=a[U].g;const ee=a[U].map;if(W-=c,0>W)c=Math.max(0,a[U].g-100),S=!1;else try{Ha(ee,p,"req"+W+"_")}catch{s&&s(ee)}}if(S){s=p.join("&");break e}}}return r=r.j.splice(0,t),e.F=r,s}function Qi(r){if(!r.g&&!r.u){r.ba=1;var e=r.Ma;ys||Yo(),no||(ys(),no=!0),Lo.add(e,r),r.A=0}}function Lu(r){return!(r.g||r.u||3<=r.A||(r.ba++,r.u=Is(Ie(r.Ma,r),xa(r,r.A)),r.A++,0))}function na(r){null!=r.B&&(an.clearTimeout(r.B),r.B=null)}function $o(r){r.g=new Do(r,r.l,"rpc",r.ba),null===r.o&&(r.g.I=r.s),r.g.O=0;var e=ls(r.wa);Bn(e,"RID","rpc"),Bn(e,"SID",r.K),Bn(e,"AID",r.V),Bn(e,"CI",r.G?"0":"1"),!r.G&&r.qa&&Bn(e,"TO",r.qa),Bn(e,"TYPE","xmlhttp"),ya(r,e),r.o&&r.s&&mr(e,r.o,r.s),r.L&&r.g.setTimeout(r.L);var t=r.g;r=r.pa,t.L=1,t.v=Ri(ls(e)),t.s=null,t.S=!0,$(t,r)}function mu(r){null!=r.v&&(an.clearTimeout(r.v),r.v=null)}function _i(r,e){var t=null;if(r.g==e){mu(r),na(r),r.g=null;var s=2}else{if(!$a(r.i,e))return;t=e.F,Fs(r.i,e),s=1}if(0!=r.H)if(e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.G;var a=r.C;Sr(s=Os(),new Ws(s,t)),ma(r)}else Qi(r);else if(3==(a=e.o)||0==a&&0<e.ca||!(1==s&&function Fu(r,e){return!(ja(r.i)>=r.i.j-(r.m?1:0)||(r.m?(r.j=e.F.concat(r.j),0):1==r.H||2==r.H||r.C>=(r.cb?0:r.eb)||(r.m=Is(Ie(r.Na,r,e),xa(r,r.C)),r.C++,0)))}(r,e)||2==s&&Lu(r)))switch(t&&0<t.length&&(e=r.i,e.i=e.i.concat(t)),a){case 1:Ei(r,5);break;case 4:Ei(r,10);break;case 3:Ei(r,6);break;default:Ei(r,2)}}function xa(r,e){let t=r.ab+Math.floor(Math.random()*r.hb);return r.isActive()||(t*=2),t*e}function Ei(r,e){if(r.l.info("Error code "+e),2==e){var t=null;r.h&&(t=null);var s=Ie(r.pb,r);t||(t=new Ns("//www.google.com/images/cleardot.gif"),an.location&&"http"==an.location.protocol||fa(t,"https"),Ri(t)),function ku(r,e){const t=new vi;if(an.Image){const s=new Image;s.onload=Ce(pa,t,s,"TestLoadImage: loaded",!0,e),s.onerror=Ce(pa,t,s,"TestLoadImage: error",!1,e),s.onabort=Ce(pa,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=Ce(pa,t,s,"TestLoadImage: timeout",!1,e),an.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=r}else e(!1)}(t.toString(),s)}else Kn(2);r.H=0,r.h&&r.h.za(e),Vu(r),Ra(r)}function Vu(r){if(r.H=0,r.ma=[],r.h){const e=Or(r.i);(0!=e.length||0!=r.j.length)&&(Gn(r.ma,e),Gn(r.ma,r.j),r.i.i.length=0,rn(r.j),r.j.length=0),r.h.ya()}}function ra(r,e,t){var s=t instanceof Ns?ls(t):new Ns(t);if(""!=s.g)e&&(s.g=e+"."+s.g),ks(s,s.m);else{var a=an.location;s=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var c=new Ns(null);s&&fa(c,s),e&&(c.g=e),a&&ks(c,a),t&&(c.l=t),s=c}return e=r.Da,(t=r.F)&&e&&Bn(s,t,e),Bn(s,"VER",r.ra),ya(r,s),s}function yu(r,e,t){if(e&&!r.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Y(t&&r.Ha&&!r.va?new Pa({ob:!0}):r.va)).Oa(r.J),e}function Na(){}function ui(){if(Zt&&!(10<=Number(Zn)))throw Error("Environmental error: no available transport.")}function Ss(r,e){ur.call(this),this.g=new Bi(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(r?r["X-WebChannel-Client-Profile"]=e.Ca:r={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=r,(r=e&&e.cc)&&!rt(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!rt(e)&&(this.g.F=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new fs(this)}function ni(r){hi.call(this),r.__headers__&&(this.headers=r.__headers__,this.statusCode=r.__status__,delete r.__headers__,delete r.__status__);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function vu(){oi.call(this),this.status=1}function fs(r){this.g=r}function xr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function ka(r,e,t){t||(t=0);var s=Array(16);if("string"==typeof e)for(var a=0;16>a;++a)s[a]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(a=0;16>a;++a)s[a]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var c=r.g[3],p=(e=r.g[0])+(c^(t=r.g[1])&((a=r.g[2])^c))+s[0]+3614090360&4294967295;p=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=t+(p<<7&4294967295|p>>>25))+((p=c+(a^e&(t^a))+s[1]+3905402710&4294967295)<<12&4294967295|p>>>20))+((p=a+(t^c&(e^t))+s[2]+606105819&4294967295)<<17&4294967295|p>>>15))+((p=t+(e^a&(c^e))+s[3]+3250441966&4294967295)<<22&4294967295|p>>>10))+((p=e+(c^t&(a^c))+s[4]+4118548399&4294967295)<<7&4294967295|p>>>25))+((p=c+(a^e&(t^a))+s[5]+1200080426&4294967295)<<12&4294967295|p>>>20))+((p=a+(t^c&(e^t))+s[6]+2821735955&4294967295)<<17&4294967295|p>>>15))+((p=t+(e^a&(c^e))+s[7]+4249261313&4294967295)<<22&4294967295|p>>>10))+((p=e+(c^t&(a^c))+s[8]+1770035416&4294967295)<<7&4294967295|p>>>25))+((p=c+(a^e&(t^a))+s[9]+2336552879&4294967295)<<12&4294967295|p>>>20))+((p=a+(t^c&(e^t))+s[10]+4294925233&4294967295)<<17&4294967295|p>>>15))+((p=t+(e^a&(c^e))+s[11]+2304563134&4294967295)<<22&4294967295|p>>>10))+((p=e+(c^t&(a^c))+s[12]+1804603682&4294967295)<<7&4294967295|p>>>25))+((p=c+(a^e&(t^a))+s[13]+4254626195&4294967295)<<12&4294967295|p>>>20))+((p=a+(t^c&(e^t))+s[14]+2792965006&4294967295)<<17&4294967295|p>>>15))+((p=t+(e^a&(c^e))+s[15]+1236535329&4294967295)<<22&4294967295|p>>>10))+((p=e+(a^c&(t^a))+s[1]+4129170786&4294967295)<<5&4294967295|p>>>27))+((p=c+(t^a&(e^t))+s[6]+3225465664&4294967295)<<9&4294967295|p>>>23))+((p=a+(e^t&(c^e))+s[11]+643717713&4294967295)<<14&4294967295|p>>>18))+((p=t+(c^e&(a^c))+s[0]+3921069994&4294967295)<<20&4294967295|p>>>12))+((p=e+(a^c&(t^a))+s[5]+3593408605&4294967295)<<5&4294967295|p>>>27))+((p=c+(t^a&(e^t))+s[10]+38016083&4294967295)<<9&4294967295|p>>>23))+((p=a+(e^t&(c^e))+s[15]+3634488961&4294967295)<<14&4294967295|p>>>18))+((p=t+(c^e&(a^c))+s[4]+3889429448&4294967295)<<20&4294967295|p>>>12))+((p=e+(a^c&(t^a))+s[9]+568446438&4294967295)<<5&4294967295|p>>>27))+((p=c+(t^a&(e^t))+s[14]+3275163606&4294967295)<<9&4294967295|p>>>23))+((p=a+(e^t&(c^e))+s[3]+4107603335&4294967295)<<14&4294967295|p>>>18))+((p=t+(c^e&(a^c))+s[8]+1163531501&4294967295)<<20&4294967295|p>>>12))+((p=e+(a^c&(t^a))+s[13]+2850285829&4294967295)<<5&4294967295|p>>>27))+((p=c+(t^a&(e^t))+s[2]+4243563512&4294967295)<<9&4294967295|p>>>23))+((p=a+(e^t&(c^e))+s[7]+1735328473&4294967295)<<14&4294967295|p>>>18))+((p=t+(c^e&(a^c))+s[12]+2368359562&4294967295)<<20&4294967295|p>>>12))+((p=e+(t^a^c)+s[5]+4294588738&4294967295)<<4&4294967295|p>>>28))+((p=c+(e^t^a)+s[8]+2272392833&4294967295)<<11&4294967295|p>>>21))+((p=a+(c^e^t)+s[11]+1839030562&4294967295)<<16&4294967295|p>>>16))+((p=t+(a^c^e)+s[14]+4259657740&4294967295)<<23&4294967295|p>>>9))+((p=e+(t^a^c)+s[1]+2763975236&4294967295)<<4&4294967295|p>>>28))+((p=c+(e^t^a)+s[4]+1272893353&4294967295)<<11&4294967295|p>>>21))+((p=a+(c^e^t)+s[7]+4139469664&4294967295)<<16&4294967295|p>>>16))+((p=t+(a^c^e)+s[10]+3200236656&4294967295)<<23&4294967295|p>>>9))+((p=e+(t^a^c)+s[13]+681279174&4294967295)<<4&4294967295|p>>>28))+((p=c+(e^t^a)+s[0]+3936430074&4294967295)<<11&4294967295|p>>>21))+((p=a+(c^e^t)+s[3]+3572445317&4294967295)<<16&4294967295|p>>>16))+((p=t+(a^c^e)+s[6]+76029189&4294967295)<<23&4294967295|p>>>9))+((p=e+(t^a^c)+s[9]+3654602809&4294967295)<<4&4294967295|p>>>28))+((p=c+(e^t^a)+s[12]+3873151461&4294967295)<<11&4294967295|p>>>21))+((p=a+(c^e^t)+s[15]+530742520&4294967295)<<16&4294967295|p>>>16))+((p=t+(a^c^e)+s[2]+3299628645&4294967295)<<23&4294967295|p>>>9))+((p=e+(a^(t|~c))+s[0]+4096336452&4294967295)<<6&4294967295|p>>>26))+((p=c+(t^(e|~a))+s[7]+1126891415&4294967295)<<10&4294967295|p>>>22))+((p=a+(e^(c|~t))+s[14]+2878612391&4294967295)<<15&4294967295|p>>>17))+((p=t+(c^(a|~e))+s[5]+4237533241&4294967295)<<21&4294967295|p>>>11))+((p=e+(a^(t|~c))+s[12]+1700485571&4294967295)<<6&4294967295|p>>>26))+((p=c+(t^(e|~a))+s[3]+2399980690&4294967295)<<10&4294967295|p>>>22))+((p=a+(e^(c|~t))+s[10]+4293915773&4294967295)<<15&4294967295|p>>>17))+((p=t+(c^(a|~e))+s[1]+2240044497&4294967295)<<21&4294967295|p>>>11))+((p=e+(a^(t|~c))+s[8]+1873313359&4294967295)<<6&4294967295|p>>>26))+((p=c+(t^(e|~a))+s[15]+4264355552&4294967295)<<10&4294967295|p>>>22))+((p=a+(e^(c|~t))+s[6]+2734768916&4294967295)<<15&4294967295|p>>>17))+((p=t+(c^(a|~e))+s[13]+1309151649&4294967295)<<21&4294967295|p>>>11))+((c=(e=t+((p=e+(a^(t|~c))+s[4]+4149444226&4294967295)<<6&4294967295|p>>>26))+((p=c+(t^(e|~a))+s[11]+3174756917&4294967295)<<10&4294967295|p>>>22))^((a=c+((p=a+(e^(c|~t))+s[2]+718787259&4294967295)<<15&4294967295|p>>>17))|~e))+s[9]+3951481745&4294967295,r.g[0]=r.g[0]+e&4294967295,r.g[1]=r.g[1]+(a+(p<<21&4294967295|p>>>11))&4294967295,r.g[2]=r.g[2]+a&4294967295,r.g[3]=r.g[3]+c&4294967295}function lr(r,e){this.h=e;for(var t=[],s=!0,a=r.length-1;0<=a;a--){var c=0|r[a];s&&c==e||(t[a]=c,s=!1)}this.g=t}(Ot=Y.prototype).Oa=function(r){this.M=r},Ot.ha=function(r,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+r);e=e?e.toUpperCase():"GET",this.I=r,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ao.g(),this.C=function Er(r){return r.h||(r.h=r.i())}(this.u?this.u:ao),this.g.onreadystatechange=Ie(this.La,this);try{this.G=!0,this.g.open(e,String(r),!0),this.G=!1}catch(c){return void er(this,c)}if(r=t||"",t=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var a in s)t.set(a,s[a]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const c of s.keys())t.set(c,s.get(c))}s=Array.from(t.keys()).find(c=>"content-type"==c.toLowerCase()),a=an.FormData&&r instanceof an.FormData,!(0<=At(It,e))||s||a||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,p]of t)this.g.setRequestHeader(c,p);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Fr(this),0<this.B&&((this.L=function nn(r){return Zt&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ie(this.ua,this)):this.A=di(this.ua,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(c){er(this,c)}},Ot.ua=function(){typeof Xr<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Sr(this,"timeout"),this.abort(8))},Ot.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,Sr(this,"complete"),Sr(this,"abort"),xn(this))},Ot.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),xn(this,!0)),Y.$.N.call(this)},Ot.La=function(){this.s||(this.G||this.v||this.l?hr(this):this.kb())},Ot.kb=function(){hr(this)},Ot.isActive=function(){return!!this.g},Ot.da=function(){try{return 2<jn(this)?this.g.status:-1}catch{return-1}},Ot.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ot.Wa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),F(e)}},Ot.Ia=function(){return this.m},Ot.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ot=Bi.prototype).ra=8,Ot.H=1,Ot.Na=function(r){if(this.m)if(this.m=null,1==this.H){if(!r){this.W=Math.floor(1e5*Math.random()),r=this.W++;const a=new Do(this,this.l,r);let c=this.s;if(this.U&&(c?(c=Dt(c),An(c,this.U)):c=this.U),null!==this.o||this.O||(a.I=c,c=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var s=this.j[t];if(void 0===(s="__data__"in s.map&&"string"==typeof(s=s.map.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Oa(this,a,e),Bn(t=ls(this.I),"RID",r),Bn(t,"CVER",22),this.F&&Bn(t,"X-HTTP-Session-Id",this.F),ya(this,t),c&&(this.O?e="headers="+encodeURIComponent(String(Oi(c)))+"&"+e:this.o&&mr(t,this.o,c)),Ui(this.i,a),this.bb&&Bn(t,"TYPE","init"),this.P?(Bn(t,"$req",e),Bn(t,"SID","null"),a.aa=!0,Co(a,t,null)):Co(a,t,e),this.H=2}}else 3==this.H&&(r?iu(this,r):0==this.j.length||Ba(this.i)||iu(this))},Ot.Ma=function(){if(this.u=null,$o(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var r=2*this.S;this.l.info("BP detection timer enabled: "+r),this.B=Is(Ie(this.jb,this),r)}},Ot.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Kn(10),Yi(this),$o(this))},Ot.ib=function(){null!=this.v&&(this.v=null,Yi(this),Lu(this),Kn(19))},Ot.pb=function(r){r?(this.l.info("Successfully pinged google.com"),Kn(2)):(this.l.info("Failed to ping google.com"),Kn(1))},Ot.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ot=Na.prototype).Ba=function(){},Ot.Aa=function(){},Ot.za=function(){},Ot.ya=function(){},Ot.isActive=function(){return!0},Ot.Va=function(){},ui.prototype.g=function(r,e){return new Ss(r,e)},se(Ss,ur),Ss.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var r=this.g,e=this.l,t=this.h||void 0;Kn(0),r.Y=e,r.na=t||{},r.G=r.aa,r.I=ra(r,null,r.Y),ma(r)},Ss.prototype.close=function(){ji(this.g)},Ss.prototype.u=function(r){var e=this.g;if("string"==typeof r){var t={};t.__data__=r,r=t}else this.v&&((t={}).__data__=Fi(r),r=t);e.j.push(new class{constructor(r,e){this.g=r,this.map=e}}(e.fb++,r)),3==e.H&&ma(e)},Ss.prototype.N=function(){this.g.h=null,delete this.j,ji(this.g),delete this.g,Ss.$.N.call(this)},se(ni,hi),se(vu,oi),se(fs,Na),fs.prototype.Ba=function(){Sr(this.g,"a")},fs.prototype.Aa=function(r){Sr(this.g,new ni(r))},fs.prototype.za=function(r){Sr(this.g,new vu)},fs.prototype.ya=function(){Sr(this.g,"b")},se(xr,function ia(){this.blockSize=-1}),xr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},xr.prototype.j=function(r,e){void 0===e&&(e=r.length);for(var t=e-this.blockSize,s=this.m,a=this.h,c=0;c<e;){if(0==a)for(;c<=t;)ka(this,r,c),c+=this.blockSize;if("string"==typeof r){for(;c<e;)if(s[a++]=r.charCodeAt(c++),a==this.blockSize){ka(this,s),a=0;break}}else for(;c<e;)if(s[a++]=r[c++],a==this.blockSize){ka(this,s),a=0;break}}this.h=a,this.i+=e},xr.prototype.l=function(){var r=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);r[0]=128;for(var e=1;e<r.length-8;++e)r[e]=0;var t=8*this.i;for(e=r.length-8;e<r.length;++e)r[e]=255&t,t/=256;for(this.j(r),r=Array(16),e=t=0;4>e;++e)for(var s=0;32>s;s+=8)r[t++]=this.g[e]>>>s&255;return r};var va={};function za(r){return-128<=r&&128>r?function ln(r,e){var t=va;return Object.prototype.hasOwnProperty.call(t,r)?t[r]:t[r]=e(r)}(r,function(e){return new lr([0|e],0>e?-1:0)}):new lr([0|r],0>r?-1:0)}function pi(r){if(isNaN(r)||!isFinite(r))return Dr;if(0>r)return ns(pi(-r));for(var e=[],t=1,s=0;r>=t;s++)e[s]=r/t|0,t*=Ea;return new lr(e,0)}var Ea=4294967296,Dr=za(0),ho=za(1),Ga=za(16777216);function fo(r){if(0!=r.h)return!1;for(var e=0;e<r.g.length;e++)if(0!=r.g[e])return!1;return!0}function wi(r){return-1==r.h}function ns(r){for(var e=r.g.length,t=[],s=0;s<e;s++)t[s]=~r.g[s];return new lr(t,~r.h).add(ho)}function _u(r,e){return r.add(ns(e))}function Cr(r,e){for(;(65535&r[e])!=r[e];)r[e+1]+=r[e]>>>16,r[e]&=65535,e++}function wa(r,e){this.g=r,this.h=e}function su(r,e){if(fo(e))throw Error("division by zero");if(fo(r))return new wa(Dr,Dr);if(wi(r))return e=su(ns(r),e),new wa(ns(e.g),ns(e.h));if(wi(e))return e=su(r,ns(e)),new wa(ns(e.g),e.h);if(30<r.g.length){if(wi(r)||wi(e))throw Error("slowDivide_ only works with positive integers.");for(var t=ho,s=e;0>=s.X(r);)t=_l(t),s=_l(s);var a=Fa(t,1),c=Fa(s,1);for(s=Fa(s,2),t=Fa(t,2);!fo(s);){var p=c.add(s);0>=p.X(r)&&(a=a.add(t),c=p),s=Fa(s,1),t=Fa(t,1)}return e=_u(r,a.R(e)),new wa(a,e)}for(a=Dr;0<=r.X(e);){for(t=Math.max(1,Math.floor(r.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,s-48),p=(c=pi(t)).R(e);wi(p)||0<p.X(r);)p=(c=pi(t-=s)).R(e);fo(c)&&(c=ho),a=a.add(c),r=_u(r,p)}return new wa(a,r)}function _l(r){for(var e=r.g.length+1,t=[],s=0;s<e;s++)t[s]=r.D(s)<<1|r.D(s-1)>>>31;return new lr(t,r.h)}function Fa(r,e){var t=e>>5;e%=32;for(var s=r.g.length-t,a=[],c=0;c<s;c++)a[c]=0<e?r.D(c+t)>>>e|r.D(c+t+1)<<32-e:r.D(c+t);return new lr(a,r.h)}(Ot=lr.prototype).ea=function(){if(wi(this))return-ns(this).ea();for(var r=0,e=1,t=0;t<this.g.length;t++){var s=this.D(t);r+=(0<=s?s:Ea+s)*e,e*=Ea}return r},Ot.toString=function(r){if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if(fo(this))return"0";if(wi(this))return"-"+ns(this).toString(r);for(var e=pi(Math.pow(r,6)),t=this,s="";;){var a=su(t,e).g,c=((0<(t=_u(t,a.R(e))).g.length?t.g[0]:t.h)>>>0).toString(r);if(fo(t=a))return c+s;for(;6>c.length;)c="0"+c;s=c+s}},Ot.D=function(r){return 0>r?0:r<this.g.length?this.g[r]:this.h},Ot.X=function(r){return wi(r=_u(this,r))?-1:fo(r)?0:1},Ot.abs=function(){return wi(this)?ns(this):this},Ot.add=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0,a=0;a<=e;a++){var c=s+(65535&this.D(a))+(65535&r.D(a)),p=(c>>>16)+(this.D(a)>>>16)+(r.D(a)>>>16);s=p>>>16,t[a]=(p&=65535)<<16|(c&=65535)}return new lr(t,-2147483648&t[t.length-1]?-1:0)},Ot.R=function(r){if(fo(this)||fo(r))return Dr;if(wi(this))return wi(r)?ns(this).R(ns(r)):ns(ns(this).R(r));if(wi(r))return ns(this.R(ns(r)));if(0>this.X(Ga)&&0>r.X(Ga))return pi(this.ea()*r.ea());for(var e=this.g.length+r.g.length,t=[],s=0;s<2*e;s++)t[s]=0;for(s=0;s<this.g.length;s++)for(var a=0;a<r.g.length;a++){var c=this.D(s)>>>16,p=65535&this.D(s),S=r.D(a)>>>16,U=65535&r.D(a);t[2*s+2*a]+=p*U,Cr(t,2*s+2*a),t[2*s+2*a+1]+=c*U,Cr(t,2*s+2*a+1),t[2*s+2*a+1]+=p*S,Cr(t,2*s+2*a+1),t[2*s+2*a+2]+=c*S,Cr(t,2*s+2*a+2)}for(s=0;s<e;s++)t[s]=t[2*s+1]<<16|t[2*s];for(s=e;s<2*e;s++)t[s]=0;return new lr(t,0)},Ot.gb=function(r){return su(this,r).h},Ot.and=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)&r.D(s);return new lr(t,this.h&r.h)},Ot.or=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)|r.D(s);return new lr(t,this.h|r.h)},Ot.xor=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)^r.D(s);return new lr(t,this.h^r.h)},ui.prototype.createWebChannel=ui.prototype.g,Ss.prototype.send=Ss.prototype.u,Ss.prototype.open=Ss.prototype.m,Ss.prototype.close=Ss.prototype.close,jr.NO_ERROR=0,jr.TIMEOUT=8,jr.HTTP_ERROR=6,xs.COMPLETE="complete",Qo.EventType=Zi,Zi.OPEN="a",Zi.CLOSE="b",Zi.ERROR="c",Zi.MESSAGE="d",ur.prototype.listen=ur.prototype.O,Y.prototype.listenOnce=Y.prototype.P,Y.prototype.getLastError=Y.prototype.Sa,Y.prototype.getLastErrorCode=Y.prototype.Ia,Y.prototype.getStatus=Y.prototype.da,Y.prototype.getResponseJson=Y.prototype.Wa,Y.prototype.getResponseText=Y.prototype.ja,Y.prototype.send=Y.prototype.ha,Y.prototype.setWithCredentials=Y.prototype.Oa,xr.prototype.digest=xr.prototype.l,xr.prototype.reset=xr.prototype.reset,xr.prototype.update=xr.prototype.j,lr.prototype.add=lr.prototype.add,lr.prototype.multiply=lr.prototype.R,lr.prototype.modulo=lr.prototype.gb,lr.prototype.compare=lr.prototype.X,lr.prototype.toNumber=lr.prototype.ea,lr.prototype.toString=lr.prototype.toString,lr.prototype.getBits=lr.prototype.D,lr.fromNumber=pi,lr.fromString=function _a(r,e){if(0==r.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==r.charAt(0))return ns(_a(r.substring(1),e));if(0<=r.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=pi(Math.pow(e,8)),s=Dr,a=0;a<r.length;a+=8){var c=Math.min(8,r.length-a),p=parseInt(r.substring(a,a+c),e);8>c?(c=pi(Math.pow(e,c)),s=s.R(c).add(pi(p))):s=(s=s.R(t)).add(pi(p))}return s};var El=sr.createWebChannelTransport=function(){return new ui},Eu=sr.getStatEventTarget=function(){return Os()},il=sr.ErrorCode=jr,sa=sr.EventType=xs,wl=sr.Event=Li,wu=sr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},R=sr.FetchXmlHttpFactory=Pa,m=sr.WebChannel=Qo,v=sr.XhrIo=Y,M=sr.Md5=xr,j=sr.Integer=lr;const Q="@firebase/firestore";class le{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}le.UNAUTHENTICATED=new le(null),le.GOOGLE_CREDENTIALS=new le("google-credentials-uid"),le.FIRST_PARTY=new le("first-party-uid"),le.MOCK_USER=new le("mock-user");let ye="9.22.1";const Ne=new dn.Yd("@firebase/firestore");function _(){return Ne.logLevel}function g(r,...e){if(Ne.logLevel<=dn.in.DEBUG){const t=e.map(H);Ne.debug(`Firestore (${ye}): ${r}`,...t)}}function b(r,...e){if(Ne.logLevel<=dn.in.ERROR){const t=e.map(H);Ne.error(`Firestore (${ye}): ${r}`,...t)}}function k(r,...e){if(Ne.logLevel<=dn.in.WARN){const t=e.map(H);Ne.warn(`Firestore (${ye}): ${r}`,...t)}}function H(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function G(r="Unexpected state"){const e=`FIRESTORE (${ye}) INTERNAL ASSERTION FAILED: `+r;throw b(e),new Error(e)}function ae(r,e){r||G()}function He(r,e){return r}const Ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Je extends Vn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Pn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class xi{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ri{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(le.UNAUTHENTICATED))}shutdown(){}}class zr{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Gr{constructor(e){this.t=e,this.currentUser=le.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let a=this.i;const c=W=>this.i!==a?(a=this.i,t(W)):Promise.resolve();let p=new Pn;this.o=()=>{this.i++,this.currentUser=this.u(),p.resolve(),p=new Pn,e.enqueueRetryable(()=>c(this.currentUser))};const S=()=>{const W=p;e.enqueueRetryable((0,zt.Z)(function*(){yield W.promise,yield c(s.currentUser)}))},U=W=>{g("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=W,this.auth.addAuthTokenListener(this.o),S()};this.t.onInit(W=>U(W)),setTimeout(()=>{if(!this.auth){const W=this.t.getImmediate({optional:!0});W?U(W):(g("FirebaseAuthCredentialsProvider","Auth not yet detected"),p.resolve(),p=new Pn)}},0),S()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(g("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ae("string"==typeof s.accessToken),new xi(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ae(null===e||"string"==typeof e),new le(e)}}class Ho{constructor(e,t,s){this.h=e,this.l=t,this.m=s,this.type="FirstParty",this.user=le.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Ao{constructor(e,t,s){this.h=e,this.l=t,this.m=s}getToken(){return Promise.resolve(new Ho(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(le.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ia{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Mo{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const s=c=>{null!=c.error&&g("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const p=c.token!==this.T;return this.T=c.token,g("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const a=c=>{g("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.I.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.I.getImmediate({optional:!0});c?a(c):g("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ae("string"==typeof t.token),this.T=t.token,new Ia(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ol(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}class Xt{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=ol(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<t&&(s+=e.charAt(a[c]%e.length))}return s}}function Nt(r,e){return r<e?-1:r>e?1:0}function bn(r,e,t){return r.length===e.length&&r.every((s,a)=>t(s,e[a]))}class Qn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Je(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Je(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Je(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Je(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Qn.fromMillis(Date.now())}static fromDate(e){return Qn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new Qn(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Nt(this.nanoseconds,e.nanoseconds):Nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Jt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Jt(e)}static min(){return new Jt(new Qn(0,0))}static max(){return new Jt(new Qn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class zi{constructor(e,t,s){void 0===t?t=0:t>e.length&&G(),void 0===s?s=e.length-t:s>e.length-t&&G(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===zi.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof zi?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const c=e.get(a),p=t.get(a);if(c<p)return-1;if(c>p)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Jn extends zi{construct(e,t,s){return new Jn(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Je(Ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new Jn(t)}static emptyPath(){return new Jn([])}}const Ii=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Di extends zi{construct(e,t,s){return new Di(e,t,s)}static isValidIdentifier(e){return Ii.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Di.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Di(["__name__"])}static fromServerFormat(e){const t=[];let s="",a=0;const c=()=>{if(0===s.length)throw new Je(Ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let p=!1;for(;a<e.length;){const S=e[a];if("\\"===S){if(a+1===e.length)throw new Je(Ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const U=e[a+1];if("\\"!==U&&"."!==U&&"`"!==U)throw new Je(Ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=U,a+=2}else"`"===S?(p=!p,a++):"."!==S||p?(s+=S,a++):(c(),a++)}if(c(),p)throw new Je(Ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Di(t)}static emptyPath(){return new Di([])}}class Kt{constructor(e){this.path=e}static fromPath(e){return new Kt(Jn.fromString(e))}static fromName(e){return new Kt(Jn.fromString(e).popFirst(5))}static empty(){return new Kt(Jn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Jn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Jn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Kt(new Jn(e.slice()))}}function Dd(r){return new Ls(r.readTime,r.key,-1)}class Ls{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Ls(Jt.min(),Kt.empty(),-1)}static max(){return new Ls(Jt.max(),Kt.empty(),-1)}}function Dl(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=Kt.comparator(r.documentKey,e.documentKey),0!==t?t:Nt(r.largestBatchId,e.largestBatchId))}const Bu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ql{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function oa(r){return Cl.apply(this,arguments)}function Cl(){return Cl=(0,zt.Z)(function*(r){if(r.code!==Ee.FAILED_PRECONDITION||r.message!==Bu)throw r;g("LocalStore","Unexpectedly lost primary lease")}),Cl.apply(this,arguments)}class Xe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&G(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Xe((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(t,c).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Xe?t:Xe.resolve(t)}catch(t){return Xe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Xe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Xe.reject(t)}static resolve(e){return new Xe((t,s)=>{t(e)})}static reject(e){return new Xe((t,s)=>{s(e)})}static waitFor(e){return new Xe((t,s)=>{let a=0,c=0,p=!1;e.forEach(S=>{++a,S.next(()=>{++c,p&&c===a&&t()},U=>s(U))}),p=!0,c===a&&t()})}static or(e){let t=Xe.resolve(!1);for(const s of e)t=t.next(a=>a?Xe.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,c)=>{s.push(t.call(this,a,c))}),this.waitFor(s)}static mapArray(e,t){return new Xe((s,a)=>{const c=e.length,p=new Array(c);let S=0;for(let U=0;U<c;U++){const W=U;t(e[W]).next(ee=>{p[W]=ee,++S,S===c&&s(p)},ee=>a(ee))}})}static doWhile(e,t){return new Xe((s,a)=>{const c=()=>{!0===e()?t().next(()=>{c()},a):s()};c()})}}function Da(r){return"IndexedDbTransactionError"===r.name}let Ys=(()=>{class r{constructor(t,s){this.previousValue=t,s&&(s.sequenceNumberHandler=a=>this.ot(a),this.ut=a=>s.writeSequenceNumber(a))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return r.ct=-1,r})();function Po(r){return null==r}function ou(r){return 0===r&&1/r==-1/0}function Bc(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function bu(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function ul(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class li{constructor(e,t){this.comparator=e,this.root=t||is.EMPTY}insert(e,t){return new li(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,is.BLACK,null,null))}remove(e){return new li(this.comparator,this.root.remove(e,this.comparator).copy(null,null,is.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(0===a)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Al(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Al(this.root,e,this.comparator,!1)}getReverseIterator(){return new Al(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Al(this.root,e,this.comparator,!0)}}class Al{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?s(e.key,t):1,t&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class is{constructor(e,t,s,a,c){this.key=e,this.value=t,this.color=s??is.RED,this.left=a??is.EMPTY,this.right=c??is.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,c){return new is(e??this.key,t??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,t,s),null):0===c?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return is.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return is.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,is.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,is.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw G();const e=this.left.check();if(e!==this.right.check())throw G();return e+(this.isRed()?0:1)}}is.EMPTY=null,is.RED=!0,is.BLACK=!1,is.EMPTY=new class{constructor(){this.size=0}get key(){throw G()}get value(){throw G()}get color(){throw G()}get left(){throw G()}get right(){throw G()}copy(r,e,t,s,a){return this}insert(r,e,t){return new is(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ci{constructor(e){this.comparator=e,this.data=new li(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Cd(this.data.getIterator())}getIteratorFrom(e){return new Cd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Ci)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=s.getNext().key;if(0!==this.comparator(a,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ci(this.comparator);return t.data=e,t}}class Cd{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Oo{constructor(e){this.fields=e,e.sort(Di.comparator)}static empty(){return new Oo([])}unionWith(e){let t=new Ci(Di.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Oo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return bn(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class Td extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Us{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Td("Invalid base64 string: "+a):a}}(e);return new Us(t)}static fromUint8Array(e){const t=function(s){let a="";for(let c=0;c<s.length;++c)a+=String.fromCharCode(s[c]);return a}(e);return new Us(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Us.EMPTY_BYTE_STRING=new Us("");const I=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function d(r){if(ae(!!r),"string"==typeof r){let e=0;const t=I.exec(r);if(ae(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:y(r.seconds),nanos:y(r.nanos)}}function y(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function T(r){return"string"==typeof r?Us.fromBase64String(r):Us.fromUint8Array(r)}function Z(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=r?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function te(r){const e=r.mapValue.fields.__previous_value__;return Z(e)?te(e):e}function Le(r){const e=d(r.mapValue.fields.__local_write_time__.timestampValue);return new Qn(e.seconds,e.nanos)}class ht{constructor(e,t,s,a,c,p,S,U,W){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=p,this.autoDetectLongPolling=S,this.longPollingOptions=U,this.useFetchStreams=W}}class Bt{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Bt("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Bt&&e.projectId===this.projectId&&e.database===this.database}}const qt={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Fn(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Z(r)?4:$c(r)?9007199254740991:10:G()}function Gi(r,e){if(r===e)return!0;const t=Fn(r);if(t!==Fn(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Le(r).isEqual(Le(e));case 3:return function(s,a){if("string"==typeof s.timestampValue&&"string"==typeof a.timestampValue&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const c=d(s.timestampValue),p=d(a.timestampValue);return c.seconds===p.seconds&&c.nanos===p.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return a=e,T(r.bytesValue).isEqual(T(a.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(s,a){return y(s.geoPointValue.latitude)===y(a.geoPointValue.latitude)&&y(s.geoPointValue.longitude)===y(a.geoPointValue.longitude)}(r,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return y(s.integerValue)===y(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const c=y(s.doubleValue),p=y(a.doubleValue);return c===p?ou(c)===ou(p):isNaN(c)&&isNaN(p)}return!1}(r,e);case 9:return bn(r.arrayValue.values||[],e.arrayValue.values||[],Gi);case 10:return function(s,a){const c=s.mapValue.fields||{},p=a.mapValue.fields||{};if(Bc(c)!==Bc(p))return!1;for(const S in c)if(c.hasOwnProperty(S)&&(void 0===p[S]||!Gi(c[S],p[S])))return!1;return!0}(r,e);default:return G()}var a}function Ca(r,e){return void 0!==(r.values||[]).find(t=>Gi(t,e))}function qa(r,e){if(r===e)return 0;const t=Fn(r),s=Fn(e);if(t!==s)return Nt(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Nt(r.booleanValue,e.booleanValue);case 2:return function(a,c){const p=y(a.integerValue||a.doubleValue),S=y(c.integerValue||c.doubleValue);return p<S?-1:p>S?1:p===S?0:isNaN(p)?isNaN(S)?0:-1:1}(r,e);case 3:return Ch(r.timestampValue,e.timestampValue);case 4:return Ch(Le(r),Le(e));case 5:return Nt(r.stringValue,e.stringValue);case 6:return function(a,c){const p=T(a),S=T(c);return p.compareTo(S)}(r.bytesValue,e.bytesValue);case 7:return function(a,c){const p=a.split("/"),S=c.split("/");for(let U=0;U<p.length&&U<S.length;U++){const W=Nt(p[U],S[U]);if(0!==W)return W}return Nt(p.length,S.length)}(r.referenceValue,e.referenceValue);case 8:return function(a,c){const p=Nt(y(a.latitude),y(c.latitude));return 0!==p?p:Nt(y(a.longitude),y(c.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(a,c){const p=a.values||[],S=c.values||[];for(let U=0;U<p.length&&U<S.length;++U){const W=qa(p[U],S[U]);if(W)return W}return Nt(p.length,S.length)}(r.arrayValue,e.arrayValue);case 10:return function(a,c){if(a===qt.mapValue&&c===qt.mapValue)return 0;if(a===qt.mapValue)return 1;if(c===qt.mapValue)return-1;const p=a.fields||{},S=Object.keys(p),U=c.fields||{},W=Object.keys(U);S.sort(),W.sort();for(let ee=0;ee<S.length&&ee<W.length;++ee){const ve=Nt(S[ee],W[ee]);if(0!==ve)return ve;const Qe=qa(p[S[ee]],U[W[ee]]);if(0!==Qe)return Qe}return Nt(S.length,W.length)}(r.mapValue,e.mapValue);default:throw G()}}function Ch(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return Nt(r,e);const t=d(r),s=d(e),a=Nt(t.seconds,s.seconds);return 0!==a?a:Nt(t.nanos,s.nanos)}function Za(r){return jc(r)}function jc(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(s){const a=d(s);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?T(r.bytesValue).toBase64():"referenceValue"in r?Kt.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(s){let a="[",c=!0;for(const p of s.values||[])c?c=!1:a+=",",a+=jc(p);return a+"]"}(r.arrayValue):"mapValue"in r?function(s){const a=Object.keys(s.fields||{}).sort();let c="{",p=!0;for(const S of a)p?p=!1:c+=",",c+=`${S}:${jc(s.fields[S])}`;return c+"}"}(r.mapValue):G();var e}function cu(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function nc(r){return!!r&&"integerValue"in r}function $u(r){return!!r&&"arrayValue"in r}function rc(r){return!!r&&"nullValue"in r}function Rl(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ll(r){return!!r&&"mapValue"in r}function Hu(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return bu(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Hu(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Hu(r.arrayValue.values[t]);return e}return Object.assign({},r)}function $c(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}class xo{constructor(e){this.value=e}static empty(){return new xo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!ll(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hu(t)}setAll(e){let t=Di.emptyPath(),s={},a=[];e.forEach((p,S)=>{if(!t.isImmediateParentOf(S)){const U=this.getFieldsMap(t);this.applyChanges(U,s,a),s={},a=[],t=S.popLast()}p?s[S.lastSegment()]=Hu(p):a.push(S.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,s,a)}delete(e){const t=this.field(e.popLast());ll(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Gi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];ll(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){bu(t,(a,c)=>e[a]=c);for(const a of s)delete e[a]}clone(){return new xo(Hu(this.value))}}function pm(r){const e=[];return bu(r.fields,(t,s)=>{const a=new Di([t]);if(ll(s)){const c=pm(s.mapValue).fields;if(0===c.length)e.push(a);else for(const p of c)e.push(a.child(p))}else e.push(a)}),new Oo(e)}class Xi{constructor(e,t,s,a,c,p,S){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=c,this.data=p,this.documentState=S}static newInvalidDocument(e){return new Xi(e,0,Jt.min(),Jt.min(),Jt.min(),xo.empty(),0)}static newFoundDocument(e,t,s,a){return new Xi(e,1,t,Jt.min(),s,a,0)}static newNoDocument(e,t){return new Xi(e,2,t,Jt.min(),Jt.min(),xo.empty(),0)}static newUnknownDocument(e,t){return new Xi(e,3,t,Jt.min(),Jt.min(),xo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Jt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Jt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Xi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ol{constructor(e,t){this.position=e,this.inclusive=t}}function Zf(r,e,t){let s=0;for(let a=0;a<r.position.length;a++){const c=e[a],p=r.position[a];if(s=c.field.isKeyField()?Kt.comparator(Kt.fromName(p.referenceValue),t.key):qa(p,t.data.field(c.field)),"desc"===c.dir&&(s*=-1),0!==s)break}return s}function Yf(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Gi(r.position[t],e.position[t]))return!1;return!0}class cl{constructor(e,t="asc"){this.field=e,this.dir=t}}function Qf(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class ic{}class Nr extends ic{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,s):new mm(e,t,s):"array-contains"===t?new e_(e,s):"in"===t?new _m(e,s):"not-in"===t?new t_(e,s):"array-contains-any"===t?new n_(e,s):new Nr(e,t,s)}static createKeyFieldInFilter(e,t,s){return"in"===t?new ym(e,s):new sc(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(qa(t,this.value)):null!==t&&Fn(this.value)===Fn(t)&&this.matchesComparison(qa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return G()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ti extends ic{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Ti(e,t)}matches(e){return bd(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function bd(r){return"and"===r.op}function Sd(r){return function gm(r){for(const e of r.filters)if(e instanceof Ti)return!1;return!0}(r)&&bd(r)}function Th(r){if(r instanceof Nr)return r.field.canonicalString()+r.op.toString()+Za(r.value);if(Sd(r))return r.filters.map(e=>Th(e)).join(",");{const e=r.filters.map(t=>Th(t)).join(",");return`${r.op}(${e})`}}function Ad(r,e){return r instanceof Nr?(t=r,(s=e)instanceof Nr&&t.op===s.op&&t.field.isEqual(s.field)&&Gi(t.value,s.value)):r instanceof Ti?function(t,s){return s instanceof Ti&&t.op===s.op&&t.filters.length===s.filters.length&&t.filters.reduce((a,c,p)=>a&&Ad(c,s.filters[p]),!0)}(r,e):void G();var t,s}function Xf(r){return r instanceof Nr?`${(e=r).field.canonicalString()} ${e.op} ${Za(e.value)}`:r instanceof Ti?function(e){return e.op.toString()+" {"+e.getFilters().map(Xf).join(" ,")+"}"}(r):"Filter";var e}class mm extends Nr{constructor(e,t,s){super(e,t,s),this.key=Kt.fromName(s.referenceValue)}matches(e){const t=Kt.comparator(e.key,this.key);return this.matchesComparison(t)}}class ym extends Nr{constructor(e,t){super(e,"in",t),this.keys=vm(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class sc extends Nr{constructor(e,t){super(e,"not-in",t),this.keys=vm(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function vm(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>Kt.fromName(s.referenceValue))}class e_ extends Nr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return $u(t)&&Ca(t.arrayValue,this.value)}}class _m extends Nr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ca(this.value.arrayValue,t)}}class t_ extends Nr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ca(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ca(this.value.arrayValue,t)}}class n_ extends Nr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!$u(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Ca(this.value.arrayValue,s))}}class dl{constructor(e,t=null,s=[],a=[],c=null,p=null,S=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=p,this.endAt=S,this.dt=null}}function xl(r,e=null,t=[],s=[],a=null,c=null,p=null){return new dl(r,e,t,s,a,c,p)}function oc(r){const e=He(r);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Th(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(a=s).field.canonicalString()+a.dir;var a}).join(","),Po(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Za(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Za(s)).join(",")),e.dt=t}return e.dt}function Md(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!Qf(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Ad(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Yf(r.startAt,e.startAt)&&Yf(r.endAt,e.endAt)}function Sh(r){return Kt.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}class zu{constructor(e,t=null,s=[],a=[],c=null,p="F",S=null,U=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=p,this.startAt=S,this.endAt=U,this.wt=null,this._t=null}}function zc(r){return new zu(r)}function Dm(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function ep(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function ac(r){for(const e of r.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Su(r){return null!==r.collectionGroup}function Au(r){const e=He(r);if(null===e.wt){e.wt=[];const t=ac(e),s=ep(e);if(null!==t&&null===s)t.isKeyField()||e.wt.push(new cl(t)),e.wt.push(new cl(Di.keyField(),"asc"));else{let a=!1;for(const c of e.explicitOrderBy)e.wt.push(c),c.field.isKeyField()&&(a=!0);if(!a){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new cl(Di.keyField(),c))}}}return e.wt}function ua(r){const e=He(r);if(!e._t)if("F"===e.limitType)e._t=xl(e.path,e.collectionGroup,Au(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const c of Au(e))t.push(new cl(c.field,"desc"===c.dir?"asc":"desc"));const s=e.endAt?new Ol(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new Ol(e.startAt.position,e.startAt.inclusive):null;e._t=xl(e.path,e.collectionGroup,t,e.filters,e.limit,s,a)}return e._t}function Mh(r,e){e.getFirstInequalityField(),ac(r);const t=r.filters.concat([e]);return new zu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Pd(r,e,t){return new zu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Ph(r,e){return Md(ua(r),ua(e))&&r.limitType===e.limitType}function r_(r){return`${oc(ua(r))}|lt:${r.limitType}`}function Cm(r){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(s=>Xf(s)).join(", ")}]`),Po(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(s=>{return`${(a=s).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Za(s)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Za(s)).join(",")),`Target(${t})`}(ua(r))}; limitType=${r.limitType})`}function uc(r,e){return e.isFoundDocument()&&function(t,s){const a=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):Kt.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(r,e)&&function(t,s){for(const a of Au(t))if(!a.field.isKeyField()&&null===s.data.field(a.field))return!1;return!0}(r,e)&&function(t,s){for(const a of t.filters)if(!a.matches(s))return!1;return!0}(r,e)&&(s=e,!((t=r).startAt&&!function(a,c,p){const S=Zf(a,c,p);return a.inclusive?S<=0:S<0}(t.startAt,Au(t),s)||t.endAt&&!function(a,c,p){const S=Zf(a,c,p);return a.inclusive?S>=0:S>0}(t.endAt,Au(t),s)));var t,s}function i_(r){return(e,t)=>{let s=!1;for(const a of Au(r)){const c=EE(a,e,t);if(0!==c)return c;s=s||a.field.isKeyField()}return 0}}function EE(r,e,t){const s=r.field.isKeyField()?Kt.comparator(e.key,t.key):function(a,c,p){const S=c.data.field(a),U=p.data.field(a);return null!==S&&null!==U?qa(S,U):G()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return G()}}class Gu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[a,c]of s)if(this.equalsFn(a,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(void 0===a)return this.inner[s]=[[e,t]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return 1===s.length?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){bu(this.inner,(t,s)=>{for(const[a,c]of s)e(a,c)})}isEmpty(){return ul(this.inner)}size(){return this.innerSize}}const s_=new li(Kt.comparator);function La(){return s_}const Tm=new li(Kt.comparator);function Rd(...r){let e=Tm;for(const t of r)e=e.insert(t.key,t);return e}function tp(r){let e=Tm;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Ya(){return lc()}function np(){return lc()}function lc(){return new Gu(r=>r.toString(),(r,e)=>r.isEqual(e))}const o_=new li(Kt.comparator),Bs=new Ci(Kt.comparator);function fr(...r){let e=Bs;for(const t of r)e=e.add(t);return e}const a_=new Ci(Nt);function rp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ou(e)?"-0":e}}function bm(r){return{integerValue:""+r}}function Sm(r,e){return function au(r){return"number"==typeof r&&Number.isInteger(r)&&!ou(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}(e)?bm(e):rp(r,e)}class Oh{constructor(){this._=void 0}}function u_(r,e,t){return r instanceof xd?function(s,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Z(a)&&(a=te(a)),a&&(c.fields.__previous_value__=a),{mapValue:c}}(t,e):r instanceof Mu?xh(r,e):r instanceof Nl?ip(r,e):function(s,a){const c=l_(s,a),p=Mm(c)+Mm(s.gt);return nc(c)&&nc(s.gt)?bm(p):rp(s.serializer,p)}(r,e)}function Am(r,e,t){return r instanceof Mu?xh(r,e):r instanceof Nl?ip(r,e):t}function l_(r,e){return r instanceof cc?nc(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class xd extends Oh{}class Mu extends Oh{constructor(e){super(),this.elements=e}}function xh(r,e){const t=Pm(e);for(const s of r.elements)t.some(a=>Gi(a,s))||t.push(s);return{arrayValue:{values:t}}}class Nl extends Oh{constructor(e){super(),this.elements=e}}function ip(r,e){let t=Pm(e);for(const s of r.elements)t=t.filter(a=>!Gi(a,s));return{arrayValue:{values:t}}}class cc extends Oh{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Mm(r){return y(r.integerValue||r.doubleValue)}function Pm(r){return $u(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class sp{constructor(e,t){this.version=e,this.transformResults=t}}class gs{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new gs}static exists(e){return new gs(void 0,e)}static updateTime(e){return new gs(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wc(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class Nh{}function kh(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new hu(r.key,gs.none()):new kl(r.key,r.data,gs.none());{const t=r.data,s=xo.empty();let a=new Ci(Di.comparator);for(let c of e.fields)if(!a.has(c)){let p=t.field(c);null===p&&c.length>1&&(c=c.popLast(),p=t.field(c)),null===p?s.delete(c):s.set(c,p),a=a.add(c)}return new du(r.key,s,new Oo(a.toArray()),gs.none())}}function Om(r,e,t){r instanceof kl?function(s,a,c){const p=s.value.clone(),S=Fh(s.fieldTransforms,a,c.transformResults);p.setAll(S),a.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(r,e,t):r instanceof du?function(s,a,c){if(!Wc(s.precondition,a))return void a.convertToUnknownDocument(c.version);const p=Fh(s.fieldTransforms,a,c.transformResults),S=a.data;S.setAll(Nm(s)),S.setAll(p),a.convertToFoundDocument(c.version,S).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Kc(r,e,t,s){return r instanceof kl?function(a,c,p,S){if(!Wc(a.precondition,c))return p;const U=a.value.clone(),W=Nd(a.fieldTransforms,S,c);return U.setAll(W),c.convertToFoundDocument(c.version,U).setHasLocalMutations(),null}(r,e,t,s):r instanceof du?function(a,c,p,S){if(!Wc(a.precondition,c))return p;const U=Nd(a.fieldTransforms,S,c),W=c.data;return W.setAll(Nm(a)),W.setAll(U),c.convertToFoundDocument(c.version,W).setHasLocalMutations(),null===p?null:p.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(ee=>ee.field))}(r,e,t,s):(p=t,Wc(r.precondition,c=e)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):p);var c,p}function dc(r,e){let t=null;for(const s of r.fieldTransforms){const a=e.data.field(s.field),c=l_(s.transform,a||null);null!=c&&(null===t&&(t=xo.empty()),t.set(s.field,c))}return t||null}function xm(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===s||t&&s&&bn(t,s,(a,c)=>function Rm(r,e){return r.field.isEqual(e.field)&&(s=e.transform,(t=r.transform)instanceof Mu&&s instanceof Mu||t instanceof Nl&&s instanceof Nl?bn(t.elements,s.elements,Gi):t instanceof cc&&s instanceof cc?Gi(t.gt,s.gt):t instanceof xd&&s instanceof xd);var t,s}(a,c))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,s}class kl extends Nh{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class du extends Nh{constructor(e,t,s,a,c=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Nm(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function Fh(r,e,t){const s=new Map;ae(r.length===t.length);for(let a=0;a<t.length;a++){const c=r[a],p=c.transform,S=e.data.field(c.field);s.set(c.field,Am(p,S,t[a]))}return s}function Nd(r,e,t){const s=new Map;for(const a of r){const c=a.transform,p=t.data.field(a.field);s.set(a.field,u_(c,p,e))}return s}class hu extends Nh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Lh extends Nh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class kd{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&Om(c,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Kc(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Kc(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=np();return this.mutations.forEach(a=>{const c=e.get(a.key),p=c.overlayedDocument;let S=this.applyToLocalView(p,c.mutatedFields);S=t.has(a.key)?null:S;const U=kh(p,S);null!==U&&s.set(a.key,U),p.isValidDocument()||p.convertToNoDocument(Jt.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),fr())}isEqual(e){return this.batchId===e.batchId&&bn(this.mutations,e.mutations,(t,s)=>xm(t,s))&&bn(this.baseMutations,e.baseMutations,(t,s)=>xm(t,s))}}class op{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){ae(e.mutations.length===s.length);let a=o_;const c=e.mutations;for(let p=0;p<c.length;p++)a=a.insert(c[p].key,s[p].version);return new op(e,t,s,a)}}class ap{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class qc{constructor(e,t){this.count=e,this.unchangedNames=t}}var Js,Wr;function Vh(r){if(void 0===r)return b("GRPC error has no .code"),Ee.UNKNOWN;switch(r){case Js.OK:return Ee.OK;case Js.CANCELLED:return Ee.CANCELLED;case Js.UNKNOWN:return Ee.UNKNOWN;case Js.DEADLINE_EXCEEDED:return Ee.DEADLINE_EXCEEDED;case Js.RESOURCE_EXHAUSTED:return Ee.RESOURCE_EXHAUSTED;case Js.INTERNAL:return Ee.INTERNAL;case Js.UNAVAILABLE:return Ee.UNAVAILABLE;case Js.UNAUTHENTICATED:return Ee.UNAUTHENTICATED;case Js.INVALID_ARGUMENT:return Ee.INVALID_ARGUMENT;case Js.NOT_FOUND:return Ee.NOT_FOUND;case Js.ALREADY_EXISTS:return Ee.ALREADY_EXISTS;case Js.PERMISSION_DENIED:return Ee.PERMISSION_DENIED;case Js.FAILED_PRECONDITION:return Ee.FAILED_PRECONDITION;case Js.ABORTED:return Ee.ABORTED;case Js.OUT_OF_RANGE:return Ee.OUT_OF_RANGE;case Js.UNIMPLEMENTED:return Ee.UNIMPLEMENTED;case Js.DATA_LOSS:return Ee.DATA_LOSS;default:return G()}}(Wr=Js||(Js={}))[Wr.OK=0]="OK",Wr[Wr.CANCELLED=1]="CANCELLED",Wr[Wr.UNKNOWN=2]="UNKNOWN",Wr[Wr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Wr[Wr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Wr[Wr.NOT_FOUND=5]="NOT_FOUND",Wr[Wr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Wr[Wr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Wr[Wr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Wr[Wr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Wr[Wr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Wr[Wr.ABORTED=10]="ABORTED",Wr[Wr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Wr[Wr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Wr[Wr.INTERNAL=13]="INTERNAL",Wr[Wr.UNAVAILABLE=14]="UNAVAILABLE",Wr[Wr.DATA_LOSS=15]="DATA_LOSS";class up{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Fd}static getOrCreateInstance(){return null===Fd&&(Fd=new up),Fd}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Fd=null;const Vm=new j([4294967295,4294967295],0);function c_(r){const e=function Lm(){return new TextEncoder}().encode(r),t=new M;return t.update(e),new Uint8Array(t.digest())}function Um(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new j([t,s],0),new j([a,c],0)]}class hc{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Ld(`Invalid padding: ${t}`);if(s<0)throw new Ld(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new Ld(`Invalid hash count: ${s}`);if(0===e.length&&0!==t)throw new Ld(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=j.fromNumber(this.It)}Et(e,t,s){let a=e.add(t.multiply(j.fromNumber(s)));return 1===a.compare(Vm)&&(a=new j([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=c_(e),[s,a]=Um(t);for(let c=0;c<this.hashCount;c++){const p=this.Et(s,a,c);if(!this.At(p))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),p=new hc(c,a,t);return s.forEach(S=>p.insert(S)),p}insert(e){if(0===this.It)return;const t=c_(e),[s,a]=Um(t);for(let c=0;c<this.hashCount;c++){const p=this.Et(s,a,c);this.Rt(p)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Ld extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Wu{constructor(e,t,s,a,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,hl.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Wu(Jt.min(),a,new li(Nt),La(),fr())}}class hl{constructor(e,t,s,a,c){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new hl(s,t,fr(),fr(),fr())}}class Uh{constructor(e,t,s,a){this.Pt=e,this.removedTargetIds=t,this.key=s,this.bt=a}}class lp{constructor(e,t){this.targetId=e,this.Vt=t}}class Bm{constructor(e,t,s=Us.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class jm{constructor(){this.St=0,this.Dt=dp(),this.Ct=Us.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=fr(),t=fr(),s=fr();return this.Dt.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:G()}}),new hl(this.Ct,this.xt,e,t,s)}Ft(){this.Nt=!1,this.Dt=dp()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class d_{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=La(),this.zt=cp(),this.Wt=new li(Nt)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const s=this.Zt(t);switch(e.state){case 0:this.te(t)&&s.$t(e.resumeToken);break;case 1:s.Ut(),s.kt||s.Ft(),s.$t(e.resumeToken);break;case 2:s.Ut(),s.kt||this.removeTarget(t);break;case 3:this.te(t)&&(s.Kt(),s.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),s.$t(e.resumeToken));break;default:G()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((s,a)=>{this.te(a)&&t(a)})}ne(e){var t;const s=e.targetId,a=e.Vt.count,c=this.se(s);if(c){const p=c.target;if(Sh(p))if(0===a){const S=new Kt(p.path);this.Yt(s,S,Xi.newNoDocument(S,Jt.min()))}else ae(1===a);else{const S=this.ie(s);if(S!==a){const U=this.re(e,S);0!==U&&(this.ee(s),this.Wt=this.Wt.insert(s,2===U?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=up.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(W,ee,ve){var Qe,Et,jt,sn,un,yr;const Yr={localCacheCount:ee,existenceFilterCount:ve.count},Tr=ve.unchangedNames;return Tr&&(Yr.bloomFilter={applied:0===W,hashCount:null!==(Qe=Tr?.hashCount)&&void 0!==Qe?Qe:0,bitmapLength:null!==(sn=null===(jt=null===(Et=Tr?.bits)||void 0===Et?void 0:Et.bitmap)||void 0===jt?void 0:jt.length)&&void 0!==sn?sn:0,padding:null!==(yr=null===(un=Tr?.bits)||void 0===un?void 0:un.padding)&&void 0!==yr?yr:0}),Yr}(U,S,e.Vt))}}}}re(e,t){const{unchangedNames:s,count:a}=e.Vt;if(!s||!s.bits)return 1;const{bits:{bitmap:c="",padding:p=0},hashCount:S=0}=s;let U,W;try{U=T(c).toUint8Array()}catch(ee){if(ee instanceof Td)return k("Decoding the base64 bloom filter in existence filter failed ("+ee.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw ee}try{W=new hc(U,p,S)}catch(ee){return k(ee instanceof Ld?"BloomFilter error: ":"Applying bloom filter failed: ",ee),1}return 0===W.It?1:a!==t-this.oe(e.targetId,W)?2:0}oe(e,t){const s=this.Gt.getRemoteKeysForTarget(e);let a=0;return s.forEach(c=>{const p=this.Gt.ue(),S=`projects/${p.projectId}/databases/${p.database}/documents/${c.path.canonicalString()}`;t.vt(S)||(this.Yt(e,c,null),a++)}),a}ce(e){const t=new Map;this.Qt.forEach((c,p)=>{const S=this.se(p);if(S){if(c.current&&Sh(S.target)){const U=new Kt(S.target.path);null!==this.jt.get(U)||this.ae(p,U)||this.Yt(p,U,Xi.newNoDocument(U,e))}c.Mt&&(t.set(p,c.Ot()),c.Ft())}});let s=fr();this.zt.forEach((c,p)=>{let S=!0;p.forEachWhile(U=>{const W=this.se(U);return!W||"TargetPurposeLimboResolution"===W.purpose||(S=!1,!1)}),S&&(s=s.add(c))}),this.jt.forEach((c,p)=>p.setReadTime(e));const a=new Wu(e,t,this.Wt,this.jt,s);return this.jt=La(),this.zt=cp(),this.Wt=new li(Nt),a}Jt(e,t){if(!this.te(e))return;const s=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,s),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,s){if(!this.te(e))return;const a=this.Zt(e);this.ae(e,t)?a.Bt(t,1):a.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),s&&(this.jt=this.jt.insert(t,s))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new jm,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Ci(Nt),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||g("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new jm),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function cp(){return new li(Kt.comparator)}function dp(){return new li(Kt.comparator)}const hp={asc:"ASCENDING",desc:"DESCENDING"},fp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},h_={and:"AND",or:"OR"};class pp{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function fc(r,e){return r.useProto3Json||Po(e)?e:{value:e}}function Zc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $m(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function f_(r,e){return Zc(r,e.toTimestamp())}function js(r){return ae(!!r),Jt.fromTimestamp(function(e){const t=d(e);return new Qn(t.seconds,t.nanos)}(r))}function gp(r,e){return(t=r,new Jn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Hm(r){const e=Jn.fromString(r);return ae(Zm(e)),e}function Vd(r,e){return gp(r.databaseId,e.path)}function Ta(r,e){const t=Hm(e);if(t.get(1)!==r.databaseId.projectId)throw new Je(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Je(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Kt(p_(t))}function Pu(r,e){return gp(r.databaseId,e)}function Ud(r){return new Jn(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function p_(r){return ae(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function g_(r,e,t){return{name:Vd(r,e),fields:t.value.mapValue.fields}}function Km(r,e){return{documents:[Pu(r,e.path)]}}function vp(r,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=Pu(r,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Pu(r,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const a=function(U){if(0!==U.length)return qm(Ti.create(U,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const c=function(U){if(0!==U.length)return U.map(W=>{return{field:Fl((ee=W).field),direction:y_(ee.dir)};var ee})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const p=fc(r,e.limit);var S,U;return null!==p&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt={before:(S=e.startAt).inclusive,values:S.position}),e.endAt&&(t.structuredQuery.endAt={before:!(U=e.endAt).inclusive,values:U.position}),t}function fu(r){let e=function zm(r){const e=Hm(r);return 4===e.length?Jn.emptyPath():p_(e)}(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){ae(1===s);const ee=t.from[0];ee.allDescendants?a=ee.collectionId:e=e.child(ee.collectionId)}let c=[];t.where&&(c=function(ee){const ve=_p(ee);return ve instanceof Ti&&Sd(ve)?ve.getFilters():[ve]}(t.where));let p=[];t.orderBy&&(p=t.orderBy.map(ee=>{return new cl(pc((ve=ee).field),function(Qe){switch(Qe){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(ve.direction));var ve}));let S=null;t.limit&&(S=function(ee){let ve;return ve="object"==typeof ee?ee.value:ee,Po(ve)?null:ve}(t.limit));let U=null;var ee;t.startAt&&(U=new Ol((ee=t.startAt).values||[],!!ee.before));let W=null;return t.endAt&&(W=function(ee){return new Ol(ee.values||[],!ee.before)}(t.endAt)),function Im(r,e,t,s,a,c,p,S){return new zu(r,e,t,s,a,c,p,S)}(e,a,p,c,S,"F",U,W)}function _p(r){return void 0!==r.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=pc(e.unaryFilter.field);return Nr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const s=pc(e.unaryFilter.field);return Nr.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=pc(e.unaryFilter.field);return Nr.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=pc(e.unaryFilter.field);return Nr.create(c,"!=",{nullValue:"NULL_VALUE"});default:return G()}}(r):void 0!==r.fieldFilter?Nr.create(pc((e=r).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return G()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==r.compositeFilter?function(e){return Ti.create(e.compositeFilter.filters.map(t=>_p(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return G()}}(e.compositeFilter.op))}(r):G();var e}function y_(r){return hp[r]}function v_(r){return fp[r]}function __(r){return h_[r]}function Fl(r){return{fieldPath:r.canonicalString()}}function pc(r){return Di.fromServerFormat(r.fieldPath)}function qm(r){return r instanceof Nr?function(e){if("=="===e.op){if(Rl(e.value))return{unaryFilter:{field:Fl(e.field),op:"IS_NAN"}};if(rc(e.value))return{unaryFilter:{field:Fl(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Rl(e.value))return{unaryFilter:{field:Fl(e.field),op:"IS_NOT_NAN"}};if(rc(e.value))return{unaryFilter:{field:Fl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fl(e.field),op:v_(e.op),value:e.value}}}(r):r instanceof Ti?function(e){const t=e.getFilters().map(s=>qm(s));return 1===t.length?t[0]:{compositeFilter:{op:__(e.op),filters:t}}}(r):G()}function E_(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Zm(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}class Ln{constructor(e,t,s,a,c=Jt.min(),p=Jt.min(),S=Us.EMPTY_BYTE_STRING,U=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=S,this.expectedCount=U}withSequenceNumber(e){return new Ln(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ln(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ln(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ln(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Ep{constructor(e){this.fe=e}}function Ip(r){const e=fu({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?Pd(e,e.limit,"L"):e}class Xc{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(y(e.integerValue));else if("doubleValue"in e){const s=y(e.doubleValue);isNaN(s)?this.ye(t,13):(this.ye(t,15),ou(s)?t.pe(0):t.pe(s))}else if("timestampValue"in e){const s=e.timestampValue;this.ye(t,20),"string"==typeof s?t.Ie(s):(t.Ie(`${s.seconds||""}`),t.pe(s.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(T(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.ye(t,45),t.pe(s.latitude||0),t.pe(s.longitude||0)}else"mapValue"in e?$c(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):G()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const s=e.fields||{};this.ye(t,55);for(const a of Object.keys(s))this.Te(a,t),this.me(s[a],t)}Pe(e,t){const s=e.values||[];this.ye(t,50);for(const a of s)this.me(a,t)}ve(e,t){this.ye(t,37),Kt.fromName(e).path.forEach(s=>{this.ye(t,60),this.be(s,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Xc.Ve=new Xc;class iy{constructor(){this.rn=new zh}addToCollectionParentIndex(e,t){return this.rn.add(t),Xe.resolve()}getCollectionParents(e,t){return Xe.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Xe.resolve()}deleteFieldIndex(e,t){return Xe.resolve()}getDocumentsMatchingTarget(e,t){return Xe.resolve(null)}getIndexType(e,t){return Xe.resolve(0)}getFieldIndexes(e,t){return Xe.resolve([])}getNextCollectionGroupToUpdate(e){return Xe.resolve(null)}getMinOffset(e,t){return Xe.resolve(Ls.min())}getMinOffsetFromCollectionGroup(e,t){return Xe.resolve(Ls.min())}updateCollectionGroup(e,t,s){return Xe.resolve()}updateIndexEntries(e,t){return Xe.resolve()}}class zh{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new Ci(Jn.comparator),c=!a.has(s);return this.index[t]=a.add(s),c}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Ci(Jn.comparator)).toArray()}}new Uint8Array(0);class Ko{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new Ko(e,Ko.DEFAULT_COLLECTION_PERCENTILE,Ko.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Ko.DEFAULT_COLLECTION_PERCENTILE=10,Ko.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ko.DEFAULT=new Ko(41943040,Ko.DEFAULT_COLLECTION_PERCENTILE,Ko.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ko.DISABLED=new Ko(-1,0,0);class Yu{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Yu(0)}static Mn(){return new Yu(-1)}}class ly{constructor(){this.changes=new Gu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Xi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?Xe.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class b_{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class hy{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(null!==s&&Kc(s.mutation,a,Oo.empty(),Qn.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,fr()).next(()=>s))}getLocalViewOfDocuments(e,t,s=fr()){const a=Ya();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,s).next(c=>{let p=Rd();return c.forEach((S,U)=>{p=p.insert(S,U.overlayedDocument)}),p}))}getOverlayedDocuments(e,t){const s=Ya();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,fr()))}populateOverlays(e,t,s){const a=[];return s.forEach(c=>{t.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((p,S)=>{t.set(p,S)})})}computeViews(e,t,s,a){let c=La();const p=lc(),S=lc();return t.forEach((U,W)=>{const ee=s.get(W.key);a.has(W.key)&&(void 0===ee||ee.mutation instanceof du)?c=c.insert(W.key,W):void 0!==ee?(p.set(W.key,ee.mutation.getFieldMask()),Kc(ee.mutation,W,ee.mutation.getFieldMask(),Qn.now())):p.set(W.key,Oo.empty())}),this.recalculateAndSaveOverlays(e,c).next(U=>(U.forEach((W,ee)=>p.set(W,ee)),t.forEach((W,ee)=>{var ve;return S.set(W,new b_(ee,null!==(ve=p.get(W))&&void 0!==ve?ve:null))}),S))}recalculateAndSaveOverlays(e,t){const s=lc();let a=new li((p,S)=>p-S),c=fr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(p=>{for(const S of p)S.keys().forEach(U=>{const W=t.get(U);if(null===W)return;let ee=s.get(U)||Oo.empty();ee=S.applyToLocalView(W,ee),s.set(U,ee);const ve=(a.get(S.batchId)||fr()).add(U);a=a.insert(S.batchId,ve)})}).next(()=>{const p=[],S=a.getReverseIterator();for(;S.hasNext();){const U=S.getNext(),W=U.key,ee=U.value,ve=np();ee.forEach(Qe=>{if(!c.has(Qe)){const Et=kh(t.get(Qe),s.get(Qe));null!==Et&&ve.set(Qe,Et),c=c.add(Qe)}}),p.push(this.documentOverlayCache.saveOverlays(e,W,ve))}return Xe.waitFor(p)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return Kt.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Su(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var a}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next(c=>{const p=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-c.size):Xe.resolve(Ya());let S=-1,U=c;return p.next(W=>Xe.forEach(W,(ee,ve)=>(S<ve.largestBatchId&&(S=ve.largestBatchId),c.get(ee)?Xe.resolve():this.remoteDocumentCache.getEntry(e,ee).next(Qe=>{U=U.insert(ee,Qe)}))).next(()=>this.populateOverlays(e,W,c)).next(()=>this.computeViews(e,U,W,fr())).next(ee=>({batchId:S,changes:tp(ee)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Kt(t)).next(s=>{let a=Rd();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const a=t.collectionGroup;let c=Rd();return this.indexManager.getCollectionParents(e,a).next(p=>Xe.forEach(p,S=>{const U=(W=t,ee=S.child(a),new zu(ee,null,W.explicitOrderBy.slice(),W.filters.slice(),W.limit,W.limitType,W.startAt,W.endAt));var W,ee;return this.getDocumentsMatchingCollectionQuery(e,U,s).next(W=>{W.forEach((ee,ve)=>{c=c.insert(ee,ve)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,a))).next(c=>{a.forEach((S,U)=>{const W=U.getKey();null===c.get(W)&&(c=c.insert(W,Xi.newInvalidDocument(W)))});let p=Rd();return c.forEach((S,U)=>{const W=a.get(S);void 0!==W&&Kc(W.mutation,U,Oo.empty(),Qn.now()),uc(t,U)&&(p=p.insert(S,U))}),p})}}class S_{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Xe.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var s;return this.cs.set(t.id,{id:(s=t).id,version:s.version,createTime:js(s.createTime)}),Xe.resolve()}getNamedQuery(e,t){return Xe.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(s=t).name,query:Ip(s.bundledQuery),readTime:js(s.readTime)}),Xe.resolve();var s}}class fy{constructor(){this.overlays=new li(Kt.comparator),this.ls=new Map}getOverlay(e,t){return Xe.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Ya();return Xe.forEach(t,a=>this.getOverlay(e,a).next(c=>{null!==c&&s.set(a,c)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((a,c)=>{this.we(e,t,c)}),Xe.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.ls.get(s);return void 0!==a&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.ls.delete(s)),Xe.resolve()}getOverlaysForCollection(e,t,s){const a=Ya(),c=t.length+1,p=new Kt(t.child("")),S=this.overlays.getIteratorFrom(p);for(;S.hasNext();){const U=S.getNext().value,W=U.getKey();if(!t.isPrefixOf(W.path))break;W.path.length===c&&U.largestBatchId>s&&a.set(U.getKey(),U)}return Xe.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let c=new li((W,ee)=>W-ee);const p=this.overlays.getIterator();for(;p.hasNext();){const W=p.getNext().value;if(W.getKey().getCollectionGroup()===t&&W.largestBatchId>s){let ee=c.get(W.largestBatchId);null===ee&&(ee=Ya(),c=c.insert(W.largestBatchId,ee)),ee.set(W.getKey(),W)}}const S=Ya(),U=c.getIterator();for(;U.hasNext()&&(U.getNext().value.forEach((W,ee)=>S.set(W,ee)),!(S.size()>=a)););return Xe.resolve(S)}we(e,t,s){const a=this.overlays.get(s.key);if(null!==a){const p=this.ls.get(a.largestBatchId).delete(s.key);this.ls.set(a.largestBatchId,p)}this.overlays=this.overlays.insert(s.key,new ap(t,s));let c=this.ls.get(t);void 0===c&&(c=fr(),this.ls.set(t,c)),this.ls.set(t,c.add(s.key))}}class Lp{constructor(){this.fs=new Ci(No.ds),this.ws=new Ci(No._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const s=new No(e,t);this.fs=this.fs.add(s),this.ws=this.ws.add(s)}gs(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.ys(new No(e,t))}ps(e,t){e.forEach(s=>this.removeReference(s,t))}Is(e){const t=new Kt(new Jn([])),s=new No(t,e),a=new No(t,e+1),c=[];return this.ws.forEachInRange([s,a],p=>{this.ys(p),c.push(p.key)}),c}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Kt(new Jn([])),s=new No(t,e),a=new No(t,e+1);let c=fr();return this.ws.forEachInRange([s,a],p=>{c=c.add(p.key)}),c}containsKey(e){const t=new No(e,0),s=this.fs.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class No{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Kt.comparator(e.key,t.key)||Nt(e.As,t.As)}static _s(e,t){return Nt(e.As,t.As)||Kt.comparator(e.key,t.key)}}class Vp{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Ci(No.ds)}checkEmpty(e){return Xe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,a){const c=this.vs;this.vs++;const p=new kd(c,t,s,a);this.mutationQueue.push(p);for(const S of a)this.Rs=this.Rs.add(new No(S.key,c)),this.indexManager.addToCollectionParentIndex(e,S.key.path.popLast());return Xe.resolve(p)}lookupMutationBatch(e,t){return Xe.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.bs(t+1),c=a<0?0:a;return Xe.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Xe.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Xe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new No(t,0),a=new No(t,Number.POSITIVE_INFINITY),c=[];return this.Rs.forEachInRange([s,a],p=>{const S=this.Ps(p.As);c.push(S)}),Xe.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Ci(Nt);return t.forEach(a=>{const c=new No(a,0),p=new No(a,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([c,p],S=>{s=s.add(S.As)})}),Xe.resolve(this.Vs(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let c=s;Kt.isDocumentKey(c)||(c=c.child(""));const p=new No(new Kt(c),0);let S=new Ci(Nt);return this.Rs.forEachWhile(U=>{const W=U.key.path;return!!s.isPrefixOf(W)&&(W.length===a&&(S=S.add(U.As)),!0)},p),Xe.resolve(this.Vs(S))}Vs(e){const t=[];return e.forEach(s=>{const a=this.Ps(s);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){ae(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let s=this.Rs;return Xe.forEach(t.mutations,a=>{const c=new No(a.key,t.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Rs=s})}Cn(e){}containsKey(e,t){const s=new No(t,0),a=this.Rs.firstAfterOrEqual(s);return Xe.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return Xe.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class A_{constructor(e){this.Ds=e,this.docs=new li(Kt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),c=a?a.size:0,p=this.Ds(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:p}),this.size+=p-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Xe.resolve(s?s.document.mutableCopy():Xi.newInvalidDocument(t))}getEntries(e,t){let s=La();return t.forEach(a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():Xi.newInvalidDocument(a))}),Xe.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let c=La();const p=t.path,S=new Kt(p.child("")),U=this.docs.getIteratorFrom(S);for(;U.hasNext();){const{key:W,value:{document:ee}}=U.getNext();if(!p.isPrefixOf(W.path))break;W.path.length>p.length+1||Dl(Dd(ee),s)<=0||(a.has(ee.key)||uc(t,ee))&&(c=c.insert(ee.key,ee.mutableCopy()))}return Xe.resolve(c)}getAllFromCollectionGroup(e,t,s,a){G()}Cs(e,t){return Xe.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new M_(this)}getSize(e){return Xe.resolve(this.size)}}class M_ extends ly{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?t.push(this.os.addEntry(e,a)):this.os.removeEntry(s)}),Xe.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class P_{constructor(e){this.persistence=e,this.xs=new Gu(t=>oc(t),Md),this.lastRemoteSnapshotVersion=Jt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Lp,this.targetCount=0,this.Ms=Yu.kn()}forEachTarget(e,t){return this.xs.forEach((s,a)=>t(a)),Xe.resolve()}getLastRemoteSnapshotVersion(e){return Xe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Xe.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Xe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.Ns&&(this.Ns=t),Xe.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Yu(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Xe.resolve()}updateTargetData(e,t){return this.Fn(t),Xe.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Xe.resolve()}removeTargets(e,t,s){let a=0;const c=[];return this.xs.forEach((p,S)=>{S.sequenceNumber<=t&&null===s.get(S.targetId)&&(this.xs.delete(p),c.push(this.removeMatchingKeysForTargetId(e,S.targetId)),a++)}),Xe.waitFor(c).next(()=>a)}getTargetCount(e){return Xe.resolve(this.targetCount)}getTargetData(e,t){const s=this.xs.get(t)||null;return Xe.resolve(s)}addMatchingKeys(e,t,s){return this.ks.gs(t,s),Xe.resolve()}removeMatchingKeys(e,t,s){this.ks.ps(t,s);const a=this.persistence.referenceDelegate,c=[];return a&&t.forEach(p=>{c.push(a.markPotentiallyOrphaned(e,p))}),Xe.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Xe.resolve()}getMatchingKeysForTargetId(e,t){const s=this.ks.Es(t);return Xe.resolve(s)}containsKey(e,t){return Xe.resolve(this.ks.containsKey(t))}}class Up{constructor(e,t){this.$s={},this.overlays={},this.Os=new Ys(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new P_(this),this.indexManager=new iy,this.remoteDocumentCache=new A_(s=>this.referenceDelegate.Ls(s)),this.serializer=new Ep(t),this.qs=new S_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new fy,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.$s[e.toKey()];return s||(s=new Vp(t,this.referenceDelegate),this.$s[e.toKey()]=s),s}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,s){g("MemoryPersistence","Starting transaction:",e);const a=new R_(this.Os.next());return this.referenceDelegate.Us(),s(a).next(c=>this.referenceDelegate.Ks(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Gs(e,t){return Xe.or(Object.values(this.$s).map(s=>()=>s.containsKey(e,t)))}}class R_ extends Ql{constructor(e){super(),this.currentSequenceNumber=e}}class Ja{constructor(e){this.persistence=e,this.Qs=new Lp,this.js=null}static zs(e){return new Ja(e)}get Ws(){if(this.js)return this.js;throw G()}addReference(e,t,s){return this.Qs.addReference(s,t),this.Ws.delete(s.toString()),Xe.resolve()}removeReference(e,t,s){return this.Qs.removeReference(s,t),this.Ws.add(s.toString()),Xe.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Xe.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(a=>this.Ws.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(c=>this.Ws.add(c.toString()))}).next(()=>s.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Xe.forEach(this.Ws,s=>{const a=Kt.fromPath(s);return this.Hs(e,a).next(c=>{c||t.removeEntry(a,Jt.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(s=>{s?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return Xe.or([()=>Xe.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class jp{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Fi=s,this.Bi=a}static Li(e,t){let s=fr(),a=fr();for(const c of t.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new jp(e,t.fromCache,s,a)}}class gy{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,s,a){return this.Ki(e,t).next(c=>c||this.Gi(e,t,a,s)).next(c=>c||this.Qi(e,t))}Ki(e,t){if(Dm(t))return Xe.resolve(null);let s=ua(t);return this.indexManager.getIndexType(e,s).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=Pd(t,null,"F"),s=ua(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const p=fr(...c);return this.Ui.getDocuments(e,p).next(S=>this.indexManager.getMinOffset(e,s).next(U=>{const W=this.ji(t,S);return this.zi(t,W,p,U.readTime)?this.Ki(e,Pd(t,null,"F")):this.Wi(e,W,t,U)}))})))}Gi(e,t,s,a){return Dm(t)||a.isEqual(Jt.min())?this.Qi(e,t):this.Ui.getDocuments(e,s).next(c=>{const p=this.ji(t,c);return this.zi(t,p,s,a)?this.Qi(e,t):(_()<=dn.in.DEBUG&&g("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Cm(t)),this.Wi(e,p,t,function Il(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,a=Jt.fromTimestamp(1e9===s?new Qn(t+1,0):new Qn(t,s));return new Ls(a,Kt.empty(),e)}(a,-1)))})}ji(e,t){let s=new Ci(i_(e));return t.forEach((a,c)=>{uc(e,c)&&(s=s.add(c))}),s}zi(e,t,s,a){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const c="F"===e.limitType?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Qi(e,t){return _()<=dn.in.DEBUG&&g("QueryEngine","Using full collection scan to execute query:",Cm(t)),this.Ui.getDocumentsMatchingQuery(e,t,Ls.min())}Wi(e,t,s,a){return this.Ui.getDocumentsMatchingQuery(e,s,a).next(c=>(t.forEach(p=>{c=c.insert(p.key,p)}),c))}}class Xh{constructor(e,t,s,a){this.persistence=e,this.Hi=t,this.serializer=a,this.Ji=new li(Nt),this.Yi=new Gu(c=>oc(c),Md),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(s)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hy(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function Kd(r,e){return my.apply(this,arguments)}function my(){return my=(0,zt.Z)(function*(r,e){const t=He(r);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next(c=>(a=c,t.tr(e),t.mutationQueue.getAllMutationBatches(s))).next(c=>{const p=[],S=[];let U=fr();for(const W of a){p.push(W.batchId);for(const ee of W.mutations)U=U.add(ee.key)}for(const W of c){S.push(W.batchId);for(const ee of W.mutations)U=U.add(ee.key)}return t.localDocuments.getDocuments(s,U).next(W=>({er:W,removedBatchIds:p,addedBatchIds:S}))})})}),my.apply(this,arguments)}function x_(r){const e=He(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function vy(r,e){const t=He(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Bl(r,e,t){return Ru.apply(this,arguments)}function Ru(){return Ru=(0,zt.Z)(function*(r,e,t){const s=He(r),a=s.Ji.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",c,p=>s.persistence.referenceDelegate.removeTarget(p,a)))}catch(p){if(!Da(p))throw p;g("LocalStore",`Failed to update sequence numbers for target ${e}: ${p}`)}s.Ji=s.Ji.remove(e),s.Yi.delete(a.target)}),Ru.apply(this,arguments)}function Ic(r,e,t){const s=He(r);let a=Jt.min(),c=fr();return s.persistence.runTransaction("Execute query","readonly",p=>function(S,U,W){const ee=He(S),ve=ee.Yi.get(W);return void 0!==ve?Xe.resolve(ee.Ji.get(ve)):ee.Bs.getTargetData(U,W)}(s,p,ua(e)).next(S=>{if(S)return a=S.lastLimboFreeSnapshotVersion,s.Bs.getMatchingKeysForTargetId(p,S.targetId).next(U=>{c=U})}).next(()=>s.Hi.getDocumentsMatchingQuery(p,e,t?a:Jt.min(),t?c:fr())).next(S=>(function _y(r,e,t){let s=r.Xi.get(e)||Jt.min();t.forEach((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Xi.set(e,s)}(s,function Rh(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}(e),S),{documents:S,ir:c})))}class Wp{constructor(){this.activeTargetIds=function Od(){return a_}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Dy{constructor(){this.Hr=new Wp,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,s){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Wp,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Cy{Yr(e){}shutdown(){}}class rf{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){g("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){g("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let sf=null;function Yd(){return null===sf?sf=268435456+Math.round(2147483648*Math.random()):sf++,"0x"+sf.toString(16)}const k_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class F_{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const la="WebChannelConnection";class L_ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,s,a,c){const p=Yd(),S=this.To(e,t);g("RestConnection",`Sending RPC '${e}' ${p}:`,S,s);const U={};return this.Eo(U,a,c),this.Ao(e,S,U,s).then(W=>(g("RestConnection",`Received RPC '${e}' ${p}: `,W),W),W=>{throw k("RestConnection",`RPC '${e}' ${p} failed with error: `,W,"url: ",S,"request:",s),W})}vo(e,t,s,a,c,p){return this.Io(e,t,s,a,c)}Eo(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+ye,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,c)=>e[c]=a),s&&s.headers.forEach((a,c)=>e[c]=a)}To(e,t){return`${this.mo}/v1/${t}:${k_[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,s,a){const c=Yd();return new Promise((p,S)=>{const U=new v;U.setWithCredentials(!0),U.listenOnce(sa.COMPLETE,()=>{try{switch(U.getLastErrorCode()){case il.NO_ERROR:const ee=U.getResponseJson();g(la,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(ee)),p(ee);break;case il.TIMEOUT:g(la,`RPC '${e}' ${c} timed out`),S(new Je(Ee.DEADLINE_EXCEEDED,"Request time out"));break;case il.HTTP_ERROR:const ve=U.getStatus();if(g(la,`RPC '${e}' ${c} failed with status:`,ve,"response text:",U.getResponseText()),ve>0){let Qe=U.getResponseJson();Array.isArray(Qe)&&(Qe=Qe[0]);const Et=Qe?.error;if(Et&&Et.status&&Et.message){const jt=function(sn){const un=sn.toLowerCase().replace(/_/g,"-");return Object.values(Ee).indexOf(un)>=0?un:Ee.UNKNOWN}(Et.status);S(new Je(jt,Et.message))}else S(new Je(Ee.UNKNOWN,"Server responded with status "+U.getStatus()))}else S(new Je(Ee.UNAVAILABLE,"Connection failed."));break;default:G()}}finally{g(la,`RPC '${e}' ${c} completed.`)}});const W=JSON.stringify(a);g(la,`RPC '${e}' ${c} sending request:`,a),U.send(t,"POST",W,s,15)})}Ro(e,t,s){const a=Yd(),c=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=El(),S=Eu(),U={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},W=this.longPollingOptions.timeoutSeconds;void 0!==W&&(U.longPollingTimeout=Math.round(1e3*W)),this.useFetchStreams&&(U.xmlHttpFactory=new R({})),this.Eo(U.initMessageHeaders,t,s),U.encodeInitMessageHeaders=!0;const ee=c.join("");g(la,`Creating RPC '${e}' stream ${a}: ${ee}`,U);const ve=p.createWebChannel(ee,U);let Qe=!1,Et=!1;const jt=new F_({ro:un=>{Et?g(la,`Not sending because RPC '${e}' stream ${a} is closed:`,un):(Qe||(g(la,`Opening RPC '${e}' stream ${a} transport.`),ve.open(),Qe=!0),g(la,`RPC '${e}' stream ${a} sending:`,un),ve.send(un))},oo:()=>ve.close()}),sn=(un,yr,Yr)=>{un.listen(yr,Tr=>{try{Yr(Tr)}catch(ko){setTimeout(()=>{throw ko},0)}})};return sn(ve,m.EventType.OPEN,()=>{Et||g(la,`RPC '${e}' stream ${a} transport opened.`)}),sn(ve,m.EventType.CLOSE,()=>{Et||(Et=!0,g(la,`RPC '${e}' stream ${a} transport closed`),jt.wo())}),sn(ve,m.EventType.ERROR,un=>{Et||(Et=!0,k(la,`RPC '${e}' stream ${a} transport errored:`,un),jt.wo(new Je(Ee.UNAVAILABLE,"The operation could not be completed")))}),sn(ve,m.EventType.MESSAGE,un=>{var yr;if(!Et){const Yr=un.data[0];ae(!!Yr);const ko=Yr.error||(null===(yr=Yr[0])||void 0===yr?void 0:yr.error);if(ko){g(la,`RPC '${e}' stream ${a} received error:`,ko);const _o=ko.status;let ss=function(wd){const Ih=Js[wd];if(void 0!==Ih)return Vh(Ih)}(_o),ru=ko.message;void 0===ss&&(ss=Ee.INTERNAL,ru="Unknown error status: "+_o+" with message "+ko.message),Et=!0,jt.wo(new Je(ss,ru)),ve.close()}else g(la,`RPC '${e}' stream ${a} received:`,Yr),jt._o(Yr)}}),sn(S,wl.STAT_EVENT,un=>{un.stat===wu.PROXY?g(la,`RPC '${e}' stream ${a} detected buffering proxy`):un.stat===wu.NOPROXY&&g(la,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{jt.fo()},0),jt}}function af(){return typeof document<"u"?document:null}function Qd(r){return new pp(r,!0)}class uf{constructor(e,t,s=1e3,a=1.5,c=6e4){this.ii=e,this.timerId=t,this.Po=s,this.bo=a,this.Vo=c,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),s=Math.max(0,Date.now()-this.Co),a=Math.max(0,t-s);a>0&&g("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,a,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class qp{constructor(e,t,s,a,c,p,S,U){this.ii=e,this.$o=s,this.Oo=a,this.connection=c,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=S,this.listener=U,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new uf(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,zt.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,zt.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var s=this;return(0,zt.Z)(function*(){s.Ho(),s.Jo(),s.qo.cancel(),s.Fo++,4!==e?s.qo.reset():t&&t.code===Ee.RESOURCE_EXHAUSTED?(b(t.toString()),b("Using maximum backoff delay to prevent overloading the backend."),s.qo.xo()):t&&t.code===Ee.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Yo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.Fo===t&&this.Zo(s,a)},s=>{e(()=>{const a=new Je(Ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.tu(a)})})}Zo(e,t){const s=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{s(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(a=>{s(()=>this.tu(a))}),this.stream.onMessage(a=>{s(()=>this.onMessage(a))})}Go(){var e=this;this.state=5,this.qo.No((0,zt.Z)(function*(){e.state=0,e.start()}))}tu(e){return g("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(g("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class V_ extends qp{constructor(e,t,s,a,c,p){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,p),this.serializer=c}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function Gm(r,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(U=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===U?1:"REMOVE"===U?2:"CURRENT"===U?3:"RESET"===U?4:G(),a=e.targetChange.targetIds||[],c=function(U,W){return U.useProto3Json?(ae(void 0===W||"string"==typeof W),Us.fromBase64String(W||"")):(ae(void 0===W||W instanceof Uint8Array),Us.fromUint8Array(W||new Uint8Array))}(r,e.targetChange.resumeToken),p=e.targetChange.cause,S=p&&function(U){const W=void 0===U.code?Ee.UNKNOWN:Vh(U.code);return new Je(W,U.message||"")}(p);t=new Bm(s,a,c,S||null)}else if("documentChange"in e){const s=e.documentChange,a=Ta(r,s.document.name),c=js(s.document.updateTime),p=s.document.createTime?js(s.document.createTime):Jt.min(),S=new xo({mapValue:{fields:s.document.fields}}),U=Xi.newFoundDocument(a,c,p,S);t=new Uh(s.targetIds||[],s.removedTargetIds||[],U.key,U)}else if("documentDelete"in e){const s=e.documentDelete,a=Ta(r,s.document),c=s.readTime?js(s.readTime):Jt.min(),p=Xi.newNoDocument(a,c);t=new Uh([],s.removedTargetIds||[],p.key,p)}else if("documentRemove"in e){const s=e.documentRemove,a=Ta(r,s.document);t=new Uh([],s.removedTargetIds||[],a,null)}else{if(!("filter"in e))return G();{const s=e.filter,{count:a=0,unchangedNames:c}=s,p=new qc(a,c);t=new lp(s.targetId,p)}}var U;return t}(this.serializer,e),s=function(a){if(!("targetChange"in a))return Jt.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?Jt.min():c.readTime?js(c.readTime):Jt.min()}(e);return this.listener.nu(t,s)}su(e){const t={};t.database=Ud(this.serializer),t.addTarget=function(a,c){let p;const S=c.target;if(p=Sh(S)?{documents:Km(a,S)}:{query:vp(a,S)},p.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){p.resumeToken=$m(a,c.resumeToken);const U=fc(a,c.expectedCount);null!==U&&(p.expectedCount=U)}else if(c.snapshotVersion.compareTo(Jt.min())>0){p.readTime=Zc(a,c.snapshotVersion.toTimestamp());const U=fc(a,c.expectedCount);null!==U&&(p.expectedCount=U)}return p}(this.serializer,e);const s=function m_(r,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return G()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.Wo(t)}iu(e){const t={};t.database=Ud(this.serializer),t.removeTarget=e,this.Wo(t)}}class TE extends qp{constructor(e,t,s,a,c,p){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,p),this.serializer=c,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(ae(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function Wm(r,e){return r&&r.length>0?(ae(void 0!==e),r.map(t=>function(s,a){let c=js(s.updateTime?s.updateTime:a);return c.isEqual(Jt.min())&&(c=js(a)),new sp(c,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=js(e.commitTime);return this.listener.cu(s,t)}return ae(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Ud(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>function Yc(r,e){let t;if(e instanceof kl)t={update:g_(r,e.key,e.value)};else if(e instanceof hu)t={delete:Vd(r,e.key)};else if(e instanceof du)t={update:g_(r,e.key,e.data),updateMask:E_(e.fieldMask)};else{if(!(e instanceof Lh))return G();t={verify:Vd(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(a,c){const p=c.transform;if(p instanceof xd)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Mu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Nl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof cc)return{fieldPath:c.field.canonicalString(),increment:p.gt};throw G()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:f_(r,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:G()),t;var a}(this.serializer,s))};this.Wo(t)}}class by extends class{}{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.lu=!1}fu(){if(this.lu)throw new Je(Ee.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Io(e,t,s,a,c)).catch(a=>{throw"FirebaseError"===a.name?(a.code===Ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Je(Ee.UNKNOWN,a.toString())})}vo(e,t,s,a){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,p])=>this.connection.vo(e,t,s,c,p,a)).catch(c=>{throw"FirebaseError"===c.name?(c.code===Ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Je(Ee.UNKNOWN,c.toString())})}terminate(){this.lu=!0}}class U_{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(b(t),this.mu=!1):g("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class B_{constructor(e,t,s,a,c){var p=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=c,this.Pu.Yr(S=>{s.enqueueAndForget((0,zt.Z)(function*(){var U;eu(p)&&(g("RemoteStore","Restarting streams for network reachability change."),yield(U=(0,zt.Z)(function*(W){const ee=He(W);ee.vu.add(4),yield ba(ee),ee.bu.set("Unknown"),ee.vu.delete(4),yield Dc(ee)}),function(W){return U.apply(this,arguments)})(p))}))}),this.bu=new U_(s,a)}}function Dc(r){return Zp.apply(this,arguments)}function Zp(){return Zp=(0,zt.Z)(function*(r){if(eu(r))for(const e of r.Ru)yield e(!0)}),Zp.apply(this,arguments)}function ba(r){return Cc.apply(this,arguments)}function Cc(){return Cc=(0,zt.Z)(function*(r){for(const e of r.Ru)yield e(!1)}),Cc.apply(this,arguments)}function go(r,e){const t=He(r);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),jl(t)?Jd(t):fl(t).Ko()&&sd(t,e))}function Ou(r,e){const t=He(r),s=fl(t);t.Au.delete(e),s.Ko()&&Xa(t,e),0===t.Au.size&&(s.Ko()?s.jo():eu(t)&&t.bu.set("Unknown"))}function sd(r,e){if(r.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Jt.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}fl(r).su(e)}function Xa(r,e){r.Vu.qt(e),fl(r).iu(e)}function Jd(r){r.Vu=new d_({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),le:e=>r.Au.get(e)||null,ue:()=>r.datastore.serializer.databaseId}),fl(r).start(),r.bu.gu()}function jl(r){return eu(r)&&!fl(r).Uo()&&r.Au.size>0}function eu(r){return 0===He(r).vu.size}function Tc(r){r.Vu=void 0}function od(r){return $l.apply(this,arguments)}function $l(){return $l=(0,zt.Z)(function*(r){r.Au.forEach((e,t)=>{sd(r,e)})}),$l.apply(this,arguments)}function ad(r,e){return Hl.apply(this,arguments)}function Hl(){return Hl=(0,zt.Z)(function*(r,e){Tc(r),jl(r)?(r.bu.Iu(e),Jd(r)):r.bu.set("Unknown")}),Hl.apply(this,arguments)}function ud(r,e,t){return zl.apply(this,arguments)}function zl(){return zl=(0,zt.Z)(function*(r,e,t){if(r.bu.set("Online"),e instanceof Bm&&2===e.state&&e.cause)try{yield(s=(0,zt.Z)(function*(a,c){const p=c.cause;for(const S of c.targetIds)a.Au.has(S)&&(yield a.remoteSyncer.rejectListen(S,p),a.Au.delete(S),a.Vu.removeTarget(S))}),function(a,c){return s.apply(this,arguments)})(r,e)}catch(s){g("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield Xd(r,s)}else if(e instanceof Uh?r.Vu.Ht(e):e instanceof lp?r.Vu.ne(e):r.Vu.Xt(e),!t.isEqual(Jt.min()))try{const s=yield x_(r.localStore);t.compareTo(s)>=0&&(yield function(a,c){const p=a.Vu.ce(c);return p.targetChanges.forEach((S,U)=>{if(S.resumeToken.approximateByteSize()>0){const W=a.Au.get(U);W&&a.Au.set(U,W.withResumeToken(S.resumeToken,c))}}),p.targetMismatches.forEach((S,U)=>{const W=a.Au.get(S);if(!W)return;a.Au.set(S,W.withResumeToken(Us.EMPTY_BYTE_STRING,W.snapshotVersion)),Xa(a,S);const ee=new Ln(W.target,S,U,W.sequenceNumber);sd(a,ee)}),a.remoteSyncer.applyRemoteEvent(p)}(r,t))}catch(s){g("RemoteStore","Failed to raise snapshot:",s),yield Xd(r,s)}var s}),zl.apply(this,arguments)}function Xd(r,e,t){return lf.apply(this,arguments)}function lf(){return lf=(0,zt.Z)(function*(r,e,t){if(!Da(e))throw e;r.vu.add(1),yield ba(r),r.bu.set("Offline"),t||(t=()=>x_(r.localStore)),r.asyncQueue.enqueueRetryable((0,zt.Z)(function*(){g("RemoteStore","Retrying IndexedDB access"),yield t(),r.vu.delete(1),yield Dc(r)}))}),lf.apply(this,arguments)}function Yp(r,e){return e().catch(t=>Xd(r,t,e))}function bc(r){return cf.apply(this,arguments)}function cf(){return cf=(0,zt.Z)(function*(r){const e=He(r),t=xu(e);let s=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Sy(e);)try{const a=yield vy(e.localStore,s);if(null===a){0===e.Eu.length&&t.jo();break}s=a.batchId,Ay(e,a)}catch(a){yield Xd(e,a)}Qp(e)&&Jp(e)}),cf.apply(this,arguments)}function Sy(r){return eu(r)&&r.Eu.length<10}function Ay(r,e){r.Eu.push(e);const t=xu(r);t.Ko()&&t.ou&&t.uu(e.mutations)}function Qp(r){return eu(r)&&!xu(r).Uo()&&r.Eu.length>0}function Jp(r){xu(r).start()}function j_(r){return Xp.apply(this,arguments)}function Xp(){return Xp=(0,zt.Z)(function*(r){xu(r).hu()}),Xp.apply(this,arguments)}function My(r){return eg.apply(this,arguments)}function eg(){return eg=(0,zt.Z)(function*(r){const e=xu(r);for(const t of r.Eu)e.uu(t.mutations)}),eg.apply(this,arguments)}function Py(r,e,t){return eh.apply(this,arguments)}function eh(){return eh=(0,zt.Z)(function*(r,e,t){const s=r.Eu.shift(),a=op.from(s,e,t);yield Yp(r,()=>r.remoteSyncer.applySuccessfulWrite(a)),yield bc(r)}),eh.apply(this,arguments)}function tg(r,e){return ng.apply(this,arguments)}function ng(){return ng=(0,zt.Z)(function*(r,e){var t;e&&xu(r).ou&&(yield(t=(0,zt.Z)(function*(s,a){if(function Fm(r){switch(r){default:return G();case Ee.CANCELLED:case Ee.UNKNOWN:case Ee.DEADLINE_EXCEEDED:case Ee.RESOURCE_EXHAUSTED:case Ee.INTERNAL:case Ee.UNAVAILABLE:case Ee.UNAUTHENTICATED:return!1;case Ee.INVALID_ARGUMENT:case Ee.NOT_FOUND:case Ee.ALREADY_EXISTS:case Ee.PERMISSION_DENIED:case Ee.FAILED_PRECONDITION:case Ee.ABORTED:case Ee.OUT_OF_RANGE:case Ee.UNIMPLEMENTED:case Ee.DATA_LOSS:return!0}}(c=a.code)&&c!==Ee.ABORTED){const p=s.Eu.shift();xu(s).Qo(),yield Yp(s,()=>s.remoteSyncer.rejectFailedWrite(p.batchId,a)),yield bc(s)}var c}),function(s,a){return t.apply(this,arguments)})(r,e)),Qp(r)&&Jp(r)}),ng.apply(this,arguments)}function th(r,e){return ld.apply(this,arguments)}function ld(){return ld=(0,zt.Z)(function*(r,e){const t=He(r);t.asyncQueue.verifyOperationInProgress(),g("RemoteStore","RemoteStore received new credentials");const s=eu(t);t.vu.add(3),yield ba(t),s&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Dc(t)}),ld.apply(this,arguments)}function rg(){return rg=(0,zt.Z)(function*(r,e){const t=He(r);e?(t.vu.delete(2),yield Dc(t)):e||(t.vu.add(2),yield ba(t),t.bu.set("Unknown"))}),rg.apply(this,arguments)}function fl(r){return r.Su||(r.Su=function(e,t,s){const a=He(e);return a.fu(),new V_(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(r.datastore,r.asyncQueue,{uo:od.bind(null,r),ao:ad.bind(null,r),nu:ud.bind(null,r)}),r.Ru.push(function(){var e=(0,zt.Z)(function*(t){t?(r.Su.Qo(),jl(r)?Jd(r):r.bu.set("Unknown")):(yield r.Su.stop(),Tc(r))});return function(t){return e.apply(this,arguments)}}())),r.Su}function xu(r){return r.Du||(r.Du=function(e,t,s){const a=He(e);return a.fu(),new TE(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(r.datastore,r.asyncQueue,{uo:j_.bind(null,r),ao:tg.bind(null,r),au:My.bind(null,r),cu:Py.bind(null,r)}),r.Ru.push(function(){var e=(0,zt.Z)(function*(t){t?(r.Du.Qo(),yield bc(r)):(yield r.Du.stop(),r.Eu.length>0&&(g("RemoteStore",`Stopping write stream with ${r.Eu.length} pending writes`),r.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),r.Du}class rh{constructor(e,t,s,a,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new Pn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(p=>{})}static createAndSchedule(e,t,s,a,c){const p=Date.now()+s,S=new rh(e,t,p,a,c);return S.start(s),S}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Je(Ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sc(r,e){if(b("AsyncQueue",`${e}: ${r}`),Da(r))return new Je(Ee.UNAVAILABLE,`${e}: ${r}`);throw r}class Gl{constructor(e){this.comparator=e?(t,s)=>e(t,s)||Kt.comparator(t.key,s.key):(t,s)=>Kt.comparator(t.key,s.key),this.keyedMap=Rd(),this.sortedSet=new li(this.comparator)}static emptySet(e){return new Gl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Gl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new Gl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class ig{constructor(){this.Cu=new li(Kt.comparator)}track(e){const t=e.doc.key,s=this.Cu.get(t);s?0!==e.type&&3===s.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==s.type?this.Cu=this.Cu.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Cu=this.Cu.remove(t):1===e.type&&2===s.type?this.Cu=this.Cu.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):G():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,s)=>{e.push(s)}),e}}class Ac{constructor(e,t,s,a,c,p,S,U,W){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=p,this.syncStateChanged=S,this.excludesMetadataChanges=U,this.hasCachedResults=W}static fromInitialDocuments(e,t,s,a,c){const p=[];return t.forEach(S=>{p.push({type:0,doc:S})}),new Ac(e,t,Gl.emptySet(t),p,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ph(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class sg{constructor(){this.Nu=void 0,this.listeners=[]}}class Ry{constructor(){this.queries=new Gu(e=>r_(e),Ph),this.onlineState="Unknown",this.ku=new Set}}function og(r,e){return df.apply(this,arguments)}function df(){return df=(0,zt.Z)(function*(r,e){const t=He(r),s=e.query;let a=!1,c=t.queries.get(s);if(c||(a=!0,c=new sg),a)try{c.Nu=yield t.onListen(s)}catch(p){const S=Sc(p,`Initialization of query '${Cm(e.query)}' failed`);return void e.onError(S)}t.queries.set(s,c),c.listeners.push(e),e.Mu(t.onlineState),c.Nu&&e.$u(c.Nu)&&pf(t)}),df.apply(this,arguments)}function hf(r,e){return ff.apply(this,arguments)}function ff(){return ff=(0,zt.Z)(function*(r,e){const t=He(r),s=e.query;let a=!1;const c=t.queries.get(s);if(c){const p=c.listeners.indexOf(e);p>=0&&(c.listeners.splice(p,1),a=0===c.listeners.length)}if(a)return t.queries.delete(s),t.onUnlisten(s)}),ff.apply(this,arguments)}function Oy(r,e){const t=He(r);let s=!1;for(const a of e){const p=t.queries.get(a.query);if(p){for(const S of p.listeners)S.$u(a)&&(s=!0);p.Nu=a}}s&&pf(t)}function $_(r,e,t){const s=He(r),a=s.queries.get(e);if(a)for(const c of a.listeners)c.onError(t);s.queries.delete(e)}function pf(r){r.ku.forEach(e=>{e.next()})}class gf{constructor(e,t,s){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=s||{}}$u(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)3!==a.type&&s.push(a);e=new Ac(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Ac.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class lg{constructor(e){this.key=e}}class cg{constructor(e){this.key=e}}class dg{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=fr(),this.mutatedKeys=fr(),this.tc=i_(e),this.ec=new Gl(this.tc)}get nc(){return this.Yu}sc(e,t){const s=t?t.ic:new ig,a=t?t.ec:this.ec;let c=t?t.mutatedKeys:this.mutatedKeys,p=a,S=!1;const U="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,W="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((ee,ve)=>{const Qe=a.get(ee),Et=uc(this.query,ve)?ve:null,jt=!!Qe&&this.mutatedKeys.has(Qe.key),sn=!!Et&&(Et.hasLocalMutations||this.mutatedKeys.has(Et.key)&&Et.hasCommittedMutations);let un=!1;Qe&&Et?Qe.data.isEqual(Et.data)?jt!==sn&&(s.track({type:3,doc:Et}),un=!0):this.rc(Qe,Et)||(s.track({type:2,doc:Et}),un=!0,(U&&this.tc(Et,U)>0||W&&this.tc(Et,W)<0)&&(S=!0)):!Qe&&Et?(s.track({type:0,doc:Et}),un=!0):Qe&&!Et&&(s.track({type:1,doc:Qe}),un=!0,(U||W)&&(S=!0)),un&&(Et?(p=p.add(Et),c=sn?c.add(ee):c.delete(ee)):(p=p.delete(ee),c=c.delete(ee)))}),null!==this.query.limit)for(;p.size>this.query.limit;){const ee="F"===this.query.limitType?p.last():p.first();p=p.delete(ee.key),c=c.delete(ee.key),s.track({type:1,doc:ee})}return{ec:p,ic:s,zi:S,mutatedKeys:c}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const a=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const c=e.ic.xu();c.sort((W,ee)=>function(ve,Qe){const Et=jt=>{switch(jt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return G()}};return Et(ve)-Et(Qe)}(W.type,ee.type)||this.tc(W.doc,ee.doc)),this.oc(s);const p=t?this.uc():[],S=0===this.Zu.size&&this.current?1:0,U=S!==this.Xu;return this.Xu=S,0!==c.length||U?{snapshot:new Ac(this.query,e.ec,a,c,e.mutatedKeys,0===S,U,!1,!!s&&s.resumeToken.approximateByteSize()>0),cc:p}:{cc:p}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new ig,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=fr(),this.ec.forEach(s=>{this.ac(s.key)&&(this.Zu=this.Zu.add(s.key))});const t=[];return e.forEach(s=>{this.Zu.has(s)||t.push(new cg(s))}),this.Zu.forEach(s=>{e.has(s)||t.push(new lg(s))}),t}hc(e){this.Yu=e.ir,this.Zu=fr();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Ac.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Ny{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class ky{constructor(e){this.key=e,this.fc=!1}}class Fy{constructor(e,t,s,a,c,p){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=p,this.dc={},this.wc=new Gu(S=>r_(S),Ph),this._c=new Map,this.mc=new Set,this.gc=new li(Kt.comparator),this.yc=new Map,this.Ic=new Lp,this.Tc={},this.Ec=new Map,this.Ac=Yu.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function mf(r,e){return Ju.apply(this,arguments)}function Ju(){return Ju=(0,zt.Z)(function*(r,e){const t=function If(r){const e=He(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=yf.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Cg.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=z_.bind(null,e),e.dc.nu=Oy.bind(null,e.eventManager),e.dc.Pc=$_.bind(null,e.eventManager),e}(r);let s,a;const c=t.wc.get(e);if(c)s=c.targetId,t.sharedClientState.addLocalQueryTarget(s),a=c.view.lc();else{const p=yield function wc(r,e){const t=He(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.Bs.getTargetData(s,e).next(c=>c?(a=c,Xe.resolve(a)):t.Bs.allocateTargetId(s).next(p=>(a=new Ln(e,p,"TargetPurposeListen",s.currentSequenceNumber),t.Bs.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.Ji.get(s.targetId);return(null===a||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(s.targetId,s),t.Yi.set(e,s.targetId)),s})}(t.localStore,ua(e)),S=t.sharedClientState.addLocalQueryTarget(p.targetId);s=p.targetId,a=yield function hg(r,e,t,s,a){return fg.apply(this,arguments)}(t,e,s,"current"===S,p.resumeToken),t.isPrimaryClient&&go(t.remoteStore,p)}return a}),Ju.apply(this,arguments)}function fg(){return fg=(0,zt.Z)(function*(r,e,t,s,a){r.Rc=(ve,Qe,Et)=>{return(jt=(0,zt.Z)(function*(sn,un,yr,Yr){let Tr=un.view.sc(yr);Tr.zi&&(Tr=yield Ic(sn.localStore,un.query,!1).then(({documents:ss})=>un.view.sc(ss,Tr)));const ko=Yr&&Yr.targetChanges.get(un.targetId),_o=un.view.applyChanges(Tr,sn.isPrimaryClient,ko);return Wl(sn,un.targetId,_o.cc),_o.snapshot}),function(sn,un,yr,Yr){return jt.apply(this,arguments)})(r,ve,Qe,Et);var jt};const c=yield Ic(r.localStore,e,!0),p=new dg(e,c.ir),S=p.sc(c.documents),U=hl.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==r.onlineState,a),W=p.applyChanges(S,r.isPrimaryClient,U);Wl(r,t,W.cc);const ee=new Ny(e,t,p);return r.wc.set(e,ee),r._c.has(t)?r._c.get(t).push(e):r._c.set(t,[e]),W.snapshot}),fg.apply(this,arguments)}function pg(r,e){return pl.apply(this,arguments)}function pl(){return pl=(0,zt.Z)(function*(r,e){const t=He(r),s=t.wc.get(e),a=t._c.get(s.targetId);if(a.length>1)return t._c.set(s.targetId,a.filter(c=>!Ph(c,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Bl(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),Ou(t.remoteStore,s.targetId),Mc(t,s.targetId)}).catch(oa))):(Mc(t,s.targetId),yield Bl(t.localStore,s.targetId,!0))}),pl.apply(this,arguments)}function mg(){return mg=(0,zt.Z)(function*(r,e,t){const s=function Mg(r){const e=He(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Vy.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mo.bind(null,e),e}(r);try{const a=yield function(c,p){const S=He(c),U=Qn.now(),W=p.reduce((Qe,Et)=>Qe.add(Et.key),fr());let ee,ve;return S.persistence.runTransaction("Locally write mutations","readwrite",Qe=>{let Et=La(),jt=fr();return S.Zi.getEntries(Qe,W).next(sn=>{Et=sn,Et.forEach((un,yr)=>{yr.isValidDocument()||(jt=jt.add(un))})}).next(()=>S.localDocuments.getOverlayedDocuments(Qe,Et)).next(sn=>{ee=sn;const un=[];for(const yr of p){const Yr=dc(yr,ee.get(yr.key).overlayedDocument);null!=Yr&&un.push(new du(yr.key,Yr,pm(Yr.value.mapValue),gs.exists(!0)))}return S.mutationQueue.addMutationBatch(Qe,U,un,p)}).next(sn=>{ve=sn;const un=sn.applyToLocalDocumentSet(ee,jt);return S.documentOverlayCache.saveOverlays(Qe,sn.batchId,un)})}).then(()=>({batchId:ve.batchId,changes:tp(ee)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(c,p,S){let U=c.Tc[c.currentUser.toKey()];U||(U=new li(Nt)),U=U.insert(p,S),c.Tc[c.currentUser.toKey()]=U}(s,a.batchId,t),yield Xu(s,a.changes),yield bc(s.remoteStore)}catch(a){const c=Sc(a,"Failed to persist write");t.reject(c)}}),mg.apply(this,arguments)}function yf(r,e){return Ly.apply(this,arguments)}function Ly(){return Ly=(0,zt.Z)(function*(r,e){const t=He(r);try{const s=yield function yy(r,e){const t=He(r),s=e.snapshotVersion;let a=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const p=t.Zi.newChangeBuffer({trackRemovals:!0});a=t.Ji;const S=[];e.targetChanges.forEach((ee,ve)=>{const Qe=a.get(ve);if(!Qe)return;S.push(t.Bs.removeMatchingKeys(c,ee.removedDocuments,ve).next(()=>t.Bs.addMatchingKeys(c,ee.addedDocuments,ve)));let Et=Qe.withSequenceNumber(c.currentSequenceNumber);var jt,sn,un;null!==e.targetMismatches.get(ve)?Et=Et.withResumeToken(Us.EMPTY_BYTE_STRING,Jt.min()).withLastLimboFreeSnapshotVersion(Jt.min()):ee.resumeToken.approximateByteSize()>0&&(Et=Et.withResumeToken(ee.resumeToken,s)),a=a.insert(ve,Et),sn=Et,un=ee,(0===(jt=Qe).resumeToken.approximateByteSize()||sn.snapshotVersion.toMicroseconds()-jt.snapshotVersion.toMicroseconds()>=3e8||un.addedDocuments.size+un.modifiedDocuments.size+un.removedDocuments.size>0)&&S.push(t.Bs.updateTargetData(c,Et))});let U=La(),W=fr();if(e.documentUpdates.forEach(ee=>{e.resolvedLimboDocuments.has(ee)&&S.push(t.persistence.referenceDelegate.updateLimboDocument(c,ee))}),S.push(function Hp(r,e,t){let s=fr(),a=fr();return t.forEach(c=>s=s.add(c)),e.getEntries(r,s).next(c=>{let p=La();return t.forEach((S,U)=>{const W=c.get(S);U.isFoundDocument()!==W.isFoundDocument()&&(a=a.add(S)),U.isNoDocument()&&U.version.isEqual(Jt.min())?(e.removeEntry(S,U.readTime),p=p.insert(S,U)):!W.isValidDocument()||U.version.compareTo(W.version)>0||0===U.version.compareTo(W.version)&&W.hasPendingWrites?(e.addEntry(U),p=p.insert(S,U)):g("LocalStore","Ignoring outdated watch update for ",S,". Current version:",W.version," Watch version:",U.version)}),{nr:p,sr:a}})}(c,p,e.documentUpdates).next(ee=>{U=ee.nr,W=ee.sr})),!s.isEqual(Jt.min())){const ee=t.Bs.getLastRemoteSnapshotVersion(c).next(ve=>t.Bs.setTargetsMetadata(c,c.currentSequenceNumber,s));S.push(ee)}return Xe.waitFor(S).next(()=>p.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,U,W)).next(()=>U)}).then(c=>(t.Ji=a,c))}(t.localStore,e);e.targetChanges.forEach((a,c)=>{const p=t.yc.get(c);p&&(ae(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?p.fc=!0:a.modifiedDocuments.size>0?ae(p.fc):a.removedDocuments.size>0&&(ae(p.fc),p.fc=!1))}),yield Xu(t,s,e)}catch(s){yield oa(s)}}),Ly.apply(this,arguments)}function H_(r,e,t){const s=He(r);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const a=[];s.wc.forEach((c,p)=>{const S=p.view.Mu(e);S.snapshot&&a.push(S.snapshot)}),function(c,p){const S=He(c);S.onlineState=p;let U=!1;S.queries.forEach((W,ee)=>{for(const ve of ee.listeners)ve.Mu(p)&&(U=!0)}),U&&pf(S)}(s.eventManager,e),a.length&&s.dc.nu(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function z_(r,e,t){return yg.apply(this,arguments)}function yg(){return yg=(0,zt.Z)(function*(r,e,t){const s=He(r);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.yc.get(e),c=a&&a.key;if(c){let p=new li(Kt.comparator);p=p.insert(c,Xi.newNoDocument(c,Jt.min()));const S=fr().add(c),U=new Wu(Jt.min(),new Map,new li(Nt),p,S);yield yf(s,U),s.gc=s.gc.remove(c),s.yc.delete(e),Ig(s)}else yield Bl(s.localStore,e,!1).then(()=>Mc(s,e,t)).catch(oa)}),yg.apply(this,arguments)}function Vy(r,e){return vg.apply(this,arguments)}function vg(){return vg=(0,zt.Z)(function*(r,e){const t=He(r),s=e.batch.batchId;try{const a=yield function $p(r,e){const t=He(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),c=t.Zi.newChangeBuffer({trackRemovals:!0});return function(p,S,U,W){const ee=U.batch,ve=ee.keys();let Qe=Xe.resolve();return ve.forEach(Et=>{Qe=Qe.next(()=>W.getEntry(S,Et)).next(jt=>{const sn=U.docVersions.get(Et);ae(null!==sn),jt.version.compareTo(sn)<0&&(ee.applyToRemoteDocument(jt,U),jt.isValidDocument()&&(jt.setReadTime(U.commitVersion),W.addEntry(jt)))})}),Qe.next(()=>p.mutationQueue.removeMutationBatch(S,ee))}(t,s,e,c).next(()=>c.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(p){let S=fr();for(let U=0;U<p.mutationResults.length;++U)p.mutationResults[U].transformResults.length>0&&(S=S.add(p.batch.mutations[U].key));return S}(e))).next(()=>t.localDocuments.getDocuments(s,a))})}(t.localStore,e);Eg(t,s,null),_f(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield Xu(t,a)}catch(a){yield oa(a)}}),vg.apply(this,arguments)}function mo(r,e,t){return vf.apply(this,arguments)}function vf(){return vf=(0,zt.Z)(function*(r,e,t){const s=He(r);try{const a=yield function(c,p){const S=He(c);return S.persistence.runTransaction("Reject batch","readwrite-primary",U=>{let W;return S.mutationQueue.lookupMutationBatch(U,p).next(ee=>(ae(null!==ee),W=ee.keys(),S.mutationQueue.removeMutationBatch(U,ee))).next(()=>S.mutationQueue.performConsistencyCheck(U)).next(()=>S.documentOverlayCache.removeOverlaysForBatchId(U,W,p)).next(()=>S.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(U,W)).next(()=>S.localDocuments.getDocuments(U,W))})}(s.localStore,e);Eg(s,e,t),_f(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield Xu(s,a)}catch(a){yield oa(a)}}),vf.apply(this,arguments)}function _f(r,e){(r.Ec.get(e)||[]).forEach(t=>{t.resolve()}),r.Ec.delete(e)}function Eg(r,e,t){const s=He(r);let a=s.Tc[s.currentUser.toKey()];if(a){const c=a.get(e);c&&(t?c.reject(t):c.resolve(),a=a.remove(e)),s.Tc[s.currentUser.toKey()]=a}}function Mc(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r._c.get(e))r.wc.delete(s),t&&r.dc.Pc(s,t);r._c.delete(e),r.isPrimaryClient&&r.Ic.Is(e).forEach(s=>{r.Ic.containsKey(s)||wg(r,s)})}function wg(r,e){r.mc.delete(e.path.canonicalString());const t=r.gc.get(e);null!==t&&(Ou(r.remoteStore,t),r.gc=r.gc.remove(e),r.yc.delete(t),Ig(r))}function Wl(r,e,t){for(const s of t)s instanceof lg?(r.Ic.addReference(s.key,e),W_(r,s)):s instanceof cg?(g("SyncEngine","Document no longer in limbo: "+s.key),r.Ic.removeReference(s.key,e),r.Ic.containsKey(s.key)||wg(r,s.key)):G()}function W_(r,e){const t=e.key,s=t.path.canonicalString();r.gc.get(t)||r.mc.has(s)||(g("SyncEngine","New document in limbo: "+t),r.mc.add(s),Ig(r))}function Ig(r){for(;r.mc.size>0&&r.gc.size<r.maxConcurrentLimboResolutions;){const e=r.mc.values().next().value;r.mc.delete(e);const t=new Kt(Jn.fromString(e)),s=r.Ac.next();r.yc.set(s,new ky(t)),r.gc=r.gc.insert(t,s),go(r.remoteStore,new Ln(ua(zc(t.path)),s,"TargetPurposeLimboResolution",Ys.ct))}}function Xu(r,e,t){return Dg.apply(this,arguments)}function Dg(){return Dg=(0,zt.Z)(function*(r,e,t){const s=He(r),a=[],c=[],p=[];var S;s.wc.isEmpty()||(s.wc.forEach((S,U)=>{p.push(s.Rc(U,e,t).then(W=>{if((W||t)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(U.targetId,W?.fromCache?"not-current":"current"),W){a.push(W);const ee=jp.Li(U.targetId,W);c.push(ee)}}))}),yield Promise.all(p),s.dc.nu(a),yield(S=(0,zt.Z)(function*(U,W){const ee=He(U);try{yield ee.persistence.runTransaction("notifyLocalViewChanges","readwrite",ve=>Xe.forEach(W,Qe=>Xe.forEach(Qe.Fi,Et=>ee.persistence.referenceDelegate.addReference(ve,Qe.targetId,Et)).next(()=>Xe.forEach(Qe.Bi,Et=>ee.persistence.referenceDelegate.removeReference(ve,Qe.targetId,Et)))))}catch(ve){if(!Da(ve))throw ve;g("LocalStore","Failed to update sequence numbers: "+ve)}for(const ve of W){const Qe=ve.targetId;if(!ve.fromCache){const Et=ee.Ji.get(Qe),sn=Et.withLastLimboFreeSnapshotVersion(Et.snapshotVersion);ee.Ji=ee.Ji.insert(Qe,sn)}}}),function(U,W){return S.apply(this,arguments)})(s.localStore,c))}),Dg.apply(this,arguments)}function Uy(r,e){return By.apply(this,arguments)}function By(){return By=(0,zt.Z)(function*(r,e){const t=He(r);if(!t.currentUser.isEqual(e)){g("SyncEngine","User change. New user:",e.toKey());const s=yield Kd(t.localStore,e);t.currentUser=e,(a=t).Ec.forEach(p=>{p.forEach(S=>{S.reject(new Je(Ee.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Ec.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Xu(t,s.er)}var a}),By.apply(this,arguments)}function Cg(r,e){const t=He(r),s=t.yc.get(e);if(s&&s.fc)return fr().add(s.key);{let a=fr();const c=t._c.get(e);if(!c)return a;for(const p of c){const S=t.wc.get(p);a=a.unionWith(S.view.nc)}return a}}class ah{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,zt.Z)(function*(){t.serializer=Qd(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function Wd(r,e,t,s){return new Xh(r,e,t,s)}(this.persistence,new gy,e.initialUser,this.serializer)}createPersistence(e){return new Up(Ja.zs,this.serializer)}createSharedClientState(e){return new Dy}terminate(){var e=this;return(0,zt.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Pc{initialize(e,t){var s=this;return(0,zt.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=a=>H_(s.syncEngine,a,1),s.remoteStore.remoteSyncer.handleCredentialChange=Uy.bind(null,s.syncEngine),yield function nh(r,e){return rg.apply(this,arguments)}(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Ry}createDatastore(e){const t=Qd(e.databaseInfo.databaseId),s=new L_(e.databaseInfo);return new by(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,a=e.asyncQueue,c=S=>H_(this.syncEngine,S,0),p=rf.D()?new rf:new Cy,new B_(t,s,a,c,p);var t,s,a,c,p}createSyncEngine(e,t){return function(s,a,c,p,S,U,W){const ee=new Fy(s,a,c,p,S,U);return W&&(ee.vc=!0),ee}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,zt.Z)(function*(t){const s=He(t);g("RemoteStore","RemoteStore shutting down."),s.vu.add(5),yield ba(s),s.Pu.shutdown(),s.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class cd{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):b("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class zy{constructor(e,t,s,a){var c=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=le.UNAUTHENTICATED,this.clientId=Xt.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var p=(0,zt.Z)(function*(S){g("FirestoreClient","Received user=",S.uid),yield c.authCredentialListener(S),c.user=S});return function(S){return p.apply(this,arguments)}}()),this.appCheckCredentials.start(s,p=>(g("FirestoreClient","Received new app check token=",p),this.appCheckCredentialListener(p,this.user)))}getConfiguration(){var e=this;return(0,zt.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Je(Ee.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Pn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,zt.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const a=Sc(s,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function lh(r,e){return Cf.apply(this,arguments)}function Cf(){return Cf=(0,zt.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),g("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(function(){var a=(0,zt.Z)(function*(c){s.isEqual(c)||(yield Kd(e.localStore,c),s=c)});return function(c){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}),Cf.apply(this,arguments)}function Tf(r,e){return bf.apply(this,arguments)}function bf(){return bf=(0,zt.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield function Ng(r){return kg.apply(this,arguments)}(r);g("FirestoreClient","Initializing OnlineComponentProvider");const s=yield r.getConfiguration();yield e.initialize(t,s),r.setCredentialChangeListener(a=>th(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,c)=>th(e.remoteStore,c)),r._onlineComponents=e}),bf.apply(this,arguments)}function kg(){return kg=(0,zt.Z)(function*(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){g("FirestoreClient","Using user provided OfflineComponentProvider");try{yield lh(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function xg(r){return"FirebaseError"===r.name?r.code===Ee.FAILED_PRECONDITION||r.code===Ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code}(t))throw t;k("Error using user provided cache. Falling back to memory cache: "+t),yield lh(r,new ah)}}else g("FirestoreClient","Using default OfflineComponentProvider"),yield lh(r,new ah);return r._offlineComponents}),kg.apply(this,arguments)}function Sf(r){return Fg.apply(this,arguments)}function Fg(){return Fg=(0,zt.Z)(function*(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(g("FirestoreClient","Using user provided OnlineComponentProvider"),yield Tf(r,r._uninitializedComponentsProvider._online)):(g("FirestoreClient","Using default OnlineComponentProvider"),yield Tf(r,new Pc))),r._onlineComponents}),Fg.apply(this,arguments)}function dd(r){return Vg.apply(this,arguments)}function Vg(){return Vg=(0,zt.Z)(function*(r){const e=yield Sf(r),t=e.eventManager;return t.onListen=mf.bind(null,e.syncEngine),t.onUnlisten=pg.bind(null,e.syncEngine),t}),Vg.apply(this,arguments)}function Ug(r){const e={};return void 0!==r.timeoutSeconds&&(e.timeoutSeconds=r.timeoutSeconds),e}const Bg=new Map;function Mf(r,e,t){if(!t)throw new Je(Ee.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function jg(r){if(!Kt.isDocumentKey(r))throw new Je(Ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function $g(r){if(Kt.isDocumentKey(r))throw new Je(Ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function ch(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":G()}function Ar(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Je(Ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ch(r);throw new Je(Ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}class ev{constructor(e){var t,s;if(void 0===e.host){if(void 0!==e.ssl)throw new Je(Ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Je(Ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Xy(r,e,t,s){if(!0===e&&!0===s)throw new Je(Ee.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Ug(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(a){if(void 0!==a.timeoutSeconds){if(isNaN(a.timeoutSeconds))throw new Je(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Je(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Je(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dh{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ev({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Je(Ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Je(Ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ev(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new ri;switch(t.type){case"firstParty":return new Ao(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Je(Ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Bg.get(e);t&&(g("ComponentProvider","Removing Datastore"),Bg.delete(e),t.terminate())}(this),Promise.resolve()}}class Xs{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xs(this.firestore,e,this._key)}}class yo{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new yo(this.firestore,e,this._query)}}class gl extends yo{constructor(e,t,s){super(e,t,zc(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xs(this.firestore,null,new Kt(e))}withConverter(e){return new gl(this.firestore,e,this._path)}}function tv(r,e,...t){if(r=(0,Vn.m9)(r),Mf("collection","path",e),r instanceof dh){const s=Jn.fromString(e,...t);return $g(s),new gl(r,null,s)}{if(!(r instanceof Xs||r instanceof gl))throw new Je(Ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Jn.fromString(e,...t));return $g(s),new gl(r.firestore,null,s)}}function r0(r,e,...t){if(r=(0,Vn.m9)(r),1===arguments.length&&(e=Xt.A()),Mf("doc","path",e),r instanceof dh){const s=Jn.fromString(e,...t);return jg(s),new Xs(r,null,new Kt(s))}{if(!(r instanceof Xs||r instanceof gl))throw new Je(Ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Jn.fromString(e,...t));return jg(s),new Xs(r.firestore,r instanceof gl?r.converter:null,new Kt(s))}}class s0{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new uf(this,"async_queue_retry"),this.Xc=()=>{const t=af();t&&g("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=af();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=af();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Pn;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,zt.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Da(t))throw t;g("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(s=>{throw this.Wc=s,this.Hc=!1,b("INTERNAL UNHANDLED ERROR: ",function(c){let p=c.message||"";return c.stack&&(p=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),p}(s)),s}).then(s=>(this.Hc=!1,s))));return this.Gc=t,t}enqueueAfterDelay(e,t,s){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const a=rh.createAndSchedule(this,e,t,s,c=>this.na(c));return this.zc.push(a),a}Zc(){this.Wc&&G()}verifyOperationInProgress(){}sa(){var e=this;return(0,zt.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function Hg(r){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const a of["next","error","complete"])if(a in s&&"function"==typeof s[a])return!0;return!1}(r)}class Ni extends dh{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new s0,this._persistenceKey=a?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Gg(this),this._firestoreClient.terminate()}}function As(r,e){const t="object"==typeof r?r:(0,wn.getApp)(),s="string"==typeof r?r:e||"(default)",a=(0,wn._getProvider)(t,"firestore").getImmediate({identifier:s});if(!a._initialized){const c=(0,Vn.P0)("firestore");c&&function hd(r,e,t,s={}){var a;const c=(r=Ar(r,dh))._getSettings();if("firestore.googleapis.com"!==c.host&&c.host!==e&&k("Host has been set in both settings() and useEmulator(), emulator host will be used"),r._setSettings(Object.assign(Object.assign({},c),{host:`${e}:${t}`,ssl:!1})),s.mockUserToken){let p,S;if("string"==typeof s.mockUserToken)p=s.mockUserToken,S=le.MOCK_USER;else{p=(0,Vn.Sg)(s.mockUserToken,null===(a=r._app)||void 0===a?void 0:a.options.projectId);const U=s.mockUserToken.sub||s.mockUserToken.user_id;if(!U)throw new Je(Ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new le(U)}r._authCredentials=new zr(new xi(p,S))}}(a,...c)}return a}function vo(r){return r._firestoreClient||Gg(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function Gg(r){var e,t,s;const a=r._freezeSettings(),c=(S=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new ht(r._databaseId,S,r._persistenceKey,(W=a).host,W.ssl,W.experimentalForceLongPolling,W.experimentalAutoDetectLongPolling,Ug(W.experimentalLongPollingOptions),W.useFetchStreams));var S,W;r._firestoreClient=new zy(r._authCredentials,r._appCheckCredentials,r._queue,c),null!==(t=a.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(s=a.cache)&&void 0!==s&&s._onlineComponentProvider&&(r._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.cache.kind,_offline:a.cache._offlineComponentProvider,_online:a.cache._onlineComponentProvider})}class tl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new tl(Us.fromBase64String(e))}catch(t){throw new Je(Ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new tl(Us.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Rc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Je(Ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Di(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Rf{constructor(e){this._methodName=e}}class Kg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Je(Ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Je(Ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Nt(this._lat,e._lat)||Nt(this._long,e._long)}}const fh=/^__.*__$/;class ph{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new du(e,this.data,this.fieldMask,t,this.fieldTransforms):new kl(e,this.data,t,this.fieldTransforms)}}class iv{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new du(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function sv(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw G()}}class Of{constructor(e,t,s,a,c,p){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,void 0===c&&this.ua(),this.fieldTransforms=c||[],this.fieldMask=p||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Of(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:s,la:!1});return a.fa(e),a}da(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:s,la:!1});return a.ua(),a}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Ff(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(sv(this.ca)&&fh.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class ov{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Qd(e)}ya(e,t,s,a=!1){return new Of({ca:e,methodName:t,ga:s,path:Di.emptyPath(),la:!1,ma:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Oc(r){const e=r._freezeSettings(),t=Qd(r._databaseId);return new ov(r._databaseId,!!e.ignoreUndefinedProperties,t)}function xf(r,e,t,s,a,c={}){const p=r.ya(c.merge||c.mergeFields?2:0,e,t,a);Nf("Data must be an object, but it was:",p,s);const S=av(s,p);let U,W;if(c.merge)U=new Oo(p.fieldMask),W=p.fieldTransforms;else if(c.mergeFields){const ee=[];for(const ve of c.mergeFields){const Qe=ml(e,ve,t);if(!p.contains(Qe))throw new Je(Ee.INVALID_ARGUMENT,`Field '${Qe}' is specified in your field mask but missing from your input data.`);lv(ee,Qe)||ee.push(Qe)}U=new Oo(ee),W=p.fieldTransforms.filter(ve=>U.covers(ve.field))}else U=null,W=p.fieldTransforms;return new ph(new xo(S),U,W)}class gh extends Rf{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gh}}function nl(r,e){if(uv(r=(0,Vn.m9)(r)))return Nf("Unsupported field value:",e,r),av(r,e);if(r instanceof Rf)return function(t,s){if(!sv(s.ca))throw s._a(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s._a(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,s){const a=[];let c=0;for(const p of t){let S=nl(p,s.wa(c));null==S&&(S={nullValue:"NULL_VALUE"}),a.push(S),c++}return{arrayValue:{values:a}}}(r,e)}return function(t,s){if(null===(t=(0,Vn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Sm(s.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=Qn.fromDate(t);return{timestampValue:Zc(s.serializer,a)}}if(t instanceof Qn){const a=new Qn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Zc(s.serializer,a)}}if(t instanceof Kg)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof tl)return{bytesValue:$m(s.serializer,t._byteString)};if(t instanceof Xs){const a=s.databaseId,c=t.firestore._databaseId;if(!c.isEqual(a))throw s._a(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:gp(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s._a(`Unsupported field value: ${ch(t)}`)}(r,e)}function av(r,e){const t={};return ul(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bu(r,(s,a)=>{const c=nl(a,e.ha(s));null!=c&&(t[s]=c)}),{mapValue:{fields:t}}}function uv(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof Qn||r instanceof Kg||r instanceof tl||r instanceof Xs||r instanceof Rf)}function Nf(r,e,t){if(!uv(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=ch(t);throw e._a("an object"===s?r+" a custom object":r+" "+s)}var s}function ml(r,e,t){if((e=(0,Vn.m9)(e))instanceof Rc)return e._internalPath;if("string"==typeof e)return kf(r,e);throw Ff("Field path arguments must be of type string or ",r,!1,void 0,t)}const g0=new RegExp("[~\\*/\\[\\]]");function kf(r,e,t){if(e.search(g0)>=0)throw Ff(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Rc(...e.split("."))._internalPath}catch{throw Ff(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Ff(r,e,t,s,a){const c=s&&!s.isEmpty(),p=void 0!==a;let S=`Function ${e}() called with invalid data`;t&&(S+=" (via `toFirestore()`)"),S+=". ";let U="";return(c||p)&&(U+=" (found",c&&(U+=` in field ${s}`),p&&(U+=` in document ${a}`),U+=")"),new Je(Ee.INVALID_ARGUMENT,S+r+U)}function lv(r,e){return r.some(t=>t.isEqual(e))}class cv{constructor(e,t,s,a,c){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Xs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new m0(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(mh("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class m0 extends cv{data(){return super.data()}}function mh(r,e){return"string"==typeof e?kf(r,e):e instanceof Rc?e._internalPath:e._delegate._internalPath}function dv(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new Je(Ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qg{}class pd extends Qg{}function y0(r,e,...t){let s=[];e instanceof Qg&&s.push(e),s=s.concat(t),function(a){const c=a.filter(S=>S instanceof xc).length,p=a.filter(S=>S instanceof gd).length;if(c>1||c>0&&p>0)throw new Je(Ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)r=a._apply(r);return r}class gd extends pd{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new gd(e,t,s)}_apply(e){const t=this._parse(e);return gv(e._query,t),new yo(e.firestore,e.converter,Mh(e._query,t))}_parse(e){const t=Oc(e.firestore);return function(a,c,p,S,U,W,ee){let ve;if(U.isKeyField()){if("array-contains"===W||"array-contains-any"===W)throw new Je(Ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${W}' queries on documentId().`);if("in"===W||"not-in"===W){pv(ee,W);const Qe=[];for(const Et of ee)Qe.push(fv(S,a,Et));ve={arrayValue:{values:Qe}}}else ve=fv(S,a,ee)}else"in"!==W&&"not-in"!==W&&"array-contains-any"!==W||pv(ee,W),ve=function Yg(r,e,t,s=!1){return nl(t,r.ya(s?4:3,e))}(p,"where",ee,"in"===W||"not-in"===W);return Nr.create(U,W,ve)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function v0(r,e,t){const s=e,a=mh("where",r);return gd._create(a,s,t)}class xc extends Qg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new xc(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===t.length?t[0]:Ti.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(s,a){let c=s;const p=a.getFlattenedFilters();for(const S of p)gv(c,S),c=Mh(c,S)}(e._query,t),new yo(e.firestore,e.converter,Mh(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Jg extends pd{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Jg(e,t)}_apply(e){const t=function(s,a,c){if(null!==s.startAt)throw new Je(Ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new Je(Ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const p=new cl(a,c);return function(S,U){if(null===ep(S)){const W=ac(S);null!==W&&mv(0,W,U.field)}}(s,p),p}(e._query,this._field,this._direction);return new yo(e.firestore,e.converter,function(s,a){const c=s.explicitOrderBy.concat([a]);return new zu(s.path,s.collectionGroup,c,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function Xg(r,e="asc"){const t=e,s=mh("orderBy",r);return Jg._create(s,t)}function fv(r,e,t){if("string"==typeof(t=(0,Vn.m9)(t))){if(""===t)throw new Je(Ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Su(e)&&-1!==t.indexOf("/"))throw new Je(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Jn.fromString(t));if(!Kt.isDocumentKey(s))throw new Je(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return cu(r,new Kt(s))}if(t instanceof Xs)return cu(r,t._key);throw new Je(Ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ch(t)}.`)}function pv(r,e){if(!Array.isArray(r)||0===r.length)throw new Je(Ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function gv(r,e){if(e.isInequality()){const s=ac(r),a=e.field;if(null!==s&&!s.isEqual(a))throw new Je(Ee.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${a.toString()}'`);const c=ep(r);null!==c&&mv(0,a,c)}const t=function(s,a){for(const c of s)for(const p of c.getFlattenedFilters())if(a.indexOf(p.op)>=0)return p.op;return null}(r.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Je(Ee.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function mv(r,e,t){if(!t.isEqual(e))throw new Je(Ee.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class D0{convertValue(e,t="none"){switch(Fn(e)){case 0:return null;case 1:return e.booleanValue;case 2:return y(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(T(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw G()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return bu(e,(a,c)=>{s[a]=this.convertValue(c,t)}),s}convertGeoPoint(e){return new Kg(y(e.latitude),y(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=te(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Le(e));default:return null}}convertTimestamp(e){const t=d(e);return new Qn(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Jn.fromString(e);ae(Zm(s));const a=new Bt(s.get(1),s.get(3)),c=new Kt(s.popFirst(5));return a.isEqual(t)||b(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}class Nc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yd extends cv{constructor(e,t,s,a,c,p){super(e,t,s,a,p),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new vd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(mh("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class vd extends yd{data(e={}){return super.data(e)}}class ql{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Nc(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new vd(this._firestore,this._userDataWriter,s.key,s,new Nc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Je(Ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(p=>({type:"added",doc:new vd(s._firestore,s._userDataWriter,p.doc.key,p.doc,new Nc(s._snapshot.mutatedKeys.has(p.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:c++}))}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(p=>a||3!==p.type).map(p=>{const S=new vd(s._firestore,s._userDataWriter,p.doc.key,p.doc,new Nc(s._snapshot.mutatedKeys.has(p.doc.key),s._snapshot.fromCache),s.query.converter);let U=-1,W=-1;return 0!==p.type&&(U=c.indexOf(p.doc.key),c=c.delete(p.doc.key)),1!==p.type&&(c=c.add(p.doc),W=c.indexOf(p.doc.key)),{type:vv(p.type),doc:S,oldIndex:U,newIndex:W}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function vv(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return G()}}class Zl extends D0{constructor(e){super(),this.firestore=e}convertBytes(e){return new tl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Xs(this.firestore,null,t)}}function wv(r){r=Ar(r,yo);const e=Ar(r.firestore,Ni),t=vo(e),s=new Zl(e);return dv(r._query),function Zy(r,e,t={}){const s=new Pn;return r.asyncQueue.enqueueAndForget((0,zt.Z)(function*(){return function(a,c,p,S,U){const W=new cd({next:ve=>{c.enqueueAndForget(()=>hf(a,ee)),ve.fromCache&&"server"===S.source?U.reject(new Je(Ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):U.resolve(ve)},error:ve=>U.reject(ve)}),ee=new gf(p,W,{includeMetadataChanges:!0,Ku:!0});return og(a,ee)}(yield dd(r),r.asyncQueue,e,t,s)})),s.promise}(t,r._query).then(a=>new ql(e,s,r,a))}function M0(r,e,t){r=Ar(r,Xs);const s=Ar(r.firestore,Ni),a=function em(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}(r.converter,e,t);return vh(s,[xf(Oc(s),"setDoc",r._key,a,null!==r.converter,t).toMutation(r._key,gs.none())])}function $E(r,e,t,...s){r=Ar(r,Xs);const a=Ar(r.firestore,Ni),c=Oc(a);let p;return p="string"==typeof(e=(0,Vn.m9)(e))||e instanceof Rc?function p0(r,e,t,s,a,c){const p=r.ya(1,e,t),S=[ml(e,s,t)],U=[a];if(c.length%2!=0)throw new Je(Ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Qe=0;Qe<c.length;Qe+=2)S.push(ml(e,c[Qe])),U.push(c[Qe+1]);const W=[],ee=xo.empty();for(let Qe=S.length-1;Qe>=0;--Qe)if(!lv(W,S[Qe])){const Et=S[Qe];let jt=U[Qe];jt=(0,Vn.m9)(jt);const sn=p.da(Et);if(jt instanceof gh)W.push(Et);else{const un=nl(jt,sn);null!=un&&(W.push(Et),ee.set(Et,un))}}const ve=new Oo(W);return new iv(ee,ve,p.fieldTransforms)}(c,"updateDoc",r._key,e,t,s):function f0(r,e,t,s){const a=r.ya(1,e,t);Nf("Data must be an object, but it was:",a,s);const c=[],p=xo.empty();bu(s,(U,W)=>{const ee=kf(e,U,t);W=(0,Vn.m9)(W);const ve=a.da(ee);if(W instanceof gh)c.push(ee);else{const Qe=nl(W,ve);null!=Qe&&(c.push(ee),p.set(ee,Qe))}});const S=new Oo(c);return new iv(p,S,a.fieldTransforms)}(c,"updateDoc",r._key,e),vh(a,[p.toMutation(r._key,gs.exists(!0))])}function Iv(r){return vh(Ar(r.firestore,Ni),[new hu(r._key,gs.none())])}function vh(r,e){return function(t,s){const a=new Pn;return t.asyncQueue.enqueueAndForget((0,zt.Z)(function*(){return function gg(r,e,t){return mg.apply(this,arguments)}(yield function Lg(r){return Sf(r).then(e=>e.syncEngine)}(t),s,a)})),a.promise}(vo(r),e)}!function(r,e=!0){ye=wn.SDK_VERSION,(0,wn._registerComponent)(new kr.wA("firestore",(t,{instanceIdentifier:s,options:a})=>{const c=t.getProvider("app").getImmediate(),p=new Ni(new Gr(t.getProvider("auth-internal")),new Mo(t.getProvider("app-check-internal")),function(S,U){if(!Object.prototype.hasOwnProperty.apply(S.options,["projectId"]))throw new Je(Ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bt(S.options.projectId,U)}(c,s),c);return a=Object.assign({useFetchStreams:e},a),p._setSettings(a),p},"PUBLIC").setMultipleInstances(!0)),(0,wn.registerVersion)(Q,"3.12.1",r),(0,wn.registerVersion)(Q,"3.12.1","esm2017")}();var _h=L(9751),tm=L(4004),Ov={includeMetadataChanges:!1};function jf(r,e){return void 0===e&&(e=Ov),new _h.y(function(t){var s=function P0(r,...e){var t,s,a;r=(0,Vn.m9)(r);let c={includeMetadataChanges:!1},p=0;"object"!=typeof e[p]||Hg(e[p])||(c=e[p],p++);const S={includeMetadataChanges:c.includeMetadataChanges};if(Hg(e[p])){const ve=e[p];e[p]=null===(t=ve.next)||void 0===t?void 0:t.bind(ve),e[p+1]=null===(s=ve.error)||void 0===s?void 0:s.bind(ve),e[p+2]=null===(a=ve.complete)||void 0===a?void 0:a.bind(ve)}let U,W,ee;if(r instanceof Xs)W=Ar(r.firestore,Ni),ee=zc(r._key.path),U={next:ve=>{e[p]&&e[p](function Uf(r,e,t){const s=t.docs.get(e._key),a=new Zl(r);return new yd(r,a,e._key,s,new Nc(t.hasPendingWrites,t.fromCache),e.converter)}(W,r,ve))},error:e[p+1],complete:e[p+2]};else{const ve=Ar(r,yo);W=Ar(ve.firestore,Ni),ee=ve._query;const Qe=new Zl(W);U={next:Et=>{e[p]&&e[p](new ql(W,Qe,ve,Et))},error:e[p+1],complete:e[p+2]},dv(r._query)}return function(ve,Qe,Et,jt){const sn=new cd(jt),un=new gf(Qe,sn,Et);return ve.asyncQueue.enqueueAndForget((0,zt.Z)(function*(){return og(yield dd(ve),un)})),()=>{sn.Dc(),ve.asyncQueue.enqueueAndForget((0,zt.Z)(function*(){return hf(yield dd(ve),un)}))}}(vo(W),ee,S,U)}(r,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:s}})}function sm(r,e){return void 0===e&&(e={}),function im(r){return jf(r,{includeMetadataChanges:!0}).pipe((0,tm.U)(function(e){return e.docs}))}(r).pipe((0,tm.U)(function(t){return t.map(function(s){return function nm(r,e){void 0===e&&(e={});var t=r.data();return!r.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=r.id),t}(s,e)})}))}class Yl{constructor(e){return e}}const Uv="firestore",_d=new D.OlP("angularfire2.firestore-instances");function U0(r){return(e,t)=>{const s=e.runOutsideAngular(()=>r(t));return new Yl(s)}}const B0={provide:class V0{constructor(){return(0,f.vb)(Uv)}},deps:[[new D.FiY,_d]]},Bv={provide:Yl,useFactory:function Hf(r,e){const t=(0,f.JM)(Uv,r,e);return t&&new Yl(t)},deps:[[new D.FiY,_d],B.Ot]};let om=(()=>{class r{constructor(){(0,ue.KN)("angularfire",f.q4.full,"fst")}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=D.oAB({type:r}),r.\u0275inj=D.cJS({providers:[Bv,B0]}),r})();function am(r,...e){return{ngModule:om,providers:[{provide:_d,useFactory:U0(r),multi:!0,deps:[D.R0b,D.zs3,f.HU,B.z6,[new D.FiY,Oe],[new D.FiY,kn.nm],...e]}]}}const um=(0,f.u3)(sm,!0),Gv=(0,f.u3)(tv,!0),K0=(0,f.u3)(Iv,!0),Y0=(0,f.u3)(r0,!0),lm=(0,f.u3)(wv,!0),cm=(0,f.u3)(As,!0),Gf=(0,f.u3)(Xg,!0),dm=(0,f.u3)(y0,!0),Ed=(0,f.u3)(M0,!0),_w=(0,f.u3)($E,!0),oE=(0,f.u3)(v0,!0)},4976:(Lt,je,L)=>{L.d(je,{q4:()=>oa,iC:()=>Jl,fc:()=>Tl,HU:()=>ou,vb:()=>Uc,JM:()=>Du,u3:()=>ec});var f=L(4650),D=L(259),B=L(5861),ue=L(6881),he=L(2090),we=L(4859),Te=L(1877);const Oe=(C,O)=>O.some(q=>C instanceof q);let ge,re;const ke=new WeakMap,ce=new WeakMap,We=new WeakMap,ct=new WeakMap,Fe=new WeakMap;let mt={get(C,O,q){if(C instanceof IDBTransaction){if("done"===O)return ce.get(C);if("objectStoreNames"===O)return C.objectStoreNames||We.get(C);if("store"===O)return q.objectStoreNames[1]?void 0:q.objectStore(q.objectStoreNames[0])}return Ct(C[O])},set:(C,O,q)=>(C[O]=q,!0),has:(C,O)=>C instanceof IDBTransaction&&("done"===O||"store"===O)||O in C};function st(C){return"function"==typeof C?function De(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ne(){return re||(re=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...O){return C.apply(yt(this),O),Ct(ke.get(this))}:function(...O){return Ct(C.apply(yt(this),O))}:function(O,...q){const oe=C.call(yt(this),O,...q);return We.set(oe,O.sort?O.sort():[O]),Ct(oe)}}(C):(C instanceof IDBTransaction&&function et(C){if(ce.has(C))return;const O=new Promise((q,oe)=>{const Pe=()=>{C.removeEventListener("complete",Ue),C.removeEventListener("error",gt),C.removeEventListener("abort",gt)},Ue=()=>{q(),Pe()},gt=()=>{oe(C.error||new DOMException("AbortError","AbortError")),Pe()};C.addEventListener("complete",Ue),C.addEventListener("error",gt),C.addEventListener("abort",gt)});ce.set(C,O)}(C),Oe(C,function ie(){return ge||(ge=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,mt):C)}function Ct(C){if(C instanceof IDBRequest)return function Ge(C){const O=new Promise((q,oe)=>{const Pe=()=>{C.removeEventListener("success",Ue),C.removeEventListener("error",gt)},Ue=()=>{q(Ct(C.result)),Pe()},gt=()=>{oe(C.error),Pe()};C.addEventListener("success",Ue),C.addEventListener("error",gt)});return O.then(q=>{q instanceof IDBCursor&&ke.set(q,C)}).catch(()=>{}),Fe.set(O,C),O}(C);if(ct.has(C))return ct.get(C);const O=st(C);return O!==C&&(ct.set(C,O),Fe.set(O,C)),O}const yt=C=>Fe.get(C),Qt=["get","getKey","getAll","getAllKeys","count"],Tt=["put","add","delete","clear"],Cn=new Map;function Ut(C,O){if(!(C instanceof IDBDatabase)||O in C||"string"!=typeof O)return;if(Cn.get(O))return Cn.get(O);const q=O.replace(/FromIndex$/,""),oe=O!==q,Pe=Tt.includes(q);if(!(q in(oe?IDBIndex:IDBObjectStore).prototype)||!Pe&&!Qt.includes(q))return;const Ue=function(){var gt=(0,B.Z)(function*(Yt,...Ht){const yn=this.transaction(Yt,Pe?"readwrite":"readonly");let $n=yn.store;return oe&&($n=$n.index(Ht.shift())),(yield Promise.all([$n[q](...Ht),Pe&&yn.done]))[0]});return function(Ht){return gt.apply(this,arguments)}}();return Cn.set(O,Ue),Ue}!function be(C){mt=C(mt)}(C=>({...C,get:(O,q,oe)=>Ut(O,q)||C.get(O,q,oe),has:(O,q)=>!!Ut(O,q)||C.has(O,q)}));const gi="@firebase/installations",ot="0.6.4",Ze=1e4,ut=`w:${ot}`,ft="FIS_v2",bt="https://firebaseinstallations.googleapis.com/v1",wt=36e5,_e=new he.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Be(C){return C instanceof he.ZR&&C.code.includes("request-failed")}function at({projectId:C}){return`${bt}/projects/${C}/installations`}function Wt(C){return{token:C.token,requestStatus:2,expiresIn:Qr(C.expiresIn),creationTime:Date.now()}}function Rn(C,O){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,B.Z)(function*(C,O){const oe=(yield O.json()).error;return _e.create("request-failed",{requestName:C,serverCode:oe.code,serverMessage:oe.message,serverStatus:oe.status})})).apply(this,arguments)}function ir({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function _n(C){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,B.Z)(function*(C){const O=yield C();return O.status>=500&&O.status<600?C():O})).apply(this,arguments)}function Qr(C){return Number(C.replace("s","000"))}function xt(){return(xt=(0,B.Z)(function*({appConfig:C,heartbeatServiceProvider:O},{fid:q}){const oe=at(C),Pe=ir(C),Ue=O.getImmediate({optional:!0});if(Ue){const yn=yield Ue.getHeartbeatsHeader();yn&&Pe.append("x-firebase-client",yn)}const Yt={method:"POST",headers:Pe,body:JSON.stringify({fid:q,authVersion:ft,appId:C.appId,sdkVersion:ut})},Ht=yield _n(()=>fetch(oe,Yt));if(Ht.ok){const yn=yield Ht.json();return{fid:yn.fid||q,registrationStatus:2,refreshToken:yn.refreshToken,authToken:Wt(yn.authToken)}}throw yield Rn("Create Installation",Ht)})).apply(this,arguments)}function Yn(C){return new Promise(O=>{setTimeout(O,C)})}const Ur=/^[cdef][\w-]{21}$/,Jr="";function $i(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const q=function dr(C){return function ki(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return Ur.test(q)?q:Jr}catch{return Jr}}function Sn(C){return`${C.appName}!${C.appId}`}const en=new Map;function hn(C,O){const q=Sn(C);tr(q,O),function fn(C,O){const q=function br(){return!gr&&"BroadcastChannel"in self&&(gr=new BroadcastChannel("[Firebase] FID Change"),gr.onmessage=C=>{tr(C.data.key,C.data.fid)}),gr}();q&&q.postMessage({key:C,fid:O}),function kn(){0===en.size&&gr&&(gr.close(),gr=null)}()}(q,O)}function tr(C,O){const q=en.get(C);if(q)for(const oe of q)oe(O)}let gr=null;const zt="firebase-installations-database",wn=1,kr="firebase-installations-store";let dn=null;function Vn(){return dn||(dn=function $e(C,O,{blocked:q,upgrade:oe,blocking:Pe,terminated:Ue}={}){const gt=indexedDB.open(C,O),Yt=Ct(gt);return oe&&gt.addEventListener("upgradeneeded",Ht=>{oe(Ct(gt.result),Ht.oldVersion,Ht.newVersion,Ct(gt.transaction))}),q&&gt.addEventListener("blocked",()=>q()),Yt.then(Ht=>{Ue&&Ht.addEventListener("close",()=>Ue()),Pe&&Ht.addEventListener("versionchange",()=>Pe())}).catch(()=>{}),Yt}(zt,wn,{upgrade:(C,O)=>{0===O&&C.createObjectStore(kr)}})),dn}function nr(C,O){return sr.apply(this,arguments)}function sr(){return(sr=(0,B.Z)(function*(C,O){const q=Sn(C),Pe=(yield Vn()).transaction(kr,"readwrite"),Ue=Pe.objectStore(kr),gt=yield Ue.get(q);return yield Ue.put(O,q),yield Pe.done,(!gt||gt.fid!==O.fid)&&hn(C,O.fid),O})).apply(this,arguments)}function Ot(C){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,B.Z)(function*(C){const O=Sn(C),oe=(yield Vn()).transaction(kr,"readwrite");yield oe.objectStore(kr).delete(O),yield oe.done})).apply(this,arguments)}function an(C,O){return vr.apply(this,arguments)}function vr(){return(vr=(0,B.Z)(function*(C,O){const q=Sn(C),Pe=(yield Vn()).transaction(kr,"readwrite"),Ue=Pe.objectStore(kr),gt=yield Ue.get(q),Yt=O(gt);return void 0===Yt?yield Ue.delete(q):yield Ue.put(Yt,q),yield Pe.done,Yt&&(!gt||gt.fid!==Yt.fid)&&hn(C,Yt.fid),Yt})).apply(this,arguments)}function me(C){return pe.apply(this,arguments)}function pe(){return pe=(0,B.Z)(function*(C){let O;const q=yield an(C.appConfig,oe=>{const Pe=function Se(C){return Ae(C||{fid:$i(),registrationStatus:0})}(oe),Ue=function pt(C,O){if(0===O.registrationStatus){if(!navigator.onLine)return{installationEntry:O,registrationPromise:Promise.reject(_e.create("app-offline"))};const q={fid:O.fid,registrationStatus:1,registrationTime:Date.now()},oe=function qe(C,O){return Rt.apply(this,arguments)}(C,q);return{installationEntry:q,registrationPromise:oe}}return 1===O.registrationStatus?{installationEntry:O,registrationPromise:Ie(C)}:{installationEntry:O}}(C,Pe);return O=Ue.registrationPromise,Ue.installationEntry});return q.fid===Jr?{installationEntry:yield O}:{installationEntry:q,registrationPromise:O}}),pe.apply(this,arguments)}function Rt(){return Rt=(0,B.Z)(function*(C,O){try{const q=yield function Mn(C,O){return xt.apply(this,arguments)}(C,O);return nr(C.appConfig,q)}catch(q){throw Be(q)&&409===q.customData.serverCode?yield Ot(C.appConfig):yield nr(C.appConfig,{fid:O.fid,registrationStatus:0}),q}}),Rt.apply(this,arguments)}function Ie(C){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,B.Z)(function*(C){let O=yield se(C.appConfig);for(;1===O.registrationStatus;)yield Yn(100),O=yield se(C.appConfig);if(0===O.registrationStatus){const{installationEntry:q,registrationPromise:oe}=yield me(C);return oe||q}return O})).apply(this,arguments)}function se(C){return an(C,O=>{if(!O)throw _e.create("installation-not-found");return Ae(O)})}function Ae(C){return function dt(C){return 1===C.registrationStatus&&C.registrationTime+Ze<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function rn(){return(rn=(0,B.Z)(function*({appConfig:C,heartbeatServiceProvider:O},q){const oe=function Gn(C,{fid:O}){return`${at(C)}/${O}/authTokens:generate`}(C,q),Pe=function Nn(C,{refreshToken:O}){const q=ir(C);return q.append("Authorization",function bi(C){return`${ft} ${C}`}(O)),q}(C,q),Ue=O.getImmediate({optional:!0});if(Ue){const yn=yield Ue.getHeartbeatsHeader();yn&&Pe.append("x-firebase-client",yn)}const Yt={method:"POST",headers:Pe,body:JSON.stringify({installation:{sdkVersion:ut,appId:C.appId}})},Ht=yield _n(()=>fetch(oe,Yt));if(Ht.ok)return Wt(yield Ht.json());throw yield Rn("Generate Auth Token",Ht)})).apply(this,arguments)}function Tn(C){return ei.apply(this,arguments)}function ei(){return ei=(0,B.Z)(function*(C,O=!1){let q;const oe=yield an(C.appConfig,Ue=>{if(!In(Ue))throw _e.create("not-registered");const gt=Ue.authToken;if(!O&&function Zt(C){return 2===C.requestStatus&&!function Un(C){const O=Date.now();return O<C.creationTime||C.creationTime+C.expiresIn<O+wt}(C)}(gt))return Ue;if(1===gt.requestStatus)return q=function rt(C,O){return Ke.apply(this,arguments)}(C,O),Ue;{if(!navigator.onLine)throw _e.create("app-offline");const Yt=function On(C){const O={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:O})}(Ue);return q=function Gt(C,O){return ln.apply(this,arguments)}(C,Yt),Yt}});return q?yield q:oe.authToken}),ei.apply(this,arguments)}function Ke(){return(Ke=(0,B.Z)(function*(C,O){let q=yield St(C.appConfig);for(;1===q.authToken.requestStatus;)yield Yn(100),q=yield St(C.appConfig);const oe=q.authToken;return 0===oe.requestStatus?Tn(C,O):oe})).apply(this,arguments)}function St(C){return an(C,O=>{if(!In(O))throw _e.create("not-registered");return function Pr(C){return 1===C.requestStatus&&C.requestTime+Ze<Date.now()}(O.authToken)?Object.assign(Object.assign({},O),{authToken:{requestStatus:0}}):O})}function ln(){return ln=(0,B.Z)(function*(C,O){try{const q=yield function At(C,O){return rn.apply(this,arguments)}(C,O),oe=Object.assign(Object.assign({},O),{authToken:q});return yield nr(C.appConfig,oe),q}catch(q){if(!Be(q)||401!==q.customData.serverCode&&404!==q.customData.serverCode){const oe=Object.assign(Object.assign({},O),{authToken:{requestStatus:0}});yield nr(C.appConfig,oe)}else yield Ot(C.appConfig);throw q}}),ln.apply(this,arguments)}function In(C){return void 0!==C&&2===C.registrationStatus}function Wi(){return(Wi=(0,B.Z)(function*(C){const O=C,{installationEntry:q,registrationPromise:oe}=yield me(O);return oe?oe.catch(console.error):Tn(O).catch(console.error),q.fid})).apply(this,arguments)}function Ki(){return Ki=(0,B.Z)(function*(C,O=!1){const q=C;return yield function or(C){return Vt.apply(this,arguments)}(q),(yield Tn(q,O)).token}),Ki.apply(this,arguments)}function Vt(){return(Vt=(0,B.Z)(function*(C){const{registrationPromise:O}=yield me(C);O&&(yield O)})).apply(this,arguments)}function Re(C){return _e.create("missing-app-config-values",{valueName:C})}const Me="installations",Dt=C=>{const O=C.getProvider("app").getImmediate(),q=function xe(C){if(!C||!C.options)throw Re("App Configuration");if(!C.name)throw Re("App Name");const O=["projectId","apiKey","appId"];for(const q of O)if(!C.options[q])throw Re(q);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(O);return{app:O,appConfig:q,heartbeatServiceProvider:(0,ue._getProvider)(O,"heartbeat"),_delete:()=>Promise.resolve()}},cn=C=>{const O=C.getProvider("app").getImmediate(),q=(0,ue._getProvider)(O,Me).getImmediate();return{getId:()=>function Rr(C){return Wi.apply(this,arguments)}(q),getToken:Pe=>function eo(C){return Ki.apply(this,arguments)}(q,Pe)}};(function An(){(0,ue._registerComponent)(new we.wA(Me,Dt,"PUBLIC")),(0,ue._registerComponent)(new we.wA("installations-internal",cn,"PRIVATE"))})(),(0,ue.registerVersion)(gi,ot),(0,ue.registerVersion)(gi,ot,"esm2017");const gn="@firebase/remote-config",yi=new he.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Zo{constructor(O,q,oe,Pe){this.client=O,this.storage=q,this.storageCache=oe,this.logger=Pe}isCachedDataFresh(O,q){if(!q)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const oe=Date.now()-q,Pe=oe<=O;return this.logger.debug(`Config fetch cache check. Cache age millis: ${oe}. Cache max age millis (minimumFetchIntervalMillis setting): ${O}. Is cache hit: ${Pe}.`),Pe}fetch(O){var q=this;return(0,B.Z)(function*(){const[oe,Pe]=yield Promise.all([q.storage.getLastSuccessfulFetchTimestampMillis(),q.storage.getLastSuccessfulFetchResponse()]);if(Pe&&q.isCachedDataFresh(O.cacheMaxAgeMillis,oe))return Pe;O.eTag=Pe&&Pe.eTag;const Ue=yield q.client.fetch(O),gt=[q.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ue.status&&gt.push(q.storage.setLastSuccessfulFetchResponse(Ue)),yield Promise.all(gt),Ue})()}}function Fo(C=navigator){return C.languages&&C.languages[0]||C.language}class ys{constructor(O,q,oe,Pe,Ue,gt){this.firebaseInstallations=O,this.sdkVersion=q,this.namespace=oe,this.projectId=Pe,this.apiKey=Ue,this.appId=gt}fetch(O){var q=this;return(0,B.Z)(function*(){const[oe,Pe]=yield Promise.all([q.firebaseInstallations.getId(),q.firebaseInstallations.getToken()]),gt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${q.projectId}/namespaces/${q.namespace}:fetch?key=${q.apiKey}`,Yt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":O.eTag||"*"},Ht={sdk_version:q.sdkVersion,app_instance_id:oe,app_instance_id_token:Pe,app_id:q.appId,language_code:Fo()},yn={method:"POST",headers:Yt,body:JSON.stringify(Ht)},$n=fetch(gt,yn),Hn=new Promise((Ro,aa)=>{O.signal.addEventListener(()=>{const Sl=new Error("The operation was aborted.");Sl.name="AbortError",aa(Sl)})});let po;try{yield Promise.race([$n,Hn]),po=yield $n}catch(Ro){let aa="fetch-client-network";throw"AbortError"===Ro?.name&&(aa="fetch-timeout"),yi.create(aa,{originalErrorMessage:Ro?.message})}let Vs=po.status;const lu=po.headers.get("ETag")||void 0;let tc,Tu;if(200===po.status){let Ro;try{Ro=yield po.json()}catch(aa){throw yi.create("fetch-client-parse",{originalErrorMessage:aa?.message})}tc=Ro.entries,Tu=Ro.state}if("INSTANCE_STATE_UNSPECIFIED"===Tu?Vs=500:"NO_CHANGE"===Tu?Vs=304:("NO_TEMPLATE"===Tu||"EMPTY_CONFIG"===Tu)&&(tc={}),304!==Vs&&200!==Vs)throw yi.create("fetch-status",{httpStatus:Vs});return{status:Vs,eTag:lu,config:tc}})()}}class Yo{constructor(O,q){this.client=O,this.storage=q}fetch(O){var q=this;return(0,B.Z)(function*(){const oe=(yield q.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return q.attemptFetch(O,oe)})()}attemptFetch(O,{throttleEndTimeMillis:q,backoffCount:oe}){var Pe=this;return(0,B.Z)(function*(){yield function no(C,O){return new Promise((q,oe)=>{const Pe=Math.max(O-Date.now(),0),Ue=setTimeout(q,Pe);C.addEventListener(()=>{clearTimeout(Ue),oe(yi.create("fetch-throttle",{throttleEndTimeMillis:O}))})})}(O.signal,q);try{const Ue=yield Pe.client.fetch(O);return yield Pe.storage.deleteThrottleMetadata(),Ue}catch(Ue){if(!function Lo(C){if(!(C instanceof he.ZR&&C.customData))return!1;const O=Number(C.customData.httpStatus);return 429===O||500===O||503===O||504===O}(Ue))throw Ue;const gt={throttleEndTimeMillis:Date.now()+(0,he.$s)(oe),backoffCount:oe+1};return yield Pe.storage.setThrottleMetadata(gt),Pe.attemptFetch(O,gt)}})()}}class ca{constructor(O,q,oe,Pe,Ue){this.app=O,this._client=q,this._storageCache=oe,this._storage=Pe,this._logger=Ue,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function di(C,O){const q=C.target.error||void 0;return yi.create(O,{originalErrorMessage:q&&q?.message})}const Rs="app_namespace_store";class Uo{constructor(O,q,oe,Pe=function Vo(){return new Promise((C,O)=>{try{const q=indexedDB.open("firebase_remote_config",1);q.onerror=oe=>{O(di(oe,"storage-open"))},q.onsuccess=oe=>{C(oe.target.result)},q.onupgradeneeded=oe=>{0===oe.oldVersion&&oe.target.result.createObjectStore(Rs,{keyPath:"compositeKey"})}}catch(q){O(yi.create("storage-open",{originalErrorMessage:q?.message}))}})}()){this.appId=O,this.appName=q,this.namespace=oe,this.openDbPromise=Pe}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(O){return this.set("last_fetch_status",O)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(O){return this.set("last_successful_fetch_timestamp_millis",O)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(O){return this.set("last_successful_fetch_response",O)}getActiveConfig(){return this.get("active_config")}setActiveConfig(O){return this.set("active_config",O)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(O){return this.set("active_config_etag",O)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(O){return this.set("throttle_metadata",O)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(O){var q=this;return(0,B.Z)(function*(){const oe=yield q.openDbPromise;return new Promise((Pe,Ue)=>{const Yt=oe.transaction([Rs],"readonly").objectStore(Rs),Ht=q.createCompositeKey(O);try{const yn=Yt.get(Ht);yn.onerror=$n=>{Ue(di($n,"storage-get"))},yn.onsuccess=$n=>{const Hn=$n.target.result;Pe(Hn?Hn.value:void 0)}}catch(yn){Ue(yi.create("storage-get",{originalErrorMessage:yn?.message}))}})})()}set(O,q){var oe=this;return(0,B.Z)(function*(){const Pe=yield oe.openDbPromise;return new Promise((Ue,gt)=>{const Ht=Pe.transaction([Rs],"readwrite").objectStore(Rs),yn=oe.createCompositeKey(O);try{const $n=Ht.put({compositeKey:yn,value:q});$n.onerror=Hn=>{gt(di(Hn,"storage-set"))},$n.onsuccess=()=>{Ue()}}catch($n){gt(yi.create("storage-set",{originalErrorMessage:$n?.message}))}})})()}delete(O){var q=this;return(0,B.Z)(function*(){const oe=yield q.openDbPromise;return new Promise((Pe,Ue)=>{const Yt=oe.transaction([Rs],"readwrite").objectStore(Rs),Ht=q.createCompositeKey(O);try{const yn=Yt.delete(Ht);yn.onerror=$n=>{Ue(di($n,"storage-delete"))},yn.onsuccess=()=>{Pe()}}catch(yn){Ue(yi.create("storage-delete",{originalErrorMessage:yn?.message}))}})})()}createCompositeKey(O){return[this.appId,this.appName,this.namespace,O].join()}}class _s{constructor(O){this.storage=O}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var O=this;return(0,B.Z)(function*(){const q=O.storage.getLastFetchStatus(),oe=O.storage.getLastSuccessfulFetchTimestampMillis(),Pe=O.storage.getActiveConfig(),Ue=yield q;Ue&&(O.lastFetchStatus=Ue);const gt=yield oe;gt&&(O.lastSuccessfulFetchTimestampMillis=gt);const Yt=yield Pe;Yt&&(O.activeConfig=Yt)})()}setLastFetchStatus(O){return this.lastFetchStatus=O,this.storage.setLastFetchStatus(O)}setLastSuccessfulFetchTimestampMillis(O){return this.lastSuccessfulFetchTimestampMillis=O,this.storage.setLastSuccessfulFetchTimestampMillis(O)}setActiveConfig(O){return this.activeConfig=O,this.storage.setActiveConfig(O)}}function Es(){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,B.Z)(function*(){if(!(0,he.hl)())return!1;try{return yield(0,he.eu)()}catch{return!1}})).apply(this,arguments)}!function vi(){(0,ue._registerComponent)(new we.wA("remote-config",function C(O,{instanceIdentifier:q}){const oe=O.getProvider("app").getImmediate(),Pe=O.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw yi.create("registration-window");if(!(0,he.hl)())throw yi.create("indexed-db-unavailable");const{projectId:Ue,apiKey:gt,appId:Yt}=oe.options;if(!Ue)throw yi.create("registration-project-id");if(!gt)throw yi.create("registration-api-key");if(!Yt)throw yi.create("registration-app-id");const Ht=new Uo(Yt,oe.name,q=q||"firebase"),yn=new _s(Ht),$n=new Te.Yd(gn);$n.logLevel=Te.in.ERROR;const Hn=new ys(Pe,ue.SDK_VERSION,q,Ue,gt,Yt),po=new Yo(Hn,Ht),Vs=new Zo(po,Ht,yn,$n),lu=new ca(oe,Vs,yn,Ht,$n);return function Zr(C){const O=(0,he.m9)(C);O._initializePromise||(O._initializePromise=O._storageCache.loadFromStorage().then(()=>{O._isInitializationComplete=!0}))}(lu),lu},"PUBLIC").setMultipleInstances(!0)),(0,ue.registerVersion)(gn,"0.4.4"),(0,ue.registerVersion)(gn,"0.4.4","esm2017")}();const ha=(C,O)=>O.some(q=>C instanceof q);let Li,so;const ws=new WeakMap,oo=new WeakMap,Kn=new WeakMap,Ws=new WeakMap,Is=new WeakMap;let as={get(C,O,q){if(C instanceof IDBTransaction){if("done"===O)return oo.get(C);if("objectStoreNames"===O)return C.objectStoreNames||Kn.get(C);if("store"===O)return q.objectStoreNames[1]?void 0:q.objectStore(q.objectStoreNames[0])}return hi(C[O])},set:(C,O,q)=>(C[O]=q,!0),has:(C,O)=>C instanceof IDBTransaction&&("done"===O||"store"===O)||O in C};function Zi(C){return"function"==typeof C?function Qo(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ua(){return so||(so=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...O){return C.apply(oi(this),O),hi(ws.get(this))}:function(...O){return hi(C.apply(oi(this),O))}:function(O,...q){const oe=C.call(oi(this),O,...q);return Kn.set(oe,O.sort?O.sort():[O]),hi(oe)}}(C):(C instanceof IDBTransaction&&function xs(C){if(oo.has(C))return;const O=new Promise((q,oe)=>{const Pe=()=>{C.removeEventListener("complete",Ue),C.removeEventListener("error",gt),C.removeEventListener("abort",gt)},Ue=()=>{q(),Pe()},gt=()=>{oe(C.error||new DOMException("AbortError","AbortError")),Pe()};C.addEventListener("complete",Ue),C.addEventListener("error",gt),C.addEventListener("abort",gt)});oo.set(C,O)}(C),ha(C,function Os(){return Li||(Li=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,as):C)}function hi(C){if(C instanceof IDBRequest)return function jr(C){const O=new Promise((q,oe)=>{const Pe=()=>{C.removeEventListener("success",Ue),C.removeEventListener("error",gt)},Ue=()=>{q(hi(C.result)),Pe()},gt=()=>{oe(C.error),Pe()};C.addEventListener("success",Ue),C.addEventListener("error",gt)});return O.then(q=>{q instanceof IDBCursor&&ws.set(q,C)}).catch(()=>{}),Is.set(O,C),O}(C);if(Ws.has(C))return Ws.get(C);const O=Zi(C);return O!==C&&(Ws.set(C,O),Is.set(O,C)),O}const oi=C=>Is.get(C);function ao(C,O,{blocked:q,upgrade:oe,blocking:Pe,terminated:Ue}={}){const gt=indexedDB.open(C,O),Yt=hi(gt);return oe&&gt.addEventListener("upgradeneeded",Ht=>{oe(hi(gt.result),Ht.oldVersion,Ht.newVersion,hi(gt.transaction))}),q&&gt.addEventListener("blocked",()=>q()),Yt.then(Ht=>{Ue&&Ht.addEventListener("close",()=>Ue()),Pe&&Ht.addEventListener("versionchange",()=>Pe())}).catch(()=>{}),Yt}function Pi(C,{blocked:O}={}){const q=indexedDB.deleteDatabase(C);return O&&q.addEventListener("blocked",()=>O()),hi(q).then(()=>{})}const Do=["get","getKey","getAll","getAllKeys","count"],ti=["put","add","delete","clear"],us=new Map;function Vi(C,O){if(!(C instanceof IDBDatabase)||O in C||"string"!=typeof O)return;if(us.get(O))return us.get(O);const q=O.replace(/FromIndex$/,""),oe=O!==q,Pe=ti.includes(q);if(!(q in(oe?IDBIndex:IDBObjectStore).prototype)||!Pe&&!Do.includes(q))return;const Ue=function(){var gt=(0,B.Z)(function*(Yt,...Ht){const yn=this.transaction(Yt,Pe?"readwrite":"readonly");let $n=yn.store;return oe&&($n=$n.index(Ht.shift())),(yield Promise.all([$n[q](...Ht),Pe&&yn.done]))[0]});return function(Ht){return gt.apply(this,arguments)}}();return us.set(O,Ue),Ue}!function Er(C){as=C(as)}(C=>({...C,get:(O,q,oe)=>Vi(O,q)||C.get(O,q,oe),has:(O,q)=>!!Vi(O,q)||C.has(O,q)}));const En="/firebase-messaging-sw.js",Co="/firebase-cloud-messaging-push-scope",$="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",V="https://fcmregistrations.googleapis.com/v1",x="google.c.a.c_id",J="google.c.a.c_l",nt="google.c.a.ts",tn="google.c.a.e";var it=(()=>{return(C=it||(it={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",it;var C})();function mn(C){const O=new Uint8Array(C);return btoa(String.fromCharCode(...O)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function fi(C){const q=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),oe=atob(q),Pe=new Uint8Array(oe.length);for(let Ue=0;Ue<oe.length;++Ue)Pe[Ue]=oe.charCodeAt(Ue);return Pe}const Ds="fcm_token_details_db",Hr=5,To="fcm_token_object_Store";function Cs(){return Cs=(0,B.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ue=>Ue.name).includes(Ds))return null;let O=null;return(yield ao(Ds,Hr,{upgrade:(oe=(0,B.Z)(function*(Pe,Ue,gt,Yt){var Ht;if(Ue<2||!Pe.objectStoreNames.contains(To))return;const yn=Yt.objectStore(To),$n=yield yn.index("fcmSenderId").get(C);if(yield yn.clear(),$n)if(2===Ue){const Hn=$n;if(!Hn.auth||!Hn.p256dh||!Hn.endpoint)return;O={token:Hn.fcmToken,createTime:null!==(Ht=Hn.createTime)&&void 0!==Ht?Ht:Date.now(),subscriptionOptions:{auth:Hn.auth,p256dh:Hn.p256dh,endpoint:Hn.endpoint,swScope:Hn.swScope,vapidKey:"string"==typeof Hn.vapidKey?Hn.vapidKey:mn(Hn.vapidKey)}}}else if(3===Ue){const Hn=$n;O={token:Hn.fcmToken,createTime:Hn.createTime,subscriptionOptions:{auth:mn(Hn.auth),p256dh:mn(Hn.p256dh),endpoint:Hn.endpoint,swScope:Hn.swScope,vapidKey:mn(Hn.vapidKey)}}}else if(4===Ue){const Hn=$n;O={token:Hn.fcmToken,createTime:Hn.createTime,subscriptionOptions:{auth:mn(Hn.auth),p256dh:mn(Hn.p256dh),endpoint:Hn.endpoint,swScope:Hn.swScope,vapidKey:mn(Hn.vapidKey)}}}}),function(Ue,gt,Yt,Ht){return oe.apply(this,arguments)})})).close(),yield Pi(Ds),yield Pi("fcm_vapid_details_db"),yield Pi("undefined"),function Ns(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:O}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof O.auth&&O.auth.length>0&&"string"==typeof O.p256dh&&O.p256dh.length>0&&"string"==typeof O.endpoint&&O.endpoint.length>0&&"string"==typeof O.swScope&&O.swScope.length>0&&"string"==typeof O.vapidKey&&O.vapidKey.length>0}(O)?O:null;var oe}),Cs.apply(this,arguments)}const ls="firebase-messaging-database",fa=1,ks="firebase-messaging-store";let uo=null;function Bn(){return uo||(uo=ao(ls,fa,{upgrade:(C,O)=>{0===O&&C.createObjectStore(ks)}})),uo}function Ri(C){return cs.apply(this,arguments)}function cs(){return cs=(0,B.Z)(function*(C){const O=So(C),oe=yield(yield Bn()).transaction(ks).objectStore(ks).get(O);if(oe)return oe;{const Pe=yield function bo(C){return Cs.apply(this,arguments)}(C.appConfig.senderId);if(Pe)return yield ds(C,Pe),Pe}}),cs.apply(this,arguments)}function ds(C,O){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,B.Z)(function*(C,O){const q=So(C),Pe=(yield Bn()).transaction(ks,"readwrite");return yield Pe.objectStore(ks).put(O,q),yield Pe.done,O})).apply(this,arguments)}function Ks(){return(Ks=(0,B.Z)(function*(C){const O=So(C),oe=(yield Bn()).transaction(ks,"readwrite");yield oe.objectStore(ks).delete(O),yield oe.done})).apply(this,arguments)}function So({appConfig:C}){return C.appId}const ai=new he.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function lo(C,O){return bs.apply(this,arguments)}function bs(){return(bs=(0,B.Z)(function*(C,O){const q=yield Bo(C),oe=ta(O),Pe={method:"POST",headers:q,body:JSON.stringify(oe)};let Ue;try{Ue=yield(yield fetch(ea(C.appConfig),Pe)).json()}catch(gt){throw ai.create("token-subscribe-failed",{errorInfo:gt?.toString()})}if(Ue.error)throw ai.create("token-subscribe-failed",{errorInfo:Ue.error.message});if(!Ue.token)throw ai.create("token-subscribe-no-token");return Ue.token})).apply(this,arguments)}function Xo(){return(Xo=(0,B.Z)(function*(C,O){const q=yield Bo(C),oe=ta(O.subscriptionOptions),Pe={method:"PATCH",headers:q,body:JSON.stringify(oe)};let Ue;try{Ue=yield(yield fetch(`${ea(C.appConfig)}/${O.token}`,Pe)).json()}catch(gt){throw ai.create("token-update-failed",{errorInfo:gt?.toString()})}if(Ue.error)throw ai.create("token-update-failed",{errorInfo:Ue.error.message});if(!Ue.token)throw ai.create("token-update-no-token");return Ue.token})).apply(this,arguments)}function Aa(C,O){return ts.apply(this,arguments)}function ts(){return(ts=(0,B.Z)(function*(C,O){const oe={method:"DELETE",headers:yield Bo(C)};try{const Ue=yield(yield fetch(`${ea(C.appConfig)}/${O}`,oe)).json();if(Ue.error)throw ai.create("token-unsubscribe-failed",{errorInfo:Ue.error.message})}catch(Pe){throw ai.create("token-unsubscribe-failed",{errorInfo:Pe?.toString()})}})).apply(this,arguments)}function ea({projectId:C}){return`${V}/projects/${C}/registrations`}function Bo(C){return qs.apply(this,arguments)}function qs(){return(qs=(0,B.Z)(function*({appConfig:C,installations:O}){const q=yield O.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${q}`})})).apply(this,arguments)}function ta({p256dh:C,auth:O,endpoint:q,vapidKey:oe}){const Pe={web:{endpoint:q,auth:O,p256dh:C}};return oe!==$&&(Pe.web.applicationPubKey=oe),Pe}const Ba=6048e5;function $a(){return $a=(0,B.Z)(function*(C){const O=yield function ku(C,O){return pa.apply(this,arguments)}(C.swRegistration,C.vapidKey),q={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:O.endpoint,auth:mn(O.getKey("auth")),p256dh:mn(O.getKey("p256dh"))},oe=yield Ri(C.firebaseDependencies);if(oe){if(function Pa(C,O){return O.vapidKey===C.vapidKey&&O.endpoint===C.endpoint&&O.auth===C.auth&&O.p256dh===C.p256dh}(oe.subscriptionOptions,q))return Date.now()>=oe.createTime+Ba?function Or(C,O){return Ma.apply(this,arguments)}(C,{token:oe.token,createTime:Date.now(),subscriptionOptions:q}):oe.token;try{yield Aa(C.firebaseDependencies,oe.token)}catch(Pe){console.warn(Pe)}return jo(C.firebaseDependencies,q)}return jo(C.firebaseDependencies,q)}),$a.apply(this,arguments)}function Fs(){return Fs=(0,B.Z)(function*(C){const O=yield Ri(C.firebaseDependencies);O&&(yield Aa(C.firebaseDependencies,O.token),yield function Sa(C){return Ks.apply(this,arguments)}(C.firebaseDependencies));const q=yield C.swRegistration.pushManager.getSubscription();return!q||q.unsubscribe()}),Fs.apply(this,arguments)}function Ma(){return Ma=(0,B.Z)(function*(C,O){try{const q=yield function Jo(C,O){return Xo.apply(this,arguments)}(C.firebaseDependencies,O),oe=Object.assign(Object.assign({},O),{token:q,createTime:Date.now()});return yield ds(C.firebaseDependencies,oe),q}catch(q){throw yield function Ui(C){return Fs.apply(this,arguments)}(C),q}}),Ma.apply(this,arguments)}function jo(C,O){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,B.Z)(function*(C,O){const oe={token:yield lo(C,O),createTime:Date.now(),subscriptionOptions:O};return yield ds(C,oe),oe.token})).apply(this,arguments)}function pa(){return(pa=(0,B.Z)(function*(C,O){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:fi(O)})})).apply(this,arguments)}function Zs(C){const O={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function co(C,O){if(!O.notification)return;C.notification={};const q=O.notification.title;q&&(C.notification.title=q);const oe=O.notification.body;oe&&(C.notification.body=oe);const Pe=O.notification.image;Pe&&(C.notification.image=Pe);const Ue=O.notification.icon;Ue&&(C.notification.icon=Ue)}(O,C),function ga(C,O){O.data&&(C.data=O.data)}(O,C),function P(C,O){var q,oe,Pe,Ue,gt;if(!(O.fcmOptions||null!==(q=O.notification)&&void 0!==q&&q.click_action))return;C.fcmOptions={};const Yt=null!==(Pe=null===(oe=O.fcmOptions)||void 0===oe?void 0:oe.link)&&void 0!==Pe?Pe:null===(Ue=O.notification)||void 0===Ue?void 0:Ue.click_action;Yt&&(C.fcmOptions.link=Yt);const Ht=null===(gt=O.fcmOptions)||void 0===gt?void 0:gt.analytics_label;Ht&&(C.fcmOptions.analyticsLabel=Ht)}(O,C),O}function F(C,O){const q=[];for(let oe=0;oe<C.length;oe++)q.push(C.charAt(oe)),oe<O.length&&q.push(O.charAt(oe));return q.join("")}function fe(C){return ai.create("missing-app-config-values",{valueName:C})}F("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),F("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class lt{constructor(O,q,oe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Pe=function Y(C){if(!C||!C.options)throw fe("App Configuration Object");if(!C.name)throw fe("App Name");const O=["projectId","apiKey","appId","messagingSenderId"],{options:q}=C;for(const oe of O)if(!q[oe])throw fe(oe);return{appName:C.name,projectId:q.projectId,apiKey:q.apiKey,appId:q.appId,senderId:q.messagingSenderId}}(O);this.firebaseDependencies={app:O,appConfig:Pe,installations:q,analyticsProvider:oe}}_delete(){return Promise.resolve()}}function It(C){return nn.apply(this,arguments)}function nn(){return(nn=(0,B.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(En,{scope:Co}),C.swRegistration.update().catch(()=>{})}catch(O){throw ai.create("failed-service-worker-registration",{browserErrorMessage:O?.message})}})).apply(this,arguments)}function rr(){return(rr=(0,B.Z)(function*(C,O){if(!O&&!C.swRegistration&&(yield It(C)),O||!C.swRegistration){if(!(O instanceof ServiceWorkerRegistration))throw ai.create("invalid-sw-registration");C.swRegistration=O}})).apply(this,arguments)}function xn(){return(xn=(0,B.Z)(function*(C,O){O?C.vapidKey=O:C.vapidKey||(C.vapidKey=$)})).apply(this,arguments)}function jn(){return jn=(0,B.Z)(function*(C,O){if(!navigator)throw ai.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ai.create("permission-blocked");return yield function hr(C,O){return xn.apply(this,arguments)}(C,O?.vapidKey),yield function er(C,O){return rr.apply(this,arguments)}(C,O?.serviceWorkerRegistration),function ja(C){return $a.apply(this,arguments)}(C)}),jn.apply(this,arguments)}function hs(){return(hs=(0,B.Z)(function*(C,O,q){const oe=function Oi(C){switch(C){case it.NOTIFICATION_CLICKED:return"notification_open";case it.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(O);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(oe,{message_id:q[x],message_name:q[J],message_time:q[nt],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Vr(){return Vr=(0,B.Z)(function*(C,O){const q=O.data;if(!q.isFirebaseMessaging)return;C.onMessageHandler&&q.messageType===it.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(Zs(q)):C.onMessageHandler.next(Zs(q)));const oe=q.data;(function z(C){return"object"==typeof C&&!!C&&x in C})(oe)&&"1"===oe[tn]&&(yield function Lr(C,O,q){return hs.apply(this,arguments)}(C,q.messageType,oe))}),Vr.apply(this,arguments)}const Bi="@firebase/messaging",Yi=C=>{const O=new lt(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",q=>function mr(C,O){return Vr.apply(this,arguments)}(O,q)),O},Ra=C=>{const O=C.getProvider("messaging").getImmediate();return{getToken:oe=>function Fr(C,O){return jn.apply(this,arguments)}(O,oe)}};function Fu(){return iu.apply(this,arguments)}function iu(){return(iu=(0,B.Z)(function*(){try{yield(0,he.eu)()}catch{return!1}return typeof window<"u"&&(0,he.hl)()&&(0,he.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ma(){(0,ue._registerComponent)(new we.wA("messaging",Yi,"PUBLIC")),(0,ue._registerComponent)(new we.wA("messaging-internal",Ra,"PRIVATE")),(0,ue.registerVersion)(Bi,"0.12.4"),(0,ue.registerVersion)(Bi,"0.12.4","esm2017")}();const xa="analytics",Ei="firebase_id",Vu="origin",ra=6e4,yu="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Na="https://www.googletagmanager.com/gtag/js",ui=new Te.Yd("@firebase/analytics"),ni=new he.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function vu(C){if(!C.startsWith(Na)){const O=ni.create("invalid-gtag-resource",{gtagURL:C});return ui.warn(O.message),""}return C}function fs(C){return Promise.all(C.map(O=>O.catch(q=>q)))}function va(){return(va=(0,B.Z)(function*(C,O,q,oe,Pe,Ue){const gt=oe[Pe];try{if(gt)yield O[gt];else{const Ht=(yield fs(q)).find(yn=>yn.measurementId===Pe);Ht&&(yield O[Ht.appId])}}catch(Yt){ui.error(Yt)}C("config",Pe,Ue)})).apply(this,arguments)}function pi(){return(pi=(0,B.Z)(function*(C,O,q,oe,Pe){try{let Ue=[];if(Pe&&Pe.send_to){let gt=Pe.send_to;Array.isArray(gt)||(gt=[gt]);const Yt=yield fs(q);for(const Ht of gt){const yn=Yt.find(Hn=>Hn.measurementId===Ht),$n=yn&&O[yn.appId];if(!$n){Ue=[];break}Ue.push($n)}}0===Ue.length&&(Ue=Object.values(O)),yield Promise.all(Ue),C("event",oe,Pe||{})}catch(Ue){ui.error(Ue)}})).apply(this,arguments)}const ho=30,wi=new class fo{constructor(O={},q=1e3){this.throttleMetadata=O,this.intervalMillis=q}getThrottleMetadata(O){return this.throttleMetadata[O]}setThrottleMetadata(O,q){this.throttleMetadata[O]=q}deleteThrottleMetadata(O){delete this.throttleMetadata[O]}};function ns(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function Cr(){return(Cr=(0,B.Z)(function*(C){var O;const{appId:q,apiKey:oe}=C,Pe={method:"GET",headers:ns(oe)},Ue=yu.replace("{app-id}",q),gt=yield fetch(Ue,Pe);if(200!==gt.status&&304!==gt.status){let Yt="";try{const Ht=yield gt.json();null!==(O=Ht.error)&&void 0!==O&&O.message&&(Yt=Ht.error.message)}catch{}throw ni.create("config-fetch-failed",{httpStatus:gt.status,responseMessage:Yt})}return gt.json()})).apply(this,arguments)}function su(){return(su=(0,B.Z)(function*(C,O=wi,q){const{appId:oe,apiKey:Pe,measurementId:Ue}=C.options;if(!oe)throw ni.create("no-app-id");if(!Pe){if(Ue)return{measurementId:Ue,appId:oe};throw ni.create("no-api-key")}const gt=O.getThrottleMetadata(oe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Yt=new il;return setTimeout((0,B.Z)(function*(){Yt.abort()}),void 0!==q?q:ra),_l({appId:oe,apiKey:Pe,measurementId:Ue},gt,Yt,O)})).apply(this,arguments)}function _l(C,O,q){return Fa.apply(this,arguments)}function Fa(){return Fa=(0,B.Z)(function*(C,{throttleEndTimeMillis:O,backoffCount:q},oe,Pe=wi){var Ue;const{appId:gt,measurementId:Yt}=C;try{yield function El(C,O){return new Promise((q,oe)=>{const Pe=Math.max(O-Date.now(),0),Ue=setTimeout(q,Pe);C.addEventListener(()=>{clearTimeout(Ue),oe(ni.create("fetch-throttle",{throttleEndTimeMillis:O}))})})}(oe,O)}catch(Ht){if(Yt)return ui.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Yt} provided in the "measurementId" field in the local Firebase config. [${Ht?.message}]`),{appId:gt,measurementId:Yt};throw Ht}try{const Ht=yield function _u(C){return Cr.apply(this,arguments)}(C);return Pe.deleteThrottleMetadata(gt),Ht}catch(Ht){const yn=Ht;if(!function Eu(C){if(!(C instanceof he.ZR&&C.customData))return!1;const O=Number(C.customData.httpStatus);return 429===O||500===O||503===O||504===O}(yn)){if(Pe.deleteThrottleMetadata(gt),Yt)return ui.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Yt} provided in the "measurementId" field in the local Firebase config. [${yn?.message}]`),{appId:gt,measurementId:Yt};throw Ht}const $n=503===Number(null===(Ue=yn?.customData)||void 0===Ue?void 0:Ue.httpStatus)?(0,he.$s)(q,Pe.intervalMillis,ho):(0,he.$s)(q,Pe.intervalMillis),Hn={throttleEndTimeMillis:Date.now()+$n,backoffCount:q+1};return Pe.setThrottleMetadata(gt,Hn),ui.debug(`Calling attemptFetch again in ${$n} millis`),_l(C,Hn,oe,Pe)}}),Fa.apply(this,arguments)}class il{constructor(){this.listeners=[]}addEventListener(O){this.listeners.push(O)}abort(){this.listeners.forEach(O=>O())}}let sa,w;function wu(){return(wu=(0,B.Z)(function*(C,O,q,oe,Pe){if(Pe&&Pe.global)C("event",q,oe);else{const Ue=yield O;C("event",q,Object.assign(Object.assign({},oe),{send_to:Ue}))}})).apply(this,arguments)}function H(){return(H=(0,B.Z)(function*(){if(!(0,he.hl)())return ui.warn(ni.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,he.eu)()}catch(C){return ui.warn(ni.create("indexeddb-unavailable",{errorInfo:C?.toString()}).message),!1}return!0})).apply(this,arguments)}function ae(){return ae=(0,B.Z)(function*(C,O,q,oe,Pe,Ue,gt){var Yt;const Ht=function wa(C){return su.apply(this,arguments)}(C);Ht.then(Vs=>{q[Vs.measurementId]=Vs.appId,C.options.measurementId&&Vs.measurementId!==C.options.measurementId&&ui.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${Vs.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Vs=>ui.error(Vs)),O.push(Ht);const yn=function k(){return H.apply(this,arguments)}().then(Vs=>{if(Vs)return oe.getId()}),[$n,Hn]=yield Promise.all([Ht,yn]);(function Dr(C){const O=window.document.getElementsByTagName("script");for(const q of Object.values(O))if(q.src&&q.src.includes(Na)&&q.src.includes(C))return q;return null})(Ue)||function xr(C,O){const q=function ia(C,O){let q;return window.trustedTypes&&(q=window.trustedTypes.createPolicy(C,O)),q}("firebase-js-sdk-policy",{createScriptURL:vu}),oe=document.createElement("script"),Pe=`${Na}?l=${C}&id=${O}`;oe.src=q?q?.createScriptURL(Pe):Pe,oe.async=!0,document.head.appendChild(oe)}(Ue,$n.measurementId),w&&(Pe("consent","default",w),function g(C){w=C}(void 0)),Pe("js",new Date);const po=null!==(Yt=gt?.config)&&void 0!==Yt?Yt:{};return po[Vu]="firebase",po.update=!0,null!=Hn&&(po[Ei]=Hn),Pe("config",$n.measurementId,po),sa&&(Pe("set",sa),function b(C){sa=C}(void 0)),$n.measurementId}),ae.apply(this,arguments)}class Ye{constructor(O){this.app=O}_delete(){return delete He[this.app.options.appId],Promise.resolve()}}let He={},Ee=[];const Je={};let ri,zr,Pn="dataLayer",xi="gtag",Gr=!1;function Ia(C,O,q){!function Ao(){const C=[];if((0,he.ru)()&&C.push("This is a browser extension environment."),(0,he.zI)()||C.push("Cookies are not available."),C.length>0){const O=C.map((oe,Pe)=>`(${Pe+1}) ${oe}`).join(" "),q=ni.create("invalid-analytics-context",{errorInfo:O});ui.warn(q.message)}}();const oe=C.options.appId;if(!oe)throw ni.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw ni.create("no-api-key");ui.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=He[oe])throw ni.create("already-exists",{id:oe});if(!Gr){!function ka(C){let O=[];Array.isArray(window[C])?O=window[C]:window[C]=O}(Pn);const{wrappedGtag:Ue,gtagCore:gt}=function Ea(C,O,q,oe,Pe){let Ue=function(...gt){window[oe].push(arguments)};return window[Pe]&&"function"==typeof window[Pe]&&(Ue=window[Pe]),window[Pe]=function _a(C,O,q,oe){function Ue(){return Ue=(0,B.Z)(function*(gt,...Yt){try{if("event"===gt){const[Ht,yn]=Yt;yield function za(C,O,q,oe,Pe){return pi.apply(this,arguments)}(C,O,q,Ht,yn)}else if("config"===gt){const[Ht,yn]=Yt;yield function lr(C,O,q,oe,Pe,Ue){return va.apply(this,arguments)}(C,O,q,oe,Ht,yn)}else if("consent"===gt){const[Ht]=Yt;C("consent","update",Ht)}else if("get"===gt){const[Ht,yn,$n]=Yt;C("get",Ht,yn,$n)}else if("set"===gt){const[Ht]=Yt;C("set",Ht)}else C(gt,...Yt)}catch(Ht){ui.error(Ht)}}),Ue.apply(this,arguments)}return function Pe(gt){return Ue.apply(this,arguments)}}(Ue,C,O,q),{gtagCore:Ue,wrappedGtag:window[Pe]}}(He,Ee,Je,Pn,xi);zr=Ue,ri=gt,Gr=!0}return He[oe]=function G(C,O,q,oe,Pe,Ue,gt){return ae.apply(this,arguments)}(C,Ee,Je,O,ri,Pn,q),new Ye(C)}function ol(){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,B.Z)(function*(){if((0,he.ru)()||!(0,he.zI)()||!(0,he.hl)())return!1;try{return yield(0,he.eu)()}catch{return!1}})).apply(this,arguments)}const Kt="@firebase/analytics";!function zo(){(0,ue._registerComponent)(new we.wA(xa,(O,{options:q})=>Ia(O.getProvider("app").getImmediate(),O.getProvider("installations-internal").getImmediate(),q),"PUBLIC")),(0,ue._registerComponent)(new we.wA("analytics-internal",function C(O){try{const q=O.getProvider(xa).getImmediate();return{logEvent:(oe,Pe,Ue)=>function Ii(C,O,q,oe){C=(0,he.m9)(C),function wl(C,O,q,oe,Pe){return wu.apply(this,arguments)}(zr,He[C.app.options.appId],O,q,oe).catch(Pe=>ui.error(Pe))}(q,oe,Pe,Ue)}}catch(q){throw ni.create("interop-component-reg-failed",{reason:q})}},"PRIVATE")),(0,ue.registerVersion)(Kt,"0.10.0"),(0,ue.registerVersion)(Kt,"0.10.0","esm2017")}();var rs=L(4408),Go=L(7565);const al=new class Fc extends Go.v{}(class Uu extends rs.o{constructor(O,q){super(O,q),this.scheduler=O,this.work=q}schedule(O,q=0){return q>0?super.schedule(O,q):(this.delay=q,this.state=O,this.scheduler.flush(this),this)}execute(O,q){return q>0||this.closed?super.execute(O,q):this._execute(O,q)}requestAsyncId(O,q,oe=0){return null!=oe&&oe>0||null==oe&&this.delay>0?super.requestAsyncId(O,q,oe):(O.flush(this),0)}});var Dd=L(4986),Ls=L(9751),Dl=L(8505),Bu=L(5363),Ql=L(9468);const oa=new f.GfV("7.6.1"),Cl="__angularfire_symbol__analyticsIsSupportedValue",Xe="__angularfire_symbol__analyticsIsSupported",Wa="__angularfire_symbol__remoteConfigIsSupportedValue",Wo="__angularfire_symbol__remoteConfigIsSupported",Lc="__angularfire_symbol__messagingIsSupportedValue",Iu="__angularfire_symbol__messagingIsSupported";function Du(C,O,q){if(O){if(1===O.length)return O[0];const Ue=O.filter(gt=>gt.app===q);if(1===Ue.length)return Ue[0]}return q.container.getProvider(C).getImmediate({optional:!0})}globalThis[Xe]||(globalThis[Xe]=ol().then(C=>globalThis[Cl]=C).catch(()=>globalThis[Cl]=!1)),globalThis[Iu]||(globalThis[Iu]=Fu().then(C=>globalThis[Lc]=C).catch(()=>globalThis[Lc]=!1)),globalThis[Wo]||(globalThis[Wo]=Es().then(C=>globalThis[Wa]=C).catch(()=>globalThis[Wa]=!1));const Uc=(C,O)=>{const q=O?[O]:(0,D.C6)(),oe=[];return q.forEach(Pe=>{Pe.container.getProvider(C).instances.forEach(gt=>{oe.includes(gt)||oe.push(gt)})}),oe};function Cu(){}class Ys{constructor(O,q=al){this.zone=O,this.delegate=q}now(){return this.delegate.now()}schedule(O,q,oe){const Pe=this.zone;return this.delegate.schedule(function(gt){Pe.runGuarded(()=>{O.apply(this,[gt])})},q,oe)}}class Po{constructor(O){this.zone=O,this.task=null}call(O,q){const oe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Cu,{},Cu,Cu)),q.pipe((0,Dl.b)({next:oe,complete:oe,error:oe})).subscribe(O).add(oe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ou=(()=>{class C{constructor(q){this.ngZone=q,this.outsideAngular=q.runOutsideAngular(()=>new Ys(Zone.current)),this.insideAngular=q.run(()=>new Ys(Zone.current,Dd.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(q){return new(q||C)(f.LFG(f.R0b))},C.\u0275prov=f.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function au(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function uu(C){return au().ngZone.run(()=>C())}function Tl(C){return C.pipe((0,Bu.Q)(au().outsideAngular))}function Jl(C){return au(),function bl(C){return function(q){return(q=q.lift(new Po(C.ngZone))).pipe((0,Ql.R)(C.outsideAngular),(0,Bu.Q)(C.insideAngular))}}(au())(C)}const Xl=(C,O)=>function(){const oe=arguments;return O&&setTimeout(()=>{"scheduled"===O.state&&O.invoke()},10),uu(()=>C.apply(void 0,oe))},ec=(C,O)=>function(){let q;const oe=arguments;for(let Ue=0;Ue<arguments.length;Ue++)"function"==typeof oe[Ue]&&(O&&(q||(q=uu(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Cu,{},Cu,Cu)))),oe[Ue]=Xl(oe[Ue],q));const Pe=function Qs(C){return au().ngZone.runOutsideAngular(()=>C())}(()=>C.apply(this,oe));if(!O){if(Pe instanceof Ls.y){const Ue=au();return Pe.pipe((0,Ql.R)(Ue.outsideAngular),(0,Bu.Q)(Ue.insideAngular))}return uu(()=>Pe)}return Pe instanceof Ls.y?Pe.pipe(Jl):Pe instanceof Promise?uu(()=>new Promise((Ue,gt)=>Pe.then(Yt=>uu(()=>Ue(Yt)),Yt=>uu(()=>gt(Yt))))):"function"==typeof Pe&&q?function(){return setTimeout(()=>{q&&"scheduled"===q.state&&q.invoke()},10),Pe.apply(this,arguments)}:uu(()=>Pe)}},1389:(Lt,je,L)=>{L.d(je,{$:()=>En,A:()=>ie,D:()=>ce,I:()=>_r,J:()=>Dt,L:()=>si,N:()=>an,P:()=>G,Q:()=>Uo,R:()=>v,U:()=>io,V:()=>Es,W:()=>Gs,X:()=>zs,Y:()=>Os,Z:()=>Ua,_:()=>Is,a:()=>Qi,a0:()=>$,a1:()=>x,a2:()=>$r,a3:()=>To,a4:()=>Cs,a5:()=>ls,a6:()=>ks,a7:()=>Bn,a8:()=>cs,a9:()=>Ts,aA:()=>$e,aB:()=>Xe,aC:()=>Ot,aD:()=>vr,aE:()=>Dl,aF:()=>Jn,aG:()=>zi,aH:()=>Zn,aL:()=>$o,aO:()=>Li,aa:()=>Sa,ab:()=>So,ac:()=>gu,ad:()=>Jo,ae:()=>Aa,af:()=>ea,ai:()=>Ba,aj:()=>$a,ak:()=>Ui,an:()=>Qo,ao:()=>co,aq:()=>xn,ar:()=>Bi,as:()=>Qt,at:()=>Ae,au:()=>Ie,av:()=>be,aw:()=>Hn,ax:()=>Iu,ay:()=>dt,az:()=>De,b:()=>ya,c:()=>zr,d:()=>Ia,e:()=>Ho,f:()=>Kt,g:()=>Fc,h:()=>rs,i:()=>Ga,j:()=>Dd,k:()=>Tu,l:()=>ye,m:()=>Sl,o:()=>Us,p:()=>Oe,r:()=>_,s:()=>Q,u:()=>k});var f=L(5861),D=L(2090),B=L(6881),ue=L(655),he=L(1877),we=L(4859);const Oe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ie={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ce=function ne(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},We=function ke(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ct=new D.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ge=new he.Yd("@firebase/auth");function mt(I,...d){Ge.logLevel<=he.in.ERROR&&Ge.error(`Auth (${B.SDK_VERSION}): ${I}`,...d)}function be(I,...d){throw yt(I,...d)}function De(I,...d){return yt(I,...d)}function st(I,d,y){const T=Object.assign(Object.assign({},We()),{[d]:y});return new D.LL("auth","Firebase",T).create(d,{appName:I.name})}function Ct(I,d,y){if(!(d instanceof y))throw y.name!==d.constructor.name&&be(I,"argument-error"),st(I,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function yt(I,...d){if("string"!=typeof I){const y=d[0],T=[...d.slice(1)];return T[0]&&(T[0].appName=I.name),I._errorFactory.create(y,...T)}return ct.create(I,...d)}function $e(I,d,...y){if(!I)throw yt(d,...y)}function kt(I){const d="INTERNAL ASSERTION FAILED: "+I;throw mt(d),new Error(d)}function Qt(I,d){I||kt(d)}function Tt(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function Cn(){return"http:"===Ut()||"https:"===Ut()}function Ut(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class Ze{constructor(d,y){this.shortDelay=d,this.longDelay=y,Qt(y>d,"Short delay should be less than long delay!"),this.isMobile=(0,D.uI)()||(0,D.b$)()}get(){return function gi(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Cn()||(0,D.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ut(I,d){Qt(I.emulator,"Emulator should always be set here");const{url:y}=I.emulator;return d?`${y}${d.startsWith("/")?d.slice(1):d}`:y}class ft{static initialize(d,y,T){this.fetchImpl=d,y&&(this.headersImpl=y),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void kt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void kt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void kt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const bt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},wt=new Ze(3e4,6e4);function vt(I,d){return I.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:I.tenantId}):d}function ze(I,d,y,T){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,f.Z)(function*(I,d,y,T,Z={}){return _e(I,Z,(0,f.Z)(function*(){let te={},Le={};T&&("GET"===d?Le=T:te={body:JSON.stringify(T)});const ht=(0,D.xO)(Object.assign({key:I.config.apiKey},Le)).slice(1),Bt=yield I._getAdditionalHeaders();return Bt["Content-Type"]="application/json",I.languageCode&&(Bt["X-Firebase-Locale"]=I.languageCode),ft.fetch()(Rn(I,I.config.apiHost,y,ht),Object.assign({method:d,headers:Bt,referrerPolicy:"no-referrer"},te))}))})).apply(this,arguments)}function _e(I,d,y){return Be.apply(this,arguments)}function Be(){return(Be=(0,f.Z)(function*(I,d,y){I._canInitEmulator=!1;const T=Object.assign(Object.assign({},bt),d);try{const Z=new Xn(I),te=yield Promise.race([y(),Z.promise]);Z.clearNetworkTimeout();const Le=yield te.json();if("needConfirmation"in Le)throw ir(I,"account-exists-with-different-credential",Le);if(te.ok&&!("errorMessage"in Le))return Le;{const ht=te.ok?Le.errorMessage:Le.error.message,[Bt,qt]=ht.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Bt)throw ir(I,"credential-already-in-use",Le);if("EMAIL_EXISTS"===Bt)throw ir(I,"email-already-in-use",Le);if("USER_DISABLED"===Bt)throw ir(I,"user-disabled",Le);const vn=T[Bt]||Bt.toLowerCase().replace(/[_\s]+/g,"-");if(qt)throw st(I,vn,qt);be(I,vn)}}catch(Z){if(Z instanceof D.ZR)throw Z;be(I,"network-request-failed",{message:String(Z)})}})).apply(this,arguments)}function at(I,d,y,T){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,f.Z)(function*(I,d,y,T,Z={}){const te=yield ze(I,d,y,T,Z);return"mfaPendingCredential"in te&&be(I,"multi-factor-auth-required",{_serverResponse:te}),te})).apply(this,arguments)}function Rn(I,d,y,T){const Z=`${d}${y}?${T}`;return I.config.emulator?ut(I.config,Z):`${I.config.apiScheme}://${Z}`}class Xn{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((y,T)=>{this.timer=setTimeout(()=>T(De(this.auth,"network-request-failed")),wt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ir(I,d,y){const T={appName:I.name};y.email&&(T.email=y.email),y.phoneNumber&&(T.phoneNumber=y.phoneNumber);const Z=De(I,d,T);return Z.customData._tokenResponse=y,Z}function _n(){return(_n=(0,f.Z)(function*(I,d){return ze(I,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function Qr(){return(Qr=(0,f.Z)(function*(I,d){return ze(I,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Mn(){return(Mn=(0,f.Z)(function*(I,d){return ze(I,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function xt(I){if(I)try{const d=new Date(Number(I));if(!isNaN(d.getTime()))return d.toUTCString()}catch{}}function Ur(){return(Ur=(0,f.Z)(function*(I,d=!1){const y=(0,D.m9)(I),T=yield y.getIdToken(d),Z=$i(T);$e(Z&&Z.exp&&Z.auth_time&&Z.iat,y.auth,"internal-error");const te="object"==typeof Z.firebase?Z.firebase:void 0,Le=te?.sign_in_provider;return{claims:Z,token:T,authTime:xt(Jr(Z.auth_time)),issuedAtTime:xt(Jr(Z.iat)),expirationTime:xt(Jr(Z.exp)),signInProvider:Le||null,signInSecondFactor:te?.sign_in_second_factor||null}})).apply(this,arguments)}function Jr(I){return 1e3*Number(I)}function $i(I){const[d,y,T]=I.split(".");if(void 0===d||void 0===y||void 0===T)return mt("JWT malformed, contained fewer than 3 sections"),null;try{const Z=(0,D.tV)(y);return Z?JSON.parse(Z):(mt("Failed to decode base64 JWT payload"),null)}catch(Z){return mt("Caught error parsing JWT payload as JSON",Z?.toString()),null}}function Sn(I,d){return en.apply(this,arguments)}function en(){return(en=(0,f.Z)(function*(I,d,y=!1){if(y)return d;try{return yield d}catch(T){throw T instanceof D.ZR&&function hn({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}(T)&&I.auth.currentUser===I&&(yield I.auth.signOut()),T}})).apply(this,arguments)}class Si{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var y;if(d){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const Z=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,Z)}}schedule(d=!1){var y=this;if(!this.isRunning)return;const T=this.getInterval(d);this.timerId=setTimeout((0,f.Z)(function*(){yield y.iteration()}),T)}iteration(){var d=this;return(0,f.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===y?.code&&d.schedule(!0))}d.schedule()})()}}class Kr{constructor(d,y){this.createdAt=d,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=xt(this.lastLoginAt),this.creationTime=xt(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function tr(I){return fn.apply(this,arguments)}function fn(){return fn=(0,f.Z)(function*(I){var d;const y=I.auth,T=yield I.getIdToken(),Z=yield Sn(I,function bi(I,d){return Mn.apply(this,arguments)}(y,{idToken:T}));$e(Z?.users.length,y,"internal-error");const te=Z.users[0];I._notifyReloadListener(te);const Le=null!==(d=te.providerUserInfo)&&void 0!==d&&d.length?function zt(I){return I.map(d=>{var{providerId:y}=d,T=(0,ue._T)(d,["providerId"]);return{providerId:y,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}(te.providerUserInfo):[],ht=function kn(I,d){return[...I.filter(T=>!d.some(Z=>Z.providerId===T.providerId)),...d]}(I.providerData,Le),vn=!!I.isAnonymous&&!(I.email&&te.passwordHash||ht?.length),Fn={uid:te.localId,displayName:te.displayName||null,photoURL:te.photoUrl||null,email:te.email||null,emailVerified:te.emailVerified||!1,phoneNumber:te.phoneNumber||null,tenantId:te.tenantId||null,providerData:ht,metadata:new Kr(te.createdAt,te.lastLoginAt),isAnonymous:vn};Object.assign(I,Fn)}),fn.apply(this,arguments)}function br(){return(br=(0,f.Z)(function*(I){const d=(0,D.m9)(I);yield tr(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function kr(){return(kr=(0,f.Z)(function*(I,d){const y=yield _e(I,{},(0,f.Z)(function*(){const T=(0,D.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:Z,apiKey:te}=I.config,Le=Rn(I,Z,"/v1/token",`key=${te}`),ht=yield I._getAdditionalHeaders();return ht["Content-Type"]="application/x-www-form-urlencoded",ft.fetch()(Le,{method:"POST",headers:ht,body:T})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class dn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){$e(d.idToken,"internal-error"),$e(typeof d.idToken<"u","internal-error"),$e(typeof d.refreshToken<"u","internal-error");const y="expiresIn"in d&&typeof d.expiresIn<"u"?Number(d.expiresIn):function dr(I){const d=$i(I);return $e(d,"internal-error"),$e(typeof d.exp<"u","internal-error"),$e(typeof d.iat<"u","internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,y)}getToken(d,y=!1){var T=this;return(0,f.Z)(function*(){return $e(!T.accessToken||T.refreshToken,d,"user-token-expired"),y||!T.accessToken||T.isExpired?T.refreshToken?(yield T.refresh(d,T.refreshToken),T.accessToken):null:T.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,y){var T=this;return(0,f.Z)(function*(){const{accessToken:Z,refreshToken:te,expiresIn:Le}=yield function wn(I,d){return kr.apply(this,arguments)}(d,y);T.updateTokensAndExpiration(Z,te,Number(Le))})()}updateTokensAndExpiration(d,y,T){this.refreshToken=y||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(d,y){const{refreshToken:T,accessToken:Z,expirationTime:te}=y,Le=new dn;return T&&($e("string"==typeof T,"internal-error",{appName:d}),Le.refreshToken=T),Z&&($e("string"==typeof Z,"internal-error",{appName:d}),Le.accessToken=Z),te&&($e("number"==typeof te,"internal-error",{appName:d}),Le.expirationTime=te),Le}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new dn,this.toJSON())}_performRefresh(){return kt("not implemented")}}function Vn(I,d){$e("string"==typeof I||typeof I>"u","internal-error",{appName:d})}class nr{constructor(d){var{uid:y,auth:T,stsTokenManager:Z}=d,te=(0,ue._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Si(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=T,this.stsTokenManager=Z,this.accessToken=Z.accessToken,this.displayName=te.displayName||null,this.email=te.email||null,this.emailVerified=te.emailVerified||!1,this.phoneNumber=te.phoneNumber||null,this.photoURL=te.photoURL||null,this.isAnonymous=te.isAnonymous||!1,this.tenantId=te.tenantId||null,this.providerData=te.providerData?[...te.providerData]:[],this.metadata=new Kr(te.createdAt||void 0,te.lastLoginAt||void 0)}getIdToken(d){var y=this;return(0,f.Z)(function*(){const T=yield Sn(y,y.stsTokenManager.getToken(y.auth,d));return $e(T,y.auth,"internal-error"),y.accessToken!==T&&(y.accessToken=T,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),T})()}getIdTokenResult(d){return function ki(I){return Ur.apply(this,arguments)}(this,d)}reload(){return function gr(I){return br.apply(this,arguments)}(this)}_assign(d){this!==d&&($e(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(y=>Object.assign({},y)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){const y=new nr(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}));return y.metadata._copy(this.metadata),y}_onReload(d){$e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,y=!1){var T=this;return(0,f.Z)(function*(){let Z=!1;d.idToken&&d.idToken!==T.stsTokenManager.accessToken&&(T.stsTokenManager.updateFromServerResponse(d),Z=!0),y&&(yield tr(T)),yield T.auth._persistUserIfCurrent(T),Z&&T.auth._notifyListenersIfCurrent(T)})()}delete(){var d=this;return(0,f.Z)(function*(){const y=yield d.getIdToken();return yield Sn(d,function Nn(I,d){return _n.apply(this,arguments)}(d.auth,{idToken:y})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,y){var T,Z,te,Le,ht,Bt,qt,vn;const Fn=null!==(T=y.displayName)&&void 0!==T?T:void 0,Gi=null!==(Z=y.email)&&void 0!==Z?Z:void 0,Ca=null!==(te=y.phoneNumber)&&void 0!==te?te:void 0,qa=null!==(Le=y.photoURL)&&void 0!==Le?Le:void 0,Ch=null!==(ht=y.tenantId)&&void 0!==ht?ht:void 0,Za=null!==(Bt=y._redirectEventId)&&void 0!==Bt?Bt:void 0,jc=null!==(qt=y.createdAt)&&void 0!==qt?qt:void 0,Pl=null!==(vn=y.lastLoginAt)&&void 0!==vn?vn:void 0,{uid:cu,emailVerified:nc,isAnonymous:$u,providerData:rc,stsTokenManager:Rl}=y;$e(cu&&Rl,d,"internal-error");const ll=dn.fromJSON(this.name,Rl);$e("string"==typeof cu,d,"internal-error"),Vn(Fn,d.name),Vn(Gi,d.name),$e("boolean"==typeof nc,d,"internal-error"),$e("boolean"==typeof $u,d,"internal-error"),Vn(Ca,d.name),Vn(qa,d.name),Vn(Ch,d.name),Vn(Za,d.name),Vn(jc,d.name),Vn(Pl,d.name);const Hu=new nr({uid:cu,auth:d,email:Gi,emailVerified:nc,displayName:Fn,isAnonymous:$u,photoURL:qa,phoneNumber:Ca,tenantId:Ch,stsTokenManager:ll,createdAt:jc,lastLoginAt:Pl});return rc&&Array.isArray(rc)&&(Hu.providerData=rc.map($c=>Object.assign({},$c))),Za&&(Hu._redirectEventId=Za),Hu}static _fromIdTokenResponse(d,y,T=!1){return(0,f.Z)(function*(){const Z=new dn;Z.updateFromServerResponse(y);const te=new nr({uid:y.localId,auth:d,stsTokenManager:Z,isAnonymous:T});return yield tr(te),te})()}}const sr=new Map;function Ot(I){Qt(I instanceof Function,"Expected a class definition");let d=sr.get(I);return d?(Qt(d instanceof I,"Instance stored in cache mismatched with class"),d):(d=new I,sr.set(I,d),d)}const an=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,f.Z)(function*(){return!0})()}_set(y,T){var Z=this;return(0,f.Z)(function*(){Z.storage[y]=T})()}_get(y){var T=this;return(0,f.Z)(function*(){const Z=T.storage[y];return void 0===Z?null:Z})()}_remove(y){var T=this;return(0,f.Z)(function*(){delete T.storage[y]})()}_addListener(y,T){}_removeListener(y,T){}}return I.type="NONE",I})();function vr(I,d,y){return`firebase:${I}:${d}:${y}`}class me{constructor(d,y,T){this.persistence=d,this.auth=y,this.userKey=T;const{config:Z,name:te}=this.auth;this.fullUserKey=vr(this.userKey,Z.apiKey,te),this.fullPersistenceKey=vr("persistence",Z.apiKey,te),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,f.Z)(function*(){const y=yield d.persistence._get(d.fullUserKey);return y?nr._fromJSON(d.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var y=this;return(0,f.Z)(function*(){if(y.persistence===d)return;const T=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=d,T?y.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,y,T="authUser"){return(0,f.Z)(function*(){if(!y.length)return new me(Ot(an),d,T);const Z=(yield Promise.all(y.map(function(){var qt=(0,f.Z)(function*(vn){if(yield vn._isAvailable())return vn});return function(vn){return qt.apply(this,arguments)}}()))).filter(qt=>qt);let te=Z[0]||Ot(an);const Le=vr(T,d.config.apiKey,d.name);let ht=null;for(const qt of y)try{const vn=yield qt._get(Le);if(vn){const Fn=nr._fromJSON(d,vn);qt!==te&&(ht=Fn),te=qt;break}}catch{}const Bt=Z.filter(qt=>qt._shouldAllowMigration);return te._shouldAllowMigration&&Bt.length?(te=Bt[0],ht&&(yield te._set(Le,ht.toJSON())),yield Promise.all(y.map(function(){var qt=(0,f.Z)(function*(vn){if(vn!==te)try{yield vn._remove(Le)}catch{}});return function(vn){return qt.apply(this,arguments)}}())),new me(te,d,T)):new me(te,d,T)})()}}function pe(I){const d=I.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(Rt(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(Se(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(Ce(d))return"Blackberry";if(se(d))return"Webos";if(pt(d))return"Safari";if((d.includes("chrome/")||qe(d))&&!d.includes("edge/"))return"Chrome";if(Ie(d))return"Android";{const T=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===T?.length)return T[1]}return"Other"}function Se(I=(0,D.z$)()){return/firefox\//i.test(I)}function pt(I=(0,D.z$)()){const d=I.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function qe(I=(0,D.z$)()){return/crios\//i.test(I)}function Rt(I=(0,D.z$)()){return/iemobile/i.test(I)}function Ie(I=(0,D.z$)()){return/android/i.test(I)}function Ce(I=(0,D.z$)()){return/blackberry/i.test(I)}function se(I=(0,D.z$)()){return/webos/i.test(I)}function Ae(I=(0,D.z$)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function dt(I=(0,D.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}function Gn(I=(0,D.z$)()){return Ae(I)||Ie(I)||se(I)||Ce(I)||/windows phone/i.test(I)||Rt(I)}function ei(I,d=[]){let y;switch(I){case"Browser":y=pe((0,D.z$)());break;case"Worker":y=`${pe((0,D.z$)())}-${I}`;break;default:y=I}const T=d.length?d.join(","):"FirebaseCore-web";return`${y}/JsCore/${B.SDK_VERSION}/${T}`}function Ke(){return(Ke=(0,f.Z)(function*(I){return(yield ze(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function St(I,d){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,f.Z)(function*(I,d){return ze(I,"GET","/v2/recaptchaConfig",vt(I,d))})).apply(this,arguments)}function ln(I){return void 0!==I&&void 0!==I.getResponse}function In(I){return void 0!==I&&void 0!==I.enterprise}class Zt{constructor(d){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===d.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=d.recaptchaKey.split("/")[3],this.emailPasswordEnabled=d.recaptchaEnforcementState.some(y=>"EMAIL_PASSWORD_PROVIDER"===y.provider&&"OFF"!==y.enforcementState)}}function On(I){return new Promise((d,y)=>{const T=document.createElement("script");T.setAttribute("src",I),T.onload=d,T.onerror=Z=>{const te=De("internal-error");te.customData=Z,y(te)},T.type="text/javascript",T.charset="UTF-8",function Un(){var I,d;return null!==(d=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==d?d:document}().appendChild(T)})}function Pr(I){return`__${I}${Math.floor(1e6*Math.random())}`}const eo="NO_RECAPTCHA";class Ki{constructor(d){this.type="recaptcha-enterprise",this.auth=Zn(d)}verify(d="verify",y=!1){var T=this;return(0,f.Z)(function*(){function te(){return te=(0,f.Z)(function*(ht){if(!y){if(null==ht.tenantId&&null!=ht._agentRecaptchaConfig)return ht._agentRecaptchaConfig.siteKey;if(null!=ht.tenantId&&void 0!==ht._tenantRecaptchaConfigs[ht.tenantId])return ht._tenantRecaptchaConfigs[ht.tenantId].siteKey}return new Promise(function(){var Bt=(0,f.Z)(function*(qt,vn){St(ht,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Fn=>{if(void 0!==Fn.recaptchaKey){const Gi=new Zt(Fn);return null==ht.tenantId?ht._agentRecaptchaConfig=Gi:ht._tenantRecaptchaConfigs[ht.tenantId]=Gi,qt(Gi.siteKey)}vn(new Error("recaptcha Enterprise site key undefined"))}).catch(Fn=>{vn(Fn)})});return function(qt,vn){return Bt.apply(this,arguments)}}())}),te.apply(this,arguments)}function Le(ht,Bt,qt){const vn=window.grecaptcha;In(vn)?vn.enterprise.ready(()=>{vn.enterprise.execute(ht,{action:d}).then(Fn=>{Bt(Fn)}).catch(()=>{Bt(eo)})}):qt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ht,Bt)=>{(function Z(ht){return te.apply(this,arguments)})(T.auth).then(qt=>{if(!y&&In(window.grecaptcha))Le(qt,ht,Bt);else{if(typeof window>"u")return void Bt(new Error("RecaptchaVerifier is only supported in browser"));On("https://www.google.com/recaptcha/enterprise.js?render="+qt).then(()=>{Le(qt,ht,Bt)}).catch(vn=>{Bt(vn)})}}).catch(qt=>{Bt(qt)})})})()}}function or(I,d,y){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,f.Z)(function*(I,d,y,T=!1){const Z=new Ki(I);let te;try{te=yield Z.verify(y)}catch{te=yield Z.verify(y,!0)}const Le=Object.assign({},d);return Object.assign(Le,T?{captchaResp:te}:{captchaResponse:te}),Object.assign(Le,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Le,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Le})).apply(this,arguments)}class pn{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,y){const T=te=>new Promise((Le,ht)=>{try{Le(d(te))}catch(Bt){ht(Bt)}});T.onAbort=y,this.queue.push(T);const Z=this.queue.length-1;return()=>{this.queue[Z]=()=>Promise.resolve()}}runMiddleware(d){var y=this;return(0,f.Z)(function*(){if(y.auth.currentUser===d)return;const T=[];try{for(const Z of y.queue)yield Z(d),Z.onAbort&&T.push(Z.onAbort)}catch(Z){T.reverse();for(const te of T)try{te()}catch{}throw y.auth._errorFactory.create("login-blocked",{originalMessage:Z?.message})}})()}}class wr{constructor(d,y,T,Z){this.app=d,this.heartbeatServiceProvider=y,this.appCheckServiceProvider=T,this.config=Z,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ci(this),this.idTokenSubscription=new ci(this),this.beforeStateQueue=new pn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ct,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=Z.sdkClientVersion}_initializeWithPersistence(d,y){var T=this;return y&&(this._popupRedirectResolver=Ot(y)),this._initializationPromise=this.queue((0,f.Z)(function*(){var Z,te;if(!T._deleted&&(T.persistenceManager=yield me.create(T,d),!T._deleted)){if(null!==(Z=T._popupRedirectResolver)&&void 0!==Z&&Z._shouldInitProactively)try{yield T._popupRedirectResolver._initialize(T)}catch{}yield T.initializeCurrentUser(y),T.lastNotifiedUid=(null===(te=T.currentUser)||void 0===te?void 0:te.uid)||null,!T._deleted&&(T._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,f.Z)(function*(){if(d._deleted)return;const y=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||y){if(d.currentUser&&y&&d.currentUser.uid===y.uid)return d._currentUser._assign(y),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(y,!0)}})()}initializeCurrentUser(d){var y=this;return(0,f.Z)(function*(){var T;const Z=yield y.assertedPersistence.getCurrentUser();let te=Z,Le=!1;if(d&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const ht=null===(T=y.redirectUser)||void 0===T?void 0:T._redirectEventId,Bt=te?._redirectEventId,qt=yield y.tryRedirectSignIn(d);(!ht||ht===Bt)&&qt?.user&&(te=qt.user,Le=!0)}if(!te)return y.directlySetCurrentUser(null);if(!te._redirectEventId){if(Le)try{yield y.beforeStateQueue.runMiddleware(te)}catch(ht){te=Z,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(ht))}return te?y.reloadAndSetCurrentUserOrClear(te):y.directlySetCurrentUser(null)}return $e(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===te._redirectEventId?y.directlySetCurrentUser(te):y.reloadAndSetCurrentUserOrClear(te)})()}tryRedirectSignIn(d){var y=this;return(0,f.Z)(function*(){let T=null;try{T=yield y._popupRedirectResolver._completeRedirectFn(y,d,!0)}catch{yield y._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(d){var y=this;return(0,f.Z)(function*(){try{yield tr(d)}catch(T){if("auth/network-request-failed"!==T?.code)return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function ot(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var d=this;return(0,f.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var y=this;return(0,f.Z)(function*(){const T=d?(0,D.m9)(d):null;return T&&$e(T.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(T&&T._clone(y))})()}_updateCurrentUser(d,y=!1){var T=this;return(0,f.Z)(function*(){if(!T._deleted)return d&&$e(T.tenantId===d.tenantId,T,"tenant-id-mismatch"),y||(yield T.beforeStateQueue.runMiddleware(d)),T.queue((0,f.Z)(function*(){yield T.directlySetCurrentUser(d),T.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,f.Z)(function*(){return yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0)})()}setPersistence(d){var y=this;return this.queue((0,f.Z)(function*(){yield y.assertedPersistence.setPersistence(Ot(d))}))}initializeRecaptchaConfig(){var d=this;return(0,f.Z)(function*(){const y=yield St(d,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),T=new Zt(y);null==d.tenantId?d._agentRecaptchaConfig=T:d._tenantRecaptchaConfigs[d.tenantId]=T,T.emailPasswordEnabled&&new Ki(d).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new D.LL("auth","Firebase",d())}onAuthStateChanged(d,y,T){return this.registerStateListener(this.authStateSubscription,d,y,T)}beforeAuthStateChanged(d,y){return this.beforeStateQueue.pushCallback(d,y)}onIdTokenChanged(d,y,T){return this.registerStateListener(this.idTokenSubscription,d,y,T)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,y){var T=this;return(0,f.Z)(function*(){const Z=yield T.getOrInitRedirectPersistenceManager(y);return null===d?Z.removeCurrentUser():Z.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var y=this;return(0,f.Z)(function*(){if(!y.redirectPersistenceManager){const T=d&&Ot(d)||y._popupRedirectResolver;$e(T,y,"argument-error"),y.redirectPersistenceManager=yield me.create(y,[Ot(T._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(d){var y=this;return(0,f.Z)(function*(){var T,Z;return y._isInitialized&&(yield y.queue((0,f.Z)(function*(){}))),(null===(T=y._currentUser)||void 0===T?void 0:T._redirectEventId)===d?y._currentUser:(null===(Z=y.redirectUser)||void 0===Z?void 0:Z._redirectEventId)===d?y.redirectUser:null})()}_persistUserIfCurrent(d){var y=this;return(0,f.Z)(function*(){if(d===y.currentUser)return y.queue((0,f.Z)(function*(){return y.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(y=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,y,T,Z){if(this._deleted)return()=>{};const te="function"==typeof y?y:y.next.bind(y),Le=this._isInitialized?Promise.resolve():this._initializationPromise;return $e(Le,this,"internal-error"),Le.then(()=>te(this.currentUser)),"function"==typeof y?d.addObserver(y,T,Z):d.addObserver(y)}directlySetCurrentUser(d){var y=this;return(0,f.Z)(function*(){y.currentUser&&y.currentUser!==d&&y._currentUser._stopProactiveRefresh(),d&&y.isProactiveRefreshEnabled&&d._startProactiveRefresh(),y.currentUser=d,d?yield y.assertedPersistence.setCurrentUser(d):yield y.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return $e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=ei(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,f.Z)(function*(){var y;const T={"X-Client-Version":d.clientVersion};d.app.options.appId&&(T["X-Firebase-gmpid"]=d.app.options.appId);const Z=yield null===(y=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();Z&&(T["X-Firebase-Client"]=Z);const te=yield d._getAppCheckToken();return te&&(T["X-Firebase-AppCheck"]=te),T})()}_getAppCheckToken(){var d=this;return(0,f.Z)(function*(){var y;const T=yield null===(y=d.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getToken();return T?.error&&function et(I,...d){Ge.logLevel<=he.in.WARN&&Ge.warn(`Auth (${B.SDK_VERSION}): ${I}`,...d)}(`Error while retrieving App Check token: ${T.error}`),T?.token})()}}function Zn(I){return(0,D.m9)(I)}class ci{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,D.ne)(y=>this.observer=y)}get next(){return $e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function _r(I,d,y){const T=Zn(I);$e(T._canInitEmulator,T,"emulator-config-failed"),$e(/^https?:\/\//.test(d),T,"invalid-emulator-scheme");const Z=!!y?.disableWarnings,te=xe(d),{host:Le,port:ht}=function Re(I){const d=xe(I),y=/(\/\/)?([^?#/]+)/.exec(I.substr(d.length));if(!y)return{host:"",port:null};const T=y[2].split("@").pop()||"",Z=/^(\[[^\]]+\])(:|$)/.exec(T);if(Z){const te=Z[1];return{host:te,port:Me(T.substr(te.length+1))}}{const[te,Le]=T.split(":");return{host:te,port:Me(Le)}}}(d);T.config.emulator={url:`${te}//${Le}${null===ht?"":`:${ht}`}/`},T.settings.appVerificationDisabledForTesting=!0,T.emulatorConfig=Object.freeze({host:Le,port:ht,protocol:te.replace(":",""),options:Object.freeze({disableWarnings:Z})}),Z||function _t(){function I(){const d=document.createElement("p"),y=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}function xe(I){const d=I.indexOf(":");return d<0?"":I.substr(0,d+1)}function Me(I){if(!I)return null;const d=Number(I);return isNaN(d)?null:d}class Dt{constructor(d,y){this.providerId=d,this.signInMethod=y}toJSON(){return kt("not implemented")}_getIdTokenResponse(d){return kt("not implemented")}_linkToIdToken(d,y){return kt("not implemented")}_getReauthenticationResolver(d){return kt("not implemented")}}function cn(I,d){return An.apply(this,arguments)}function An(){return(An=(0,f.Z)(function*(I,d){return ze(I,"POST","/v1/accounts:resetPassword",vt(I,d))})).apply(this,arguments)}function gn(I,d){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,f.Z)(function*(I,d){return ze(I,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function mi(){return(mi=(0,f.Z)(function*(I,d){return ze(I,"POST","/v1/accounts:update",vt(I,d))})).apply(this,arguments)}function ii(I,d){return yi.apply(this,arguments)}function yi(){return(yi=(0,f.Z)(function*(I,d){return at(I,"POST","/v1/accounts:signInWithPassword",vt(I,d))})).apply(this,arguments)}function ar(I,d){return es.apply(this,arguments)}function es(){return(es=(0,f.Z)(function*(I,d){return ze(I,"POST","/v1/accounts:sendOobCode",vt(I,d))})).apply(this,arguments)}function Io(){return(Io=(0,f.Z)(function*(I,d){return ar(I,d)})).apply(this,arguments)}function os(I,d){return qi.apply(this,arguments)}function qi(){return(qi=(0,f.Z)(function*(I,d){return ar(I,d)})).apply(this,arguments)}function $s(I,d){return qr.apply(this,arguments)}function qr(){return(qr=(0,f.Z)(function*(I,d){return ar(I,d)})).apply(this,arguments)}function Zr(){return(Zr=(0,f.Z)(function*(I,d){return ar(I,d)})).apply(this,arguments)}function Sr(){return(Sr=(0,f.Z)(function*(I,d){return at(I,"POST","/v1/accounts:signInWithEmailLink",vt(I,d))})).apply(this,arguments)}function Fi(){return(Fi=(0,f.Z)(function*(I,d){return at(I,"POST","/v1/accounts:signInWithEmailLink",vt(I,d))})).apply(this,arguments)}class Br extends Dt{constructor(d,y,T,Z=null){super("password",T),this._email=d,this._password=y,this._tenantId=Z}static _fromEmailAndPassword(d,y){return new Br(d,y,"password")}static _fromEmailAndCode(d,y,T=null){return new Br(d,y,"emailLink",T)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const y="string"==typeof d?JSON.parse(d):d;if(y?.email&&y?.password){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(d){var y=this;return(0,f.Z)(function*(){var T;switch(y.signInMethod){case"password":const Z={returnSecureToken:!0,email:y._email,password:y._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(T=d._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const te=yield or(d,Z,"signInWithPassword");return ii(d,te)}return ii(d,Z).catch(function(){var te=(0,f.Z)(function*(Le){if("auth/missing-recaptcha-token"===Le.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ht=yield or(d,Z,"signInWithPassword");return ii(d,ht)}return Promise.reject(Le)});return function(Le){return te.apply(this,arguments)}}());case"emailLink":return function ur(I,d){return Sr.apply(this,arguments)}(d,{email:y._email,oobCode:y._password});default:be(d,"internal-error")}})()}_linkToIdToken(d,y){var T=this;return(0,f.Z)(function*(){switch(T.signInMethod){case"password":return gn(d,{idToken:y,returnSecureToken:!0,email:T._email,password:T._password});case"emailLink":return function ms(I,d){return Fi.apply(this,arguments)}(d,{idToken:y,email:T._email,oobCode:T._password});default:be(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function Ps(I,d){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,f.Z)(function*(I,d){return at(I,"POST","/v1/accounts:signInWithIdp",vt(I,d))})).apply(this,arguments)}class si extends Dt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const y=new si(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(y.idToken=d.idToken),d.accessToken&&(y.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(y.nonce=d.nonce),d.pendingToken&&(y.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(y.accessToken=d.oauthToken,y.secret=d.oauthTokenSecret):be("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const y="string"==typeof d?JSON.parse(d):d,{providerId:T,signInMethod:Z}=y,te=(0,ue._T)(y,["providerId","signInMethod"]);if(!T||!Z)return null;const Le=new si(T,Z);return Le.idToken=te.idToken||void 0,Le.accessToken=te.accessToken||void 0,Le.secret=te.secret,Le.nonce=te.nonce,Le.pendingToken=te.pendingToken||null,Le}_getIdTokenResponse(d){return Ps(d,this.buildRequest())}_linkToIdToken(d,y){const T=this.buildRequest();return T.idToken=y,Ps(d,T)}_getReauthenticationResolver(d){const y=this.buildRequest();return y.autoCreate=!1,Ps(d,y)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),d.postBody=(0,D.xO)(y)}return d}}function Fo(){return(Fo=(0,f.Z)(function*(I,d){return ze(I,"POST","/v1/accounts:sendVerificationCode",vt(I,d))})).apply(this,arguments)}function no(){return(no=(0,f.Z)(function*(I,d){return at(I,"POST","/v1/accounts:signInWithPhoneNumber",vt(I,d))})).apply(this,arguments)}function Yo(){return(Yo=(0,f.Z)(function*(I,d){const y=yield at(I,"POST","/v1/accounts:signInWithPhoneNumber",vt(I,d));if(y.temporaryProof)throw ir(I,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const ro={USER_NOT_FOUND:"user-not-found"};function ca(){return(ca=(0,f.Z)(function*(I,d){return at(I,"POST","/v1/accounts:signInWithPhoneNumber",vt(I,Object.assign(Object.assign({},d),{operation:"REAUTH"})),ro)})).apply(this,arguments)}class di extends Dt{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,y){return new di({verificationId:d,verificationCode:y})}static _fromTokenResponse(d,y){return new di({phoneNumber:d,temporaryProof:y})}_getIdTokenResponse(d){return function ys(I,d){return no.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,y){return function Lo(I,d){return Yo.apply(this,arguments)}(d,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function vs(I,d){return ca.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:y,verificationId:T,verificationCode:Z}=this.params;return d&&y?{temporaryProof:d,phoneNumber:y}:{sessionInfo:T,code:Z}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:y,verificationCode:T,phoneNumber:Z,temporaryProof:te}=d;return T||y||Z||te?new di({verificationId:y,verificationCode:T,phoneNumber:Z,temporaryProof:te}):null}}class Hi{constructor(d){var y,T,Z,te,Le,ht;const Bt=(0,D.zd)((0,D.pd)(d)),qt=null!==(y=Bt.apiKey)&&void 0!==y?y:null,vn=null!==(T=Bt.oobCode)&&void 0!==T?T:null,Fn=function Rs(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Z=Bt.mode)&&void 0!==Z?Z:null);$e(qt&&vn&&Fn,"argument-error"),this.apiKey=qt,this.operation=Fn,this.code=vn,this.continueUrl=null!==(te=Bt.continueUrl)&&void 0!==te?te:null,this.languageCode=null!==(Le=Bt.languageCode)&&void 0!==Le?Le:null,this.tenantId=null!==(ht=Bt.tenantId)&&void 0!==ht?ht:null}static parseLink(d){const y=function da(I){const d=(0,D.zd)((0,D.pd)(I)).link,y=d?(0,D.zd)((0,D.pd)(d)).deep_link_id:null,T=(0,D.zd)((0,D.pd)(I)).deep_link_id;return(T?(0,D.zd)((0,D.pd)(T)).link:null)||T||y||d||I}(d);try{return new Hi(y)}catch{return null}}}let Uo=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(y,T){return Br._fromEmailAndPassword(y,T)}static credentialWithLink(y,T){const Z=Hi.parseLink(T);return $e(Z,"argument-error"),Br._fromEmailAndCode(y,Z.code,Z.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class _s{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class vi extends _s{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class zs extends vi{static credentialFromJSON(d){const y="string"==typeof d?JSON.parse(d):d;return $e("providerId"in y&&"signInMethod"in y,"argument-error"),si._fromParams(y)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return $e(d.idToken||d.accessToken,"argument-error"),si._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return zs.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return zs.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:y,oauthAccessToken:T,oauthTokenSecret:Z,pendingToken:te,nonce:Le,providerId:ht}=d;if(!T&&!Z&&!y&&!te||!ht)return null;try{return new zs(ht)._credential({idToken:y,accessToken:T,nonce:Le,pendingToken:te})}catch{return null}}}let io=(()=>{class I extends vi{constructor(){super("facebook.com")}static credential(y){return si._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return I.credentialFromTaggedObject(y)}static credentialFromError(y){return I.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return I.credential(y.oauthAccessToken)}catch{return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),Es=(()=>{class I extends vi{constructor(){super("google.com"),this.addScope("profile")}static credential(y,T){return si._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:T})}static credentialFromResult(y){return I.credentialFromTaggedObject(y)}static credentialFromError(y){return I.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:T,oauthAccessToken:Z}=y;if(!T&&!Z)return null;try{return I.credential(T,Z)}catch{return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),Gs=(()=>{class I extends vi{constructor(){super("github.com")}static credential(y){return si._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return I.credentialFromTaggedObject(y)}static credentialFromError(y){return I.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return I.credential(y.oauthAccessToken)}catch{return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class Li extends Dt{constructor(d,y){super(d,d),this.pendingToken=y}_getIdTokenResponse(d){return Ps(d,this.buildRequest())}_linkToIdToken(d,y){const T=this.buildRequest();return T.idToken=y,Ps(d,T)}_getReauthenticationResolver(d){const y=this.buildRequest();return y.autoCreate=!1,Ps(d,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const y="string"==typeof d?JSON.parse(d):d,{providerId:T,signInMethod:Z,pendingToken:te}=y;return T&&Z&&te&&T===Z?new Li(T,te):null}static _create(d,y){return new Li(d,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Os extends _s{constructor(d){$e(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return Os.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return Os.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const y=Li.fromJSON(d);return $e(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:y,providerId:T}=d;if(!y||!T)return null;try{return Li._create(T,y)}catch{return null}}}let Ua=(()=>{class I extends vi{constructor(){super("twitter.com")}static credential(y,T){return si._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:T})}static credentialFromResult(y){return I.credentialFromTaggedObject(y)}static credentialFromError(y){return I.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:T,oauthTokenSecret:Z}=y;if(!T||!Z)return null;try{return I.credential(T,Z)}catch{return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function ws(I,d){return oo.apply(this,arguments)}function oo(){return(oo=(0,f.Z)(function*(I,d){return at(I,"POST","/v1/accounts:signUp",vt(I,d))})).apply(this,arguments)}class Kn{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,y,T,Z=!1){return(0,f.Z)(function*(){const te=yield nr._fromIdTokenResponse(d,T,Z),Le=Ws(T);return new Kn({user:te,providerId:Le,_tokenResponse:T,operationType:y})})()}static _forOperation(d,y,T){return(0,f.Z)(function*(){yield d._updateTokensIfNecessary(T,!0);const Z=Ws(T);return new Kn({user:d,providerId:Z,_tokenResponse:T,operationType:y})})()}}function Ws(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function Is(I){return jr.apply(this,arguments)}function jr(){return(jr=(0,f.Z)(function*(I){var d;const y=Zn(I);if(yield y._initializationPromise,null!==(d=y.currentUser)&&void 0!==d&&d.isAnonymous)return new Kn({user:y.currentUser,providerId:null,operationType:"signIn"});const T=yield ws(y,{returnSecureToken:!0}),Z=yield Kn._fromIdTokenResponse(y,"signIn",T,!0);return yield y._updateCurrentUser(Z.user),Z})).apply(this,arguments)}class xs extends D.ZR{constructor(d,y,T,Z){var te;super(y.code,y.message),this.operationType=T,this.user=Z,Object.setPrototypeOf(this,xs.prototype),this.customData={appName:d.name,tenantId:null!==(te=d.tenantId)&&void 0!==te?te:void 0,_serverResponse:y.customData._serverResponse,operationType:T}}static _fromErrorAndOperation(d,y,T,Z){return new xs(d,y,T,Z)}}function as(I,d,y,T){return("reauthenticate"===d?y._getReauthenticationResolver(I):y._getIdTokenResponse(I)).catch(te=>{throw"auth/multi-factor-auth-required"===te.code?xs._fromErrorAndOperation(I,te,d,T):te})}function Er(I){return new Set(I.map(({providerId:d})=>d).filter(d=>!!d))}function Qo(I,d){return Zi.apply(this,arguments)}function Zi(){return Zi=(0,f.Z)(function*(I,d){const y=(0,D.m9)(I);yield ao(!0,y,d);const{providerUserInfo:T}=yield function Mr(I,d){return Qr.apply(this,arguments)}(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[d]}),Z=Er(T||[]);return y.providerData=y.providerData.filter(te=>Z.has(te.providerId)),Z.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y}),Zi.apply(this,arguments)}function hi(I,d){return oi.apply(this,arguments)}function oi(){return(oi=(0,f.Z)(function*(I,d,y=!1){const T=yield Sn(I,d._linkToIdToken(I.auth,yield I.getIdToken()),y);return Kn._forOperation(I,"link",T)})).apply(this,arguments)}function ao(I,d,y){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,f.Z)(function*(I,d,y){yield tr(d);const Z=!1===I?"provider-already-linked":"no-such-provider";$e(Er(d.providerData).has(y)===I,d.auth,Z)})).apply(this,arguments)}function Do(I,d){return ti.apply(this,arguments)}function ti(){return(ti=(0,f.Z)(function*(I,d,y=!1){const{auth:T}=I,Z="reauthenticate";try{const te=yield Sn(I,as(T,Z,d,I),y);$e(te.idToken,T,"internal-error");const Le=$i(te.idToken);$e(Le,T,"internal-error");const{sub:ht}=Le;return $e(I.uid===ht,T,"user-mismatch"),Kn._forOperation(I,Z,te)}catch(te){throw"auth/user-not-found"===te?.code&&be(T,"user-mismatch"),te}})).apply(this,arguments)}function us(I,d){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,f.Z)(function*(I,d,y=!1){const T="signIn",Z=yield as(I,T,d),te=yield Kn._fromIdTokenResponse(I,T,Z);return y||(yield I._updateCurrentUser(te.user)),te})).apply(this,arguments)}function En(I,d){return Co.apply(this,arguments)}function Co(){return(Co=(0,f.Z)(function*(I,d){return us(Zn(I),d)})).apply(this,arguments)}function $(I,d){return V.apply(this,arguments)}function V(){return(V=(0,f.Z)(function*(I,d){const y=(0,D.m9)(I);return yield ao(!1,y,d.providerId),hi(y,d)})).apply(this,arguments)}function x(I,d){return J.apply(this,arguments)}function J(){return(J=(0,f.Z)(function*(I,d){return Do((0,D.m9)(I),d)})).apply(this,arguments)}function tn(){return(tn=(0,f.Z)(function*(I,d){return at(I,"POST","/v1/accounts:signInWithCustomToken",vt(I,d))})).apply(this,arguments)}function $r(I,d){return it.apply(this,arguments)}function it(){return it=(0,f.Z)(function*(I,d){const y=Zn(I),T=yield function nt(I,d){return tn.apply(this,arguments)}(y,{token:d,returnSecureToken:!0}),Z=yield Kn._fromIdTokenResponse(y,"signIn",T);return yield y._updateCurrentUser(Z.user),Z}),it.apply(this,arguments)}class mn{constructor(d,y){this.factorId=d,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(d,y){return"phoneInfo"in y?fi._fromServerResponse(d,y):"totpInfo"in y?Ds._fromServerResponse(d,y):be(d,"internal-error")}}class fi extends mn{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,y){return new fi(y)}}class Ds extends mn{constructor(d){super("totp",d)}static _fromServerResponse(d,y){return new Ds(y)}}function Hr(I,d,y){var T;$e((null===(T=y.url)||void 0===T?void 0:T.length)>0,I,"invalid-continue-uri"),$e(typeof y.dynamicLinkDomain>"u"||y.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),d.continueUrl=y.url,d.dynamicLinkDomain=y.dynamicLinkDomain,d.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&($e(y.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),d.iOSBundleId=y.iOS.bundleId),y.android&&($e(y.android.packageName.length>0,I,"missing-android-pkg-name"),d.androidInstallApp=y.android.installApp,d.androidMinimumVersionCode=y.android.minimumVersion,d.androidPackageName=y.android.packageName)}function To(I,d,y){return bo.apply(this,arguments)}function bo(){return bo=(0,f.Z)(function*(I,d,y){var T;const Z=Zn(I),te={requestType:"PASSWORD_RESET",email:d,clientType:"CLIENT_TYPE_WEB"};if(null!==(T=Z._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const Le=yield or(Z,te,"getOobCode",!0);y&&Hr(Z,Le,y),yield os(Z,Le)}else y&&Hr(Z,te,y),yield os(Z,te).catch(function(){var Le=(0,f.Z)(function*(ht){if("auth/missing-recaptcha-token"!==ht.code)return Promise.reject(ht);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Bt=yield or(Z,te,"getOobCode",!0);y&&Hr(Z,Bt,y),yield os(Z,Bt)}});return function(ht){return Le.apply(this,arguments)}}())}),bo.apply(this,arguments)}function Cs(I,d,y){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,f.Z)(function*(I,d,y){yield cn((0,D.m9)(I),{oobCode:d,newPassword:y})})).apply(this,arguments)}function ls(I,d){return fa.apply(this,arguments)}function fa(){return fa=(0,f.Z)(function*(I,d){yield function Mi(I,d){return mi.apply(this,arguments)}((0,D.m9)(I),{oobCode:d})}),fa.apply(this,arguments)}function ks(I,d){return uo.apply(this,arguments)}function uo(){return(uo=(0,f.Z)(function*(I,d){const y=(0,D.m9)(I),T=yield cn(y,{oobCode:d}),Z=T.requestType;switch($e(Z,y,"internal-error"),Z){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":$e(T.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":$e(T.mfaInfo,y,"internal-error");default:$e(T.email,y,"internal-error")}let te=null;return T.mfaInfo&&(te=mn._fromServerResponse(Zn(y),T.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.newEmail:T.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.email:T.newEmail)||null,multiFactorInfo:te},operation:Z}})).apply(this,arguments)}function Bn(I,d){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,f.Z)(function*(I,d){const{data:y}=yield ks((0,D.m9)(I),d);return y.email})).apply(this,arguments)}function cs(I,d,y){return ds.apply(this,arguments)}function ds(){return ds=(0,f.Z)(function*(I,d,y){var T;const Z=Zn(I),te={returnSecureToken:!0,email:d,password:y,clientType:"CLIENT_TYPE_WEB"};let Le;if(null!==(T=Z._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const qt=yield or(Z,te,"signUpPassword");Le=ws(Z,qt)}else Le=ws(Z,te).catch(function(){var qt=(0,f.Z)(function*(vn){if("auth/missing-recaptcha-token"===vn.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Fn=yield or(Z,te,"signUpPassword");return ws(Z,Fn)}return Promise.reject(vn)});return function(vn){return qt.apply(this,arguments)}}());const ht=yield Le.catch(qt=>Promise.reject(qt)),Bt=yield Kn._fromIdTokenResponse(Z,"signIn",ht);return yield Z._updateCurrentUser(Bt.user),Bt}),ds.apply(this,arguments)}function Ts(I,d,y){return En((0,D.m9)(I),Uo.credential(d,y))}function Sa(I,d,y){return Ks.apply(this,arguments)}function Ks(){return Ks=(0,f.Z)(function*(I,d,y){var T;const Z=Zn(I),te={requestType:"EMAIL_SIGNIN",email:d,clientType:"CLIENT_TYPE_WEB"};function Le(ht,Bt){$e(Bt.handleCodeInApp,Z,"argument-error"),Bt&&Hr(Z,ht,Bt)}if(null!==(T=Z._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const ht=yield or(Z,te,"getOobCode",!0);Le(ht,y),yield $s(Z,ht)}else Le(te,y),yield $s(Z,te).catch(function(){var ht=(0,f.Z)(function*(Bt){if("auth/missing-recaptcha-token"!==Bt.code)return Promise.reject(Bt);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const qt=yield or(Z,te,"getOobCode",!0);Le(qt,y),yield $s(Z,qt)}});return function(Bt){return ht.apply(this,arguments)}}())}),Ks.apply(this,arguments)}function So(I,d){return"EMAIL_SIGNIN"===Hi.parseLink(d)?.operation}function gu(I,d,y){return ai.apply(this,arguments)}function ai(){return(ai=(0,f.Z)(function*(I,d,y){const T=(0,D.m9)(I),Z=Uo.credentialWithLink(d,y||Tt());return $e(Z._tenantId===(T.tenantId||null),T,"tenant-id-mismatch"),En(T,Z)})).apply(this,arguments)}function bs(){return(bs=(0,f.Z)(function*(I,d){return ze(I,"POST","/v1/accounts:createAuthUri",vt(I,d))})).apply(this,arguments)}function Jo(I,d){return Xo.apply(this,arguments)}function Xo(){return Xo=(0,f.Z)(function*(I,d){const T={identifier:d,continueUri:Cn()?Tt():"http://localhost"},{signinMethods:Z}=yield function lo(I,d){return bs.apply(this,arguments)}((0,D.m9)(I),T);return Z||[]}),Xo.apply(this,arguments)}function Aa(I,d){return ts.apply(this,arguments)}function ts(){return ts=(0,f.Z)(function*(I,d){const y=(0,D.m9)(I),Z={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};d&&Hr(y.auth,Z,d);const{email:te}=yield function wo(I,d){return Io.apply(this,arguments)}(y.auth,Z);te!==I.email&&(yield I.reload())}),ts.apply(this,arguments)}function ea(I,d,y){return Bo.apply(this,arguments)}function Bo(){return Bo=(0,f.Z)(function*(I,d,y){const T=(0,D.m9)(I),te={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:d};y&&Hr(T.auth,te,y);const{email:Le}=yield function qo(I,d){return Zr.apply(this,arguments)}(T.auth,te);Le!==I.email&&(yield I.reload())}),Bo.apply(this,arguments)}function ta(){return(ta=(0,f.Z)(function*(I,d){return ze(I,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Ba(I,d){return ja.apply(this,arguments)}function ja(){return ja=(0,f.Z)(function*(I,{displayName:d,photoURL:y}){if(void 0===d&&void 0===y)return;const T=(0,D.m9)(I),te={idToken:yield T.getIdToken(),displayName:d,photoUrl:y,returnSecureToken:!0},Le=yield Sn(T,function qs(I,d){return ta.apply(this,arguments)}(T.auth,te));T.displayName=Le.displayName||null,T.photoURL=Le.photoUrl||null;const ht=T.providerData.find(({providerId:Bt})=>"password"===Bt);ht&&(ht.displayName=T.displayName,ht.photoURL=T.photoURL),yield T._updateTokensIfNecessary(Le)}),ja.apply(this,arguments)}function $a(I,d){return Fs((0,D.m9)(I),d,null)}function Ui(I,d){return Fs((0,D.m9)(I),null,d)}function Fs(I,d,y){return Or.apply(this,arguments)}function Or(){return(Or=(0,f.Z)(function*(I,d,y){const{auth:T}=I,te={idToken:yield I.getIdToken(),returnSecureToken:!0};d&&(te.email=d),y&&(te.password=y);const Le=yield Sn(I,gn(T,te));yield I._updateTokensIfNecessary(Le,!0)})).apply(this,arguments)}class jo{constructor(d,y,T={}){this.isNewUser=d,this.providerId=y,this.profile=T}}class Ha extends jo{constructor(d,y,T,Z){super(d,y,T),this.username=Z}}class ku extends jo{constructor(d,y){super(d,"facebook.com",y)}}class pa extends Ha{constructor(d,y){super(d,"github.com",y,"string"==typeof y?.login?y?.login:null)}}class Pa extends jo{constructor(d,y){super(d,"google.com",y)}}class Zs extends Ha{constructor(d,y,T){super(d,"twitter.com",y,T)}}function co(I){const{user:d,_tokenResponse:y}=I;return d.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function Ma(I){var d,y;if(!I)return null;const{providerId:T}=I,Z=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},te=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!T&&I?.idToken){const Le=null===(y=null===(d=$i(I.idToken))||void 0===d?void 0:d.firebase)||void 0===y?void 0:y.sign_in_provider;if(Le)return new jo(te,"anonymous"!==Le&&"custom"!==Le?Le:null)}if(!T)return null;switch(T){case"facebook.com":return new ku(te,Z);case"github.com":return new pa(te,Z);case"google.com":return new Pa(te,Z);case"twitter.com":return new Zs(te,Z,I.screenName||null);case"custom":case"anonymous":return new jo(te,null);default:return new jo(te,T,Z)}}(y)}class rr{constructor(d,y,T){this.type=d,this.credential=y,this.auth=T}static _fromIdtoken(d,y){return new rr("enroll",d,y)}static _fromMfaPendingCredential(d){return new rr("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var y,T;if(d?.multiFactorSession){if(null!==(y=d.multiFactorSession)&&void 0!==y&&y.pendingCredential)return rr._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null!==(T=d.multiFactorSession)&&void 0!==T&&T.idToken)return rr._fromIdtoken(d.multiFactorSession.idToken)}return null}}class hr{constructor(d,y,T){this.session=d,this.hints=y,this.signInResolver=T}static _fromError(d,y){const T=Zn(d),Z=y.customData._serverResponse,te=(Z.mfaInfo||[]).map(ht=>mn._fromServerResponse(T,ht));$e(Z.mfaPendingCredential,T,"internal-error");const Le=rr._fromMfaPendingCredential(Z.mfaPendingCredential);return new hr(Le,te,function(){var ht=(0,f.Z)(function*(Bt){const qt=yield Bt._process(T,Le);delete Z.mfaInfo,delete Z.mfaPendingCredential;const vn=Object.assign(Object.assign({},Z),{idToken:qt.idToken,refreshToken:qt.refreshToken});switch(y.operationType){case"signIn":const Fn=yield Kn._fromIdTokenResponse(T,y.operationType,vn);return yield T._updateCurrentUser(Fn.user),Fn;case"reauthenticate":return $e(y.user,T,"internal-error"),Kn._forOperation(y.user,y.operationType,vn);default:be(T,"internal-error")}});return function(Bt){return ht.apply(this,arguments)}}())}resolveSignIn(d){var y=this;return(0,f.Z)(function*(){return y.signInResolver(d)})()}}function xn(I,d){var y;const T=(0,D.m9)(I),Z=d;return $e(d.customData.operationType,T,"argument-error"),$e(null===(y=Z.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,T,"argument-error"),hr._fromError(T,Z)}class mr{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(T=>mn._fromServerResponse(d.auth,T)))})}static _fromUser(d){return new mr(d)}getSession(){var d=this;return(0,f.Z)(function*(){return rr._fromIdtoken(yield d.user.getIdToken(),d.user.auth)})()}enroll(d,y){var T=this;return(0,f.Z)(function*(){const Z=d,te=yield T.getSession(),Le=yield Sn(T.user,Z._process(T.user.auth,te,y));return yield T.user._updateTokensIfNecessary(Le),T.user.reload()})()}unenroll(d){var y=this;return(0,f.Z)(function*(){const T="string"==typeof d?d:d.uid,Z=yield y.user.getIdToken();try{const te=yield Sn(y.user,function Oi(I,d){return ze(I,"POST","/v2/accounts/mfaEnrollment:withdraw",vt(I,d))}(y.user.auth,{idToken:Z,mfaEnrollmentId:T}));y.enrolledFactors=y.enrolledFactors.filter(({uid:Le})=>Le!==T),yield y.user._updateTokensIfNecessary(te),yield y.user.reload()}catch(te){throw te}})()}}const Vr=new WeakMap;function Bi(I){const d=(0,D.m9)(I);return Vr.has(d)||Vr.set(d,mr._fromUser(d)),Vr.get(d)}const ji="__sak";class Yi{constructor(d,y){this.storageRetriever=d,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(ji,"1"),this.storage.removeItem(ji),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(d,y){return this.storage.setItem(d,JSON.stringify(y)),Promise.resolve()}_get(d){const y=this.storage.getItem(d);return Promise.resolve(y?JSON.parse(y):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const ya=(()=>{class I extends Yi{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,T)=>this.onStorageEvent(y,T),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ra(){const I=(0,D.z$)();return pt(I)||Ae(I)}()&&function Tn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Gn(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const T of Object.keys(this.listeners)){const Z=this.storage.getItem(T),te=this.localCache[T];Z!==te&&y(T,te,Z)}}onStorageEvent(y,T=!1){if(!y.key)return void this.forAllChangedKeys((ht,Bt,qt)=>{this.notifyListeners(ht,qt)});const Z=y.key;if(T?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ht=this.storage.getItem(Z);if(y.newValue!==ht)null!==y.newValue?this.storage.setItem(Z,y.newValue):this.storage.removeItem(Z);else if(this.localCache[Z]===y.newValue&&!T)return}const te=()=>{const ht=this.storage.getItem(Z);!T&&this.localCache[Z]===ht||this.notifyListeners(Z,ht)},Le=this.storage.getItem(Z);!function rn(){return(0,D.w1)()&&10===document.documentMode}()||Le===y.newValue||y.newValue===y.oldValue?te():setTimeout(te,10)}notifyListeners(y,T){this.localCache[y]=T;const Z=this.listeners[y];if(Z)for(const te of Array.from(Z))te(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,T,Z)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:T,newValue:Z}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(T)}_removeListener(y,T){this.listeners[y]&&(this.listeners[y].delete(T),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,T){var Z=()=>super._set,te=this;return(0,f.Z)(function*(){yield Z().call(te,y,T),te.localCache[y]=JSON.stringify(T)})()}_get(y){var T=()=>super._get,Z=this;return(0,f.Z)(function*(){const te=yield T().call(Z,y);return Z.localCache[y]=JSON.stringify(te),te})()}_remove(y){var T=()=>super._remove,Z=this;return(0,f.Z)(function*(){yield T().call(Z,y),delete Z.localCache[y]})()}}return I.type="LOCAL",I})(),Qi=(()=>{class I extends Yi{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,T){}_removeListener(y,T){}}return I.type="SESSION",I})();let na=(()=>{class I{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const T=this.receivers.find(te=>te.isListeningto(y));if(T)return T;const Z=new I(y);return this.receivers.push(Z),Z}isListeningto(y){return this.eventTarget===y}handleEvent(y){var T=this;return(0,f.Z)(function*(){const Z=y,{eventId:te,eventType:Le,data:ht}=Z.data,Bt=T.handlersMap[Le];if(!Bt?.size)return;Z.ports[0].postMessage({status:"ack",eventId:te,eventType:Le});const qt=Array.from(Bt).map(function(){var Fn=(0,f.Z)(function*(Gi){return Gi(Z.origin,ht)});return function(Gi){return Fn.apply(this,arguments)}}()),vn=yield function Lu(I){return Promise.all(I.map(function(){var d=(0,f.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(T){return{fulfilled:!1,reason:T}}});return function(y){return d.apply(this,arguments)}}()))}(qt);Z.ports[0].postMessage({status:"done",eventId:te,eventType:Le,response:vn})})()}_subscribe(y,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(T)}_unsubscribe(y,T){this.handlersMap[y]&&T&&this.handlersMap[y].delete(T),(!T||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function $o(I="",d=10){let y="";for(let T=0;T<d;T++)y+=Math.floor(10*Math.random());return I+y}class mu{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,y,T=50){var Z=this;return(0,f.Z)(function*(){const te=typeof MessageChannel<"u"?new MessageChannel:null;if(!te)throw new Error("connection_unavailable");let Le,ht;return new Promise((Bt,qt)=>{const vn=$o("",20);te.port1.start();const Fn=setTimeout(()=>{qt(new Error("unsupported_event"))},T);ht={messageChannel:te,onMessage(Gi){const Ca=Gi;if(Ca.data.eventId===vn)switch(Ca.data.status){case"ack":clearTimeout(Fn),Le=setTimeout(()=>{qt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Le),Bt(Ca.data.response);break;default:clearTimeout(Fn),clearTimeout(Le),qt(new Error("invalid_response"))}}},Z.handlers.add(ht),te.port1.addEventListener("message",ht.onMessage),Z.target.postMessage({eventType:d,eventId:vn,data:y},[te.port2])}).finally(()=>{ht&&Z.removeMessageHandler(ht)})})()}}function _i(){return window}function Ei(){return typeof _i().WorkerGlobalScope<"u"&&"function"==typeof _i().importScripts}function ra(){return(ra=(0,f.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ui="firebaseLocalStorageDb",Ss=1,ni="firebaseLocalStorage",vu="fbase_key";class fs{constructor(d){this.request=d}toPromise(){return new Promise((d,y)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function ia(I,d){return I.transaction([ni],d?"readwrite":"readonly").objectStore(ni)}function ka(){const I=indexedDB.open(ui,Ss);return new Promise((d,y)=>{I.addEventListener("error",()=>{y(I.error)}),I.addEventListener("upgradeneeded",()=>{const T=I.result;try{T.createObjectStore(ni,{keyPath:vu})}catch(Z){y(Z)}}),I.addEventListener("success",(0,f.Z)(function*(){const T=I.result;T.objectStoreNames.contains(ni)?d(T):(T.close(),yield function xr(){const I=indexedDB.deleteDatabase(ui);return new fs(I).toPromise()}(),d(yield ka()))}))})}function lr(I,d,y){return va.apply(this,arguments)}function va(){return(va=(0,f.Z)(function*(I,d,y){const T=ia(I,!0).put({[vu]:d,value:y});return new fs(T).toPromise()})).apply(this,arguments)}function pi(){return(pi=(0,f.Z)(function*(I,d){const y=ia(I,!1).get(d),T=yield new fs(y).toPromise();return void 0===T?null:T.value})).apply(this,arguments)}function _a(I,d){const y=ia(I,!0).delete(d);return new fs(y).toPromise()}const Ga=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,f.Z)(function*(){return y.db||(y.db=yield ka()),y.db})()}_withRetries(y){var T=this;return(0,f.Z)(function*(){let Z=0;for(;;)try{const te=yield T._openDb();return yield y(te)}catch(te){if(Z++>3)throw te;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,f.Z)(function*(){return Ei()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,f.Z)(function*(){y.receiver=na._getInstance(function Na(){return Ei()?self:null}()),y.receiver._subscribe("keyChanged",function(){var T=(0,f.Z)(function*(Z,te){return{keyProcessed:(yield y._poll()).includes(te.key)}});return function(Z,te){return T.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var T=(0,f.Z)(function*(Z,te){return["keyChanged"]});return function(Z,te){return T.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,f.Z)(function*(){var T,Z;if(y.activeServiceWorker=yield function Vu(){return ra.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new mu(y.activeServiceWorker);const te=yield y.sender._send("ping",{},800);te&&null!==(T=te[0])&&void 0!==T&&T.fulfilled&&null!==(Z=te[0])&&void 0!==Z&&Z.value.includes("keyChanged")&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var T=this;return(0,f.Z)(function*(){if(T.sender&&T.activeServiceWorker&&function yu(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:y},T.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,f.Z)(function*(){try{if(!indexedDB)return!1;const y=yield ka();return yield lr(y,ji,"1"),yield _a(y,ji),!0}catch{}return!1})()}_withPendingWrite(y){var T=this;return(0,f.Z)(function*(){T.pendingWrites++;try{yield y()}finally{T.pendingWrites--}})()}_set(y,T){var Z=this;return(0,f.Z)(function*(){return Z._withPendingWrite((0,f.Z)(function*(){return yield Z._withRetries(te=>lr(te,y,T)),Z.localCache[y]=T,Z.notifyServiceWorker(y)}))})()}_get(y){var T=this;return(0,f.Z)(function*(){const Z=yield T._withRetries(te=>function za(I,d){return pi.apply(this,arguments)}(te,y));return T.localCache[y]=Z,Z})()}_remove(y){var T=this;return(0,f.Z)(function*(){return T._withPendingWrite((0,f.Z)(function*(){return yield T._withRetries(Z=>_a(Z,y)),delete T.localCache[y],T.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,f.Z)(function*(){const T=yield y._withRetries(Le=>{const ht=ia(Le,!1).getAll();return new fs(ht).toPromise()});if(!T)return[];if(0!==y.pendingWrites)return[];const Z=[],te=new Set;for(const{fbase_key:Le,value:ht}of T)te.add(Le),JSON.stringify(y.localCache[Le])!==JSON.stringify(ht)&&(y.notifyListeners(Le,ht),Z.push(Le));for(const Le of Object.keys(y.localCache))y.localCache[Le]&&!te.has(Le)&&(y.notifyListeners(Le,null),Z.push(Le));return Z})()}notifyListeners(y,T){this.localCache[y]=T;const Z=this.listeners[y];if(Z)for(const te of Array.from(Z))te(T)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,f.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(T)}_removeListener(y,T){this.listeners[y]&&(this.listeners[y].delete(T),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})(),wa=1e12;class su{constructor(d){this.auth=d,this.counter=wa,this._widgets=new Map}render(d,y){const T=this.counter;return this._widgets.set(T,new _l(d,this.auth.name,y||{})),this.counter++,T}reset(d){var y;const T=d||wa;null===(y=this._widgets.get(T))||void 0===y||y.delete(),this._widgets.delete(T)}getResponse(d){var y;return(null===(y=this._widgets.get(d||wa))||void 0===y?void 0:y.getResponse())||""}execute(d){var y=this;return(0,f.Z)(function*(){var T;return null===(T=y._widgets.get(d||wa))||void 0===T||T.execute(),""})()}}class _l{constructor(d,y,T){this.params=T,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Z="string"==typeof d?document.getElementById(d):d;$e(Z,"argument-error",{appName:y}),this.container=Z,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Fa(I){const d=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let T=0;T<I;T++)d.push(y.charAt(Math.floor(Math.random()*y.length)));return d.join("")}(50);const{callback:d,"expired-callback":y}=this.params;if(d)try{d(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const El=Pr("rcb"),Eu=new Ze(3e4,6e4);class sa{constructor(){var d;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(d=_i().grecaptcha)||void 0===d||!d.render)}load(d,y=""){return $e(function wl(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(y),d,"argument-error"),this.shouldResolveImmediately(y)&&ln(_i().grecaptcha)?Promise.resolve(_i().grecaptcha):new Promise((T,Z)=>{const te=_i().setTimeout(()=>{Z(De(d,"network-request-failed"))},Eu.get());_i()[El]=()=>{_i().clearTimeout(te),delete _i()[El];const ht=_i().grecaptcha;if(!ht||!ln(ht))return void Z(De(d,"internal-error"));const Bt=ht.render;ht.render=(qt,vn)=>{const Fn=Bt(qt,vn);return this.counter++,Fn},this.hostLanguage=y,T(ht)},On(`https://www.google.com/recaptcha/api.js??${(0,D.xO)({onload:El,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(te),Z(De(d,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){var y;return!(null===(y=_i().grecaptcha)||void 0===y||!y.render)&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class wu{load(d){return(0,f.Z)(function*(){return new su(d)})()}clearedOneInstance(){}}const R="recaptcha",m={theme:"light",type:"image"};class v{constructor(d,y=Object.assign({},m),T){this.parameters=y,this.type=R,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Zn(T),this.isInvisible="invisible"===this.parameters.size,$e(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const Z="string"==typeof d?document.getElementById(d):d;$e(Z,this.auth,"argument-error"),this.container=Z,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new wu:new sa,this.validateStartingState()}verify(){var d=this;return(0,f.Z)(function*(){d.assertNotDestroyed();const y=yield d.render(),T=d.getAssertedRecaptcha();return T.getResponse(y)||new Promise(te=>{const Le=ht=>{ht&&(d.tokenChangeListeners.delete(Le),te(ht))};d.tokenChangeListeners.add(Le),d.isInvisible&&T.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){$e(!this.parameters.sitekey,this.auth,"argument-error"),$e(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),$e(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return y=>{if(this.tokenChangeListeners.forEach(T=>T(y)),"function"==typeof d)d(y);else if("string"==typeof d){const T=_i()[d];"function"==typeof T&&T(y)}}}assertNotDestroyed(){$e(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,f.Z)(function*(){if(yield d.init(),!d.widgetId){let y=d.container;if(!d.isInvisible){const T=document.createElement("div");y.appendChild(T),y=T}d.widgetId=d.getAssertedRecaptcha().render(y,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,f.Z)(function*(){$e(Cn()&&!Ei(),d.auth,"internal-error"),yield function M(){let I=null;return new Promise(d=>{"complete"!==document.readyState?(I=()=>d(),window.addEventListener("load",I)):d()}).catch(d=>{throw I&&window.removeEventListener("load",I),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const y=yield function rt(I){return Ke.apply(this,arguments)}(d.auth);$e(y,d.auth,"internal-error"),d.parameters.sitekey=y})()}getAssertedRecaptcha(){return $e(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class j{constructor(d,y){this.verificationId=d,this.onConfirmation=y}confirm(d){const y=di._fromVerification(this.verificationId,d);return this.onConfirmation(y)}}function Q(I,d,y){return le.apply(this,arguments)}function le(){return(le=(0,f.Z)(function*(I,d,y){const T=Zn(I),Z=yield g(T,d,(0,D.m9)(y));return new j(Z,te=>En(T,te))})).apply(this,arguments)}function ye(I,d,y){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,f.Z)(function*(I,d,y){const T=(0,D.m9)(I);yield ao(!1,T,"phone");const Z=yield g(T.auth,d,(0,D.m9)(y));return new j(Z,te=>$(T,te))})).apply(this,arguments)}function _(I,d,y){return w.apply(this,arguments)}function w(){return(w=(0,f.Z)(function*(I,d,y){const T=(0,D.m9)(I),Z=yield g(T.auth,d,(0,D.m9)(y));return new j(Z,te=>x(T,te))})).apply(this,arguments)}function g(I,d,y){return b.apply(this,arguments)}function b(){return b=(0,f.Z)(function*(I,d,y){var T;const Z=yield y.verify();try{let te;if($e("string"==typeof Z,I,"argument-error"),$e(y.type===R,I,"argument-error"),te="string"==typeof d?{phoneNumber:d}:d,"session"in te){const Le=te.session;if("phoneNumber"in te)return $e("enroll"===Le.type,I,"internal-error"),(yield function Fr(I,d){return ze(I,"POST","/v2/accounts/mfaEnrollment:start",vt(I,d))}(I,{idToken:Le.credential,phoneEnrollmentInfo:{phoneNumber:te.phoneNumber,recaptchaToken:Z}})).phoneSessionInfo.sessionInfo;{$e("signin"===Le.type,I,"internal-error");const ht=(null===(T=te.multiFactorHint)||void 0===T?void 0:T.uid)||te.multiFactorUid;return $e(ht,I,"missing-multi-factor-info"),(yield function fo(I,d){return ze(I,"POST","/v2/accounts/mfaSignIn:start",vt(I,d))}(I,{mfaPendingCredential:Le.credential,mfaEnrollmentId:ht,phoneSignInInfo:{recaptchaToken:Z}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Le}=yield function Zo(I,d){return Fo.apply(this,arguments)}(I,{phoneNumber:te.phoneNumber,recaptchaToken:Z});return Le}}finally{y._reset()}}),b.apply(this,arguments)}function k(I,d){return H.apply(this,arguments)}function H(){return(H=(0,f.Z)(function*(I,d){yield hi((0,D.m9)(I),d)})).apply(this,arguments)}let G=(()=>{class I{constructor(y){this.providerId=I.PROVIDER_ID,this.auth=Zn(y)}verifyPhoneNumber(y,T){return g(this.auth,y,(0,D.m9)(T))}static credential(y,T){return di._fromVerification(y,T)}static credentialFromResult(y){return I.credentialFromTaggedObject(y)}static credentialFromError(y){return I.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:T,temporaryProof:Z}=y;return T&&Z?di._fromTokenResponse(T,Z):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function ae(I,d){return d?Ot(d):($e(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class Ye extends Dt{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return Ps(d,this._buildIdpRequest())}_linkToIdToken(d,y){return Ps(d,this._buildIdpRequest(y))}_getReauthenticationResolver(d){return Ps(d,this._buildIdpRequest())}_buildIdpRequest(d){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(y.idToken=d),y}}function He(I){return us(I.auth,new Ye(I),I.bypassAuthState)}function Ee(I){const{auth:d,user:y}=I;return $e(y,d,"internal-error"),Do(y,new Ye(I),I.bypassAuthState)}function Je(I){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,f.Z)(function*(I){const{auth:d,user:y}=I;return $e(y,d,"internal-error"),hi(y,new Ye(I),I.bypassAuthState)})).apply(this,arguments)}class xi{constructor(d,y,T,Z,te=!1){this.auth=d,this.resolver=T,this.user=Z,this.bypassAuthState=te,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var d=this;return new Promise(function(){var y=(0,f.Z)(function*(T,Z){d.pendingPromise={resolve:T,reject:Z};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(te){d.reject(te)}});return function(T,Z){return y.apply(this,arguments)}}())}onAuthEvent(d){var y=this;return(0,f.Z)(function*(){const{urlResponse:T,sessionId:Z,postBody:te,tenantId:Le,error:ht,type:Bt}=d;if(ht)return void y.reject(ht);const qt={auth:y.auth,requestUri:T,sessionId:Z,tenantId:Le||void 0,postBody:te||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(Bt)(qt))}catch(vn){y.reject(vn)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return He;case"linkViaPopup":case"linkViaRedirect":return Je;case"reauthViaPopup":case"reauthViaRedirect":return Ee;default:be(this.auth,"internal-error")}}resolve(d){Qt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){Qt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ri=new Ze(2e3,1e4);function zr(I,d,y){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,f.Z)(function*(I,d,y){const T=Zn(I);Ct(I,d,_s);const Z=ae(T,y);return new sl(T,"signInViaPopup",d,Z).executeNotNull()})).apply(this,arguments)}function Ho(I,d,y){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,f.Z)(function*(I,d,y){const T=(0,D.m9)(I);Ct(T.auth,d,_s);const Z=ae(T.auth,y);return new sl(T.auth,"reauthViaPopup",d,Z,T).executeNotNull()})).apply(this,arguments)}function Ia(I,d,y){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,f.Z)(function*(I,d,y){const T=(0,D.m9)(I);Ct(T.auth,d,_s);const Z=ae(T.auth,y);return new sl(T.auth,"linkViaPopup",d,Z,T).executeNotNull()})).apply(this,arguments)}let sl=(()=>{class I extends xi{constructor(y,T,Z,te,Le){super(y,T,te,Le),this.provider=Z,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var y=this;return(0,f.Z)(function*(){const T=yield y.execute();return $e(T,y.auth,"internal-error"),T})()}onExecution(){var y=this;return(0,f.Z)(function*(){Qt(1===y.filter.length,"Popup operations only handle one event");const T=$o();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],T),y.authWindow.associatedEvent=T,y.resolver._originValidation(y.auth).catch(Z=>{y.reject(Z)}),y.resolver._isIframeWebStorageSupported(y.auth,Z=>{Z||y.reject(De(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(De(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const y=()=>{var T,Z;this.pollId=null!==(Z=null===(T=this.authWindow)||void 0===T?void 0:T.window)&&void 0!==Z&&Z.closed?window.setTimeout(()=>{this.pollId=null,this.reject(De(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(y,ri.get())};y()}}return I.currentPopupAction=null,I})();const ol="pendingRedirect",Xt=new Map;class Nt extends xi{constructor(d,y,T=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,T),this.eventId=null}execute(){var d=()=>super.execute,y=this;return(0,f.Z)(function*(){let T=Xt.get(y.auth._key());if(!T){try{const te=(yield function bn(I,d){return cr.apply(this,arguments)}(y.resolver,y.auth))?yield d().call(y):null;T=()=>Promise.resolve(te)}catch(Z){T=()=>Promise.reject(Z)}Xt.set(y.auth._key(),T)}return y.bypassAuthState||Xt.set(y.auth._key(),()=>Promise.resolve(null)),T()})()}onAuthEvent(d){var y=()=>super.onAuthEvent,T=this;return(0,f.Z)(function*(){if("signInViaRedirect"===d.type)return y().call(T,d);if("unknown"!==d.type){if(d.eventId){const Z=yield T.auth._redirectUserForId(d.eventId);if(Z)return T.user=Z,y().call(T,d);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,f.Z)(function*(){})()}cleanUp(){}}function cr(){return(cr=(0,f.Z)(function*(I,d){const y=Di(d),T=Ii(I);if(!(yield T._isAvailable()))return!1;const Z="true"===(yield T._get(y));return yield T._remove(y),Z})).apply(this,arguments)}function Qn(I,d){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,f.Z)(function*(I,d){return Ii(I)._set(Di(d),"true")})).apply(this,arguments)}function zi(){Xt.clear()}function Jn(I,d){Xt.set(I._key(),d)}function Ii(I){return Ot(I._redirectPersistence)}function Di(I){return vr(ol,I.config.apiKey,I.name)}function Kt(I,d,y){return function Ji(I,d,y){return zo.apply(this,arguments)}(I,d,y)}function zo(){return(zo=(0,f.Z)(function*(I,d,y){const T=Zn(I);Ct(I,d,_s),yield T._initializationPromise;const Z=ae(T,y);return yield Qn(Z,T),Z._openRedirect(T,d,"signInViaRedirect")})).apply(this,arguments)}function rs(I,d,y){return function Uu(I,d,y){return Go.apply(this,arguments)}(I,d,y)}function Go(){return(Go=(0,f.Z)(function*(I,d,y){const T=(0,D.m9)(I);Ct(T.auth,d,_s),yield T.auth._initializationPromise;const Z=ae(T.auth,y);yield Qn(Z,T.auth);const te=yield Ql(T);return Z._openRedirect(T.auth,d,"reauthViaRedirect",te)})).apply(this,arguments)}function Fc(I,d,y){return function al(I,d,y){return Il.apply(this,arguments)}(I,d,y)}function Il(){return(Il=(0,f.Z)(function*(I,d,y){const T=(0,D.m9)(I);Ct(T.auth,d,_s),yield T.auth._initializationPromise;const Z=ae(T.auth,y);yield ao(!1,T,d.providerId),yield Qn(Z,T.auth);const te=yield Ql(T);return Z._openRedirect(T.auth,d,"linkViaRedirect",te)})).apply(this,arguments)}function Dd(I,d){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,f.Z)(function*(I,d){return yield Zn(I)._initializationPromise,Dl(I,d,!1)})).apply(this,arguments)}function Dl(I,d){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,f.Z)(function*(I,d,y=!1){const T=Zn(I),Z=ae(T,d),Le=yield new Nt(T,Z,y).execute();return Le&&!y&&(delete Le.user._redirectEventId,yield T._persistUserIfCurrent(Le.user),yield T._setRedirectUser(null,d)),Le})).apply(this,arguments)}function Ql(I){return oa.apply(this,arguments)}function oa(){return(oa=(0,f.Z)(function*(I){const d=$o(`${I.uid}:::`);return I._redirectEventId=d,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),d})).apply(this,arguments)}class Xe{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let y=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(d,T)&&(y=!0,this.sendToConsumer(d,T),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function Lc(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Wo(I);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=d,y=!0)),y}sendToConsumer(d,y){var T;if(d.error&&!Wo(d)){const Z=(null===(T=d.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";y.onError(De(this.auth,Z))}else y.onAuthEvent(d)}isEventForConsumer(d,y){const T=null===y.eventId||!!d.eventId&&d.eventId===y.eventId;return y.filter.includes(d.type)&&T}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Wa(d))}saveEventToCache(d){this.cachedEventUids.add(Wa(d)),this.lastProcessedEventTime=Date.now()}}function Wa(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(d=>d).join("-")}function Wo({type:I,error:d}){return"unknown"===I&&"auth/no-auth-event"===d?.code}function Iu(I){return Da.apply(this,arguments)}function Da(){return(Da=(0,f.Z)(function*(I,d={}){return ze(I,"GET","/v1/projects",d)})).apply(this,arguments)}const Wf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ju=/^https?/;function Du(){return(Du=(0,f.Z)(function*(I){if(I.config.emulator)return;const{authorizedDomains:d}=yield Iu(I);for(const y of d)try{if(Uc(y))return}catch{}be(I,"unauthorized-domain")})).apply(this,arguments)}function Uc(I){const d=Tt(),{protocol:y,hostname:T}=new URL(d);if(I.startsWith("chrome-extension://")){const Le=new URL(I);return""===Le.hostname&&""===T?"chrome-extension:"===y&&I.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===y&&Le.hostname===T}if(!ju.test(y))return!1;if(Wf.test(I))return T===I;const Z=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Z+"|"+Z+")$","i").test(T)}const Cu=new Ze(3e4,6e4);function Ys(){const I=_i().___jsl;if(I?.H)for(const d of Object.keys(I.H))if(I.H[d].r=I.H[d].r||[],I.H[d].L=I.H[d].L||[],I.H[d].r=[...I.H[d].L],I.CP)for(let y=0;y<I.CP.length;y++)I.CP[y]=null}let ou=null;const Qs=new Ze(5e3,15e3),uu="__/auth/iframe",Tl="emulator/auth/iframe",Ka={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Jl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bl(I){const d=I.config;$e(d.authDomain,I,"auth-domain-config-required");const y=d.emulator?ut(d,Tl):`https://${I.config.authDomain}/${uu}`,T={apiKey:d.apiKey,appName:I.name,v:B.SDK_VERSION},Z=Jl.get(I.config.apiHost);Z&&(T.eid=Z);const te=I._getFrameworks();return te.length&&(T.fw=te.join(",")),`${y}?${(0,D.xO)(T).slice(1)}`}function ec(){return ec=(0,f.Z)(function*(I){const d=yield function au(I){return ou=ou||function Po(I){return new Promise((d,y)=>{var T,Z,te;function Le(){Ys(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{Ys(),y(De(I,"network-request-failed"))},timeout:Cu.get()})}if(null!==(Z=null===(T=_i().gapi)||void 0===T?void 0:T.iframes)&&void 0!==Z&&Z.Iframe)d(gapi.iframes.getContext());else{if(null===(te=_i().gapi)||void 0===te||!te.load){const ht=Pr("iframefcb");return _i()[ht]=()=>{gapi.load?Le():y(De(I,"network-request-failed"))},On(`https://apis.google.com/js/api.js?onload=${ht}`).catch(Bt=>y(Bt))}Le()}}).catch(d=>{throw ou=null,d})}(I),ou}(I),y=_i().gapi;return $e(y,I,"internal-error"),d.open({where:document.body,url:bl(I),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ka,dontclear:!0},T=>new Promise(function(){var Z=(0,f.Z)(function*(te,Le){yield T.restyle({setHideOnLeave:!1});const ht=De(I,"network-request-failed"),Bt=_i().setTimeout(()=>{Le(ht)},Qs.get());function qt(){_i().clearTimeout(Bt),te(T)}T.ping(qt).then(qt,()=>{Le(ht)})});return function(te,Le){return Z.apply(this,arguments)}}()))}),ec.apply(this,arguments)}const C={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},O=500,q=600,oe="_blank",Pe="http://localhost";class Ue{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ht="__/auth/handler",yn="emulator/auth/handler",$n=encodeURIComponent("fac");function Hn(I,d,y,T,Z,te){return po.apply(this,arguments)}function po(){return(po=(0,f.Z)(function*(I,d,y,T,Z,te){$e(I.config.authDomain,I,"auth-domain-config-required"),$e(I.config.apiKey,I,"invalid-api-key");const Le={apiKey:I.config.apiKey,appName:I.name,authType:y,redirectUrl:T,v:B.SDK_VERSION,eventId:Z};if(d instanceof _s){d.setDefaultLanguage(I.languageCode),Le.providerId=d.providerId||"",(0,D.xb)(d.getCustomParameters())||(Le.customParameters=JSON.stringify(d.getCustomParameters()));for(const[vn,Fn]of Object.entries(te||{}))Le[vn]=Fn}if(d instanceof vi){const vn=d.getScopes().filter(Fn=>""!==Fn);vn.length>0&&(Le.scopes=vn.join(","))}I.tenantId&&(Le.tid=I.tenantId);const ht=Le;for(const vn of Object.keys(ht))void 0===ht[vn]&&delete ht[vn];const Bt=yield I._getAppCheckToken(),qt=Bt?`#${$n}=${encodeURIComponent(Bt)}`:"";return`${function Vs({config:I}){return I.emulator?ut(I,yn):`https://${I.authDomain}/${Ht}`}(I)}?${(0,D.xO)(ht).slice(1)}${qt}`})).apply(this,arguments)}const lu="webStorageSupport",Tu=class tc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Qi,this._completeRedirectFn=Dl,this._overrideRedirectResult=Jn}_openPopup(d,y,T,Z){var te=this;return(0,f.Z)(function*(){var Le;Qt(null===(Le=te.eventManagers[d._key()])||void 0===Le?void 0:Le.manager,"_initialize() not called before _openPopup()");const ht=yield Hn(d,y,T,Tt(),Z);return function gt(I,d,y,T=O,Z=q){const te=Math.max((window.screen.availHeight-Z)/2,0).toString(),Le=Math.max((window.screen.availWidth-T)/2,0).toString();let ht="";const Bt=Object.assign(Object.assign({},C),{width:T.toString(),height:Z.toString(),top:te,left:Le}),qt=(0,D.z$)().toLowerCase();y&&(ht=qe(qt)?oe:y),Se(qt)&&(d=d||Pe,Bt.scrollbars="yes");const vn=Object.entries(Bt).reduce((Gi,[Ca,qa])=>`${Gi}${Ca}=${qa},`,"");if(function At(I=(0,D.z$)()){var d;return Ae(I)&&!(null===(d=window.navigator)||void 0===d||!d.standalone)}(qt)&&"_self"!==ht)return function Yt(I,d){const y=document.createElement("a");y.href=I,y.target=d;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(T)}(d||"",ht),new Ue(null);const Fn=window.open(d||"",ht,vn);$e(Fn,I,"popup-blocked");try{Fn.focus()}catch{}return new Ue(Fn)}(d,ht,$o())})()}_openRedirect(d,y,T,Z){var te=this;return(0,f.Z)(function*(){return yield te._originValidation(d),function xa(I){_i().location.href=I}(yield Hn(d,y,T,Tt(),Z)),new Promise(()=>{})})()}_initialize(d){const y=d._key();if(this.eventManagers[y]){const{manager:Z,promise:te}=this.eventManagers[y];return Z?Promise.resolve(Z):(Qt(te,"If manager is not set, promise should be"),te)}const T=this.initAndGetManager(d);return this.eventManagers[y]={promise:T},T.catch(()=>{delete this.eventManagers[y]}),T}initAndGetManager(d){var y=this;return(0,f.Z)(function*(){const T=yield function Xl(I){return ec.apply(this,arguments)}(d),Z=new Xe(d);return T.register("authEvent",te=>($e(te?.authEvent,d,"invalid-auth-event"),{status:Z.onEvent(te.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[d._key()]={manager:Z},y.iframes[d._key()]=T,Z})()}_isIframeWebStorageSupported(d,y){this.iframes[d._key()].send(lu,{type:lu},Z=>{var te;const Le=null===(te=Z?.[0])||void 0===te?void 0:te[lu];void 0!==Le&&y(!!Le),be(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const y=d._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function Vc(I){return Du.apply(this,arguments)}(d)),this.originValidationPromises[y]}get _shouldInitProactively(){return Gn()||pt()||Ae()}};class Ro{constructor(d){this.factorId=d}_process(d,y,T){switch(y.type){case"enroll":return this._finalizeEnroll(d,y.credential,T);case"signin":return this._finalizeSignIn(d,y.credential);default:return kt("unexpected MultiFactorSessionType")}}}class aa extends Ro{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new aa(d)}_finalizeEnroll(d,y,T){return function jn(I,d){return ze(I,"POST","/v2/accounts/mfaEnrollment:finalize",vt(I,d))}(d,{idToken:y,displayName:T,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,y){return function wi(I,d){return ze(I,"POST","/v2/accounts/mfaSignIn:finalize",vt(I,d))}(d,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Sl=(()=>{class I{constructor(){}static assertion(y){return aa._fromCredential(y)}}return I.FACTOR_ID="phone",I})();var li="@firebase/auth";class is{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var y=this;return(0,f.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const y=this.auth.onIdTokenChanged(T=>{d(T?.stsTokenManager.accessToken||null)});this.internalListeners.set(d,y),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const y=this.internalListeners.get(d);y&&(this.internalListeners.delete(d),y(),this.updateProactiveRefresh())}assertAuthConfigured(){$e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Oo=(0,D.Pz)("authIdTokenMaxAge")||300;let Td=null;const hm=I=>function(){var d=(0,f.Z)(function*(y){const T=y&&(yield y.getIdTokenResult()),Z=T&&((new Date).getTime()-Date.parse(T.issuedAtTime))/1e3;if(Z&&Z>Oo)return;const te=T?.token;Td!==te&&(Td=te,yield fetch(I,{method:te?"POST":"DELETE",headers:te?{Authorization:`Bearer ${te}`}:{}}))});return function(y){return d.apply(this,arguments)}}();function Us(I=(0,B.getApp)()){const d=(0,B._getProvider)(I,"auth");if(d.isInitialized())return d.getImmediate();const y=function Ir(I,d){const y=(0,B._getProvider)(I,"auth");if(y.isInitialized()){const Z=y.getImmediate(),te=y.getOptions();if((0,D.vZ)(te,d??{}))return Z;be(Z,"already-initialized")}return y.initialize({options:d})}(I,{popupRedirectResolver:Tu,persistence:[Ga,ya,Qi]}),T=(0,D.Pz)("authTokenSyncURL");if(T){const te=hm(T);(function F(I,d,y){(0,D.m9)(I).beforeAuthStateChanged(d,y)})(y,te,()=>te(y.currentUser)),function z(I,d,y,T){(0,D.m9)(I).onIdTokenChanged(d,y,T)}(y,Le=>te(Le))}const Z=(0,D.q4)("auth");return Z&&_r(y,`http://${Z}`),y}!function Cd(I){(0,B._registerComponent)(new we.wA("auth",(d,{options:y})=>{const T=d.getProvider("app").getImmediate(),Z=d.getProvider("heartbeat"),te=d.getProvider("app-check-internal"),{apiKey:Le,authDomain:ht}=T.options;$e(Le&&!Le.includes(":"),"invalid-api-key",{appName:T.name});const Bt={apiKey:Le,authDomain:ht,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ei(I)},qt=new wr(T,Z,te,Bt);return function Ai(I,d){const y=d?.persistence||[],T=(Array.isArray(y)?y:[y]).map(Ot);d?.errorMap&&I._updateErrorMap(d.errorMap),I._initializeWithPersistence(T,d?.popupRedirectResolver)}(qt,y),qt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,y,T)=>{d.getProvider("auth-internal").initialize()})),(0,B._registerComponent)(new we.wA("auth-internal",d=>{const y=Zn(d.getProvider("auth").getImmediate());return new is(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,B.registerVersion)(li,"0.23.2",function Ci(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(I)),(0,B.registerVersion)(li,"0.23.2","esm2017")}("Browser")},2090:(Lt,je,L)=>{L.d(je,{$s:()=>Ot,BH:()=>st,L:()=>ge,LL:()=>Pt,P0:()=>mt,Pz:()=>De,Sg:()=>Ct,UG:()=>kt,US:()=>we,ZB:()=>ne,ZR:()=>ze,aH:()=>be,b$:()=>Cn,eu:()=>bt,hl:()=>ft,jU:()=>Qt,m9:()=>vr,ne:()=>Sn,pd:()=>$i,q4:()=>et,r3:()=>Mr,ru:()=>Tt,tV:()=>re,uI:()=>$e,vZ:()=>xt,w1:()=>gi,xO:()=>Ur,xb:()=>bi,z$:()=>yt,zI:()=>wt,zd:()=>Jr});const ue=function(me){const pe=[];let Se=0;for(let pt=0;pt<me.length;pt++){let qe=me.charCodeAt(pt);qe<128?pe[Se++]=qe:qe<2048?(pe[Se++]=qe>>6|192,pe[Se++]=63&qe|128):55296==(64512&qe)&&pt+1<me.length&&56320==(64512&me.charCodeAt(pt+1))?(qe=65536+((1023&qe)<<10)+(1023&me.charCodeAt(++pt)),pe[Se++]=qe>>18|240,pe[Se++]=qe>>12&63|128,pe[Se++]=qe>>6&63|128,pe[Se++]=63&qe|128):(pe[Se++]=qe>>12|224,pe[Se++]=qe>>6&63|128,pe[Se++]=63&qe|128)}return pe},we={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(me,pe){if(!Array.isArray(me))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Se=pe?this.byteToCharMapWebSafe_:this.byteToCharMap_,pt=[];for(let qe=0;qe<me.length;qe+=3){const Rt=me[qe],Ie=qe+1<me.length,Ce=Ie?me[qe+1]:0,se=qe+2<me.length,Ae=se?me[qe+2]:0;let rn=(15&Ce)<<2|Ae>>6,Gn=63&Ae;se||(Gn=64,Ie||(rn=64)),pt.push(Se[Rt>>2],Se[(3&Rt)<<4|Ce>>4],Se[rn],Se[Gn])}return pt.join("")},encodeString(me,pe){return this.HAS_NATIVE_SUPPORT&&!pe?btoa(me):this.encodeByteArray(ue(me),pe)},decodeString(me,pe){return this.HAS_NATIVE_SUPPORT&&!pe?atob(me):function(me){const pe=[];let Se=0,pt=0;for(;Se<me.length;){const qe=me[Se++];if(qe<128)pe[pt++]=String.fromCharCode(qe);else if(qe>191&&qe<224){const Rt=me[Se++];pe[pt++]=String.fromCharCode((31&qe)<<6|63&Rt)}else if(qe>239&&qe<365){const se=((7&qe)<<18|(63&me[Se++])<<12|(63&me[Se++])<<6|63&me[Se++])-65536;pe[pt++]=String.fromCharCode(55296+(se>>10)),pe[pt++]=String.fromCharCode(56320+(1023&se))}else{const Rt=me[Se++],Ie=me[Se++];pe[pt++]=String.fromCharCode((15&qe)<<12|(63&Rt)<<6|63&Ie)}}return pe.join("")}(this.decodeStringToByteArray(me,pe))},decodeStringToByteArray(me,pe){this.init_();const Se=pe?this.charToByteMapWebSafe_:this.charToByteMap_,pt=[];for(let qe=0;qe<me.length;){const Rt=Se[me.charAt(qe++)],Ce=qe<me.length?Se[me.charAt(qe)]:0;++qe;const Ae=qe<me.length?Se[me.charAt(qe)]:64;++qe;const At=qe<me.length?Se[me.charAt(qe)]:64;if(++qe,null==Rt||null==Ce||null==Ae||null==At)throw new Te;pt.push(Rt<<2|Ce>>4),64!==Ae&&(pt.push(Ce<<4&240|Ae>>2),64!==At&&pt.push(Ae<<6&192|At))}return pt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let me=0;me<this.ENCODED_VALS.length;me++)this.byteToCharMap_[me]=this.ENCODED_VALS.charAt(me),this.charToByteMap_[this.byteToCharMap_[me]]=me,this.byteToCharMapWebSafe_[me]=this.ENCODED_VALS_WEBSAFE.charAt(me),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[me]]=me,me>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(me)]=me,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(me)]=me)}}};class Te extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ge=function(me){return function(me){const pe=ue(me);return we.encodeByteArray(pe,!0)}(me).replace(/\./g,"")},re=function(me){try{return we.decodeString(me,!0)}catch(pe){console.error("base64Decode failed: ",pe)}return null};function ne(me,pe){if(!(pe instanceof Object))return pe;switch(pe.constructor){case Date:return new Date(pe.getTime());case Object:void 0===me&&(me={});break;case Array:me=[];break;default:return pe}for(const Se in pe)!pe.hasOwnProperty(Se)||!ke(Se)||(me[Se]=ne(me[Se],pe[Se]));return me}function ke(me){return"__proto__"!==me}const Ge=()=>{try{return function ce(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const me=process.env.__FIREBASE_DEFAULTS__;return me?JSON.parse(me):void 0})()||(()=>{if(typeof document>"u")return;let me;try{me=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const pe=me&&re(me[1]);return pe&&JSON.parse(pe)})()}catch(me){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${me}`)}},et=me=>{var pe,Se;return null===(Se=null===(pe=Ge())||void 0===pe?void 0:pe.emulatorHosts)||void 0===Se?void 0:Se[me]},mt=me=>{const pe=et(me);if(!pe)return;const Se=pe.lastIndexOf(":");if(Se<=0||Se+1===pe.length)throw new Error(`Invalid host ${pe} with no separate hostname and port!`);const pt=parseInt(pe.substring(Se+1),10);return"["===pe[0]?[pe.substring(1,Se-1),pt]:[pe.substring(0,Se),pt]},be=()=>{var me;return null===(me=Ge())||void 0===me?void 0:me.config},De=me=>{var pe;return null===(pe=Ge())||void 0===pe?void 0:pe[`_${me}`]};class st{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((pe,Se)=>{this.resolve=pe,this.reject=Se})}wrapCallback(pe){return(Se,pt)=>{Se?this.reject(Se):this.resolve(pt),"function"==typeof pe&&(this.promise.catch(()=>{}),1===pe.length?pe(Se):pe(Se,pt))}}}function Ct(me,pe){if(me.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const pt=pe||"demo-project",qe=me.iat||0,Rt=me.sub||me.user_id;if(!Rt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ie=Object.assign({iss:`https://securetoken.google.com/${pt}`,aud:pt,iat:qe,exp:qe+3600,auth_time:qe,sub:Rt,user_id:Rt,firebase:{sign_in_provider:"custom",identities:{}}},me);return[ge(JSON.stringify({alg:"none",type:"JWT"})),ge(JSON.stringify(Ie)),""].join(".")}function yt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function $e(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yt())}function kt(){var me;const pe=null===(me=Ge())||void 0===me?void 0:me.forceEnvironment;if("node"===pe)return!0;if("browser"===pe)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Qt(){return"object"==typeof self&&self.self===self}function Tt(){const me="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof me&&void 0!==me.id}function Cn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function gi(){const me=yt();return me.indexOf("MSIE ")>=0||me.indexOf("Trident/")>=0}function ft(){try{return"object"==typeof indexedDB}catch{return!1}}function bt(){return new Promise((me,pe)=>{try{let Se=!0;const pt="validate-browser-context-for-indexeddb-analytics-module",qe=self.indexedDB.open(pt);qe.onsuccess=()=>{qe.result.close(),Se||self.indexedDB.deleteDatabase(pt),me(!0)},qe.onupgradeneeded=()=>{Se=!1},qe.onerror=()=>{var Rt;pe((null===(Rt=qe.error)||void 0===Rt?void 0:Rt.message)||"")}}catch(Se){pe(Se)}})}function wt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ze extends Error{constructor(pe,Se,pt){super(Se),this.code=pe,this.customData=pt,this.name="FirebaseError",Object.setPrototypeOf(this,ze.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pt.prototype.create)}}class Pt{constructor(pe,Se,pt){this.service=pe,this.serviceName=Se,this.errors=pt}create(pe,...Se){const pt=Se[0]||{},qe=`${this.service}/${pe}`,Rt=this.errors[pe],Ie=Rt?function _e(me,pe){return me.replace(Be,(Se,pt)=>{const qe=pe[pt];return null!=qe?String(qe):`<${pt}?>`})}(Rt,pt):"Error";return new ze(qe,`${this.serviceName}: ${Ie} (${qe}).`,pt)}}const Be=/\{\$([^}]+)}/g;function Mr(me,pe){return Object.prototype.hasOwnProperty.call(me,pe)}function bi(me){for(const pe in me)if(Object.prototype.hasOwnProperty.call(me,pe))return!1;return!0}function xt(me,pe){if(me===pe)return!0;const Se=Object.keys(me),pt=Object.keys(pe);for(const qe of Se){if(!pt.includes(qe))return!1;const Rt=me[qe],Ie=pe[qe];if(Yn(Rt)&&Yn(Ie)){if(!xt(Rt,Ie))return!1}else if(Rt!==Ie)return!1}for(const qe of pt)if(!Se.includes(qe))return!1;return!0}function Yn(me){return null!==me&&"object"==typeof me}function Ur(me){const pe=[];for(const[Se,pt]of Object.entries(me))Array.isArray(pt)?pt.forEach(qe=>{pe.push(encodeURIComponent(Se)+"="+encodeURIComponent(qe))}):pe.push(encodeURIComponent(Se)+"="+encodeURIComponent(pt));return pe.length?"&"+pe.join("&"):""}function Jr(me){const pe={};return me.replace(/^\?/,"").split("&").forEach(pt=>{if(pt){const[qe,Rt]=pt.split("=");pe[decodeURIComponent(qe)]=decodeURIComponent(Rt)}}),pe}function $i(me){const pe=me.indexOf("?");if(!pe)return"";const Se=me.indexOf("#",pe);return me.substring(pe,Se>0?Se:void 0)}function Sn(me,pe){const Se=new en(me,pe);return Se.subscribe.bind(Se)}class en{constructor(pe,Se){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Se,this.task.then(()=>{pe(this)}).catch(pt=>{this.error(pt)})}next(pe){this.forEachObserver(Se=>{Se.next(pe)})}error(pe){this.forEachObserver(Se=>{Se.error(pe)}),this.close(pe)}complete(){this.forEachObserver(pe=>{pe.complete()}),this.close()}subscribe(pe,Se,pt){let qe;if(void 0===pe&&void 0===Se&&void 0===pt)throw new Error("Missing Observer.");qe=function Si(me,pe){if("object"!=typeof me||null===me)return!1;for(const Se of pe)if(Se in me&&"function"==typeof me[Se])return!0;return!1}(pe,["next","error","complete"])?pe:{next:pe,error:Se,complete:pt},void 0===qe.next&&(qe.next=Kr),void 0===qe.error&&(qe.error=Kr),void 0===qe.complete&&(qe.complete=Kr);const Rt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?qe.error(this.finalError):qe.complete()}catch{}}),this.observers.push(qe),Rt}unsubscribeOne(pe){void 0===this.observers||void 0===this.observers[pe]||(delete this.observers[pe],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(pe){if(!this.finalized)for(let Se=0;Se<this.observers.length;Se++)this.sendOne(Se,pe)}sendOne(pe,Se){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[pe])try{Se(this.observers[pe])}catch(pt){typeof console<"u"&&console.error&&console.error(pt)}})}close(pe){this.finalized||(this.finalized=!0,void 0!==pe&&(this.finalError=pe),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Kr(){}const dn=1e3,Vn=2,nr=144e5,sr=.5;function Ot(me,pe=dn,Se=Vn){const pt=pe*Math.pow(Se,me),qe=Math.round(sr*pt*(Math.random()-.5)*2);return Math.min(nr,pt+qe)}function vr(me){return me&&me._delegate?me._delegate:me}},6912:(Lt,je,L)=>{L.d(je,{n:()=>f});var f=(()=>{return(D=f||(f={}))[D.igual=0]="igual",D[D.distinto=1]="distinto",D[D.mayor=2]="mayor",D[D.mayorOIgual=3]="mayorOIgual",D[D.menor=4]="menor",D[D.menorOIgual=5]="menorOIgual",D[D.not_in=6]="not_in",D[D.in=7]="in",f;var D})()},3474:(Lt,je,L)=>{L.d(je,{L:()=>f});var f=(()=>{return(D=f||(f={}))[D.administrador=0]="administrador",D[D.paciente=1]="paciente",D[D.especialista=2]="especialista",f;var D})()},7556:(Lt,je,L)=>{L.d(je,{e:()=>we});var f=L(5861),D=L(4322),B=L(4650),ue=L(1205),he=L(7675);let we=(()=>{class Te{constructor(ge,re){this.auth=ge,this.localStorage=re}logIn(ge,re){return this.auth.signInWithEmailAndPassword(ge,re)}logOut(){return this.localStorage.eliminarItem("usuarioClinica"),this.auth.signOut()}registrarUsuario(ge,re){return this.auth.createUserWithEmailAndPassword(ge,re)}registrarUsuarioConVerificacion(ge,re){var ie=this;return(0,f.Z)(function*(){const ne=yield ie.auth.createUserWithEmailAndPassword(ge,re);return ie.enviarCorreoDeVerificacion(),ne})()}enviarCorreoDeVerificacion(){var ge=this;return(0,f.Z)(function*(){return(yield ge.auth.currentUser)?.sendEmailVerification()})()}ObtenerCambiosDeEstado(){return this.auth.authState}ObtenerFireAuthCurrentUser(){var ge=this;return(0,f.Z)(function*(){return yield ge.auth.currentUser})()}enviarCorreoDeVerificacion_2(){return(0,f.Z)(function*(){let ge=(0,D.v0)();(0,D.w$)(ge?.currentUser)})()}TESTobtenerUsuarioRegistrado(){this.auth.authState.subscribe(ge=>{console.log(ge)})}}return Te.\u0275fac=function(ge){return new(ge||Te)(B.LFG(ue.zQ),B.LFG(he.g))},Te.\u0275prov=B.Yz7({token:Te,factory:Te.\u0275fac,providedIn:"root"}),Te})()},516:(Lt,je,L)=>{L.d(je,{C:()=>we});var f=L(5861),D=L(3132),B=(()=>{return(Te=B||(B={}))[Te.asc=0]="asc",Te[Te.desc=1]="desc",B;var Te})(),ue=L(6912),he=L(4650);let we=(()=>{class Te{constructor(ge){this.firestore=ge}guardarObjetoSinIdAsignado(ge,re){const ie=(0,D.hJ)(this.firestore,ge),ne=(0,D.JU)(ie);return re.id=ne.id,(0,D.pl)(ne,re)}guardarObjetoConIdAsignado(ge,re){const ie=(0,D.hJ)(this.firestore,ge),ne=(0,D.JU)(ie,re.id);return(0,D.pl)(ne,re)}traerObjetoPorId_Observable(ge,re){return this.traerListaDeObjetosFiltradaConObservable(ge,"id",ue.n.igual,re)}traerObjetoPorId_Promesa(ge,re){var ie=this;return(0,f.Z)(function*(){let ne=yield ie.traerListaDeObjetosFiltrada(ge,"id",ue.n.igual,re);return ne&&ne.length>0?ne[0]:null})()}traerListaDeObjetos(ge){var re=this;return(0,f.Z)(function*(){const ie=(0,D.hJ)(re.firestore,ge),ne=yield(0,D.PL)(ie).then(ce=>ce),ke=[];return ne.forEach(ce=>{ke.push(ce.data())}),ke})()}traerListaDeObjetosConObservable(ge){const re=(0,D.hJ)(this.firestore,ge);return(0,D.BS)(re)}traerListaDeObjetosFiltrada(ge,re,ie,ne){var ke=this;return(0,f.Z)(function*(){const ce=(0,D.hJ)(ke.firestore,ge);let We;switch(ie){case ue.n.igual:We=(0,D.IO)(ce,(0,D.ar)(re,"==",ne));break;case ue.n.distinto:We=(0,D.IO)(ce,(0,D.ar)(re,"!=",ne));break;case ue.n.mayor:We=(0,D.IO)(ce,(0,D.ar)(re,">",ne));break;case ue.n.mayorOIgual:We=(0,D.IO)(ce,(0,D.ar)(re,">=",ne));break;case ue.n.menor:We=(0,D.IO)(ce,(0,D.ar)(re,"<",ne));break;case ue.n.menorOIgual:We=(0,D.IO)(ce,(0,D.ar)(re,"<=",ne));break;case ue.n.in:We=(0,D.IO)(ce,(0,D.ar)(re,"in",ne));break;case ue.n.not_in:We=(0,D.IO)(ce,(0,D.ar)(re,"not-in",ne))}const ct=yield(0,D.PL)(We).then(Ge=>Ge),Fe=[];return ct.forEach(Ge=>{Fe.push(Ge.data())}),Fe})()}traerListaDeObjetosFiltradaConObservable(ge,re,ie,ne){const ke=(0,D.hJ)(this.firestore,ge);switch(ie){case ue.n.igual:return(0,D.BS)((0,D.IO)(ke,(0,D.ar)(re,"==",ne)));case ue.n.distinto:return(0,D.BS)((0,D.IO)(ke,(0,D.ar)(re,"!=",ne)));case ue.n.mayor:return(0,D.BS)((0,D.IO)(ke,(0,D.ar)(re,">",ne)));case ue.n.mayorOIgual:return(0,D.BS)((0,D.IO)(ke,(0,D.ar)(re,">=",ne)));case ue.n.menor:return(0,D.BS)((0,D.IO)(ke,(0,D.ar)(re,"<",ne)));case ue.n.menorOIgual:return(0,D.BS)((0,D.IO)(ke,(0,D.ar)(re,"<=",ne)));case ue.n.in:return(0,D.BS)((0,D.IO)(ke,(0,D.ar)(re,"in",ne)));case ue.n.not_in:return(0,D.BS)((0,D.IO)(ke,(0,D.ar)(re,"not-in",ne)))}}traerListaDeObjetosCon_DOS_FiltrosDe_IGUALDAD_ConObservable(ge,re,ie,ne,ke){const ce=(0,D.hJ)(this.firestore,ge);return(0,D.BS)((0,D.IO)(ce,(0,D.ar)(re,"==",ie),(0,D.ar)(ne,"==",ke)))}traerListaDeObjetosCon_DOS_FiltrosDe_D_I_ConObservable(ge,re,ie,ne,ke){const ce=(0,D.hJ)(this.firestore,ge);return(0,D.BS)((0,D.IO)(ce,(0,D.ar)(re,"!=",ie),(0,D.ar)(ne,"==",ke)))}traerListaDeObjetosCon_TRES_FiltrosDe_IGUALDAD_ConObservable(ge,re,ie,ne,ke,ce,We){const ct=(0,D.hJ)(this.firestore,ge);return(0,D.BS)((0,D.IO)(ct,(0,D.ar)(re,"==",ie),(0,D.ar)(ne,"==",ke),(0,D.ar)(ce,"==",We)))}traerListaDeObjetosCon_TRES_Filtros_I_I_D_ConObservable(ge,re,ie,ne,ke,ce,We){const ct=(0,D.hJ)(this.firestore,ge);return(0,D.BS)((0,D.IO)(ct,(0,D.ar)(re,"==",ie),(0,D.ar)(ne,"==",ke),(0,D.ar)(ce,"!=",We)))}traerListaDeObjetosOrdenada(ge,re,ie=B.asc){var ne=this;return(0,f.Z)(function*(){const ke=(0,D.hJ)(ne.firestore,ge);let ce;ce=(0,D.IO)(ke,(0,D.Xo)(re,ie==B.asc?"asc":"desc"));const We=yield(0,D.PL)(ce).then(Fe=>Fe),ct=[];return We.forEach(Fe=>{ct.push(Fe.data())}),ct})()}traerListaDeObjetosOrdenadaConObservable(ge,re,ie=B.asc){const ne=(0,D.hJ)(this.firestore,ge);return(0,D.BS)((0,D.IO)(ne,(0,D.Xo)(re,ie==B.asc?"asc":"desc")))}modificarObjeto(ge,re){const ie=(0,D.hJ)(this.firestore,ge),ne=(0,D.JU)(ie,re.id);return(0,D.r7)(ne,{...re})}eliminarObjeto(ge,re){const ie=(0,D.hJ)(this.firestore,ge),ne=(0,D.JU)(ie,re);return(0,D.oe)(ne)}obtenerElementosDeListasConCoincidenciaExacta(ge,re,ie){const ne=(0,D.hJ)(this.firestore,ge);return(0,D.BS)((0,D.IO)(ne,(0,D.ar)(re,"array-contains",ie)))}obtenerElementosQueContienenEnSuListaAlMenosUnElementoExactoDeOtraLista(ge,re,ie){const ne=(0,D.hJ)(this.firestore,ge);return(0,D.BS)((0,D.IO)(ne,(0,D.ar)(re,"array-contains-any",ie)))}traerListaDeObjetosCon_DOS_FiltrosDe_IGUALDAD(ge,re,ie,ne,ke){var ce=this;return(0,f.Z)(function*(){const We=(0,D.hJ)(ce.firestore,ge);let ct=(0,D.IO)(We,(0,D.ar)(re,"==",ie),(0,D.ar)(ne,"==",ke));const Fe=yield(0,D.PL)(ct).then(et=>et),Ge=[];return Fe.forEach(et=>{Ge.push(et.data())}),Ge})()}traerListaDeObjetosCon_UnFiltro_IGUALDAD_YUNO_DESIGUALDAD(ge,re,ie,ne,ke){var ce=this;return(0,f.Z)(function*(){const We=(0,D.hJ)(ce.firestore,ge);let ct=(0,D.IO)(We,(0,D.ar)(re,"==",ie),(0,D.ar)(ne,"!=",ke));const Fe=yield(0,D.PL)(ct).then(et=>et),Ge=[];return Fe.forEach(et=>{Ge.push(et.data())}),Ge})()}traerListaDeObjetosCon_TRES_FiltrosDe_IGUALDAD(ge,re,ie,ne,ke,ce,We){var ct=this;return(0,f.Z)(function*(){const Fe=(0,D.hJ)(ct.firestore,ge);let Ge=(0,D.IO)(Fe,(0,D.ar)(re,"==",ie),(0,D.ar)(ne,"==",ke),(0,D.ar)(ce,"==",We));const et=yield(0,D.PL)(Ge).then(be=>be),mt=[];return et.forEach(be=>{mt.push(be.data())}),mt})()}}return Te.\u0275fac=function(ge){return new(ge||Te)(he.LFG(D.gg))},Te.\u0275prov=he.Yz7({token:Te,factory:Te.\u0275fac,providedIn:"root"}),Te})()},7675:(Lt,je,L)=>{L.d(je,{g:()=>D});var f=L(4650);let D=(()=>{class B{constructor(){}guardarItem(he,we){localStorage.setItem(he,JSON.stringify(we))}obtenerItem(he){const we=localStorage.getItem(he);return null!=we?JSON.parse(we):we}eliminarItem(he){localStorage.removeItem(he)}}return B.\u0275fac=function(he){return new(he||B)},B.\u0275prov=f.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"}),B})()},1209:(Lt,je,L)=>{L.d(je,{i:()=>Oe});var f=L(5861),D=L(6912),B=L(4650),ue=L(516),he=L(7675),we=L(7556),Te=L(155);let Oe=(()=>{class ge{get getUsuarioEstaLogueado(){return this.usuarioEstaLogueado=null!=this.localStorage.obtenerItem("usuarioClinica"),this.usuarioEstaLogueado}get getUsuarioActualBasico(){return this.localStorage.obtenerItem("usuarioClinica")}constructor(ie,ne,ke,ce){var We=this;this.firestoreDB=ie,this.localStorage=ne,this.authService=ke,this.router=ce,this.nombreColeccion="usuarios",this.usuarioEstaLogueado=!1,this.suscripcion=this.authService.ObtenerCambiosDeEstado().subscribe(function(){var ct=(0,f.Z)(function*(Fe){let Ge=yield We.authService.ObtenerFireAuthCurrentUser();Fe&&We.traerUsuarioPorId(Fe.uid).then(et=>{et&&Ge&&(We.localStorage.guardarItem("usuarioClinica",{id:Fe.uid,mail:Fe.email,perfil:et?.perfil}),We.usuarioEstaLogueado=!0,We.usuarioAuth=et)})});return function(Fe){return ct.apply(this,arguments)}}())}obtenerUsuarioActual(ie=0){var ne=this;return(0,f.Z)(function*(){if(!ne.usuario){let ke=0!=ie?ie:ne.getUsuarioActualBasico?.id;ke&&(ne.usuario=yield ne.traerUsuarioPorId(ke))}return ne.usuario})()}cargarUsuarioActual(ie){this.usuario=ie}limpiarUsuarioActual(){this.usuario=null}cerrarSesionUsuario(){this.limpiarUsuarioActual(),this.localStorage.eliminarItem("usuarioClinica"),this.authService.logOut(),this.router.navigate(["/login"])}cargarUsuarioConIdAsignado(ie){return this.firestoreDB.guardarObjetoConIdAsignado(this.nombreColeccion,{...ie})}cargarUsuarioSinIdAsignado(ie){return this.firestoreDB.guardarObjetoSinIdAsignado(this.nombreColeccion,{...ie})}traerUsuarioPorId(ie){var ne=this;return(0,f.Z)(function*(){return ne.firestoreDB.traerObjetoPorId_Promesa(ne.nombreColeccion,ie)})()}traerUsuarioPorId_Observable(ie){return this.firestoreDB.traerObjetoPorId_Observable(this.nombreColeccion,ie)}obtenerListaDeUsuarios(){return this.firestoreDB.traerListaDeObjetos(this.nombreColeccion)}obtenerListadoDeUsuariosObservable(){return this.firestoreDB.traerListaDeObjetosConObservable(this.nombreColeccion)}modificarUsuario(ie){return this.firestoreDB.modificarObjeto(this.nombreColeccion,ie)}eliminarUsuario(ie){return this.firestoreDB.eliminarObjeto(this.nombreColeccion,ie)}traerListaDeCorreosFiltradaConObservable(ie){return this.firestoreDB.traerListaDeObjetosFiltradaConObservable(this.nombreColeccion,"correo",D.n.igual,ie)}traerListaDeUsuariosFiltradaConObservable(ie,ne){return this.firestoreDB.traerListaDeObjetosFiltradaConObservable(this.nombreColeccion,ie,D.n.igual,ne)}traerListaDeCorreosFiltrada(ie){return this.firestoreDB.traerListaDeObjetosFiltrada(this.nombreColeccion,"correo",D.n.igual,ie)}traerListaDeDniFiltradaConObservable(ie){return this.firestoreDB.traerListaDeObjetosFiltradaConObservable(this.nombreColeccion,"dni",D.n.igual,ie)}obtenerEspecialistaPorEspecialidad(ie){return this.firestoreDB.obtenerElementosDeListasConCoincidenciaExacta(this.nombreColeccion,"especialidades",ie)}traerListaFiltradaPor_UN_Campo(ie,ne){return this.firestoreDB.traerListaDeObjetosFiltrada(this.nombreColeccion,ie,D.n.igual,ne)}traerListaFiltradaPor_UN_CampoConCondicion_Observable(ie,ne,ke){return this.firestoreDB.traerListaDeObjetosFiltrada(this.nombreColeccion,ie,ne,ke)}}return ge.\u0275fac=function(ie){return new(ie||ge)(B.LFG(ue.C),B.LFG(he.g),B.LFG(we.e),B.LFG(Te.F0))},ge.\u0275prov=B.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"}),ge})()},6613:(Lt,je,L)=>{L.d(je,{q:()=>B});var f=L(3474),D=L(4650);let B=(()=>{class ue{transform(we){return we==f.L.administrador?"Administrador":we==f.L.especialista?"Especialista":we==f.L.paciente?"Paciente":""}}return ue.\u0275fac=function(we){return new(we||ue)},ue.\u0275pipe=D.Yjl({name:"tipoUsuario",type:ue,pure:!0}),ue})()},4466:(Lt,je,L)=>{L.d(je,{m:()=>B});var f=L(6895),D=L(4650);let B=(()=>{class ue{}return ue.\u0275fac=function(we){return new(we||ue)},ue.\u0275mod=D.oAB({type:ue}),ue.\u0275inj=D.cJS({imports:[f.ez]}),ue})()},3269:(Lt,je,L)=>{var f=L(1481),D=L(155),B=L(4650),ue=L(1209);let he=(()=>{class R{constructor(v,M){this.usuarioService=v,this.router=M}canActivate(v,M){return!!this.usuarioService.getUsuarioEstaLogueado||(this.router.navigate(["/login"]),!1)}canActivateChild(v,M){return!0}canDeactivate(v,M,j,Q){return!0}}return R.\u0275fac=function(v){return new(v||R)(B.LFG(ue.i),B.LFG(D.F0))},R.\u0275prov=B.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})(),we=(()=>{class R{constructor(v,M){this.usuarioService=v,this.router=M}canActivate(v,M){return!this.usuarioService.getUsuarioEstaLogueado||(this.router.navigate(["home"]),!1)}canActivateChild(v,M){return!0}canDeactivate(v,M,j,Q){return!0}}return R.\u0275fac=function(v){return new(v||R)(B.LFG(ue.i),B.LFG(D.F0))},R.\u0275prov=B.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})(),Te=(()=>{class R{constructor(v,M){this.usuarioService=v,this.router=M}canActivate(v,M){return!this.usuarioService.getUsuarioEstaLogueado||(this.router.navigate(["home"]),!1)}canActivateChild(v,M){return!0}canDeactivate(v,M,j,Q){return!0}}return R.\u0275fac=function(v){return new(v||R)(B.LFG(ue.i),B.LFG(D.F0))},R.\u0275prov=B.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})(),Oe=(()=>{class R{constructor(v,M){this.usuarioService=v,this.router=M}canActivate(v,M){return!this.usuarioService.getUsuarioEstaLogueado||(this.router.navigate(["home"]),!1)}canActivateChild(v,M){return!0}canDeactivate(v,M,j,Q){return!0}}return R.\u0275fac=function(v){return new(v||R)(B.LFG(ue.i),B.LFG(D.F0))},R.\u0275prov=B.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();var ge=L(3474);const Fe=[{path:"",loadChildren:()=>L.e(454).then(L.bind(L,1454)).then(R=>R.BienvenidoModule),canActivate:[we]},{path:"bienvenido",loadChildren:()=>L.e(454).then(L.bind(L,1454)).then(R=>R.BienvenidoModule),canActivate:[we]},{path:"login",loadChildren:()=>Promise.all([L.e(822),L.e(708),L.e(592),L.e(823)]).then(L.bind(L,5823)).then(R=>R.LoginModule),canActivate:[Te]},{path:"registro",loadChildren:()=>Promise.all([L.e(822),L.e(708),L.e(832),L.e(937),L.e(592),L.e(853)]).then(L.bind(L,7937)).then(R=>R.RegistroModule),canActivate:[Oe]},{path:"usuarios",loadChildren:()=>Promise.all([L.e(822),L.e(771),L.e(546),L.e(398),L.e(592),L.e(153)]).then(L.bind(L,4153)).then(R=>R.UsuariosModule),canActivate:[(()=>{class R{constructor(v,M){this.usuarioService=v,this.router=M}canActivate(v,M){return!(!this.usuarioService.getUsuarioActualBasico||this.usuarioService.getUsuarioActualBasico.perfil!=ge.L.administrador)||(this.router.navigate(["home"]),!1)}canActivateChild(v,M){return!0}canDeactivate(v,M,j,Q){return!0}}return R.\u0275fac=function(v){return new(v||R)(B.LFG(ue.i),B.LFG(D.F0))},R.\u0275prov=B.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})()]},{path:"home",loadChildren:()=>Promise.all([L.e(771),L.e(21)]).then(L.bind(L,2021)).then(R=>R.HomeModule),canActivate:[he]},{path:"mis-turnos",loadChildren:()=>Promise.all([L.e(822),L.e(708),L.e(832),L.e(737),L.e(697)]).then(L.bind(L,6737)).then(R=>R.MisTurnosModule),canActivate:[(()=>{class R{constructor(v,M){this.usuarioService=v,this.router=M}canActivate(v,M){return!(!this.usuarioService.getUsuarioActualBasico||this.usuarioService.getUsuarioActualBasico.perfil!=ge.L.especialista&&this.usuarioService.getUsuarioActualBasico.perfil!=ge.L.paciente)||(this.router.navigate(["home"]),!1)}canActivateChild(v,M){return!0}canDeactivate(v,M,j,Q){return!0}}return R.\u0275fac=function(v){return new(v||R)(B.LFG(ue.i),B.LFG(D.F0))},R.\u0275prov=B.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})()]},{path:"mi-perfil",loadChildren:()=>Promise.all([L.e(822),L.e(708),L.e(546),L.e(166),L.e(565)]).then(L.bind(L,7060)).then(R=>R.MiPerfilModule),canActivate:[(()=>{class R{constructor(v,M){this.usuarioService=v,this.router=M}canActivate(v,M){return!!this.usuarioService.getUsuarioEstaLogueado||(this.router.navigate(["/login"]),!1)}canActivateChild(v,M){return!0}canDeactivate(v,M,j,Q){return!0}}return R.\u0275fac=function(v){return new(v||R)(B.LFG(ue.i),B.LFG(D.F0))},R.\u0275prov=B.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})()]},{path:"solicitar-turno",loadChildren:()=>Promise.all([L.e(822),L.e(592),L.e(983)]).then(L.bind(L,8983)).then(R=>R.SolicitarTurnoModule),canActivate:[(()=>{class R{constructor(v,M){this.usuarioService=v,this.router=M}canActivate(v,M){return!(!this.usuarioService.getUsuarioActualBasico||this.usuarioService.getUsuarioActualBasico.perfil!=ge.L.administrador&&this.usuarioService.getUsuarioActualBasico.perfil!=ge.L.paciente)||(this.router.navigate(["home"]),!1)}canActivateChild(v,M){return!0}canDeactivate(v,M,j,Q){return!0}}return R.\u0275fac=function(v){return new(v||R)(B.LFG(ue.i),B.LFG(D.F0))},R.\u0275prov=B.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})()]},{path:"turnos",loadChildren:()=>Promise.all([L.e(822),L.e(592),L.e(222)]).then(L.bind(L,8809)).then(R=>R.TurnosModule),canActivate:[(()=>{class R{constructor(v,M){this.usuarioService=v,this.router=M}canActivate(v,M){return!(!this.usuarioService.getUsuarioActualBasico||this.usuarioService.getUsuarioActualBasico.perfil!=ge.L.administrador)||(this.router.navigate(["home"]),!1)}canActivateChild(v,M){return!0}canDeactivate(v,M,j,Q){return!0}}return R.\u0275fac=function(v){return new(v||R)(B.LFG(ue.i),B.LFG(D.F0))},R.\u0275prov=B.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})()]},{path:"pacientes",loadChildren:()=>Promise.all([L.e(822),L.e(708),L.e(832),L.e(771),L.e(546),L.e(737),L.e(162)]).then(L.bind(L,8162)).then(R=>R.PacientesModule),canActivate:[(()=>{class R{constructor(v,M){this.usuarioService=v,this.router=M}canActivate(v,M){return!(!this.usuarioService.getUsuarioActualBasico||this.usuarioService.getUsuarioActualBasico.perfil!=ge.L.especialista)||(this.router.navigate(["home"]),!1)}canActivateChild(v,M){return!0}canDeactivate(v,M,j,Q){return!0}}return R.\u0275fac=function(v){return new(v||R)(B.LFG(ue.i),B.LFG(D.F0))},R.\u0275prov=B.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})()]},{path:"informes",loadChildren:()=>Promise.all([L.e(822),L.e(708),L.e(398),L.e(166),L.e(592),L.e(433)]).then(L.bind(L,6433)).then(R=>R.InformesModule),canActivate:[(()=>{class R{constructor(v,M){this.usuarioService=v,this.router=M}canActivate(v,M){return!(!this.usuarioService.getUsuarioActualBasico||this.usuarioService.getUsuarioActualBasico.perfil!=ge.L.administrador)||(this.router.navigate(["home"]),!1)}canActivateChild(v,M){return!0}canDeactivate(v,M,j,Q){return!0}}return R.\u0275fac=function(v){return new(v||R)(B.LFG(ue.i),B.LFG(D.F0))},R.\u0275prov=B.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})()]},{path:"**",loadChildren:()=>L.e(871).then(L.bind(L,3871)).then(R=>R.ErrorModule)}];let Ge=(()=>{class R{}return R.\u0275fac=function(v){return new(v||R)},R.\u0275mod=B.oAB({type:R}),R.\u0275inj=B.cJS({imports:[D.Bz.forRoot(Fe),D.Bz]}),R})();var et=L(5861),mt=L(6895),be=L(6613);function De(R,m){1&R&&(B.TgZ(0,"div",11),B._UZ(1,"div",12),B.qZA())}function st(R,m){if(1&R&&(B.TgZ(0,"h3",13),B._uU(1),B.ALo(2,"tipoUsuario"),B.qZA()),2&R){const v=B.oxw(2);B.xp6(1),B.lnq("",B.lcZ(2,3,null==v.usuarioActual?null:v.usuarioActual.perfil),": ",null==v.usuarioActual?null:v.usuarioActual.nombre," ",null==v.usuarioActual?null:v.usuarioActual.apellido,"")}}function Ct(R,m){if(1&R){const v=B.EpF();B.ynx(0),B.TgZ(1,"nav",1)(2,"div",2)(3,"div",3),B.YNc(4,De,2,0,"div",4),B.YNc(5,st,3,5,"ng-template",null,5,B.W1O),B.qZA(),B.TgZ(7,"div",6)(8,"div",7)(9,"button",8),B.NdJ("click",function(){B.CHM(v);const j=B.oxw();return B.KtG(j.miPerfil())}),B._uU(10,"Mi Perfil"),B.qZA(),B.TgZ(11,"button",9),B.NdJ("click",function(){B.CHM(v);const j=B.oxw();return B.KtG(j.home())}),B._uU(12,"Home"),B.qZA(),B.TgZ(13,"button",10),B.NdJ("click",function(){B.CHM(v);const j=B.oxw();return B.KtG(j.cerrarSesion())}),B._uU(14,"Cerrar Sesi\xf3n"),B.qZA()()()()(),B.BQk()}if(2&R){const v=B.MAs(6),M=B.oxw();B.xp6(4),B.Q6J("ngIf",!M.usuarioActual)("ngIfElse",v),B.xp6(5),B.Q6J("hidden",!M.usuarioLogueado||M.ocultarBotonMiPerfil),B.xp6(2),B.Q6J("hidden",!M.usuarioLogueado||"/home"==M.routerUrl),B.xp6(2),B.Q6J("hidden",!M.usuarioLogueado)}}let yt=(()=>{class R{constructor(v,M){this.usuarioService=v,this.router=M,this.ocultarBotonHome=!1,this.ocultarBotonMiPerfil=!1}ngOnInit(){var v=this;return(0,et.Z)(function*(){v.ocultarBotones()})()}get usuarioLogueado(){return this.usuarioService.usuarioEstaLogueado}get usuarioActual(){return this.usuarioService.usuarioAuth}get routerUrl(){return this.router.url}ocultarBotones(v=!1){this.ocultarBotonHome="/home"==this.router.url,v&&this.router.navigate(["/home"])}cerrarSesion(){this.usuarioService.cerrarSesionUsuario()}miPerfil(){this.router.navigate(["mi-perfil"])}home(){this.router.navigate(["home"])}NavigationEnd(){}}return R.\u0275fac=function(v){return new(v||R)(B.Y36(ue.i),B.Y36(D.F0))},R.\u0275cmp=B.Xpm({type:R,selectors:[["app-header"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark","m-0","p-0"],[1,"row","w-100"],[1,"col","col-12","col-md-6","d-flex",2,"align-items","center !important"],["class","d-flex justify-content-start","style","align-items: center; height: 100% !important;",4,"ngIf","ngIfElse"],["user",""],[1,"col","col-12","col-md-6","justify-content-end"],[1,"d-flex","justify-content-end"],["routerLink","mi-perfil",1,"btn","btn-warning","fs-4","fw-bold","p-2","m-2",3,"hidden","click"],[1,"btn","btn-warning","fs-4","fw-bold","p-2","m-2",3,"hidden","click"],[1,"btn","btn-danger","fs-4","fw-bold","p-2","m-2",3,"hidden","click"],[1,"d-flex","justify-content-start",2,"align-items","center","height","100% !important"],[1,"spinner-border","text-light",2,"align-self","center","scale","1"],[1,"fs-3","fw-bold","text-light","p-2","m-0"]],template:function(v,M){1&v&&B.YNc(0,Ct,15,5,"ng-container",0),2&v&&B.Q6J("ngIf",M.usuarioLogueado)},dependencies:[mt.O5,be.q]}),R})(),$e=(()=>{class R{}return R.\u0275fac=function(v){return new(v||R)},R.\u0275cmp=B.Xpm({type:R,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"container-fluid","p-0","m-0","altura",2,"background-image","url('../assets/fondoh2.jpg')","background-size","cover"]],template:function(v,M){1&v&&(B.TgZ(0,"div",0),B._UZ(1,"app-header")(2,"router-outlet"),B.qZA())},dependencies:[D.lC,yt],styles:[".altura[_ngcontent-%COMP%]{min-height:100vh!important}"]}),R})();const kt_firebase={projectId:"tp-clinica-2dcea",appId:"1:489572240554:web:ff65038316f4836d0a14d3",storageBucket:"tp-clinica-2dcea.appspot.com",apiKey:"AIzaSyD_zrUWXGqPIR-3YQV_-Y1zGFC2DpV3caE",authDomain:"tp-clinica-2dcea.firebaseapp.com",messagingSenderId:"489572240554"};var Qt=L(4006),Tt=L(7340);function Ut(R){return new B.vHH(3e3,!1)}function fn(){return typeof window<"u"&&typeof window.document<"u"}function gr(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function br(R){switch(R.length){case 0:return new Tt.ZN;case 1:return R[0];default:return new Tt.ZE(R)}}function kn(R,m,v,M,j=new Map,Q=new Map){const le=[],ye=[];let Ne=-1,_=null;if(M.forEach(w=>{const g=w.get("offset"),b=g==Ne,k=b&&_||new Map;w.forEach((H,G)=>{let ae=G,Ye=H;if("offset"!==G)switch(ae=m.normalizePropertyName(ae,le),Ye){case Tt.k1:Ye=j.get(G);break;case Tt.l3:Ye=Q.get(G);break;default:Ye=m.normalizeStyleValue(G,ae,Ye,le)}k.set(ae,Ye)}),b||ye.push(k),_=k,Ne=g}),le.length)throw function xt(R){return new B.vHH(3502,!1)}();return ye}function zt(R,m,v,M){switch(m){case"start":R.onStart(()=>M(v&&wn(v,"start",R)));break;case"done":R.onDone(()=>M(v&&wn(v,"done",R)));break;case"destroy":R.onDestroy(()=>M(v&&wn(v,"destroy",R)))}}function wn(R,m,v){const Q=kr(R.element,R.triggerName,R.fromState,R.toState,m||R.phaseName,v.totalTime??R.totalTime,!!v.disabled),le=R._data;return null!=le&&(Q._data=le),Q}function kr(R,m,v,M,j="",Q=0,le){return{element:R,triggerName:m,fromState:v,toState:M,phaseName:j,totalTime:Q,disabled:!!le}}function dn(R,m,v){let M=R.get(m);return M||R.set(m,M=v),M}function Vn(R){const m=R.indexOf(":");return[R.substring(1,m),R.slice(m+1)]}let nr=(R,m)=>!1,sr=(R,m,v)=>[],Ot=null;function Xr(R){const m=R.parentNode||R.host;return m===Ot?null:m}(gr()||typeof Element<"u")&&(fn()?(Ot=(()=>document.documentElement)(),nr=(R,m)=>{for(;m;){if(m===R)return!0;m=Xr(m)}return!1}):nr=(R,m)=>R.contains(m),sr=(R,m,v)=>{if(v)return Array.from(R.querySelectorAll(m));const M=R.querySelector(m);return M?[M]:[]});let me=null,pe=!1;const Rt=nr,Ie=sr;let se=(()=>{class R{validateStyleProperty(v){return function Se(R){me||(me=function qe(){return typeof document<"u"?document.body:null}()||{},pe=!!me.style&&"WebkitAppearance"in me.style);let m=!0;return me.style&&!function vr(R){return"ebkit"==R.substring(1,6)}(R)&&(m=R in me.style,!m&&pe&&(m="Webkit"+R.charAt(0).toUpperCase()+R.slice(1)in me.style)),m}(v)}matchesElement(v,M){return!1}containsElement(v,M){return Rt(v,M)}getParentElement(v){return Xr(v)}query(v,M,j){return Ie(v,M,j)}computeStyle(v,M,j){return j||""}animate(v,M,j,Q,le,ye=[],Ne){return new Tt.ZN(j,Q)}}return R.\u0275fac=function(v){return new(v||R)},R.\u0275prov=B.Yz7({token:R,factory:R.\u0275fac}),R})(),Ae=(()=>{class R{}return R.NOOP=new se,R})();const dt=1e3,Gn="ng-enter",Tn="ng-leave",ei="ng-trigger",rt=".ng-trigger",Ke="ng-animating",St=".ng-animating";function Gt(R){if("number"==typeof R)return R;const m=R.match(/^(-?[\.\d]+)(m?s)/);return!m||m.length<2?0:ln(parseFloat(m[1]),m[2])}function ln(R,m){return"s"===m?R*dt:R}function In(R,m,v){return R.hasOwnProperty("duration")?R:function Zt(R,m,v){let j,Q=0,le="";if("string"==typeof R){const ye=R.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===ye)return m.push(Ut()),{duration:0,delay:0,easing:""};j=ln(parseFloat(ye[1]),ye[2]);const Ne=ye[3];null!=Ne&&(Q=ln(parseFloat(Ne),ye[4]));const _=ye[5];_&&(le=_)}else j=R;if(!v){let ye=!1,Ne=m.length;j<0&&(m.push(function gi(){return new B.vHH(3100,!1)}()),ye=!0),Q<0&&(m.push(function ot(){return new B.vHH(3101,!1)}()),ye=!0),ye&&m.splice(Ne,0,Ut())}return{duration:j,delay:Q,easing:le}}(R,m,v)}function Un(R,m={}){return Object.keys(R).forEach(v=>{m[v]=R[v]}),m}function On(R){const m=new Map;return Object.keys(R).forEach(v=>{m.set(v,R[v])}),m}function Wi(R,m=new Map,v){if(v)for(let[M,j]of v)m.set(M,j);for(let[M,j]of R)m.set(M,j);return m}function eo(R,m,v){return v?m+":"+v+";":""}function Ki(R){let m="";for(let v=0;v<R.style.length;v++){const M=R.style.item(v);m+=eo(0,M,R.style.getPropertyValue(M))}for(const v in R.style)R.style.hasOwnProperty(v)&&!v.startsWith("_")&&(m+=eo(0,Re(v),R.style[v]));R.setAttribute("style",m)}function or(R,m,v){R.style&&(m.forEach((M,j)=>{const Q=xe(j);v&&!v.has(j)&&v.set(j,R.style[Q]),R.style[Q]=M}),gr()&&Ki(R))}function Vt(R,m){R.style&&(m.forEach((v,M)=>{const j=xe(M);R.style[j]=""}),gr()&&Ki(R))}function pn(R){return Array.isArray(R)?1==R.length?R[0]:(0,Tt.vP)(R):R}const Zn=new RegExp("{{\\s*(.+?)\\s*}}","g");function ci(R){let m=[];if("string"==typeof R){let v;for(;v=Zn.exec(R);)m.push(v[1]);Zn.lastIndex=0}return m}function Ir(R,m,v){const M=R.toString(),j=M.replace(Zn,(Q,le)=>{let ye=m[le];return null==ye&&(v.push(function ut(R){return new B.vHH(3003,!1)}()),ye=""),ye.toString()});return j==M?R:j}function Ai(R){const m=[];let v=R.next();for(;!v.done;)m.push(v.value),v=R.next();return m}const _r=/-+([a-z0-9])/g;function xe(R){return R.replace(_r,(...m)=>m[1].toUpperCase())}function Re(R){return R.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Dt(R,m,v){switch(m.type){case 7:return R.visitTrigger(m,v);case 0:return R.visitState(m,v);case 1:return R.visitTransition(m,v);case 2:return R.visitSequence(m,v);case 3:return R.visitGroup(m,v);case 4:return R.visitAnimate(m,v);case 5:return R.visitKeyframes(m,v);case 6:return R.visitStyle(m,v);case 8:return R.visitReference(m,v);case 9:return R.visitAnimateChild(m,v);case 10:return R.visitAnimateRef(m,v);case 11:return R.visitQuery(m,v);case 12:return R.visitStagger(m,v);default:throw function ft(R){return new B.vHH(3004,!1)}()}}function cn(R,m){return window.getComputedStyle(R)[m]}const ar="*";function es(R,m){const v=[];return"string"==typeof R?R.split(/\s*,\s*/).forEach(M=>function wo(R,m,v){if(":"==R[0]){const Ne=function Io(R,m){switch(R){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(v,M)=>parseFloat(M)>parseFloat(v);case":decrement":return(v,M)=>parseFloat(M)<parseFloat(v);default:return m.push(function Mr(R){return new B.vHH(3016,!1)}()),"* => *"}}(R,v);if("function"==typeof Ne)return void m.push(Ne);R=Ne}const M=R.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==M||M.length<4)return v.push(function _n(R){return new B.vHH(3015,!1)}()),m;const j=M[1],Q=M[2],le=M[3];m.push($s(j,le));"<"==Q[0]&&!(j==ar&&le==ar)&&m.push($s(le,j))}(M,v,m)):v.push(R),v}const os=new Set(["true","1"]),qi=new Set(["false","0"]);function $s(R,m){const v=os.has(R)||qi.has(R),M=os.has(m)||qi.has(m);return(j,Q)=>{let le=R==ar||R==j,ye=m==ar||m==Q;return!le&&v&&"boolean"==typeof j&&(le=j?os.has(R):qi.has(R)),!ye&&M&&"boolean"==typeof Q&&(ye=Q?os.has(m):qi.has(m)),le&&ye}}const qo=new RegExp("s*:selfs*,?","g");function Zr(R,m,v,M){return new Sr(R).build(m,v,M)}class Sr{constructor(m){this._driver=m}build(m,v,M){const j=new Br(v);return this._resetContextStyleTimingState(j),Dt(this,pn(m),j)}_resetContextStyleTimingState(m){m.currentQuerySelector="",m.collectedStyles=new Map,m.collectedStyles.set("",new Map),m.currentTime=0}visitTrigger(m,v){let M=v.queryCount=0,j=v.depCount=0;const Q=[],le=[];return"@"==m.name.charAt(0)&&v.errors.push(function wt(){return new B.vHH(3006,!1)}()),m.definitions.forEach(ye=>{if(this._resetContextStyleTimingState(v),0==ye.type){const Ne=ye,_=Ne.name;_.toString().split(/\s*,\s*/).forEach(w=>{Ne.name=w,Q.push(this.visitState(Ne,v))}),Ne.name=_}else if(1==ye.type){const Ne=this.visitTransition(ye,v);M+=Ne.queryCount,j+=Ne.depCount,le.push(Ne)}else v.errors.push(function vt(){return new B.vHH(3007,!1)}())}),{type:7,name:m.name,states:Q,transitions:le,queryCount:M,depCount:j,options:null}}visitState(m,v){const M=this.visitStyle(m.styles,v),j=m.options&&m.options.params||null;if(M.containsDynamicStyles){const Q=new Set,le=j||{};M.styles.forEach(ye=>{ye instanceof Map&&ye.forEach(Ne=>{ci(Ne).forEach(_=>{le.hasOwnProperty(_)||Q.add(_)})})}),Q.size&&(Ai(Q.values()),v.errors.push(function ze(R,m){return new B.vHH(3008,!1)}()))}return{type:0,name:m.name,style:M,options:j?{params:j}:null}}visitTransition(m,v){v.queryCount=0,v.depCount=0;const M=Dt(this,pn(m.animation),v);return{type:1,matchers:es(m.expr,v.errors),animation:M,queryCount:v.queryCount,depCount:v.depCount,options:to(m.options)}}visitSequence(m,v){return{type:2,steps:m.steps.map(M=>Dt(this,M,v)),options:to(m.options)}}visitGroup(m,v){const M=v.currentTime;let j=0;const Q=m.steps.map(le=>{v.currentTime=M;const ye=Dt(this,le,v);return j=Math.max(j,v.currentTime),ye});return v.currentTime=j,{type:3,steps:Q,options:to(m.options)}}visitAnimate(m,v){const M=function Hs(R,m){if(R.hasOwnProperty("duration"))return R;if("number"==typeof R)return si(In(R,m).duration,0,"");const v=R;if(v.split(/\s+/).some(Q=>"{"==Q.charAt(0)&&"{"==Q.charAt(1))){const Q=si(0,0,"");return Q.dynamic=!0,Q.strValue=v,Q}const j=In(v,m);return si(j.duration,j.delay,j.easing)}(m.timings,v.errors);v.currentAnimateTimings=M;let j,Q=m.styles?m.styles:(0,Tt.oB)({});if(5==Q.type)j=this.visitKeyframes(Q,v);else{let le=m.styles,ye=!1;if(!le){ye=!0;const _={};M.easing&&(_.easing=M.easing),le=(0,Tt.oB)(_)}v.currentTime+=M.duration+M.delay;const Ne=this.visitStyle(le,v);Ne.isEmptyStep=ye,j=Ne}return v.currentAnimateTimings=null,{type:4,timings:M,style:j,options:null}}visitStyle(m,v){const M=this._makeStyleAst(m,v);return this._validateStyleAst(M,v),M}_makeStyleAst(m,v){const M=[],j=Array.isArray(m.styles)?m.styles:[m.styles];for(let ye of j)"string"==typeof ye?ye===Tt.l3?M.push(ye):v.errors.push(new B.vHH(3002,!1)):M.push(On(ye));let Q=!1,le=null;return M.forEach(ye=>{if(ye instanceof Map&&(ye.has("easing")&&(le=ye.get("easing"),ye.delete("easing")),!Q))for(let Ne of ye.values())if(Ne.toString().indexOf("{{")>=0){Q=!0;break}}),{type:6,styles:M,easing:le,offset:m.offset,containsDynamicStyles:Q,options:null}}_validateStyleAst(m,v){const M=v.currentAnimateTimings;let j=v.currentTime,Q=v.currentTime;M&&Q>0&&(Q-=M.duration+M.delay),m.styles.forEach(le=>{"string"!=typeof le&&le.forEach((ye,Ne)=>{const _=v.collectedStyles.get(v.currentQuerySelector),w=_.get(Ne);let g=!0;w&&(Q!=j&&Q>=w.startTime&&j<=w.endTime&&(v.errors.push(function Be(R,m,v,M,j){return new B.vHH(3010,!1)}()),g=!1),Q=w.startTime),g&&_.set(Ne,{startTime:Q,endTime:j}),v.options&&function wr(R,m,v){const M=m.params||{},j=ci(R);j.length&&j.forEach(Q=>{M.hasOwnProperty(Q)||v.push(function Ze(R){return new B.vHH(3001,!1)}())})}(ye,v.options,v.errors)})})}visitKeyframes(m,v){const M={type:5,styles:[],options:null};if(!v.currentAnimateTimings)return v.errors.push(function at(){return new B.vHH(3011,!1)}()),M;let Q=0;const le=[];let ye=!1,Ne=!1,_=0;const w=m.steps.map(Ye=>{const He=this._makeStyleAst(Ye,v);let Ee=null!=He.offset?He.offset:function Ps(R){if("string"==typeof R)return null;let m=null;if(Array.isArray(R))R.forEach(v=>{if(v instanceof Map&&v.has("offset")){const M=v;m=parseFloat(M.get("offset")),M.delete("offset")}});else if(R instanceof Map&&R.has("offset")){const v=R;m=parseFloat(v.get("offset")),v.delete("offset")}return m}(He.styles),Je=0;return null!=Ee&&(Q++,Je=He.offset=Ee),Ne=Ne||Je<0||Je>1,ye=ye||Je<_,_=Je,le.push(Je),He});Ne&&v.errors.push(function Wt(){return new B.vHH(3012,!1)}()),ye&&v.errors.push(function Rn(){return new B.vHH(3200,!1)}());const g=m.steps.length;let b=0;Q>0&&Q<g?v.errors.push(function Xn(){return new B.vHH(3202,!1)}()):0==Q&&(b=1/(g-1));const k=g-1,H=v.currentTime,G=v.currentAnimateTimings,ae=G.duration;return w.forEach((Ye,He)=>{const Ee=b>0?He==k?1:b*He:le[He],Je=Ee*ae;v.currentTime=H+G.delay+Je,G.duration=Je,this._validateStyleAst(Ye,v),Ye.offset=Ee,M.styles.push(Ye)}),M}visitReference(m,v){return{type:8,animation:Dt(this,pn(m.animation),v),options:to(m.options)}}visitAnimateChild(m,v){return v.depCount++,{type:9,options:to(m.options)}}visitAnimateRef(m,v){return{type:10,animation:this.visitReference(m.animation,v),options:to(m.options)}}visitQuery(m,v){const M=v.currentQuerySelector,j=m.options||{};v.queryCount++,v.currentQuery=m;const[Q,le]=function ms(R){const m=!!R.split(/\s*,\s*/).find(v=>":self"==v);return m&&(R=R.replace(qo,"")),R=R.replace(/@\*/g,rt).replace(/@\w+/g,v=>rt+"-"+v.slice(1)).replace(/:animating/g,St),[R,m]}(m.selector);v.currentQuerySelector=M.length?M+" "+Q:Q,dn(v.collectedStyles,v.currentQuerySelector,new Map);const ye=Dt(this,pn(m.animation),v);return v.currentQuery=null,v.currentQuerySelector=M,{type:11,selector:Q,limit:j.limit||0,optional:!!j.optional,includeSelf:le,animation:ye,originalSelector:m.selector,options:to(m.options)}}visitStagger(m,v){v.currentQuery||v.errors.push(function ir(){return new B.vHH(3013,!1)}());const M="full"===m.timings?{duration:0,delay:0,easing:"full"}:In(m.timings,v.errors,!0);return{type:12,animation:Dt(this,pn(m.animation),v),timings:M,options:null}}}class Br{constructor(m){this.errors=m,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function to(R){return R?(R=Un(R)).params&&(R.params=function Fi(R){return R?Un(R):null}(R.params)):R={},R}function si(R,m,v){return{duration:R,delay:m,easing:v}}function Zo(R,m,v,M,j,Q,le=null,ye=!1){return{type:1,element:R,keyframes:m,preStyleProps:v,postStyleProps:M,duration:j,delay:Q,totalTime:j+Q,easing:le,subTimeline:ye}}class Fo{constructor(){this._map=new Map}get(m){return this._map.get(m)||[]}append(m,v){let M=this._map.get(m);M||this._map.set(m,M=[]),M.push(...v)}has(m){return this._map.has(m)}clear(){this._map.clear()}}const Lo=new RegExp(":enter","g"),ro=new RegExp(":leave","g");function vs(R,m,v,M,j,Q=new Map,le=new Map,ye,Ne,_=[]){return(new ca).buildKeyframes(R,m,v,M,j,Q,le,ye,Ne,_)}class ca{buildKeyframes(m,v,M,j,Q,le,ye,Ne,_,w=[]){_=_||new Fo;const g=new Rs(m,v,_,j,Q,w,[]);g.options=Ne;const b=Ne.delay?Gt(Ne.delay):0;g.currentTimeline.delayNextStep(b),g.currentTimeline.setStyles([le],null,g.errors,Ne),Dt(this,M,g);const k=g.timelines.filter(H=>H.containsAnimation());if(k.length&&ye.size){let H;for(let G=k.length-1;G>=0;G--){const ae=k[G];if(ae.element===v){H=ae;break}}H&&!H.allowOnlyTimelineStyles()&&H.setStyles([ye],null,g.errors,Ne)}return k.length?k.map(H=>H.buildKeyframes()):[Zo(v,[],[],[],0,b,"",!1)]}visitTrigger(m,v){}visitState(m,v){}visitTransition(m,v){}visitAnimateChild(m,v){const M=v.subInstructions.get(v.element);if(M){const j=v.createSubContext(m.options),Q=v.currentTimeline.currentTime,le=this._visitSubInstructions(M,j,j.options);Q!=le&&v.transformIntoNewTimeline(le)}v.previousNode=m}visitAnimateRef(m,v){const M=v.createSubContext(m.options);M.transformIntoNewTimeline(),this._applyAnimationRefDelays([m.options,m.animation.options],v,M),this.visitReference(m.animation,M),v.transformIntoNewTimeline(M.currentTimeline.currentTime),v.previousNode=m}_applyAnimationRefDelays(m,v,M){for(const j of m){const Q=j?.delay;if(Q){const le="number"==typeof Q?Q:Gt(Ir(Q,j?.params??{},v.errors));M.delayNextStep(le)}}}_visitSubInstructions(m,v,M){let Q=v.currentTimeline.currentTime;const le=null!=M.duration?Gt(M.duration):null,ye=null!=M.delay?Gt(M.delay):null;return 0!==le&&m.forEach(Ne=>{const _=v.appendInstructionToTimeline(Ne,le,ye);Q=Math.max(Q,_.duration+_.delay)}),Q}visitReference(m,v){v.updateOptions(m.options,!0),Dt(this,m.animation,v),v.previousNode=m}visitSequence(m,v){const M=v.subContextCount;let j=v;const Q=m.options;if(Q&&(Q.params||Q.delay)&&(j=v.createSubContext(Q),j.transformIntoNewTimeline(),null!=Q.delay)){6==j.previousNode.type&&(j.currentTimeline.snapshotCurrentStyles(),j.previousNode=di);const le=Gt(Q.delay);j.delayNextStep(le)}m.steps.length&&(m.steps.forEach(le=>Dt(this,le,j)),j.currentTimeline.applyStylesToKeyframe(),j.subContextCount>M&&j.transformIntoNewTimeline()),v.previousNode=m}visitGroup(m,v){const M=[];let j=v.currentTimeline.currentTime;const Q=m.options&&m.options.delay?Gt(m.options.delay):0;m.steps.forEach(le=>{const ye=v.createSubContext(m.options);Q&&ye.delayNextStep(Q),Dt(this,le,ye),j=Math.max(j,ye.currentTimeline.currentTime),M.push(ye.currentTimeline)}),M.forEach(le=>v.currentTimeline.mergeTimelineCollectedStyles(le)),v.transformIntoNewTimeline(j),v.previousNode=m}_visitTiming(m,v){if(m.dynamic){const M=m.strValue;return In(v.params?Ir(M,v.params,v.errors):M,v.errors)}return{duration:m.duration,delay:m.delay,easing:m.easing}}visitAnimate(m,v){const M=v.currentAnimateTimings=this._visitTiming(m.timings,v),j=v.currentTimeline;M.delay&&(v.incrementTime(M.delay),j.snapshotCurrentStyles());const Q=m.style;5==Q.type?this.visitKeyframes(Q,v):(v.incrementTime(M.duration),this.visitStyle(Q,v),j.applyStylesToKeyframe()),v.currentAnimateTimings=null,v.previousNode=m}visitStyle(m,v){const M=v.currentTimeline,j=v.currentAnimateTimings;!j&&M.hasCurrentStyleProperties()&&M.forwardFrame();const Q=j&&j.easing||m.easing;m.isEmptyStep?M.applyEmptyStep(Q):M.setStyles(m.styles,Q,v.errors,v.options),v.previousNode=m}visitKeyframes(m,v){const M=v.currentAnimateTimings,j=v.currentTimeline.duration,Q=M.duration,ye=v.createSubContext().currentTimeline;ye.easing=M.easing,m.styles.forEach(Ne=>{ye.forwardTime((Ne.offset||0)*Q),ye.setStyles(Ne.styles,Ne.easing,v.errors,v.options),ye.applyStylesToKeyframe()}),v.currentTimeline.mergeTimelineCollectedStyles(ye),v.transformIntoNewTimeline(j+Q),v.previousNode=m}visitQuery(m,v){const M=v.currentTimeline.currentTime,j=m.options||{},Q=j.delay?Gt(j.delay):0;Q&&(6===v.previousNode.type||0==M&&v.currentTimeline.hasCurrentStyleProperties())&&(v.currentTimeline.snapshotCurrentStyles(),v.previousNode=di);let le=M;const ye=v.invokeQuery(m.selector,m.originalSelector,m.limit,m.includeSelf,!!j.optional,v.errors);v.currentQueryTotal=ye.length;let Ne=null;ye.forEach((_,w)=>{v.currentQueryIndex=w;const g=v.createSubContext(m.options,_);Q&&g.delayNextStep(Q),_===v.element&&(Ne=g.currentTimeline),Dt(this,m.animation,g),g.currentTimeline.applyStylesToKeyframe(),le=Math.max(le,g.currentTimeline.currentTime)}),v.currentQueryIndex=0,v.currentQueryTotal=0,v.transformIntoNewTimeline(le),Ne&&(v.currentTimeline.mergeTimelineCollectedStyles(Ne),v.currentTimeline.snapshotCurrentStyles()),v.previousNode=m}visitStagger(m,v){const M=v.parentContext,j=v.currentTimeline,Q=m.timings,le=Math.abs(Q.duration),ye=le*(v.currentQueryTotal-1);let Ne=le*v.currentQueryIndex;switch(Q.duration<0?"reverse":Q.easing){case"reverse":Ne=ye-Ne;break;case"full":Ne=M.currentStaggerTime}const w=v.currentTimeline;Ne&&w.delayNextStep(Ne);const g=w.currentTime;Dt(this,m.animation,v),v.previousNode=m,M.currentStaggerTime=j.currentTime-g+(j.startTime-M.currentTimeline.startTime)}}const di={};class Rs{constructor(m,v,M,j,Q,le,ye,Ne){this._driver=m,this.element=v,this.subInstructions=M,this._enterClassName=j,this._leaveClassName=Q,this.errors=le,this.timelines=ye,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=di,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Ne||new da(this._driver,v,0),ye.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(m,v){if(!m)return;const M=m;let j=this.options;null!=M.duration&&(j.duration=Gt(M.duration)),null!=M.delay&&(j.delay=Gt(M.delay));const Q=M.params;if(Q){let le=j.params;le||(le=this.options.params={}),Object.keys(Q).forEach(ye=>{(!v||!le.hasOwnProperty(ye))&&(le[ye]=Ir(Q[ye],le,this.errors))})}}_copyOptions(){const m={};if(this.options){const v=this.options.params;if(v){const M=m.params={};Object.keys(v).forEach(j=>{M[j]=v[j]})}}return m}createSubContext(m=null,v,M){const j=v||this.element,Q=new Rs(this._driver,j,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(j,M||0));return Q.previousNode=this.previousNode,Q.currentAnimateTimings=this.currentAnimateTimings,Q.options=this._copyOptions(),Q.updateOptions(m),Q.currentQueryIndex=this.currentQueryIndex,Q.currentQueryTotal=this.currentQueryTotal,Q.parentContext=this,this.subContextCount++,Q}transformIntoNewTimeline(m){return this.previousNode=di,this.currentTimeline=this.currentTimeline.fork(this.element,m),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(m,v,M){const j={duration:v??m.duration,delay:this.currentTimeline.currentTime+(M??0)+m.delay,easing:""},Q=new Hi(this._driver,m.element,m.keyframes,m.preStyleProps,m.postStyleProps,j,m.stretchStartingKeyframe);return this.timelines.push(Q),j}incrementTime(m){this.currentTimeline.forwardTime(this.currentTimeline.duration+m)}delayNextStep(m){m>0&&this.currentTimeline.delayNextStep(m)}invokeQuery(m,v,M,j,Q,le){let ye=[];if(j&&ye.push(this.element),m.length>0){m=(m=m.replace(Lo,"."+this._enterClassName)).replace(ro,"."+this._leaveClassName);let _=this._driver.query(this.element,m,1!=M);0!==M&&(_=M<0?_.slice(_.length+M,_.length):_.slice(0,M)),ye.push(..._)}return!Q&&0==ye.length&&le.push(function Nn(R){return new B.vHH(3014,!1)}()),ye}}class da{constructor(m,v,M,j){this._driver=m,this.element=v,this.startTime=M,this._elementTimelineStylesLookup=j,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(v),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(v,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(m){const v=1===this._keyframes.size&&this._pendingStyles.size;this.duration||v?(this.forwardTime(this.currentTime+m),v&&this.snapshotCurrentStyles()):this.startTime+=m}fork(m,v){return this.applyStylesToKeyframe(),new da(this._driver,m,v||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(m){this.applyStylesToKeyframe(),this.duration=m,this._loadKeyframe()}_updateStyle(m,v){this._localTimelineStyles.set(m,v),this._globalTimelineStyles.set(m,v),this._styleSummary.set(m,{time:this.currentTime,value:v})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(m){m&&this._previousKeyframe.set("easing",m);for(let[v,M]of this._globalTimelineStyles)this._backFill.set(v,M||Tt.l3),this._currentKeyframe.set(v,Tt.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(m,v,M,j){v&&this._previousKeyframe.set("easing",v);const Q=j&&j.params||{},le=function Uo(R,m){const v=new Map;let M;return R.forEach(j=>{if("*"===j){M=M||m.keys();for(let Q of M)v.set(Q,Tt.l3)}else Wi(j,v)}),v}(m,this._globalTimelineStyles);for(let[ye,Ne]of le){const _=Ir(Ne,Q,M);this._pendingStyles.set(ye,_),this._localTimelineStyles.has(ye)||this._backFill.set(ye,this._globalTimelineStyles.get(ye)??Tt.l3),this._updateStyle(ye,_)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((m,v)=>{this._currentKeyframe.set(v,m)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((m,v)=>{this._currentKeyframe.has(v)||this._currentKeyframe.set(v,m)}))}snapshotCurrentStyles(){for(let[m,v]of this._localTimelineStyles)this._pendingStyles.set(m,v),this._updateStyle(m,v)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const m=[];for(let v in this._currentKeyframe)m.push(v);return m}mergeTimelineCollectedStyles(m){m._styleSummary.forEach((v,M)=>{const j=this._styleSummary.get(M);(!j||v.time>j.time)&&this._updateStyle(M,v.value)})}buildKeyframes(){this.applyStylesToKeyframe();const m=new Set,v=new Set,M=1===this._keyframes.size&&0===this.duration;let j=[];this._keyframes.forEach((ye,Ne)=>{const _=Wi(ye,new Map,this._backFill);_.forEach((w,g)=>{w===Tt.k1?m.add(g):w===Tt.l3&&v.add(g)}),M||_.set("offset",Ne/this.duration),j.push(_)});const Q=m.size?Ai(m.values()):[],le=v.size?Ai(v.values()):[];if(M){const ye=j[0],Ne=new Map(ye);ye.set("offset",0),Ne.set("offset",1),j=[ye,Ne]}return Zo(this.element,j,Q,le,this.duration,this.startTime,this.easing,!1)}}class Hi extends da{constructor(m,v,M,j,Q,le,ye=!1){super(m,v,le.delay),this.keyframes=M,this.preStyleProps=j,this.postStyleProps=Q,this._stretchStartingKeyframe=ye,this.timings={duration:le.duration,delay:le.delay,easing:le.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let m=this.keyframes,{delay:v,duration:M,easing:j}=this.timings;if(this._stretchStartingKeyframe&&v){const Q=[],le=M+v,ye=v/le,Ne=Wi(m[0]);Ne.set("offset",0),Q.push(Ne);const _=Wi(m[0]);_.set("offset",Vo(ye)),Q.push(_);const w=m.length-1;for(let g=1;g<=w;g++){let b=Wi(m[g]);const k=b.get("offset");b.set("offset",Vo((v+k*M)/le)),Q.push(b)}M=le,v=0,j="",m=Q}return Zo(this.element,m,this.preStyleProps,this.postStyleProps,M,v,j,!0)}}function Vo(R,m=3){const v=Math.pow(10,m-1);return Math.round(R*v)/v}class vi{}const io=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Es extends vi{normalizePropertyName(m,v){return xe(m)}normalizeStyleValue(m,v,M,j){let Q="";const le=M.toString().trim();if(io.has(v)&&0!==M&&"0"!==M)if("number"==typeof M)Q="px";else{const ye=M.match(/^[+-]?[\d\.]+([a-z]*)$/);ye&&0==ye[1].length&&j.push(function bt(R,m){return new B.vHH(3005,!1)}())}return le+Q}}function Gs(R,m,v,M,j,Q,le,ye,Ne,_,w,g,b){return{type:0,element:R,triggerName:m,isRemovalTransition:j,fromState:v,fromStyles:Q,toState:M,toStyles:le,timelines:ye,queriedElements:Ne,preStyleProps:_,postStyleProps:w,totalTime:g,errors:b}}const ha={};class Li{constructor(m,v,M){this._triggerName=m,this.ast=v,this._stateStyles=M}match(m,v,M,j){return function Os(R,m,v,M,j){return R.some(Q=>Q(m,v,M,j))}(this.ast.matchers,m,v,M,j)}buildStyles(m,v,M){let j=this._stateStyles.get("*");return void 0!==m&&(j=this._stateStyles.get(m?.toString())||j),j?j.buildStyles(v,M):new Map}build(m,v,M,j,Q,le,ye,Ne,_,w){const g=[],b=this.ast.options&&this.ast.options.params||ha,H=this.buildStyles(M,ye&&ye.params||ha,g),G=Ne&&Ne.params||ha,ae=this.buildStyles(j,G,g),Ye=new Set,He=new Map,Ee=new Map,Je="void"===j,Pn={params:Ua(G,b),delay:this.ast.options?.delay},xi=w?[]:vs(m,v,this.ast.animation,Q,le,H,ae,Pn,_,g);let ri=0;if(xi.forEach(Gr=>{ri=Math.max(Gr.duration+Gr.delay,ri)}),g.length)return Gs(v,this._triggerName,M,j,Je,H,ae,[],[],He,Ee,ri,g);xi.forEach(Gr=>{const Ho=Gr.element,Ao=dn(He,Ho,new Set);Gr.preStyleProps.forEach(Mo=>Ao.add(Mo));const Ia=dn(Ee,Ho,new Set);Gr.postStyleProps.forEach(Mo=>Ia.add(Mo)),Ho!==v&&Ye.add(Ho)});const zr=Ai(Ye.values());return Gs(v,this._triggerName,M,j,Je,H,ae,xi,zr,He,Ee,ri)}}function Ua(R,m){const v=Un(m);for(const M in R)R.hasOwnProperty(M)&&null!=R[M]&&(v[M]=R[M]);return v}class ws{constructor(m,v,M){this.styles=m,this.defaultParams=v,this.normalizer=M}buildStyles(m,v){const M=new Map,j=Un(this.defaultParams);return Object.keys(m).forEach(Q=>{const le=m[Q];null!==le&&(j[Q]=le)}),this.styles.styles.forEach(Q=>{"string"!=typeof Q&&Q.forEach((le,ye)=>{le&&(le=Ir(le,j,v));const Ne=this.normalizer.normalizePropertyName(ye,v);le=this.normalizer.normalizeStyleValue(ye,Ne,le,v),M.set(ye,le)})}),M}}class Kn{constructor(m,v,M){this.name=m,this.ast=v,this._normalizer=M,this.transitionFactories=[],this.states=new Map,v.states.forEach(j=>{this.states.set(j.name,new ws(j.style,j.options&&j.options.params||{},M))}),Is(this.states,"true","1"),Is(this.states,"false","0"),v.transitions.forEach(j=>{this.transitionFactories.push(new Li(m,j,this.states))}),this.fallbackTransition=function Ws(R,m,v){return new Li(R,{type:1,animation:{type:2,steps:[],options:null},matchers:[(le,ye)=>!0],options:null,queryCount:0,depCount:0},m)}(m,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(m,v,M,j){return this.transitionFactories.find(le=>le.match(m,v,M,j))||null}matchStyles(m,v,M){return this.fallbackTransition.buildStyles(m,v,M)}}function Is(R,m,v){R.has(m)?R.has(v)||R.set(v,R.get(m)):R.has(v)&&R.set(m,R.get(v))}const jr=new Fo;class xs{constructor(m,v,M){this.bodyNode=m,this._driver=v,this._normalizer=M,this._animations=new Map,this._playersById=new Map,this.players=[]}register(m,v){const M=[],j=[],Q=Zr(this._driver,v,M,j);if(M.length)throw function Yn(R){return new B.vHH(3503,!1)}();this._animations.set(m,Q)}_buildPlayer(m,v,M){const j=m.element,Q=kn(0,this._normalizer,0,m.keyframes,v,M);return this._driver.animate(j,Q,m.duration,m.delay,m.easing,[],!0)}create(m,v,M={}){const j=[],Q=this._animations.get(m);let le;const ye=new Map;if(Q?(le=vs(this._driver,v,Q,Gn,Tn,new Map,new Map,M,jr,j),le.forEach(w=>{const g=dn(ye,w.element,new Map);w.postStyleProps.forEach(b=>g.set(b,null))})):(j.push(function ki(){return new B.vHH(3300,!1)}()),le=[]),j.length)throw function Ur(R){return new B.vHH(3504,!1)}();ye.forEach((w,g)=>{w.forEach((b,k)=>{w.set(k,this._driver.computeStyle(g,k,Tt.l3))})});const _=br(le.map(w=>{const g=ye.get(w.element);return this._buildPlayer(w,new Map,g)}));return this._playersById.set(m,_),_.onDestroy(()=>this.destroy(m)),this.players.push(_),_}destroy(m){const v=this._getPlayer(m);v.destroy(),this._playersById.delete(m);const M=this.players.indexOf(v);M>=0&&this.players.splice(M,1)}_getPlayer(m){const v=this._playersById.get(m);if(!v)throw function Jr(R){return new B.vHH(3301,!1)}();return v}listen(m,v,M,j){const Q=kr(v,"","","");return zt(this._getPlayer(m),M,Q,j),()=>{}}command(m,v,M,j){if("register"==M)return void this.register(m,j[0]);if("create"==M)return void this.create(m,v,j[0]||{});const Q=this._getPlayer(m);switch(M){case"play":Q.play();break;case"pause":Q.pause();break;case"reset":Q.reset();break;case"restart":Q.restart();break;case"finish":Q.finish();break;case"init":Q.init();break;case"setPosition":Q.setPosition(parseFloat(j[0]));break;case"destroy":this.destroy(m)}}}const as="ng-animate-queued",Qo="ng-animate-disabled",ao=[],Pi={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Do={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ti="__ng_removed";class us{get params(){return this.options.params}constructor(m,v=""){this.namespaceId=v;const M=m&&m.hasOwnProperty("value");if(this.value=function J(R){return R??null}(M?m.value:m),M){const Q=Un(m);delete Q.value,this.options=Q}else this.options={};this.options.params||(this.options.params={})}absorbOptions(m){const v=m.params;if(v){const M=this.options.params;Object.keys(v).forEach(j=>{null==M[j]&&(M[j]=v[j])})}}}const Vi="void",En=new us(Vi);class Co{constructor(m,v,M){this.id=m,this.hostElement=v,this._engine=M,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+m,fi(v,this._hostClassName)}listen(m,v,M,j){if(!this._triggers.has(v))throw function $i(R,m){return new B.vHH(3302,!1)}();if(null==M||0==M.length)throw function dr(R){return new B.vHH(3303,!1)}();if(!function tn(R){return"start"==R||"done"==R}(M))throw function Sn(R,m){return new B.vHH(3400,!1)}();const Q=dn(this._elementListeners,m,[]),le={name:v,phase:M,callback:j};Q.push(le);const ye=dn(this._engine.statesByElement,m,new Map);return ye.has(v)||(fi(m,ei),fi(m,ei+"-"+v),ye.set(v,En)),()=>{this._engine.afterFlush(()=>{const Ne=Q.indexOf(le);Ne>=0&&Q.splice(Ne,1),this._triggers.has(v)||ye.delete(v)})}}register(m,v){return!this._triggers.has(m)&&(this._triggers.set(m,v),!0)}_getTrigger(m){const v=this._triggers.get(m);if(!v)throw function en(R){return new B.vHH(3401,!1)}();return v}trigger(m,v,M,j=!0){const Q=this._getTrigger(v),le=new V(this.id,v,m);let ye=this._engine.statesByElement.get(m);ye||(fi(m,ei),fi(m,ei+"-"+v),this._engine.statesByElement.set(m,ye=new Map));let Ne=ye.get(v);const _=new us(M,this.id);if(!(M&&M.hasOwnProperty("value"))&&Ne&&_.absorbOptions(Ne.options),ye.set(v,_),Ne||(Ne=En),_.value!==Vi&&Ne.value===_.value){if(!function Cs(R,m){const v=Object.keys(R),M=Object.keys(m);if(v.length!=M.length)return!1;for(let j=0;j<v.length;j++){const Q=v[j];if(!m.hasOwnProperty(Q)||R[Q]!==m[Q])return!1}return!0}(Ne.params,_.params)){const G=[],ae=Q.matchStyles(Ne.value,Ne.params,G),Ye=Q.matchStyles(_.value,_.params,G);G.length?this._engine.reportError(G):this._engine.afterFlush(()=>{Vt(m,ae),or(m,Ye)})}return}const b=dn(this._engine.playersByElement,m,[]);b.forEach(G=>{G.namespaceId==this.id&&G.triggerName==v&&G.queued&&G.destroy()});let k=Q.matchTransition(Ne.value,_.value,m,_.params),H=!1;if(!k){if(!j)return;k=Q.fallbackTransition,H=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:m,triggerName:v,transition:k,fromState:Ne,toState:_,player:le,isFallbackTransition:H}),H||(fi(m,as),le.onStart(()=>{Ds(m,as)})),le.onDone(()=>{let G=this.players.indexOf(le);G>=0&&this.players.splice(G,1);const ae=this._engine.playersByElement.get(m);if(ae){let Ye=ae.indexOf(le);Ye>=0&&ae.splice(Ye,1)}}),this.players.push(le),b.push(le),le}deregister(m){this._triggers.delete(m),this._engine.statesByElement.forEach(v=>v.delete(m)),this._elementListeners.forEach((v,M)=>{this._elementListeners.set(M,v.filter(j=>j.name!=m))})}clearElementCache(m){this._engine.statesByElement.delete(m),this._elementListeners.delete(m);const v=this._engine.playersByElement.get(m);v&&(v.forEach(M=>M.destroy()),this._engine.playersByElement.delete(m))}_signalRemovalForInnerTriggers(m,v){const M=this._engine.driver.query(m,rt,!0);M.forEach(j=>{if(j[ti])return;const Q=this._engine.fetchNamespacesByElement(j);Q.size?Q.forEach(le=>le.triggerLeaveAnimation(j,v,!1,!0)):this.clearElementCache(j)}),this._engine.afterFlushAnimationsDone(()=>M.forEach(j=>this.clearElementCache(j)))}triggerLeaveAnimation(m,v,M,j){const Q=this._engine.statesByElement.get(m),le=new Map;if(Q){const ye=[];if(Q.forEach((Ne,_)=>{if(le.set(_,Ne.value),this._triggers.has(_)){const w=this.trigger(m,_,Vi,j);w&&ye.push(w)}}),ye.length)return this._engine.markElementAsRemoved(this.id,m,!0,v,le),M&&br(ye).onDone(()=>this._engine.processLeaveNode(m)),!0}return!1}prepareLeaveAnimationListeners(m){const v=this._elementListeners.get(m),M=this._engine.statesByElement.get(m);if(v&&M){const j=new Set;v.forEach(Q=>{const le=Q.name;if(j.has(le))return;j.add(le);const Ne=this._triggers.get(le).fallbackTransition,_=M.get(le)||En,w=new us(Vi),g=new V(this.id,le,m);this._engine.totalQueuedPlayers++,this._queue.push({element:m,triggerName:le,transition:Ne,fromState:_,toState:w,player:g,isFallbackTransition:!0})})}}removeNode(m,v){const M=this._engine;if(m.childElementCount&&this._signalRemovalForInnerTriggers(m,v),this.triggerLeaveAnimation(m,v,!0))return;let j=!1;if(M.totalAnimations){const Q=M.players.length?M.playersByQueriedElement.get(m):[];if(Q&&Q.length)j=!0;else{let le=m;for(;le=le.parentNode;)if(M.statesByElement.get(le)){j=!0;break}}}if(this.prepareLeaveAnimationListeners(m),j)M.markElementAsRemoved(this.id,m,!1,v);else{const Q=m[ti];(!Q||Q===Pi)&&(M.afterFlush(()=>this.clearElementCache(m)),M.destroyInnerAnimations(m),M._onRemovalComplete(m,v))}}insertNode(m,v){fi(m,this._hostClassName)}drainQueuedTransitions(m){const v=[];return this._queue.forEach(M=>{const j=M.player;if(j.destroyed)return;const Q=M.element,le=this._elementListeners.get(Q);le&&le.forEach(ye=>{if(ye.name==M.triggerName){const Ne=kr(Q,M.triggerName,M.fromState.value,M.toState.value);Ne._data=m,zt(M.player,ye.phase,Ne,ye.callback)}}),j.markedForDestroy?this._engine.afterFlush(()=>{j.destroy()}):v.push(M)}),this._queue=[],v.sort((M,j)=>{const Q=M.transition.ast.depCount,le=j.transition.ast.depCount;return 0==Q||0==le?Q-le:this._engine.driver.containsElement(M.element,j.element)?1:-1})}destroy(m){this.players.forEach(v=>v.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,m)}elementContainsData(m){let v=!1;return this._elementListeners.has(m)&&(v=!0),v=!!this._queue.find(M=>M.element===m)||v,v}}class ${_onRemovalComplete(m,v){this.onRemovalComplete(m,v)}constructor(m,v,M){this.bodyNode=m,this.driver=v,this._normalizer=M,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(j,Q)=>{}}get queuedPlayers(){const m=[];return this._namespaceList.forEach(v=>{v.players.forEach(M=>{M.queued&&m.push(M)})}),m}createNamespace(m,v){const M=new Co(m,v,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,v)?this._balanceNamespaceList(M,v):(this.newHostElements.set(v,M),this.collectEnterElement(v)),this._namespaceLookup[m]=M}_balanceNamespaceList(m,v){const M=this._namespaceList,j=this.namespacesByHostElement;if(M.length-1>=0){let le=!1,ye=this.driver.getParentElement(v);for(;ye;){const Ne=j.get(ye);if(Ne){const _=M.indexOf(Ne);M.splice(_+1,0,m),le=!0;break}ye=this.driver.getParentElement(ye)}le||M.unshift(m)}else M.push(m);return j.set(v,m),m}register(m,v){let M=this._namespaceLookup[m];return M||(M=this.createNamespace(m,v)),M}registerTrigger(m,v,M){let j=this._namespaceLookup[m];j&&j.register(v,M)&&this.totalAnimations++}destroy(m,v){if(!m)return;const M=this._fetchNamespace(m);this.afterFlush(()=>{this.namespacesByHostElement.delete(M.hostElement),delete this._namespaceLookup[m];const j=this._namespaceList.indexOf(M);j>=0&&this._namespaceList.splice(j,1)}),this.afterFlushAnimationsDone(()=>M.destroy(v))}_fetchNamespace(m){return this._namespaceLookup[m]}fetchNamespacesByElement(m){const v=new Set,M=this.statesByElement.get(m);if(M)for(let j of M.values())if(j.namespaceId){const Q=this._fetchNamespace(j.namespaceId);Q&&v.add(Q)}return v}trigger(m,v,M,j){if(nt(v)){const Q=this._fetchNamespace(m);if(Q)return Q.trigger(v,M,j),!0}return!1}insertNode(m,v,M,j){if(!nt(v))return;const Q=v[ti];if(Q&&Q.setForRemoval){Q.setForRemoval=!1,Q.setForMove=!0;const le=this.collectedLeaveElements.indexOf(v);le>=0&&this.collectedLeaveElements.splice(le,1)}if(m){const le=this._fetchNamespace(m);le&&le.insertNode(v,M)}j&&this.collectEnterElement(v)}collectEnterElement(m){this.collectedEnterElements.push(m)}markElementAsDisabled(m,v){v?this.disabledNodes.has(m)||(this.disabledNodes.add(m),fi(m,Qo)):this.disabledNodes.has(m)&&(this.disabledNodes.delete(m),Ds(m,Qo))}removeNode(m,v,M,j){if(nt(v)){const Q=m?this._fetchNamespace(m):null;if(Q?Q.removeNode(v,j):this.markElementAsRemoved(m,v,!1,j),M){const le=this.namespacesByHostElement.get(v);le&&le.id!==m&&le.removeNode(v,j)}}else this._onRemovalComplete(v,j)}markElementAsRemoved(m,v,M,j,Q){this.collectedLeaveElements.push(v),v[ti]={namespaceId:m,setForRemoval:j,hasAnimation:M,removedBeforeQueried:!1,previousTriggersValues:Q}}listen(m,v,M,j,Q){return nt(v)?this._fetchNamespace(m).listen(v,M,j,Q):()=>{}}_buildInstruction(m,v,M,j,Q){return m.transition.build(this.driver,m.element,m.fromState.value,m.toState.value,M,j,m.fromState.options,m.toState.options,v,Q)}destroyInnerAnimations(m){let v=this.driver.query(m,rt,!0);v.forEach(M=>this.destroyActiveAnimationsForElement(M)),0!=this.playersByQueriedElement.size&&(v=this.driver.query(m,St,!0),v.forEach(M=>this.finishActiveQueriedAnimationOnElement(M)))}destroyActiveAnimationsForElement(m){const v=this.playersByElement.get(m);v&&v.forEach(M=>{M.queued?M.markedForDestroy=!0:M.destroy()})}finishActiveQueriedAnimationOnElement(m){const v=this.playersByQueriedElement.get(m);v&&v.forEach(M=>M.finish())}whenRenderingDone(){return new Promise(m=>{if(this.players.length)return br(this.players).onDone(()=>m());m()})}processLeaveNode(m){const v=m[ti];if(v&&v.setForRemoval){if(m[ti]=Pi,v.namespaceId){this.destroyInnerAnimations(m);const M=this._fetchNamespace(v.namespaceId);M&&M.clearElementCache(m)}this._onRemovalComplete(m,v.setForRemoval)}m.classList?.contains(Qo)&&this.markElementAsDisabled(m,!1),this.driver.query(m,".ng-animate-disabled",!0).forEach(M=>{this.markElementAsDisabled(M,!1)})}flush(m=-1){let v=[];if(this.newHostElements.size&&(this.newHostElements.forEach((M,j)=>this._balanceNamespaceList(M,j)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let M=0;M<this.collectedEnterElements.length;M++)fi(this.collectedEnterElements[M],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const M=[];try{v=this._flushAnimations(M,m)}finally{for(let j=0;j<M.length;j++)M[j]()}}else for(let M=0;M<this.collectedLeaveElements.length;M++)this.processLeaveNode(this.collectedLeaveElements[M]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(M=>M()),this._flushFns=[],this._whenQuietFns.length){const M=this._whenQuietFns;this._whenQuietFns=[],v.length?br(v).onDone(()=>{M.forEach(j=>j())}):M.forEach(j=>j())}}reportError(m){throw function hn(R){return new B.vHH(3402,!1)}()}_flushAnimations(m,v){const M=new Fo,j=[],Q=new Map,le=[],ye=new Map,Ne=new Map,_=new Map,w=new Set;this.disabledNodes.forEach(Xt=>{w.add(Xt);const Nt=this.driver.query(Xt,".ng-animate-queued",!0);for(let bn=0;bn<Nt.length;bn++)w.add(Nt[bn])});const g=this.bodyNode,b=Array.from(this.statesByElement.keys()),k=mn(b,this.collectedEnterElements),H=new Map;let G=0;k.forEach((Xt,Nt)=>{const bn=Gn+G++;H.set(Nt,bn),Xt.forEach(cr=>fi(cr,bn))});const ae=[],Ye=new Set,He=new Set;for(let Xt=0;Xt<this.collectedLeaveElements.length;Xt++){const Nt=this.collectedLeaveElements[Xt],bn=Nt[ti];bn&&bn.setForRemoval&&(ae.push(Nt),Ye.add(Nt),bn.hasAnimation?this.driver.query(Nt,".ng-star-inserted",!0).forEach(cr=>Ye.add(cr)):He.add(Nt))}const Ee=new Map,Je=mn(b,Array.from(Ye));Je.forEach((Xt,Nt)=>{const bn=Tn+G++;Ee.set(Nt,bn),Xt.forEach(cr=>fi(cr,bn))}),m.push(()=>{k.forEach((Xt,Nt)=>{const bn=H.get(Nt);Xt.forEach(cr=>Ds(cr,bn))}),Je.forEach((Xt,Nt)=>{const bn=Ee.get(Nt);Xt.forEach(cr=>Ds(cr,bn))}),ae.forEach(Xt=>{this.processLeaveNode(Xt)})});const Pn=[],xi=[];for(let Xt=this._namespaceList.length-1;Xt>=0;Xt--)this._namespaceList[Xt].drainQueuedTransitions(v).forEach(bn=>{const cr=bn.player,Qn=bn.element;if(Pn.push(cr),this.collectedEnterElements.length){const Ji=Qn[ti];if(Ji&&Ji.setForMove){if(Ji.previousTriggersValues&&Ji.previousTriggersValues.has(bn.triggerName)){const zo=Ji.previousTriggersValues.get(bn.triggerName),rs=this.statesByElement.get(bn.element);if(rs&&rs.has(bn.triggerName)){const Uu=rs.get(bn.triggerName);Uu.value=zo,rs.set(bn.triggerName,Uu)}}return void cr.destroy()}}const Jt=!g||!this.driver.containsElement(g,Qn),zi=Ee.get(Qn),Jn=H.get(Qn),Ii=this._buildInstruction(bn,M,Jn,zi,Jt);if(Ii.errors&&Ii.errors.length)return void xi.push(Ii);if(Jt)return cr.onStart(()=>Vt(Qn,Ii.fromStyles)),cr.onDestroy(()=>or(Qn,Ii.toStyles)),void j.push(cr);if(bn.isFallbackTransition)return cr.onStart(()=>Vt(Qn,Ii.fromStyles)),cr.onDestroy(()=>or(Qn,Ii.toStyles)),void j.push(cr);const Di=[];Ii.timelines.forEach(Ji=>{Ji.stretchStartingKeyframe=!0,this.disabledNodes.has(Ji.element)||Di.push(Ji)}),Ii.timelines=Di,M.append(Qn,Ii.timelines),le.push({instruction:Ii,player:cr,element:Qn}),Ii.queriedElements.forEach(Ji=>dn(ye,Ji,[]).push(cr)),Ii.preStyleProps.forEach((Ji,zo)=>{if(Ji.size){let rs=Ne.get(zo);rs||Ne.set(zo,rs=new Set),Ji.forEach((Uu,Go)=>rs.add(Go))}}),Ii.postStyleProps.forEach((Ji,zo)=>{let rs=_.get(zo);rs||_.set(zo,rs=new Set),Ji.forEach((Uu,Go)=>rs.add(Go))})});if(xi.length){const Xt=[];xi.forEach(Nt=>{Xt.push(function Kr(R,m){return new B.vHH(3505,!1)}())}),Pn.forEach(Nt=>Nt.destroy()),this.reportError(Xt)}const ri=new Map,zr=new Map;le.forEach(Xt=>{const Nt=Xt.element;M.has(Nt)&&(zr.set(Nt,Nt),this._beforeAnimationBuild(Xt.player.namespaceId,Xt.instruction,ri))}),j.forEach(Xt=>{const Nt=Xt.element;this._getPreviousPlayers(Nt,!1,Xt.namespaceId,Xt.triggerName,null).forEach(cr=>{dn(ri,Nt,[]).push(cr),cr.destroy()})});const Gr=ae.filter(Xt=>Ns(Xt,Ne,_)),Ho=new Map;it(Ho,this.driver,He,_,Tt.l3).forEach(Xt=>{Ns(Xt,Ne,_)&&Gr.push(Xt)});const Ia=new Map;k.forEach((Xt,Nt)=>{it(Ia,this.driver,new Set(Xt),Ne,Tt.k1)}),Gr.forEach(Xt=>{const Nt=Ho.get(Xt),bn=Ia.get(Xt);Ho.set(Xt,new Map([...Array.from(Nt?.entries()??[]),...Array.from(bn?.entries()??[])]))});const Mo=[],sl=[],ol={};le.forEach(Xt=>{const{element:Nt,player:bn,instruction:cr}=Xt;if(M.has(Nt)){if(w.has(Nt))return bn.onDestroy(()=>or(Nt,cr.toStyles)),bn.disabled=!0,bn.overrideTotalTime(cr.totalTime),void j.push(bn);let Qn=ol;if(zr.size>1){let zi=Nt;const Jn=[];for(;zi=zi.parentNode;){const Ii=zr.get(zi);if(Ii){Qn=Ii;break}Jn.push(zi)}Jn.forEach(Ii=>zr.set(Ii,Qn))}const Jt=this._buildAnimation(bn.namespaceId,cr,ri,Q,Ia,Ho);if(bn.setRealPlayer(Jt),Qn===ol)Mo.push(bn);else{const zi=this.playersByElement.get(Qn);zi&&zi.length&&(bn.parentPlayer=br(zi)),j.push(bn)}}else Vt(Nt,cr.fromStyles),bn.onDestroy(()=>or(Nt,cr.toStyles)),sl.push(bn),w.has(Nt)&&j.push(bn)}),sl.forEach(Xt=>{const Nt=Q.get(Xt.element);if(Nt&&Nt.length){const bn=br(Nt);Xt.setRealPlayer(bn)}}),j.forEach(Xt=>{Xt.parentPlayer?Xt.syncPlayerEvents(Xt.parentPlayer):Xt.destroy()});for(let Xt=0;Xt<ae.length;Xt++){const Nt=ae[Xt],bn=Nt[ti];if(Ds(Nt,Tn),bn&&bn.hasAnimation)continue;let cr=[];if(ye.size){let Jt=ye.get(Nt);Jt&&Jt.length&&cr.push(...Jt);let zi=this.driver.query(Nt,St,!0);for(let Jn=0;Jn<zi.length;Jn++){let Ii=ye.get(zi[Jn]);Ii&&Ii.length&&cr.push(...Ii)}}const Qn=cr.filter(Jt=>!Jt.destroyed);Qn.length?Hr(this,Nt,Qn):this.processLeaveNode(Nt)}return ae.length=0,Mo.forEach(Xt=>{this.players.push(Xt),Xt.onDone(()=>{Xt.destroy();const Nt=this.players.indexOf(Xt);this.players.splice(Nt,1)}),Xt.play()}),Mo}elementContainsData(m,v){let M=!1;const j=v[ti];return j&&j.setForRemoval&&(M=!0),this.playersByElement.has(v)&&(M=!0),this.playersByQueriedElement.has(v)&&(M=!0),this.statesByElement.has(v)&&(M=!0),this._fetchNamespace(m).elementContainsData(v)||M}afterFlush(m){this._flushFns.push(m)}afterFlushAnimationsDone(m){this._whenQuietFns.push(m)}_getPreviousPlayers(m,v,M,j,Q){let le=[];if(v){const ye=this.playersByQueriedElement.get(m);ye&&(le=ye)}else{const ye=this.playersByElement.get(m);if(ye){const Ne=!Q||Q==Vi;ye.forEach(_=>{_.queued||!Ne&&_.triggerName!=j||le.push(_)})}}return(M||j)&&(le=le.filter(ye=>!(M&&M!=ye.namespaceId||j&&j!=ye.triggerName))),le}_beforeAnimationBuild(m,v,M){const Q=v.element,le=v.isRemovalTransition?void 0:m,ye=v.isRemovalTransition?void 0:v.triggerName;for(const Ne of v.timelines){const _=Ne.element,w=_!==Q,g=dn(M,_,[]);this._getPreviousPlayers(_,w,le,ye,v.toState).forEach(k=>{const H=k.getRealPlayer();H.beforeDestroy&&H.beforeDestroy(),k.destroy(),g.push(k)})}Vt(Q,v.fromStyles)}_buildAnimation(m,v,M,j,Q,le){const ye=v.triggerName,Ne=v.element,_=[],w=new Set,g=new Set,b=v.timelines.map(H=>{const G=H.element;w.add(G);const ae=G[ti];if(ae&&ae.removedBeforeQueried)return new Tt.ZN(H.duration,H.delay);const Ye=G!==Ne,He=function To(R){const m=[];return bo(R,m),m}((M.get(G)||ao).map(ri=>ri.getRealPlayer())).filter(ri=>!!ri.element&&ri.element===G),Ee=Q.get(G),Je=le.get(G),Pn=kn(0,this._normalizer,0,H.keyframes,Ee,Je),xi=this._buildPlayer(H,Pn,He);if(H.subTimeline&&j&&g.add(G),Ye){const ri=new V(m,ye,G);ri.setRealPlayer(xi),_.push(ri)}return xi});_.forEach(H=>{dn(this.playersByQueriedElement,H.element,[]).push(H),H.onDone(()=>function x(R,m,v){let M=R.get(m);if(M){if(M.length){const j=M.indexOf(v);M.splice(j,1)}0==M.length&&R.delete(m)}return M}(this.playersByQueriedElement,H.element,H))}),w.forEach(H=>fi(H,Ke));const k=br(b);return k.onDestroy(()=>{w.forEach(H=>Ds(H,Ke)),or(Ne,v.toStyles)}),g.forEach(H=>{dn(j,H,[]).push(k)}),k}_buildPlayer(m,v,M){return v.length>0?this.driver.animate(m.element,v,m.duration,m.delay,m.easing,M):new Tt.ZN(m.duration,m.delay)}}class V{constructor(m,v,M){this.namespaceId=m,this.triggerName=v,this.element=M,this._player=new Tt.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(m){this._containsRealPlayer||(this._player=m,this._queuedCallbacks.forEach((v,M)=>{v.forEach(j=>zt(m,M,void 0,j))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(m.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(m){this.totalTime=m}syncPlayerEvents(m){const v=this._player;v.triggerCallback&&m.onStart(()=>v.triggerCallback("start")),m.onDone(()=>this.finish()),m.onDestroy(()=>this.destroy())}_queueEvent(m,v){dn(this._queuedCallbacks,m,[]).push(v)}onDone(m){this.queued&&this._queueEvent("done",m),this._player.onDone(m)}onStart(m){this.queued&&this._queueEvent("start",m),this._player.onStart(m)}onDestroy(m){this.queued&&this._queueEvent("destroy",m),this._player.onDestroy(m)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(m){this.queued||this._player.setPosition(m)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(m){const v=this._player;v.triggerCallback&&v.triggerCallback(m)}}function nt(R){return R&&1===R.nodeType}function $r(R,m){const v=R.style.display;return R.style.display=m??"none",v}function it(R,m,v,M,j){const Q=[];v.forEach(Ne=>Q.push($r(Ne)));const le=[];M.forEach((Ne,_)=>{const w=new Map;Ne.forEach(g=>{const b=m.computeStyle(_,g,j);w.set(g,b),(!b||0==b.length)&&(_[ti]=Do,le.push(_))}),R.set(_,w)});let ye=0;return v.forEach(Ne=>$r(Ne,Q[ye++])),le}function mn(R,m){const v=new Map;if(R.forEach(ye=>v.set(ye,[])),0==m.length)return v;const M=1,j=new Set(m),Q=new Map;function le(ye){if(!ye)return M;let Ne=Q.get(ye);if(Ne)return Ne;const _=ye.parentNode;return Ne=v.has(_)?_:j.has(_)?M:le(_),Q.set(ye,Ne),Ne}return m.forEach(ye=>{const Ne=le(ye);Ne!==M&&v.get(Ne).push(ye)}),v}function fi(R,m){R.classList?.add(m)}function Ds(R,m){R.classList?.remove(m)}function Hr(R,m,v){br(v).onDone(()=>R.processLeaveNode(m))}function bo(R,m){for(let v=0;v<R.length;v++){const M=R[v];M instanceof Tt.ZE?bo(M.players,m):m.push(M)}}function Ns(R,m,v){const M=v.get(R);if(!M)return!1;let j=m.get(R);return j?M.forEach(Q=>j.add(Q)):m.set(R,M),v.delete(R),!0}class ls{constructor(m,v,M){this.bodyNode=m,this._driver=v,this._normalizer=M,this._triggerCache={},this.onRemovalComplete=(j,Q)=>{},this._transitionEngine=new $(m,v,M),this._timelineEngine=new xs(m,v,M),this._transitionEngine.onRemovalComplete=(j,Q)=>this.onRemovalComplete(j,Q)}registerTrigger(m,v,M,j,Q){const le=m+"-"+j;let ye=this._triggerCache[le];if(!ye){const Ne=[],_=[],w=Zr(this._driver,Q,Ne,_);if(Ne.length)throw function Mn(R,m){return new B.vHH(3404,!1)}();ye=function oo(R,m,v){return new Kn(R,m,v)}(j,w,this._normalizer),this._triggerCache[le]=ye}this._transitionEngine.registerTrigger(v,j,ye)}register(m,v){this._transitionEngine.register(m,v)}destroy(m,v){this._transitionEngine.destroy(m,v)}onInsert(m,v,M,j){this._transitionEngine.insertNode(m,v,M,j)}onRemove(m,v,M,j){this._transitionEngine.removeNode(m,v,j||!1,M)}disableAnimations(m,v){this._transitionEngine.markElementAsDisabled(m,v)}process(m,v,M,j){if("@"==M.charAt(0)){const[Q,le]=Vn(M);this._timelineEngine.command(Q,v,le,j)}else this._transitionEngine.trigger(m,v,M,j)}listen(m,v,M,j,Q){if("@"==M.charAt(0)){const[le,ye]=Vn(M);return this._timelineEngine.listen(le,v,ye,Q)}return this._transitionEngine.listen(m,v,M,j,Q)}flush(m=-1){this._transitionEngine.flush(m)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let ks=(()=>{class R{constructor(v,M,j){this._element=v,this._startStyles=M,this._endStyles=j,this._state=0;let Q=R.initialStylesByElement.get(v);Q||R.initialStylesByElement.set(v,Q=new Map),this._initialStyles=Q}start(){this._state<1&&(this._startStyles&&or(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(or(this._element,this._initialStyles),this._endStyles&&(or(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(R.initialStylesByElement.delete(this._element),this._startStyles&&(Vt(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Vt(this._element,this._endStyles),this._endStyles=null),or(this._element,this._initialStyles),this._state=3)}}return R.initialStylesByElement=new WeakMap,R})();function uo(R){let m=null;return R.forEach((v,M)=>{(function Bn(R){return"display"===R||"position"===R})(M)&&(m=m||new Map,m.set(M,v))}),m}class Ri{constructor(m,v,M,j){this.element=m,this.keyframes=v,this.options=M,this._specialStyles=j,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=M.duration,this._delay=M.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(m=>m()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const m=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,m,this.options),this._finalKeyframe=m.length?m[m.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(m){const v=[];return m.forEach(M=>{v.push(Object.fromEntries(M))}),v}_triggerWebAnimation(m,v,M){return m.animate(this._convertKeyframesToObject(v),M)}onStart(m){this._originalOnStartFns.push(m),this._onStartFns.push(m)}onDone(m){this._originalOnDoneFns.push(m),this._onDoneFns.push(m)}onDestroy(m){this._onDestroyFns.push(m)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(m=>m()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(m=>m()),this._onDestroyFns=[])}setPosition(m){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=m*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const m=new Map;this.hasStarted()&&this._finalKeyframe.forEach((M,j)=>{"offset"!==j&&m.set(j,this._finished?M:cn(this.element,j))}),this.currentSnapshot=m}triggerCallback(m){const v="start"===m?this._onStartFns:this._onDoneFns;v.forEach(M=>M()),v.length=0}}class cs{validateStyleProperty(m){return!0}validateAnimatableStyleProperty(m){return!0}matchesElement(m,v){return!1}containsElement(m,v){return Rt(m,v)}getParentElement(m){return Xr(m)}query(m,v,M){return Ie(m,v,M)}computeStyle(m,v,M){return window.getComputedStyle(m)[v]}animate(m,v,M,j,Q,le=[]){const Ne={duration:M,delay:j,fill:0==j?"both":"forwards"};Q&&(Ne.easing=Q);const _=new Map,w=le.filter(k=>k instanceof Ri);(function Me(R,m){return 0===R||0===m})(M,j)&&w.forEach(k=>{k.currentSnapshot.forEach((H,G)=>_.set(G,H))});let g=function Pr(R){return R.length?R[0]instanceof Map?R:R.map(m=>On(m)):[]}(v).map(k=>Wi(k));g=function _t(R,m,v){if(v.size&&m.length){let M=m[0],j=[];if(v.forEach((Q,le)=>{M.has(le)||j.push(le),M.set(le,Q)}),j.length)for(let Q=1;Q<m.length;Q++){let le=m[Q];j.forEach(ye=>le.set(ye,cn(R,ye)))}}return m}(m,g,_);const b=function fa(R,m){let v=null,M=null;return Array.isArray(m)&&m.length?(v=uo(m[0]),m.length>1&&(M=uo(m[m.length-1]))):m instanceof Map&&(v=uo(m)),v||M?new ks(R,v,M):null}(m,g);return new Ri(m,g,Ne,b)}}let ds=(()=>{class R extends Tt._j{constructor(v,M){super(),this._nextAnimationId=0,this._renderer=v.createRenderer(M.body,{id:"0",encapsulation:B.ifc.None,styles:[],data:{animation:[]}})}build(v){const M=this._nextAnimationId.toString();this._nextAnimationId++;const j=Array.isArray(v)?(0,Tt.vP)(v):v;return Ks(this._renderer,null,M,"register",[j]),new Ts(M,this._renderer)}}return R.\u0275fac=function(v){return new(v||R)(B.LFG(B.FYo),B.LFG(mt.K0))},R.\u0275prov=B.Yz7({token:R,factory:R.\u0275fac}),R})();class Ts extends Tt.LC{constructor(m,v){super(),this._id=m,this._renderer=v}create(m,v){return new Sa(this._id,m,v||{},this._renderer)}}class Sa{constructor(m,v,M,j){this.id=m,this.element=v,this._renderer=j,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",M)}_listen(m,v){return this._renderer.listen(this.element,`@@${this.id}:${m}`,v)}_command(m,...v){return Ks(this._renderer,this.element,this.id,m,v)}onDone(m){this._listen("done",m)}onStart(m){this._listen("start",m)}onDestroy(m){this._listen("destroy",m)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(m){this._command("setPosition",m)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Ks(R,m,v,M,j){return R.setProperty(m,`@@${v}:${M}`,j)}const gu="@.disabled";let ai=(()=>{class R{constructor(v,M,j){this.delegate=v,this.engine=M,this._zone=j,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),M.onRemovalComplete=(Q,le)=>{const ye=le?.parentNode(Q);ye&&le.removeChild(ye,Q)}}createRenderer(v,M){const Q=this.delegate.createRenderer(v,M);if(!(v&&M&&M.data&&M.data.animation)){let w=this._rendererCache.get(Q);return w||(w=new lo("",Q,this.engine,()=>this._rendererCache.delete(Q)),this._rendererCache.set(Q,w)),w}const le=M.id,ye=M.id+"-"+this._currentId;this._currentId++,this.engine.register(ye,v);const Ne=w=>{Array.isArray(w)?w.forEach(Ne):this.engine.registerTrigger(le,ye,v,w.name,w)};return M.data.animation.forEach(Ne),new bs(this,ye,Q,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(v,M,j){v>=0&&v<this._microtaskId?this._zone.run(()=>M(j)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(Q=>{const[le,ye]=Q;le(ye)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([M,j]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return R.\u0275fac=function(v){return new(v||R)(B.LFG(B.FYo),B.LFG(ls),B.LFG(B.R0b))},R.\u0275prov=B.Yz7({token:R,factory:R.\u0275fac}),R})();class lo{constructor(m,v,M,j){this.namespaceId=m,this.delegate=v,this.engine=M,this._onDestroy=j,this.destroyNode=this.delegate.destroyNode?Q=>v.destroyNode(Q):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(m,v){return this.delegate.createElement(m,v)}createComment(m){return this.delegate.createComment(m)}createText(m){return this.delegate.createText(m)}appendChild(m,v){this.delegate.appendChild(m,v),this.engine.onInsert(this.namespaceId,v,m,!1)}insertBefore(m,v,M,j=!0){this.delegate.insertBefore(m,v,M),this.engine.onInsert(this.namespaceId,v,m,j)}removeChild(m,v,M){this.engine.onRemove(this.namespaceId,v,this.delegate,M)}selectRootElement(m,v){return this.delegate.selectRootElement(m,v)}parentNode(m){return this.delegate.parentNode(m)}nextSibling(m){return this.delegate.nextSibling(m)}setAttribute(m,v,M,j){this.delegate.setAttribute(m,v,M,j)}removeAttribute(m,v,M){this.delegate.removeAttribute(m,v,M)}addClass(m,v){this.delegate.addClass(m,v)}removeClass(m,v){this.delegate.removeClass(m,v)}setStyle(m,v,M,j){this.delegate.setStyle(m,v,M,j)}removeStyle(m,v,M){this.delegate.removeStyle(m,v,M)}setProperty(m,v,M){"@"==v.charAt(0)&&v==gu?this.disableAnimations(m,!!M):this.delegate.setProperty(m,v,M)}setValue(m,v){this.delegate.setValue(m,v)}listen(m,v,M){return this.delegate.listen(m,v,M)}disableAnimations(m,v){this.engine.disableAnimations(m,v)}}class bs extends lo{constructor(m,v,M,j,Q){super(v,M,j,Q),this.factory=m,this.namespaceId=v}setProperty(m,v,M){"@"==v.charAt(0)?"."==v.charAt(1)&&v==gu?this.disableAnimations(m,M=void 0===M||!!M):this.engine.process(this.namespaceId,m,v.slice(1),M):this.delegate.setProperty(m,v,M)}listen(m,v,M){if("@"==v.charAt(0)){const j=function Jo(R){switch(R){case"body":return document.body;case"document":return document;case"window":return window;default:return R}}(m);let Q=v.slice(1),le="";return"@"!=Q.charAt(0)&&([Q,le]=function Xo(R){const m=R.indexOf(".");return[R.substring(0,m),R.slice(m+1)]}(Q)),this.engine.listen(this.namespaceId,j,Q,le,ye=>{this.factory.scheduleListenerCallback(ye._data||-1,M,ye)})}return this.delegate.listen(m,v,M)}}const Bo=[{provide:Tt._j,useClass:ds},{provide:vi,useFactory:function ts(){return new Es}},{provide:ls,useClass:(()=>{class R extends ls{constructor(v,M,j,Q){super(v.body,M,j)}ngOnDestroy(){this.flush()}}return R.\u0275fac=function(v){return new(v||R)(B.LFG(mt.K0),B.LFG(Ae),B.LFG(vi),B.LFG(B.z2F))},R.\u0275prov=B.Yz7({token:R,factory:R.\u0275fac}),R})()},{provide:B.FYo,useFactory:function ea(R,m,v){return new ai(R,m,v)},deps:[f.se,ls,B.R0b]}],qs=[{provide:Ae,useFactory:()=>new cs},{provide:B.QbO,useValue:"BrowserAnimations"},...Bo],ta=[{provide:Ae,useClass:se},{provide:B.QbO,useValue:"NoopAnimations"},...Bo];let Ba=(()=>{class R{static withConfig(v){return{ngModule:R,providers:v.disableAnimations?ta:qs}}}return R.\u0275fac=function(v){return new(v||R)},R.\u0275mod=B.oAB({type:R}),R.\u0275inj=B.cJS({providers:qs,imports:[f.b2]}),R})();var Fs=L(2011),Or=L(1205),Ma=L(3132),jo=L(3692),Ha=L(9646),ku=L(9751),pa=L(4351),Pa=L(9300),Zs=L(4004);class co{}class ga{}class P{constructor(m){this.normalizedNames=new Map,this.lazyUpdate=null,m?this.lazyInit="string"==typeof m?()=>{this.headers=new Map,m.split("\n").forEach(v=>{const M=v.indexOf(":");if(M>0){const j=v.slice(0,M),Q=j.toLowerCase(),le=v.slice(M+1).trim();this.maybeSetNormalizedName(j,Q),this.headers.has(Q)?this.headers.get(Q).push(le):this.headers.set(Q,[le])}})}:()=>{this.headers=new Map,Object.entries(m).forEach(([v,M])=>{let j;if(j="string"==typeof M?[M]:"number"==typeof M?[M.toString()]:M.map(Q=>Q.toString()),j.length>0){const Q=v.toLowerCase();this.headers.set(Q,j),this.maybeSetNormalizedName(v,Q)}})}:this.headers=new Map}has(m){return this.init(),this.headers.has(m.toLowerCase())}get(m){this.init();const v=this.headers.get(m.toLowerCase());return v&&v.length>0?v[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(m){return this.init(),this.headers.get(m.toLowerCase())||null}append(m,v){return this.clone({name:m,value:v,op:"a"})}set(m,v){return this.clone({name:m,value:v,op:"s"})}delete(m,v){return this.clone({name:m,value:v,op:"d"})}maybeSetNormalizedName(m,v){this.normalizedNames.has(v)||this.normalizedNames.set(v,m)}init(){this.lazyInit&&(this.lazyInit instanceof P?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(m=>this.applyUpdate(m)),this.lazyUpdate=null))}copyFrom(m){m.init(),Array.from(m.headers.keys()).forEach(v=>{this.headers.set(v,m.headers.get(v)),this.normalizedNames.set(v,m.normalizedNames.get(v))})}clone(m){const v=new P;return v.lazyInit=this.lazyInit&&this.lazyInit instanceof P?this.lazyInit:this,v.lazyUpdate=(this.lazyUpdate||[]).concat([m]),v}applyUpdate(m){const v=m.name.toLowerCase();switch(m.op){case"a":case"s":let M=m.value;if("string"==typeof M&&(M=[M]),0===M.length)return;this.maybeSetNormalizedName(m.name,v);const j=("a"===m.op?this.headers.get(v):void 0)||[];j.push(...M),this.headers.set(v,j);break;case"d":const Q=m.value;if(Q){let le=this.headers.get(v);if(!le)return;le=le.filter(ye=>-1===Q.indexOf(ye)),0===le.length?(this.headers.delete(v),this.normalizedNames.delete(v)):this.headers.set(v,le)}else this.headers.delete(v),this.normalizedNames.delete(v)}}forEach(m){this.init(),Array.from(this.normalizedNames.keys()).forEach(v=>m(this.normalizedNames.get(v),this.headers.get(v)))}}class F{encodeKey(m){return It(m)}encodeValue(m){return It(m)}decodeKey(m){return decodeURIComponent(m)}decodeValue(m){return decodeURIComponent(m)}}const fe=/%(\d[a-f0-9])/gi,lt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function It(R){return encodeURIComponent(R).replace(fe,(m,v)=>lt[v]??m)}function nn(R){return`${R}`}class er{constructor(m={}){if(this.updates=null,this.cloneFrom=null,this.encoder=m.encoder||new F,m.fromString){if(m.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Y(R,m){const v=new Map;return R.length>0&&R.replace(/^\?/,"").split("&").forEach(j=>{const Q=j.indexOf("="),[le,ye]=-1==Q?[m.decodeKey(j),""]:[m.decodeKey(j.slice(0,Q)),m.decodeValue(j.slice(Q+1))],Ne=v.get(le)||[];Ne.push(ye),v.set(le,Ne)}),v}(m.fromString,this.encoder)}else m.fromObject?(this.map=new Map,Object.keys(m.fromObject).forEach(v=>{const M=m.fromObject[v],j=Array.isArray(M)?M.map(nn):[nn(M)];this.map.set(v,j)})):this.map=null}has(m){return this.init(),this.map.has(m)}get(m){this.init();const v=this.map.get(m);return v?v[0]:null}getAll(m){return this.init(),this.map.get(m)||null}keys(){return this.init(),Array.from(this.map.keys())}append(m,v){return this.clone({param:m,value:v,op:"a"})}appendAll(m){const v=[];return Object.keys(m).forEach(M=>{const j=m[M];Array.isArray(j)?j.forEach(Q=>{v.push({param:M,value:Q,op:"a"})}):v.push({param:M,value:j,op:"a"})}),this.clone(v)}set(m,v){return this.clone({param:m,value:v,op:"s"})}delete(m,v){return this.clone({param:m,value:v,op:"d"})}toString(){return this.init(),this.keys().map(m=>{const v=this.encoder.encodeKey(m);return this.map.get(m).map(M=>v+"="+this.encoder.encodeValue(M)).join("&")}).filter(m=>""!==m).join("&")}clone(m){const v=new er({encoder:this.encoder});return v.cloneFrom=this.cloneFrom||this,v.updates=(this.updates||[]).concat(m),v}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(m=>this.map.set(m,this.cloneFrom.map.get(m))),this.updates.forEach(m=>{switch(m.op){case"a":case"s":const v=("a"===m.op?this.map.get(m.param):void 0)||[];v.push(nn(m.value)),this.map.set(m.param,v);break;case"d":if(void 0===m.value){this.map.delete(m.param);break}{let M=this.map.get(m.param)||[];const j=M.indexOf(nn(m.value));-1!==j&&M.splice(j,1),M.length>0?this.map.set(m.param,M):this.map.delete(m.param)}}}),this.cloneFrom=this.updates=null)}}class hr{constructor(){this.map=new Map}set(m,v){return this.map.set(m,v),this}get(m){return this.map.has(m)||this.map.set(m,m.defaultValue()),this.map.get(m)}delete(m){return this.map.delete(m),this}has(m){return this.map.has(m)}keys(){return this.map.keys()}}function Fr(R){return typeof ArrayBuffer<"u"&&R instanceof ArrayBuffer}function jn(R){return typeof Blob<"u"&&R instanceof Blob}function Lr(R){return typeof FormData<"u"&&R instanceof FormData}class Oi{constructor(m,v,M,j){let Q;if(this.url=v,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=m.toUpperCase(),function xn(R){switch(R){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||j?(this.body=void 0!==M?M:null,Q=j):Q=M,Q&&(this.reportProgress=!!Q.reportProgress,this.withCredentials=!!Q.withCredentials,Q.responseType&&(this.responseType=Q.responseType),Q.headers&&(this.headers=Q.headers),Q.context&&(this.context=Q.context),Q.params&&(this.params=Q.params)),this.headers||(this.headers=new P),this.context||(this.context=new hr),this.params){const le=this.params.toString();if(0===le.length)this.urlWithParams=v;else{const ye=v.indexOf("?");this.urlWithParams=v+(-1===ye?"?":ye<v.length-1?"&":"")+le}}else this.params=new er,this.urlWithParams=v}serializeBody(){return null===this.body?null:Fr(this.body)||jn(this.body)||Lr(this.body)||function hs(R){return typeof URLSearchParams<"u"&&R instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof er?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Lr(this.body)?null:jn(this.body)?this.body.type||null:Fr(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof er?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(m={}){const v=m.method||this.method,M=m.url||this.url,j=m.responseType||this.responseType,Q=void 0!==m.body?m.body:this.body,le=void 0!==m.withCredentials?m.withCredentials:this.withCredentials,ye=void 0!==m.reportProgress?m.reportProgress:this.reportProgress;let Ne=m.headers||this.headers,_=m.params||this.params;const w=m.context??this.context;return void 0!==m.setHeaders&&(Ne=Object.keys(m.setHeaders).reduce((g,b)=>g.set(b,m.setHeaders[b]),Ne)),m.setParams&&(_=Object.keys(m.setParams).reduce((g,b)=>g.set(b,m.setParams[b]),_)),new Oi(v,M,Q,{params:_,headers:Ne,context:w,reportProgress:ye,responseType:j,withCredentials:le})}}var mr=(()=>((mr=mr||{})[mr.Sent=0]="Sent",mr[mr.UploadProgress=1]="UploadProgress",mr[mr.ResponseHeader=2]="ResponseHeader",mr[mr.DownloadProgress=3]="DownloadProgress",mr[mr.Response=4]="Response",mr[mr.User=5]="User",mr))();class Vr{constructor(m,v=200,M="OK"){this.headers=m.headers||new P,this.status=void 0!==m.status?m.status:v,this.statusText=m.statusText||M,this.url=m.url||null,this.ok=this.status>=200&&this.status<300}}class Bi extends Vr{constructor(m={}){super(m),this.type=mr.ResponseHeader}clone(m={}){return new Bi({headers:m.headers||this.headers,status:void 0!==m.status?m.status:this.status,statusText:m.statusText||this.statusText,url:m.url||this.url||void 0})}}class ji extends Vr{constructor(m={}){super(m),this.type=mr.Response,this.body=void 0!==m.body?m.body:null}clone(m={}){return new ji({body:void 0!==m.body?m.body:this.body,headers:m.headers||this.headers,status:void 0!==m.status?m.status:this.status,statusText:m.statusText||this.statusText,url:m.url||this.url||void 0})}}class Yi extends Vr{constructor(m){super(m,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${m.url||"(unknown url)"}`:`Http failure response for ${m.url||"(unknown url)"}: ${m.status} ${m.statusText}`,this.error=m.error||null}}function Ra(R,m){return{body:m,headers:R.headers,context:R.context,observe:R.observe,params:R.params,reportProgress:R.reportProgress,responseType:R.responseType,withCredentials:R.withCredentials}}let ma=(()=>{class R{constructor(v){this.handler=v}request(v,M,j={}){let Q;if(v instanceof Oi)Q=v;else{let Ne,_;Ne=j.headers instanceof P?j.headers:new P(j.headers),j.params&&(_=j.params instanceof er?j.params:new er({fromObject:j.params})),Q=new Oi(v,M,void 0!==j.body?j.body:null,{headers:Ne,context:j.context,params:_,reportProgress:j.reportProgress,responseType:j.responseType||"json",withCredentials:j.withCredentials})}const le=(0,Ha.of)(Q).pipe((0,pa.b)(Ne=>this.handler.handle(Ne)));if(v instanceof Oi||"events"===j.observe)return le;const ye=le.pipe((0,Pa.h)(Ne=>Ne instanceof ji));switch(j.observe||"body"){case"body":switch(Q.responseType){case"arraybuffer":return ye.pipe((0,Zs.U)(Ne=>{if(null!==Ne.body&&!(Ne.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Ne.body}));case"blob":return ye.pipe((0,Zs.U)(Ne=>{if(null!==Ne.body&&!(Ne.body instanceof Blob))throw new Error("Response is not a Blob.");return Ne.body}));case"text":return ye.pipe((0,Zs.U)(Ne=>{if(null!==Ne.body&&"string"!=typeof Ne.body)throw new Error("Response is not a string.");return Ne.body}));default:return ye.pipe((0,Zs.U)(Ne=>Ne.body))}case"response":return ye;default:throw new Error(`Unreachable: unhandled observe type ${j.observe}}`)}}delete(v,M={}){return this.request("DELETE",v,M)}get(v,M={}){return this.request("GET",v,M)}head(v,M={}){return this.request("HEAD",v,M)}jsonp(v,M){return this.request("JSONP",v,{params:(new er).append(M,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(v,M={}){return this.request("OPTIONS",v,M)}patch(v,M,j={}){return this.request("PATCH",v,Ra(j,M))}post(v,M,j={}){return this.request("POST",v,Ra(j,M))}put(v,M,j={}){return this.request("PUT",v,Ra(j,M))}}return R.\u0275fac=function(v){return new(v||R)(B.LFG(co))},R.\u0275prov=B.Yz7({token:R,factory:R.\u0275fac}),R})();function Fu(R,m){return m(R)}function iu(R,m){return(v,M)=>m.intercept(v,{handle:j=>R(j,M)})}const Oa=new B.OlP("HTTP_INTERCEPTORS"),Qi=new B.OlP("HTTP_INTERCEPTOR_FNS");function Lu(){let R=null;return(m,v)=>(null===R&&(R=((0,B.f3M)(Oa,{optional:!0})??[]).reduceRight(iu,Fu)),R(m,v))}let na=(()=>{class R extends co{constructor(v,M){super(),this.backend=v,this.injector=M,this.chain=null}handle(v){if(null===this.chain){const M=Array.from(new Set(this.injector.get(Qi)));this.chain=M.reduceRight((j,Q)=>function ya(R,m,v){return(M,j)=>v.runInContext(()=>m(M,Q=>R(Q,j)))}(j,Q,this.injector),Fu)}return this.chain(v,M=>this.backend.handle(M))}}return R.\u0275fac=function(v){return new(v||R)(B.LFG(ga),B.LFG(B.lqb))},R.\u0275prov=B.Yz7({token:R,factory:R.\u0275fac}),R})();const ni=/^\)\]\}',?\n/;let fs=(()=>{class R{constructor(v){this.xhrFactory=v}handle(v){if("JSONP"===v.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ku.y(M=>{const j=this.xhrFactory.build();if(j.open(v.method,v.urlWithParams),v.withCredentials&&(j.withCredentials=!0),v.headers.forEach((k,H)=>j.setRequestHeader(k,H.join(","))),v.headers.has("Accept")||j.setRequestHeader("Accept","application/json, text/plain, */*"),!v.headers.has("Content-Type")){const k=v.detectContentTypeHeader();null!==k&&j.setRequestHeader("Content-Type",k)}if(v.responseType){const k=v.responseType.toLowerCase();j.responseType="json"!==k?k:"text"}const Q=v.serializeBody();let le=null;const ye=()=>{if(null!==le)return le;const k=j.statusText||"OK",H=new P(j.getAllResponseHeaders()),G=function vu(R){return"responseURL"in R&&R.responseURL?R.responseURL:/^X-Request-URL:/m.test(R.getAllResponseHeaders())?R.getResponseHeader("X-Request-URL"):null}(j)||v.url;return le=new Bi({headers:H,status:j.status,statusText:k,url:G}),le},Ne=()=>{let{headers:k,status:H,statusText:G,url:ae}=ye(),Ye=null;204!==H&&(Ye=typeof j.response>"u"?j.responseText:j.response),0===H&&(H=Ye?200:0);let He=H>=200&&H<300;if("json"===v.responseType&&"string"==typeof Ye){const Ee=Ye;Ye=Ye.replace(ni,"");try{Ye=""!==Ye?JSON.parse(Ye):null}catch(Je){Ye=Ee,He&&(He=!1,Ye={error:Je,text:Ye})}}He?(M.next(new ji({body:Ye,headers:k,status:H,statusText:G,url:ae||void 0})),M.complete()):M.error(new Yi({error:Ye,headers:k,status:H,statusText:G,url:ae||void 0}))},_=k=>{const{url:H}=ye(),G=new Yi({error:k,status:j.status||0,statusText:j.statusText||"Unknown Error",url:H||void 0});M.error(G)};let w=!1;const g=k=>{w||(M.next(ye()),w=!0);let H={type:mr.DownloadProgress,loaded:k.loaded};k.lengthComputable&&(H.total=k.total),"text"===v.responseType&&j.responseText&&(H.partialText=j.responseText),M.next(H)},b=k=>{let H={type:mr.UploadProgress,loaded:k.loaded};k.lengthComputable&&(H.total=k.total),M.next(H)};return j.addEventListener("load",Ne),j.addEventListener("error",_),j.addEventListener("timeout",_),j.addEventListener("abort",_),v.reportProgress&&(j.addEventListener("progress",g),null!==Q&&j.upload&&j.upload.addEventListener("progress",b)),j.send(Q),M.next({type:mr.Sent}),()=>{j.removeEventListener("error",_),j.removeEventListener("abort",_),j.removeEventListener("load",Ne),j.removeEventListener("timeout",_),v.reportProgress&&(j.removeEventListener("progress",g),null!==Q&&j.upload&&j.upload.removeEventListener("progress",b)),j.readyState!==j.DONE&&j.abort()}})}}return R.\u0275fac=function(v){return new(v||R)(B.LFG(mt.JF))},R.\u0275prov=B.Yz7({token:R,factory:R.\u0275fac}),R})();const ia=new B.OlP("XSRF_ENABLED"),ka=new B.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),va=new B.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class za{}let pi=(()=>{class R{constructor(v,M,j){this.doc=v,this.platform=M,this.cookieName=j,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const v=this.doc.cookie||"";return v!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,mt.Mx)(v,this.cookieName),this.lastCookieString=v),this.lastToken}}return R.\u0275fac=function(v){return new(v||R)(B.LFG(mt.K0),B.LFG(B.Lbi),B.LFG(ka))},R.\u0275prov=B.Yz7({token:R,factory:R.\u0275fac}),R})();function _a(R,m){const v=R.url.toLowerCase();if(!(0,B.f3M)(ia)||"GET"===R.method||"HEAD"===R.method||v.startsWith("http://")||v.startsWith("https://"))return m(R);const M=(0,B.f3M)(za).getToken(),j=(0,B.f3M)(va);return null!=M&&!R.headers.has(j)&&(R=R.clone({headers:R.headers.set(j,M)})),m(R)}var Dr=(()=>((Dr=Dr||{})[Dr.Interceptors=0]="Interceptors",Dr[Dr.LegacyInterceptors=1]="LegacyInterceptors",Dr[Dr.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Dr[Dr.NoXsrfProtection=3]="NoXsrfProtection",Dr[Dr.JsonpSupport=4]="JsonpSupport",Dr[Dr.RequestsMadeViaParent=5]="RequestsMadeViaParent",Dr))();function ho(R,m){return{\u0275kind:R,\u0275providers:m}}function Ga(...R){const m=[ma,fs,na,{provide:co,useExisting:na},{provide:ga,useExisting:fs},{provide:Qi,useValue:_a,multi:!0},{provide:ia,useValue:!0},{provide:za,useClass:pi}];for(const v of R)m.push(...v.\u0275providers);return(0,B.MR2)(m)}const wi=new B.OlP("LEGACY_INTERCEPTOR_FN");let Fa=(()=>{class R{}return R.\u0275fac=function(v){return new(v||R)},R.\u0275mod=B.oAB({type:R}),R.\u0275inj=B.cJS({providers:[Ga(ho(Dr.LegacyInterceptors,[{provide:wi,useFactory:Lu},{provide:Qi,useExisting:wi,multi:!0}]))]}),R})();var il=L(3648),sa=L(4466),wl=L(8242);let wu=(()=>{class R{}return R.\u0275fac=function(v){return new(v||R)},R.\u0275mod=B.oAB({type:R,bootstrap:[$e]}),R.\u0275inj=B.cJS({imports:[Fa,f.b2,Ge,(0,jo.hX)(()=>(0,jo.ZF)(kt_firebase)),(0,Ma.Cm)(()=>(0,Ma.ad)()),Or.ww,Fs.hO.initializeApp(kt_firebase),Ma.Um,Qt.u5,mt.ez,Qt.UX,wl.e7,Ba,il.Rh.forRoot(),sa.m]}),R})();f.q6().bootstrapModule(wu).catch(R=>console.error(R))},1135:(Lt,je,L)=>{L.d(je,{X:()=>D});var f=L(7579);class D extends f.x{constructor(ue){super(),this._value=ue}get value(){return this.getValue()}_subscribe(ue){const he=super._subscribe(ue);return!he.closed&&ue.next(this._value),he}getValue(){const{hasError:ue,thrownError:he,_value:we}=this;if(ue)throw he;return this._throwIfClosed(),we}next(ue){super.next(this._value=ue)}}},9751:(Lt,je,L)=>{L.d(je,{y:()=>Oe});var f=L(930),D=L(727),B=L(8822),ue=L(9635),he=L(2416),we=L(576),Te=L(2806);let Oe=(()=>{class ne{constructor(ce){ce&&(this._subscribe=ce)}lift(ce){const We=new ne;return We.source=this,We.operator=ce,We}subscribe(ce,We,ct){const Fe=function ie(ne){return ne&&ne instanceof f.Lv||function re(ne){return ne&&(0,we.m)(ne.next)&&(0,we.m)(ne.error)&&(0,we.m)(ne.complete)}(ne)&&(0,D.Nn)(ne)}(ce)?ce:new f.Hp(ce,We,ct);return(0,Te.x)(()=>{const{operator:Ge,source:et}=this;Fe.add(Ge?Ge.call(Fe,et):et?this._subscribe(Fe):this._trySubscribe(Fe))}),Fe}_trySubscribe(ce){try{return this._subscribe(ce)}catch(We){ce.error(We)}}forEach(ce,We){return new(We=ge(We))((ct,Fe)=>{const Ge=new f.Hp({next:et=>{try{ce(et)}catch(mt){Fe(mt),Ge.unsubscribe()}},error:Fe,complete:ct});this.subscribe(Ge)})}_subscribe(ce){var We;return null===(We=this.source)||void 0===We?void 0:We.subscribe(ce)}[B.L](){return this}pipe(...ce){return(0,ue.U)(ce)(this)}toPromise(ce){return new(ce=ge(ce))((We,ct)=>{let Fe;this.subscribe(Ge=>Fe=Ge,Ge=>ct(Ge),()=>We(Fe))})}}return ne.create=ke=>new ne(ke),ne})();function ge(ne){var ke;return null!==(ke=ne??he.v.Promise)&&void 0!==ke?ke:Promise}},7579:(Lt,je,L)=>{L.d(je,{x:()=>Te});var f=L(9751),D=L(727);const ue=(0,L(3888).d)(ge=>function(){ge(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var he=L(8737),we=L(2806);let Te=(()=>{class ge extends f.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ie){const ne=new Oe(this,this);return ne.operator=ie,ne}_throwIfClosed(){if(this.closed)throw new ue}next(ie){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ne of this.currentObservers)ne.next(ie)}})}error(ie){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ie;const{observers:ne}=this;for(;ne.length;)ne.shift().error(ie)}})}complete(){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ie}=this;for(;ie.length;)ie.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ie;return(null===(ie=this.observers)||void 0===ie?void 0:ie.length)>0}_trySubscribe(ie){return this._throwIfClosed(),super._trySubscribe(ie)}_subscribe(ie){return this._throwIfClosed(),this._checkFinalizedStatuses(ie),this._innerSubscribe(ie)}_innerSubscribe(ie){const{hasError:ne,isStopped:ke,observers:ce}=this;return ne||ke?D.Lc:(this.currentObservers=null,ce.push(ie),new D.w0(()=>{this.currentObservers=null,(0,he.P)(ce,ie)}))}_checkFinalizedStatuses(ie){const{hasError:ne,thrownError:ke,isStopped:ce}=this;ne?ie.error(ke):ce&&ie.complete()}asObservable(){const ie=new f.y;return ie.source=this,ie}}return ge.create=(re,ie)=>new Oe(re,ie),ge})();class Oe extends Te{constructor(re,ie){super(),this.destination=re,this.source=ie}next(re){var ie,ne;null===(ne=null===(ie=this.destination)||void 0===ie?void 0:ie.next)||void 0===ne||ne.call(ie,re)}error(re){var ie,ne;null===(ne=null===(ie=this.destination)||void 0===ie?void 0:ie.error)||void 0===ne||ne.call(ie,re)}complete(){var re,ie;null===(ie=null===(re=this.destination)||void 0===re?void 0:re.complete)||void 0===ie||ie.call(re)}_subscribe(re){var ie,ne;return null!==(ne=null===(ie=this.source)||void 0===ie?void 0:ie.subscribe(re))&&void 0!==ne?ne:D.Lc}}},930:(Lt,je,L)=>{L.d(je,{Hp:()=>ct,Lv:()=>ne});var f=L(576),D=L(727),B=L(2416),ue=L(7849),he=L(5032);const we=ge("C",void 0,void 0);function ge(be,De,st){return{kind:be,value:De,error:st}}var re=L(3410),ie=L(2806);class ne extends D.w0{constructor(De){super(),this.isStopped=!1,De?(this.destination=De,(0,D.Nn)(De)&&De.add(this)):this.destination=mt}static create(De,st,Ct){return new ct(De,st,Ct)}next(De){this.isStopped?et(function Oe(be){return ge("N",be,void 0)}(De),this):this._next(De)}error(De){this.isStopped?et(function Te(be){return ge("E",void 0,be)}(De),this):(this.isStopped=!0,this._error(De))}complete(){this.isStopped?et(we,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(De){this.destination.next(De)}_error(De){try{this.destination.error(De)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ke=Function.prototype.bind;function ce(be,De){return ke.call(be,De)}class We{constructor(De){this.partialObserver=De}next(De){const{partialObserver:st}=this;if(st.next)try{st.next(De)}catch(Ct){Fe(Ct)}}error(De){const{partialObserver:st}=this;if(st.error)try{st.error(De)}catch(Ct){Fe(Ct)}else Fe(De)}complete(){const{partialObserver:De}=this;if(De.complete)try{De.complete()}catch(st){Fe(st)}}}class ct extends ne{constructor(De,st,Ct){let yt;if(super(),(0,f.m)(De)||!De)yt={next:De??void 0,error:st??void 0,complete:Ct??void 0};else{let $e;this&&B.v.useDeprecatedNextContext?($e=Object.create(De),$e.unsubscribe=()=>this.unsubscribe(),yt={next:De.next&&ce(De.next,$e),error:De.error&&ce(De.error,$e),complete:De.complete&&ce(De.complete,$e)}):yt=De}this.destination=new We(yt)}}function Fe(be){B.v.useDeprecatedSynchronousErrorHandling?(0,ie.O)(be):(0,ue.h)(be)}function et(be,De){const{onStoppedNotification:st}=B.v;st&&re.z.setTimeout(()=>st(be,De))}const mt={closed:!0,next:he.Z,error:function Ge(be){throw be},complete:he.Z}},727:(Lt,je,L)=>{L.d(je,{Lc:()=>we,w0:()=>he,Nn:()=>Te});var f=L(576);const B=(0,L(3888).d)(ge=>function(ie){ge(this),this.message=ie?`${ie.length} errors occurred during unsubscription:\n${ie.map((ne,ke)=>`${ke+1}) ${ne.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ie});var ue=L(8737);class he{constructor(re){this.initialTeardown=re,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let re;if(!this.closed){this.closed=!0;const{_parentage:ie}=this;if(ie)if(this._parentage=null,Array.isArray(ie))for(const ce of ie)ce.remove(this);else ie.remove(this);const{initialTeardown:ne}=this;if((0,f.m)(ne))try{ne()}catch(ce){re=ce instanceof B?ce.errors:[ce]}const{_finalizers:ke}=this;if(ke){this._finalizers=null;for(const ce of ke)try{Oe(ce)}catch(We){re=re??[],We instanceof B?re=[...re,...We.errors]:re.push(We)}}if(re)throw new B(re)}}add(re){var ie;if(re&&re!==this)if(this.closed)Oe(re);else{if(re instanceof he){if(re.closed||re._hasParent(this))return;re._addParent(this)}(this._finalizers=null!==(ie=this._finalizers)&&void 0!==ie?ie:[]).push(re)}}_hasParent(re){const{_parentage:ie}=this;return ie===re||Array.isArray(ie)&&ie.includes(re)}_addParent(re){const{_parentage:ie}=this;this._parentage=Array.isArray(ie)?(ie.push(re),ie):ie?[ie,re]:re}_removeParent(re){const{_parentage:ie}=this;ie===re?this._parentage=null:Array.isArray(ie)&&(0,ue.P)(ie,re)}remove(re){const{_finalizers:ie}=this;ie&&(0,ue.P)(ie,re),re instanceof he&&re._removeParent(this)}}he.EMPTY=(()=>{const ge=new he;return ge.closed=!0,ge})();const we=he.EMPTY;function Te(ge){return ge instanceof he||ge&&"closed"in ge&&(0,f.m)(ge.remove)&&(0,f.m)(ge.add)&&(0,f.m)(ge.unsubscribe)}function Oe(ge){(0,f.m)(ge)?ge():ge.unsubscribe()}},2416:(Lt,je,L)=>{L.d(je,{v:()=>f});const f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(Lt,je,L)=>{L.d(je,{a:()=>re});var f=L(9751),D=L(4742),B=L(8996),ue=L(4671),he=L(3268),we=L(7669),Te=L(1810),Oe=L(5403),ge=L(9672);function re(...ke){const ce=(0,we.yG)(ke),We=(0,we.jO)(ke),{args:ct,keys:Fe}=(0,D.D)(ke);if(0===ct.length)return(0,B.D)([],ce);const Ge=new f.y(function ie(ke,ce,We=ue.y){return ct=>{ne(ce,()=>{const{length:Fe}=ke,Ge=new Array(Fe);let et=Fe,mt=Fe;for(let be=0;be<Fe;be++)ne(ce,()=>{const De=(0,B.D)(ke[be],ce);let st=!1;De.subscribe((0,Oe.x)(ct,Ct=>{Ge[be]=Ct,st||(st=!0,mt--),mt||ct.next(We(Ge.slice()))},()=>{--et||ct.complete()}))},ct)},ct)}}(ct,ce,Fe?et=>(0,Te.n)(Fe,et):ue.y));return We?Ge.pipe((0,he.Z)(We)):Ge}function ne(ke,ce,We){ke?(0,ge.f)(We,ke,ce):ce()}},7272:(Lt,je,L)=>{L.d(je,{z:()=>he});var f=L(8189),B=L(7669),ue=L(8996);function he(...we){return function D(){return(0,f.J)(1)}()((0,ue.D)(we,(0,B.yG)(we)))}},9770:(Lt,je,L)=>{L.d(je,{P:()=>B});var f=L(9751),D=L(8421);function B(ue){return new f.y(he=>{(0,D.Xf)(ue()).subscribe(he)})}},515:(Lt,je,L)=>{L.d(je,{E:()=>D});const D=new(L(9751).y)(he=>he.complete())},4128:(Lt,je,L)=>{L.d(je,{D:()=>Oe});var f=L(9751),D=L(4742),B=L(8421),ue=L(7669),he=L(5403),we=L(3268),Te=L(1810);function Oe(...ge){const re=(0,ue.jO)(ge),{args:ie,keys:ne}=(0,D.D)(ge),ke=new f.y(ce=>{const{length:We}=ie;if(!We)return void ce.complete();const ct=new Array(We);let Fe=We,Ge=We;for(let et=0;et<We;et++){let mt=!1;(0,B.Xf)(ie[et]).subscribe((0,he.x)(ce,be=>{mt||(mt=!0,Ge--),ct[et]=be},()=>Fe--,void 0,()=>{(!Fe||!mt)&&(Ge||ce.next(ne?(0,Te.n)(ne,ct):ct),ce.complete())}))}});return re?ke.pipe((0,we.Z)(re)):ke}},8996:(Lt,je,L)=>{L.d(je,{D:()=>De});var f=L(8421),D=L(5363),B=L(9468),we=L(9751),Oe=L(2202),ge=L(576),re=L(9672);function ne(st,Ct){if(!st)throw new Error("Iterable cannot be null");return new we.y(yt=>{(0,re.f)(yt,Ct,()=>{const $e=st[Symbol.asyncIterator]();(0,re.f)(yt,Ct,()=>{$e.next().then(kt=>{kt.done?yt.complete():yt.next(kt.value)})},0,!0)})})}var ke=L(3670),ce=L(8239),We=L(1144),ct=L(6495),Fe=L(2206),Ge=L(4532),et=L(3260);function De(st,Ct){return Ct?function be(st,Ct){if(null!=st){if((0,ke.c)(st))return function ue(st,Ct){return(0,f.Xf)(st).pipe((0,B.R)(Ct),(0,D.Q)(Ct))}(st,Ct);if((0,We.z)(st))return function Te(st,Ct){return new we.y(yt=>{let $e=0;return Ct.schedule(function(){$e===st.length?yt.complete():(yt.next(st[$e++]),yt.closed||this.schedule())})})}(st,Ct);if((0,ce.t)(st))return function he(st,Ct){return(0,f.Xf)(st).pipe((0,B.R)(Ct),(0,D.Q)(Ct))}(st,Ct);if((0,Fe.D)(st))return ne(st,Ct);if((0,ct.T)(st))return function ie(st,Ct){return new we.y(yt=>{let $e;return(0,re.f)(yt,Ct,()=>{$e=st[Oe.h](),(0,re.f)(yt,Ct,()=>{let kt,Qt;try{({value:kt,done:Qt}=$e.next())}catch(Tt){return void yt.error(Tt)}Qt?yt.complete():yt.next(kt)},0,!0)}),()=>(0,ge.m)($e?.return)&&$e.return()})}(st,Ct);if((0,et.L)(st))return function mt(st,Ct){return ne((0,et.Q)(st),Ct)}(st,Ct)}throw(0,Ge.z)(st)}(st,Ct):(0,f.Xf)(st)}},8421:(Lt,je,L)=>{L.d(je,{Xf:()=>ke});var f=L(655),D=L(1144),B=L(8239),ue=L(9751),he=L(3670),we=L(2206),Te=L(4532),Oe=L(6495),ge=L(3260),re=L(576),ie=L(7849),ne=L(8822);function ke(be){if(be instanceof ue.y)return be;if(null!=be){if((0,he.c)(be))return function ce(be){return new ue.y(De=>{const st=be[ne.L]();if((0,re.m)(st.subscribe))return st.subscribe(De);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(be);if((0,D.z)(be))return function We(be){return new ue.y(De=>{for(let st=0;st<be.length&&!De.closed;st++)De.next(be[st]);De.complete()})}(be);if((0,B.t)(be))return function ct(be){return new ue.y(De=>{be.then(st=>{De.closed||(De.next(st),De.complete())},st=>De.error(st)).then(null,ie.h)})}(be);if((0,we.D)(be))return Ge(be);if((0,Oe.T)(be))return function Fe(be){return new ue.y(De=>{for(const st of be)if(De.next(st),De.closed)return;De.complete()})}(be);if((0,ge.L)(be))return function et(be){return Ge((0,ge.Q)(be))}(be)}throw(0,Te.z)(be)}function Ge(be){return new ue.y(De=>{(function mt(be,De){var st,Ct,yt,$e;return(0,f.mG)(this,void 0,void 0,function*(){try{for(st=(0,f.KL)(be);!(Ct=yield st.next()).done;)if(De.next(Ct.value),De.closed)return}catch(kt){yt={error:kt}}finally{try{Ct&&!Ct.done&&($e=st.return)&&(yield $e.call(st))}finally{if(yt)throw yt.error}}De.complete()})})(be,De).catch(st=>De.error(st))})}},6451:(Lt,je,L)=>{L.d(je,{T:()=>we});var f=L(8189),D=L(8421),B=L(515),ue=L(7669),he=L(8996);function we(...Te){const Oe=(0,ue.yG)(Te),ge=(0,ue._6)(Te,1/0),re=Te;return re.length?1===re.length?(0,D.Xf)(re[0]):(0,f.J)(ge)((0,he.D)(re,Oe)):B.E}},9646:(Lt,je,L)=>{L.d(je,{of:()=>B});var f=L(7669),D=L(8996);function B(...ue){const he=(0,f.yG)(ue);return(0,D.D)(ue,he)}},5403:(Lt,je,L)=>{L.d(je,{x:()=>D});var f=L(930);function D(ue,he,we,Te,Oe){return new B(ue,he,we,Te,Oe)}class B extends f.Lv{constructor(he,we,Te,Oe,ge,re){super(he),this.onFinalize=ge,this.shouldUnsubscribe=re,this._next=we?function(ie){try{we(ie)}catch(ne){he.error(ne)}}:super._next,this._error=Oe?function(ie){try{Oe(ie)}catch(ne){he.error(ne)}finally{this.unsubscribe()}}:super._error,this._complete=Te?function(){try{Te()}catch(ie){he.error(ie)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var he;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:we}=this;super.unsubscribe(),!we&&(null===(he=this.onFinalize)||void 0===he||he.call(this))}}}},4351:(Lt,je,L)=>{L.d(je,{b:()=>B});var f=L(5577),D=L(576);function B(ue,he){return(0,D.m)(he)?(0,f.z)(ue,he,1):(0,f.z)(ue,1)}},6590:(Lt,je,L)=>{L.d(je,{d:()=>B});var f=L(4482),D=L(5403);function B(ue){return(0,f.e)((he,we)=>{let Te=!1;he.subscribe((0,D.x)(we,Oe=>{Te=!0,we.next(Oe)},()=>{Te||we.next(ue),we.complete()}))})}},9300:(Lt,je,L)=>{L.d(je,{h:()=>B});var f=L(4482),D=L(5403);function B(ue,he){return(0,f.e)((we,Te)=>{let Oe=0;we.subscribe((0,D.x)(Te,ge=>ue.call(he,ge,Oe++)&&Te.next(ge)))})}},590:(Lt,je,L)=>{L.d(je,{P:()=>Te});var f=L(6805),D=L(9300),B=L(5698),ue=L(6590),he=L(8068),we=L(4671);function Te(Oe,ge){const re=arguments.length>=2;return ie=>ie.pipe(Oe?(0,D.h)((ne,ke)=>Oe(ne,ke,ie)):we.y,(0,B.q)(1),re?(0,ue.d)(ge):(0,he.T)(()=>new f.K))}},4004:(Lt,je,L)=>{L.d(je,{U:()=>B});var f=L(4482),D=L(5403);function B(ue,he){return(0,f.e)((we,Te)=>{let Oe=0;we.subscribe((0,D.x)(Te,ge=>{Te.next(ue.call(he,ge,Oe++))}))})}},8189:(Lt,je,L)=>{L.d(je,{J:()=>B});var f=L(5577),D=L(4671);function B(ue=1/0){return(0,f.z)(D.y,ue)}},5577:(Lt,je,L)=>{L.d(je,{z:()=>Oe});var f=L(4004),D=L(8421),B=L(4482),ue=L(9672),he=L(5403),Te=L(576);function Oe(ge,re,ie=1/0){return(0,Te.m)(re)?Oe((ne,ke)=>(0,f.U)((ce,We)=>re(ne,ce,ke,We))((0,D.Xf)(ge(ne,ke))),ie):("number"==typeof re&&(ie=re),(0,B.e)((ne,ke)=>function we(ge,re,ie,ne,ke,ce,We,ct){const Fe=[];let Ge=0,et=0,mt=!1;const be=()=>{mt&&!Fe.length&&!Ge&&re.complete()},De=Ct=>Ge<ne?st(Ct):Fe.push(Ct),st=Ct=>{ce&&re.next(Ct),Ge++;let yt=!1;(0,D.Xf)(ie(Ct,et++)).subscribe((0,he.x)(re,$e=>{ke?.($e),ce?De($e):re.next($e)},()=>{yt=!0},void 0,()=>{if(yt)try{for(Ge--;Fe.length&&Ge<ne;){const $e=Fe.shift();We?(0,ue.f)(re,We,()=>st($e)):st($e)}be()}catch($e){re.error($e)}}))};return ge.subscribe((0,he.x)(re,De,()=>{mt=!0,be()})),()=>{ct?.()}}(ne,ke,ge,ie)))}},5363:(Lt,je,L)=>{L.d(je,{Q:()=>ue});var f=L(9672),D=L(4482),B=L(5403);function ue(he,we=0){return(0,D.e)((Te,Oe)=>{Te.subscribe((0,B.x)(Oe,ge=>(0,f.f)(Oe,he,()=>Oe.next(ge),we),()=>(0,f.f)(Oe,he,()=>Oe.complete(),we),ge=>(0,f.f)(Oe,he,()=>Oe.error(ge),we)))})}},3099:(Lt,je,L)=>{L.d(je,{B:()=>he});var f=L(8421),D=L(7579),B=L(930),ue=L(4482);function he(Te={}){const{connector:Oe=(()=>new D.x),resetOnError:ge=!0,resetOnComplete:re=!0,resetOnRefCountZero:ie=!0}=Te;return ne=>{let ke,ce,We,ct=0,Fe=!1,Ge=!1;const et=()=>{ce?.unsubscribe(),ce=void 0},mt=()=>{et(),ke=We=void 0,Fe=Ge=!1},be=()=>{const De=ke;mt(),De?.unsubscribe()};return(0,ue.e)((De,st)=>{ct++,!Ge&&!Fe&&et();const Ct=We=We??Oe();st.add(()=>{ct--,0===ct&&!Ge&&!Fe&&(ce=we(be,ie))}),Ct.subscribe(st),!ke&&ct>0&&(ke=new B.Hp({next:yt=>Ct.next(yt),error:yt=>{Ge=!0,et(),ce=we(mt,ge,yt),Ct.error(yt)},complete:()=>{Fe=!0,et(),ce=we(mt,re),Ct.complete()}}),(0,f.Xf)(De).subscribe(ke))})(ne)}}function we(Te,Oe,...ge){if(!0===Oe)return void Te();if(!1===Oe)return;const re=new B.Hp({next:()=>{re.unsubscribe(),Te()}});return(0,f.Xf)(Oe(...ge)).subscribe(re)}},8675:(Lt,je,L)=>{L.d(je,{O:()=>ue});var f=L(7272),D=L(7669),B=L(4482);function ue(...he){const we=(0,D.yG)(he);return(0,B.e)((Te,Oe)=>{(we?(0,f.z)(he,Te,we):(0,f.z)(he,Te)).subscribe(Oe)})}},9468:(Lt,je,L)=>{L.d(je,{R:()=>D});var f=L(4482);function D(B,ue=0){return(0,f.e)((he,we)=>{we.add(B.schedule(()=>he.subscribe(we),ue))})}},3900:(Lt,je,L)=>{L.d(je,{w:()=>ue});var f=L(8421),D=L(4482),B=L(5403);function ue(he,we){return(0,D.e)((Te,Oe)=>{let ge=null,re=0,ie=!1;const ne=()=>ie&&!ge&&Oe.complete();Te.subscribe((0,B.x)(Oe,ke=>{ge?.unsubscribe();let ce=0;const We=re++;(0,f.Xf)(he(ke,We)).subscribe(ge=(0,B.x)(Oe,ct=>Oe.next(we?we(ke,ct,We,ce++):ct),()=>{ge=null,ne()}))},()=>{ie=!0,ne()}))})}},5698:(Lt,je,L)=>{L.d(je,{q:()=>ue});var f=L(515),D=L(4482),B=L(5403);function ue(he){return he<=0?()=>f.E:(0,D.e)((we,Te)=>{let Oe=0;we.subscribe((0,B.x)(Te,ge=>{++Oe<=he&&(Te.next(ge),he<=Oe&&Te.complete())}))})}},8505:(Lt,je,L)=>{L.d(je,{b:()=>he});var f=L(576),D=L(4482),B=L(5403),ue=L(4671);function he(we,Te,Oe){const ge=(0,f.m)(we)||Te||Oe?{next:we,error:Te,complete:Oe}:we;return ge?(0,D.e)((re,ie)=>{var ne;null===(ne=ge.subscribe)||void 0===ne||ne.call(ge);let ke=!0;re.subscribe((0,B.x)(ie,ce=>{var We;null===(We=ge.next)||void 0===We||We.call(ge,ce),ie.next(ce)},()=>{var ce;ke=!1,null===(ce=ge.complete)||void 0===ce||ce.call(ge),ie.complete()},ce=>{var We;ke=!1,null===(We=ge.error)||void 0===We||We.call(ge,ce),ie.error(ce)},()=>{var ce,We;ke&&(null===(ce=ge.unsubscribe)||void 0===ce||ce.call(ge)),null===(We=ge.finalize)||void 0===We||We.call(ge)}))}):ue.y}},8068:(Lt,je,L)=>{L.d(je,{T:()=>ue});var f=L(6805),D=L(4482),B=L(5403);function ue(we=he){return(0,D.e)((Te,Oe)=>{let ge=!1;Te.subscribe((0,B.x)(Oe,re=>{ge=!0,Oe.next(re)},()=>ge?Oe.complete():Oe.error(we())))})}function he(){return new f.K}},4408:(Lt,je,L)=>{L.d(je,{o:()=>he});var f=L(727);class D extends f.w0{constructor(Te,Oe){super()}schedule(Te,Oe=0){return this}}const B={setInterval(we,Te,...Oe){const{delegate:ge}=B;return ge?.setInterval?ge.setInterval(we,Te,...Oe):setInterval(we,Te,...Oe)},clearInterval(we){const{delegate:Te}=B;return(Te?.clearInterval||clearInterval)(we)},delegate:void 0};var ue=L(8737);class he extends D{constructor(Te,Oe){super(Te,Oe),this.scheduler=Te,this.work=Oe,this.pending=!1}schedule(Te,Oe=0){var ge;if(this.closed)return this;this.state=Te;const re=this.id,ie=this.scheduler;return null!=re&&(this.id=this.recycleAsyncId(ie,re,Oe)),this.pending=!0,this.delay=Oe,this.id=null!==(ge=this.id)&&void 0!==ge?ge:this.requestAsyncId(ie,this.id,Oe),this}requestAsyncId(Te,Oe,ge=0){return B.setInterval(Te.flush.bind(Te,this),ge)}recycleAsyncId(Te,Oe,ge=0){if(null!=ge&&this.delay===ge&&!1===this.pending)return Oe;null!=Oe&&B.clearInterval(Oe)}execute(Te,Oe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ge=this._execute(Te,Oe);if(ge)return ge;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Te,Oe){let re,ge=!1;try{this.work(Te)}catch(ie){ge=!0,re=ie||new Error("Scheduled action threw falsy error")}if(ge)return this.unsubscribe(),re}unsubscribe(){if(!this.closed){const{id:Te,scheduler:Oe}=this,{actions:ge}=Oe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ue.P)(ge,this),null!=Te&&(this.id=this.recycleAsyncId(Oe,Te,null)),this.delay=null,super.unsubscribe()}}}},7565:(Lt,je,L)=>{L.d(je,{v:()=>B});var f=L(6063);class D{constructor(he,we=D.now){this.schedulerActionCtor=he,this.now=we}schedule(he,we=0,Te){return new this.schedulerActionCtor(this,he).schedule(Te,we)}}D.now=f.l.now;class B extends D{constructor(he,we=D.now){super(he,we),this.actions=[],this._active=!1}flush(he){const{actions:we}=this;if(this._active)return void we.push(he);let Te;this._active=!0;do{if(Te=he.execute(he.state,he.delay))break}while(he=we.shift());if(this._active=!1,Te){for(;he=we.shift();)he.unsubscribe();throw Te}}}},4986:(Lt,je,L)=>{L.d(je,{z:()=>B});var f=L(4408);const B=new(L(7565).v)(f.o)},6063:(Lt,je,L)=>{L.d(je,{l:()=>f});const f={now:()=>(f.delegate||Date).now(),delegate:void 0}},3410:(Lt,je,L)=>{L.d(je,{z:()=>f});const f={setTimeout(D,B,...ue){const{delegate:he}=f;return he?.setTimeout?he.setTimeout(D,B,...ue):setTimeout(D,B,...ue)},clearTimeout(D){const{delegate:B}=f;return(B?.clearTimeout||clearTimeout)(D)},delegate:void 0}},2202:(Lt,je,L)=>{L.d(je,{h:()=>D});const D=function f(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Lt,je,L)=>{L.d(je,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Lt,je,L)=>{L.d(je,{K:()=>D});const D=(0,L(3888).d)(B=>function(){B(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(Lt,je,L)=>{L.d(je,{_6:()=>we,jO:()=>ue,yG:()=>he});var f=L(576);function B(Te){return Te[Te.length-1]}function ue(Te){return(0,f.m)(B(Te))?Te.pop():void 0}function he(Te){return function D(Te){return Te&&(0,f.m)(Te.schedule)}(B(Te))?Te.pop():void 0}function we(Te,Oe){return"number"==typeof B(Te)?Te.pop():Oe}},4742:(Lt,je,L)=>{L.d(je,{D:()=>he});const{isArray:f}=Array,{getPrototypeOf:D,prototype:B,keys:ue}=Object;function he(Te){if(1===Te.length){const Oe=Te[0];if(f(Oe))return{args:Oe,keys:null};if(function we(Te){return Te&&"object"==typeof Te&&D(Te)===B}(Oe)){const ge=ue(Oe);return{args:ge.map(re=>Oe[re]),keys:ge}}}return{args:Te,keys:null}}},8737:(Lt,je,L)=>{function f(D,B){if(D){const ue=D.indexOf(B);0<=ue&&D.splice(ue,1)}}L.d(je,{P:()=>f})},3888:(Lt,je,L)=>{function f(D){const ue=D(he=>{Error.call(he),he.stack=(new Error).stack});return ue.prototype=Object.create(Error.prototype),ue.prototype.constructor=ue,ue}L.d(je,{d:()=>f})},1810:(Lt,je,L)=>{function f(D,B){return D.reduce((ue,he,we)=>(ue[he]=B[we],ue),{})}L.d(je,{n:()=>f})},2806:(Lt,je,L)=>{L.d(je,{O:()=>ue,x:()=>B});var f=L(2416);let D=null;function B(he){if(f.v.useDeprecatedSynchronousErrorHandling){const we=!D;if(we&&(D={errorThrown:!1,error:null}),he(),we){const{errorThrown:Te,error:Oe}=D;if(D=null,Te)throw Oe}}else he()}function ue(he){f.v.useDeprecatedSynchronousErrorHandling&&D&&(D.errorThrown=!0,D.error=he)}},9672:(Lt,je,L)=>{function f(D,B,ue,he=0,we=!1){const Te=B.schedule(function(){ue(),we?D.add(this.schedule(null,he)):this.unsubscribe()},he);if(D.add(Te),!we)return Te}L.d(je,{f:()=>f})},4671:(Lt,je,L)=>{function f(D){return D}L.d(je,{y:()=>f})},1144:(Lt,je,L)=>{L.d(je,{z:()=>f});const f=D=>D&&"number"==typeof D.length&&"function"!=typeof D},2206:(Lt,je,L)=>{L.d(je,{D:()=>D});var f=L(576);function D(B){return Symbol.asyncIterator&&(0,f.m)(B?.[Symbol.asyncIterator])}},576:(Lt,je,L)=>{function f(D){return"function"==typeof D}L.d(je,{m:()=>f})},3670:(Lt,je,L)=>{L.d(je,{c:()=>B});var f=L(8822),D=L(576);function B(ue){return(0,D.m)(ue[f.L])}},6495:(Lt,je,L)=>{L.d(je,{T:()=>B});var f=L(2202),D=L(576);function B(ue){return(0,D.m)(ue?.[f.h])}},8239:(Lt,je,L)=>{L.d(je,{t:()=>D});var f=L(576);function D(B){return(0,f.m)(B?.then)}},3260:(Lt,je,L)=>{L.d(je,{L:()=>ue,Q:()=>B});var f=L(655),D=L(576);function B(he){return(0,f.FC)(this,arguments,function*(){const Te=he.getReader();try{for(;;){const{value:Oe,done:ge}=yield(0,f.qq)(Te.read());if(ge)return yield(0,f.qq)(void 0);yield yield(0,f.qq)(Oe)}}finally{Te.releaseLock()}})}function ue(he){return(0,D.m)(he?.getReader)}},4482:(Lt,je,L)=>{L.d(je,{A:()=>D,e:()=>B});var f=L(576);function D(ue){return(0,f.m)(ue?.lift)}function B(ue){return he=>{if(D(he))return he.lift(function(we){try{return ue(we,this)}catch(Te){this.error(Te)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Lt,je,L)=>{L.d(je,{Z:()=>ue});var f=L(4004);const{isArray:D}=Array;function ue(he){return(0,f.U)(we=>function B(he,we){return D(we)?he(...we):he(we)}(he,we))}},5032:(Lt,je,L)=>{function f(){}L.d(je,{Z:()=>f})},9635:(Lt,je,L)=>{L.d(je,{U:()=>B,z:()=>D});var f=L(4671);function D(...ue){return B(ue)}function B(ue){return 0===ue.length?f.y:1===ue.length?ue[0]:function(we){return ue.reduce((Te,Oe)=>Oe(Te),we)}}},7849:(Lt,je,L)=>{L.d(je,{h:()=>B});var f=L(2416),D=L(3410);function B(ue){D.z.setTimeout(()=>{const{onUnhandledError:he}=f.v;if(!he)throw ue;he(ue)})}},4532:(Lt,je,L)=>{function f(D){return new TypeError(`You provided ${null!==D&&"object"==typeof D?"an invalid object":`'${D}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(je,{z:()=>f})},655:(Lt,je,L)=>{function ue(ot,Ze){var ut={};for(var ft in ot)Object.prototype.hasOwnProperty.call(ot,ft)&&Ze.indexOf(ft)<0&&(ut[ft]=ot[ft]);if(null!=ot&&"function"==typeof Object.getOwnPropertySymbols){var bt=0;for(ft=Object.getOwnPropertySymbols(ot);bt<ft.length;bt++)Ze.indexOf(ft[bt])<0&&Object.prototype.propertyIsEnumerable.call(ot,ft[bt])&&(ut[ft[bt]]=ot[ft[bt]])}return ut}function ne(ot,Ze,ut,ft){return new(ut||(ut=Promise))(function(wt,vt){function ze(Be){try{_e(ft.next(Be))}catch(at){vt(at)}}function Pt(Be){try{_e(ft.throw(Be))}catch(at){vt(at)}}function _e(Be){Be.done?wt(Be.value):function bt(wt){return wt instanceof ut?wt:new ut(function(vt){vt(wt)})}(Be.value).then(ze,Pt)}_e((ft=ft.apply(ot,Ze||[])).next())})}function be(ot){return this instanceof be?(this.v=ot,this):new be(ot)}function De(ot,Ze,ut){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var bt,ft=ut.apply(ot,Ze||[]),wt=[];return bt={},vt("next"),vt("throw"),vt("return"),bt[Symbol.asyncIterator]=function(){return this},bt;function vt(Wt){ft[Wt]&&(bt[Wt]=function(Rn){return new Promise(function(Xn,ir){wt.push([Wt,Rn,Xn,ir])>1||ze(Wt,Rn)})})}function ze(Wt,Rn){try{!function Pt(Wt){Wt.value instanceof be?Promise.resolve(Wt.value.v).then(_e,Be):at(wt[0][2],Wt)}(ft[Wt](Rn))}catch(Xn){at(wt[0][3],Xn)}}function _e(Wt){ze("next",Wt)}function Be(Wt){ze("throw",Wt)}function at(Wt,Rn){Wt(Rn),wt.shift(),wt.length&&ze(wt[0][0],wt[0][1])}}function Ct(ot){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ut,Ze=ot[Symbol.asyncIterator];return Ze?Ze.call(ot):(ot=function ct(ot){var Ze="function"==typeof Symbol&&Symbol.iterator,ut=Ze&&ot[Ze],ft=0;if(ut)return ut.call(ot);if(ot&&"number"==typeof ot.length)return{next:function(){return ot&&ft>=ot.length&&(ot=void 0),{value:ot&&ot[ft++],done:!ot}}};throw new TypeError(Ze?"Object is not iterable.":"Symbol.iterator is not defined.")}(ot),ut={},ft("next"),ft("throw"),ft("return"),ut[Symbol.asyncIterator]=function(){return this},ut);function ft(wt){ut[wt]=ot[wt]&&function(vt){return new Promise(function(ze,Pt){!function bt(wt,vt,ze,Pt){Promise.resolve(Pt).then(function(_e){wt({value:_e,done:ze})},vt)}(ze,Pt,(vt=ot[wt](vt)).done,vt.value)})}}}L.d(je,{FC:()=>De,KL:()=>Ct,_T:()=>ue,mG:()=>ne,qq:()=>be})},7340:(Lt,je,L)=>{L.d(je,{LC:()=>D,SB:()=>ge,X$:()=>ue,ZE:()=>et,ZN:()=>Ge,_j:()=>f,eR:()=>ie,jt:()=>he,k1:()=>mt,l3:()=>B,oB:()=>Oe,vP:()=>Te});class f{}class D{}const B="*";function ue(be,De){return{type:7,name:be,definitions:De,options:{}}}function he(be,De=null){return{type:4,styles:De,timings:be}}function Te(be,De=null){return{type:2,steps:be,options:De}}function Oe(be){return{type:6,styles:be,offset:null}}function ge(be,De,st){return{type:0,name:be,styles:De,options:st}}function ie(be,De,st=null){return{type:1,expr:be,animation:De,options:st}}function Fe(be){Promise.resolve().then(be)}class Ge{constructor(De=0,st=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=De+st}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(De=>De()),this._onDoneFns=[])}onStart(De){this._originalOnStartFns.push(De),this._onStartFns.push(De)}onDone(De){this._originalOnDoneFns.push(De),this._onDoneFns.push(De)}onDestroy(De){this._onDestroyFns.push(De)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Fe(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(De=>De()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(De=>De()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(De){this._position=this.totalTime?De*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(De){const st="start"==De?this._onStartFns:this._onDoneFns;st.forEach(Ct=>Ct()),st.length=0}}class et{constructor(De){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=De;let st=0,Ct=0,yt=0;const $e=this.players.length;0==$e?Fe(()=>this._onFinish()):this.players.forEach(kt=>{kt.onDone(()=>{++st==$e&&this._onFinish()}),kt.onDestroy(()=>{++Ct==$e&&this._onDestroy()}),kt.onStart(()=>{++yt==$e&&this._onStart()})}),this.totalTime=this.players.reduce((kt,Qt)=>Math.max(kt,Qt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(De=>De()),this._onDoneFns=[])}init(){this.players.forEach(De=>De.init())}onStart(De){this._onStartFns.push(De)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(De=>De()),this._onStartFns=[])}onDone(De){this._onDoneFns.push(De)}onDestroy(De){this._onDestroyFns.push(De)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(De=>De.play())}pause(){this.players.forEach(De=>De.pause())}restart(){this.players.forEach(De=>De.restart())}finish(){this._onFinish(),this.players.forEach(De=>De.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(De=>De.destroy()),this._onDestroyFns.forEach(De=>De()),this._onDestroyFns=[])}reset(){this.players.forEach(De=>De.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(De){const st=De*this.totalTime;this.players.forEach(Ct=>{const yt=Ct.totalTime?Math.min(1,st/Ct.totalTime):1;Ct.setPosition(yt)})}getPosition(){const De=this.players.reduce((st,Ct)=>null===st||Ct.totalTime>st.totalTime?Ct:st,null);return null!=De?De.getPosition():0}beforeDestroy(){this.players.forEach(De=>{De.beforeDestroy&&De.beforeDestroy()})}triggerCallback(De){const st="start"==De?this._onStartFns:this._onDoneFns;st.forEach(Ct=>Ct()),st.length=0}}const mt="!"},6895:(Lt,je,L)=>{L.d(je,{Do:()=>et,EM:()=>Gs,HT:()=>ue,JF:()=>Ua,K0:()=>we,Mx:()=>Ki,NF:()=>_s,O5:()=>Re,PM:()=>vi,S$:()=>ct,V_:()=>ge,Ye:()=>mt,b0:()=>Ge,bD:()=>da,ez:()=>Rs,mk:()=>pn,q:()=>B,rS:()=>Zr,sg:()=>Ai,w_:()=>he});var f=L(4650);let D=null;function B(){return D}function ue(P){D||(D=P)}class he{}const we=new f.OlP("DocumentToken");let Te=(()=>{class P{historyGo(F){throw new Error("Not implemented")}}return P.\u0275fac=function(F){return new(F||P)},P.\u0275prov=f.Yz7({token:P,factory:function(){return function Oe(){return(0,f.LFG)(re)}()},providedIn:"platform"}),P})();const ge=new f.OlP("Location Initialized");let re=(()=>{class P extends Te{constructor(F){super(),this._doc=F,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return B().getBaseHref(this._doc)}onPopState(F){const Y=B().getGlobalEventTarget(this._doc,"window");return Y.addEventListener("popstate",F,!1),()=>Y.removeEventListener("popstate",F)}onHashChange(F){const Y=B().getGlobalEventTarget(this._doc,"window");return Y.addEventListener("hashchange",F,!1),()=>Y.removeEventListener("hashchange",F)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(F){this._location.pathname=F}pushState(F,Y,fe){ie()?this._history.pushState(F,Y,fe):this._location.hash=fe}replaceState(F,Y,fe){ie()?this._history.replaceState(F,Y,fe):this._location.hash=fe}forward(){this._history.forward()}back(){this._history.back()}historyGo(F=0){this._history.go(F)}getState(){return this._history.state}}return P.\u0275fac=function(F){return new(F||P)(f.LFG(we))},P.\u0275prov=f.Yz7({token:P,factory:function(){return function ne(){return new re((0,f.LFG)(we))}()},providedIn:"platform"}),P})();function ie(){return!!window.history.pushState}function ke(P,z){if(0==P.length)return z;if(0==z.length)return P;let F=0;return P.endsWith("/")&&F++,z.startsWith("/")&&F++,2==F?P+z.substring(1):1==F?P+z:P+"/"+z}function ce(P){const z=P.match(/#|\?|$/),F=z&&z.index||P.length;return P.slice(0,F-("/"===P[F-1]?1:0))+P.slice(F)}function We(P){return P&&"?"!==P[0]?"?"+P:P}let ct=(()=>{class P{historyGo(F){throw new Error("Not implemented")}}return P.\u0275fac=function(F){return new(F||P)},P.\u0275prov=f.Yz7({token:P,factory:function(){return(0,f.f3M)(Ge)},providedIn:"root"}),P})();const Fe=new f.OlP("appBaseHref");let Ge=(()=>{class P extends ct{constructor(F,Y){super(),this._platformLocation=F,this._removeListenerFns=[],this._baseHref=Y??this._platformLocation.getBaseHrefFromDOM()??(0,f.f3M)(we).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(F){this._removeListenerFns.push(this._platformLocation.onPopState(F),this._platformLocation.onHashChange(F))}getBaseHref(){return this._baseHref}prepareExternalUrl(F){return ke(this._baseHref,F)}path(F=!1){const Y=this._platformLocation.pathname+We(this._platformLocation.search),fe=this._platformLocation.hash;return fe&&F?`${Y}${fe}`:Y}pushState(F,Y,fe,lt){const It=this.prepareExternalUrl(fe+We(lt));this._platformLocation.pushState(F,Y,It)}replaceState(F,Y,fe,lt){const It=this.prepareExternalUrl(fe+We(lt));this._platformLocation.replaceState(F,Y,It)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(F=0){this._platformLocation.historyGo?.(F)}}return P.\u0275fac=function(F){return new(F||P)(f.LFG(Te),f.LFG(Fe,8))},P.\u0275prov=f.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})(),et=(()=>{class P extends ct{constructor(F,Y){super(),this._platformLocation=F,this._baseHref="",this._removeListenerFns=[],null!=Y&&(this._baseHref=Y)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(F){this._removeListenerFns.push(this._platformLocation.onPopState(F),this._platformLocation.onHashChange(F))}getBaseHref(){return this._baseHref}path(F=!1){let Y=this._platformLocation.hash;return null==Y&&(Y="#"),Y.length>0?Y.substring(1):Y}prepareExternalUrl(F){const Y=ke(this._baseHref,F);return Y.length>0?"#"+Y:Y}pushState(F,Y,fe,lt){let It=this.prepareExternalUrl(fe+We(lt));0==It.length&&(It=this._platformLocation.pathname),this._platformLocation.pushState(F,Y,It)}replaceState(F,Y,fe,lt){let It=this.prepareExternalUrl(fe+We(lt));0==It.length&&(It=this._platformLocation.pathname),this._platformLocation.replaceState(F,Y,It)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(F=0){this._platformLocation.historyGo?.(F)}}return P.\u0275fac=function(F){return new(F||P)(f.LFG(Te),f.LFG(Fe,8))},P.\u0275prov=f.Yz7({token:P,factory:P.\u0275fac}),P})(),mt=(()=>{class P{constructor(F){this._subject=new f.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=F;const Y=this._locationStrategy.getBaseHref();this._basePath=function Ct(P){if(new RegExp("^(https?:)?//").test(P)){const[,F]=P.split(/\/\/[^\/]+/);return F}return P}(ce(st(Y))),this._locationStrategy.onPopState(fe=>{this._subject.emit({url:this.path(!0),pop:!0,state:fe.state,type:fe.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(F=!1){return this.normalize(this._locationStrategy.path(F))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(F,Y=""){return this.path()==this.normalize(F+We(Y))}normalize(F){return P.stripTrailingSlash(function De(P,z){if(!P||!z.startsWith(P))return z;const F=z.substring(P.length);return""===F||["/",";","?","#"].includes(F[0])?F:z}(this._basePath,st(F)))}prepareExternalUrl(F){return F&&"/"!==F[0]&&(F="/"+F),this._locationStrategy.prepareExternalUrl(F)}go(F,Y="",fe=null){this._locationStrategy.pushState(fe,"",F,Y),this._notifyUrlChangeListeners(this.prepareExternalUrl(F+We(Y)),fe)}replaceState(F,Y="",fe=null){this._locationStrategy.replaceState(fe,"",F,Y),this._notifyUrlChangeListeners(this.prepareExternalUrl(F+We(Y)),fe)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(F=0){this._locationStrategy.historyGo?.(F)}onUrlChange(F){return this._urlChangeListeners.push(F),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Y=>{this._notifyUrlChangeListeners(Y.url,Y.state)})),()=>{const Y=this._urlChangeListeners.indexOf(F);this._urlChangeListeners.splice(Y,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(F="",Y){this._urlChangeListeners.forEach(fe=>fe(F,Y))}subscribe(F,Y,fe){return this._subject.subscribe({next:F,error:Y,complete:fe})}}return P.normalizeQueryParams=We,P.joinWithSlash=ke,P.stripTrailingSlash=ce,P.\u0275fac=function(F){return new(F||P)(f.LFG(ct))},P.\u0275prov=f.Yz7({token:P,factory:function(){return function be(){return new mt((0,f.LFG)(ct))}()},providedIn:"root"}),P})();function st(P){return P.replace(/\/index.html$/,"")}function Ki(P,z){z=encodeURIComponent(z);for(const F of P.split(";")){const Y=F.indexOf("="),[fe,lt]=-1==Y?[F,""]:[F.slice(0,Y),F.slice(Y+1)];if(fe.trim()===z)return decodeURIComponent(lt)}return null}const or=/\s+/,Vt=[];let pn=(()=>{class P{constructor(F,Y,fe,lt){this._iterableDiffers=F,this._keyValueDiffers=Y,this._ngEl=fe,this._renderer=lt,this.initialClasses=Vt,this.stateMap=new Map}set klass(F){this.initialClasses=null!=F?F.trim().split(or):Vt}set ngClass(F){this.rawClass="string"==typeof F?F.trim().split(or):F}ngDoCheck(){for(const Y of this.initialClasses)this._updateState(Y,!0);const F=this.rawClass;if(Array.isArray(F)||F instanceof Set)for(const Y of F)this._updateState(Y,!0);else if(null!=F)for(const Y of Object.keys(F))this._updateState(Y,Boolean(F[Y]));this._applyStateDiff()}_updateState(F,Y){const fe=this.stateMap.get(F);void 0!==fe?(fe.enabled!==Y&&(fe.changed=!0,fe.enabled=Y),fe.touched=!0):this.stateMap.set(F,{enabled:Y,changed:!0,touched:!0})}_applyStateDiff(){for(const F of this.stateMap){const Y=F[0],fe=F[1];fe.changed?(this._toggleClass(Y,fe.enabled),fe.changed=!1):fe.touched||(fe.enabled&&this._toggleClass(Y,!1),this.stateMap.delete(Y)),fe.touched=!1}}_toggleClass(F,Y){(F=F.trim()).length>0&&F.split(or).forEach(fe=>{Y?this._renderer.addClass(this._ngEl.nativeElement,fe):this._renderer.removeClass(this._ngEl.nativeElement,fe)})}}return P.\u0275fac=function(F){return new(F||P)(f.Y36(f.ZZ4),f.Y36(f.aQg),f.Y36(f.SBq),f.Y36(f.Qsj))},P.\u0275dir=f.lG2({type:P,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),P})();class Ir{constructor(z,F,Y,fe){this.$implicit=z,this.ngForOf=F,this.index=Y,this.count=fe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ai=(()=>{class P{set ngForOf(F){this._ngForOf=F,this._ngForOfDirty=!0}set ngForTrackBy(F){this._trackByFn=F}get ngForTrackBy(){return this._trackByFn}constructor(F,Y,fe){this._viewContainer=F,this._template=Y,this._differs=fe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(F){F&&(this._template=F)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const F=this._ngForOf;!this._differ&&F&&(this._differ=this._differs.find(F).create(this.ngForTrackBy))}if(this._differ){const F=this._differ.diff(this._ngForOf);F&&this._applyChanges(F)}}_applyChanges(F){const Y=this._viewContainer;F.forEachOperation((fe,lt,It)=>{if(null==fe.previousIndex)Y.createEmbeddedView(this._template,new Ir(fe.item,this._ngForOf,-1,-1),null===It?void 0:It);else if(null==It)Y.remove(null===lt?void 0:lt);else if(null!==lt){const nn=Y.get(lt);Y.move(nn,It),_r(nn,fe)}});for(let fe=0,lt=Y.length;fe<lt;fe++){const nn=Y.get(fe).context;nn.index=fe,nn.count=lt,nn.ngForOf=this._ngForOf}F.forEachIdentityChange(fe=>{_r(Y.get(fe.currentIndex),fe)})}static ngTemplateContextGuard(F,Y){return!0}}return P.\u0275fac=function(F){return new(F||P)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(f.ZZ4))},P.\u0275dir=f.lG2({type:P,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),P})();function _r(P,z){P.context.$implicit=z.item}let Re=(()=>{class P{constructor(F,Y){this._viewContainer=F,this._context=new Me,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Y}set ngIf(F){this._context.$implicit=this._context.ngIf=F,this._updateView()}set ngIfThen(F){_t("ngIfThen",F),this._thenTemplateRef=F,this._thenViewRef=null,this._updateView()}set ngIfElse(F){_t("ngIfElse",F),this._elseTemplateRef=F,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(F,Y){return!0}}return P.\u0275fac=function(F){return new(F||P)(f.Y36(f.s_b),f.Y36(f.Rgc))},P.\u0275dir=f.lG2({type:P,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),P})();class Me{constructor(){this.$implicit=null,this.ngIf=null}}function _t(P,z){if(z&&!z.createEmbeddedView)throw new Error(`${P} must be a TemplateRef, but received '${(0,f.AaK)(z)}'.`)}const qo=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let Zr=(()=>{class P{transform(F){if(null==F)return null;if("string"!=typeof F)throw function es(P,z){return new f.vHH(2100,!1)}();return F.replace(qo,Y=>Y[0].toUpperCase()+Y.slice(1).toLowerCase())}}return P.\u0275fac=function(F){return new(F||P)},P.\u0275pipe=f.Yjl({name:"titlecase",type:P,pure:!0,standalone:!0}),P})(),Rs=(()=>{class P{}return P.\u0275fac=function(F){return new(F||P)},P.\u0275mod=f.oAB({type:P}),P.\u0275inj=f.cJS({}),P})();const da="browser",Hi="server";function _s(P){return P===da}function vi(P){return P===Hi}let Gs=(()=>{class P{}return P.\u0275prov=(0,f.Yz7)({token:P,providedIn:"root",factory:()=>new ha((0,f.LFG)(we),window)}),P})();class ha{constructor(z,F){this.document=z,this.window=F,this.offset=()=>[0,0]}setOffset(z){this.offset=Array.isArray(z)?()=>z:z}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(z){this.supportsScrolling()&&this.window.scrollTo(z[0],z[1])}scrollToAnchor(z){if(!this.supportsScrolling())return;const F=function so(P,z){const F=P.getElementById(z)||P.getElementsByName(z)[0];if(F)return F;if("function"==typeof P.createTreeWalker&&P.body&&(P.body.createShadowRoot||P.body.attachShadow)){const Y=P.createTreeWalker(P.body,NodeFilter.SHOW_ELEMENT);let fe=Y.currentNode;for(;fe;){const lt=fe.shadowRoot;if(lt){const It=lt.getElementById(z)||lt.querySelector(`[name="${z}"]`);if(It)return It}fe=Y.nextNode()}}return null}(this.document,z);F&&(this.scrollToElement(F),F.focus())}setHistoryScrollRestoration(z){if(this.supportScrollRestoration()){const F=this.window.history;F&&F.scrollRestoration&&(F.scrollRestoration=z)}}scrollToElement(z){const F=z.getBoundingClientRect(),Y=F.left+this.window.pageXOffset,fe=F.top+this.window.pageYOffset,lt=this.offset();this.window.scrollTo(Y-lt[0],fe-lt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const z=Li(this.window.history)||Li(Object.getPrototypeOf(this.window.history));return!(!z||!z.writable&&!z.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Li(P){return Object.getOwnPropertyDescriptor(P,"scrollRestoration")}class Ua{}},4650:(Lt,je,L)=>{L.d(je,{$8M:()=>_a,$WT:()=>Pr,$Z:()=>Op,AFp:()=>Dw,ALo:()=>nm,AaK:()=>Oe,Akn:()=>tu,AsE:()=>Rg,BQk:()=>xu,CHM:()=>fi,CRH:()=>W0,CZH:()=>qv,CqO:()=>Ac,D6c:()=>GI,Dn7:()=>Fv,EJc:()=>aI,EiD:()=>np,EpF:()=>Sc,F$t:()=>pf,F4k:()=>ig,FYo:()=>lp,FiY:()=>Ao,Gf:()=>Gv,GfV:()=>cp,GkF:()=>rh,Gpc:()=>ie,Hsn:()=>gf,JOm:()=>Po,JVY:()=>Md,JZr:()=>ct,KtG:()=>Ds,L6k:()=>Sh,LAX:()=>Em,LFG:()=>dn,LSH:()=>Od,Lbi:()=>rI,Lck:()=>M0,MAs:()=>Py,MGl:()=>ih,MMx:()=>Cv,MR2:()=>Mm,NdJ:()=>sg,OlP:()=>Cr,Oqu:()=>cd,P3R:()=>Am,PXZ:()=>II,Q6J:()=>eh,QGY:()=>Gl,QbO:()=>iI,Qsj:()=>Bm,R0b:()=>rl,RDi:()=>gm,Rgc:()=>Yl,SBq:()=>hl,Sil:()=>lI,Suo:()=>G0,TTD:()=>Es,TgZ:()=>th,Tol:()=>Ef,Udp:()=>Cg,VKq:()=>F0,W1O:()=>J0,X6Q:()=>SI,XFs:()=>xt,Xpm:()=>Gn,Xts:()=>xh,Y36:()=>Ku,YKP:()=>A0,YNc:()=>My,Yjl:()=>In,Yz7:()=>Be,Z0I:()=>Xn,ZZ4:()=>vE,_Bn:()=>wv,_UZ:()=>nh,_Vd:()=>hc,_c5:()=>HI,_uU:()=>Pg,aQg:()=>_E,c2e:()=>sI,cJS:()=>Wt,cg1:()=>yo,d8E:()=>Ar,dDg:()=>vI,dqk:()=>dr,eBb:()=>Ah,eFA:()=>Fw,eJc:()=>lm,ekj:()=>Tg,eoX:()=>Ow,f3M:()=>nr,g9A:()=>Tw,h0i:()=>yh,hGG:()=>zI,hij:()=>Df,iGM:()=>z0,ifc:()=>pt,ip1:()=>Iw,jDz:()=>Uf,kL8:()=>tv,lG2:()=>ln,lcZ:()=>$f,lnq:()=>Og,lqb:()=>hu,lri:()=>Pw,mCW:()=>ac,n5z:()=>lr,oAB:()=>Ke,oJD:()=>fr,oxw:()=>Oy,pB0:()=>wm,q3G:()=>Bs,q4F:()=>dp,qLn:()=>fc,qOj:()=>rf,qZA:()=>ld,qzn:()=>xl,rWj:()=>Rw,s9C:()=>ag,sBO:()=>AI,s_b:()=>Hf,soG:()=>Zv,tb:()=>Nw,tp0:()=>Mo,uIk:()=>Jd,vHH:()=>Fe,vpe:()=>yl,wAp:()=>zn,xi3:()=>kv,xp6:()=>Ep,ynx:()=>fl,z2F:()=>Yv,z3N:()=>dl,zSh:()=>kl,zs3:()=>yc});var f=L(7579),D=L(727),B=L(9751),ue=L(6451),he=L(3099);function we(n){for(let i in n)if(n[i]===we)return i;throw Error("Could not find renamed property on target object.")}function Te(n,i){for(const o in i)i.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=i[o])}function Oe(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Oe).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function ge(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const re=we({__forward_ref__:we});function ie(n){return n.__forward_ref__=ie,n.toString=function(){return Oe(this())},n}function ne(n){return ke(n)?n():n}function ke(n){return"function"==typeof n&&n.hasOwnProperty(re)&&n.__forward_ref__===ie}function ce(n){return n&&!!n.\u0275providers}const ct="https://g.co/ng/security#xss";class Fe extends Error{constructor(i,o){super(Ge(i,o)),this.code=i}}function Ge(n,i){return`NG0${Math.abs(n)}${i?": "+i.trim():""}`}function et(n){return"string"==typeof n?n:null==n?"":String(n)}function Ct(n,i){throw new Fe(-201,!1)}function wt(n,i){null==n&&function vt(n,i,o,u){throw new Error(`ASSERTION ERROR: ${n}`+(null==u?"":` [Expected=> ${o} ${u} ${i} <=Actual]`))}(i,n,null,"!=")}function Be(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Wt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Rn(n){return ir(n,Mr)||ir(n,bi)}function Xn(n){return null!==Rn(n)}function ir(n,i){return n.hasOwnProperty(i)?n[i]:null}function _n(n){return n&&(n.hasOwnProperty(Qr)||n.hasOwnProperty(Mn))?n[Qr]:null}const Mr=we({\u0275prov:we}),Qr=we({\u0275inj:we}),bi=we({ngInjectableDef:we}),Mn=we({ngInjectorDef:we});var xt=(()=>((xt=xt||{})[xt.Default=0]="Default",xt[xt.Host=1]="Host",xt[xt.Self=2]="Self",xt[xt.SkipSelf=4]="SkipSelf",xt[xt.Optional=8]="Optional",xt))();let Yn;function Ur(n){const i=Yn;return Yn=n,i}function Jr(n,i,o){const u=Rn(n);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&xt.Optional?null:void 0!==i?i:void Ct(Oe(n))}const dr=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Si={},Kr="__NG_DI_FLAG__",tr="ngTempTokenPath",fn="ngTokenPath",gr=/\n/gm,br="\u0275",kn="__source";let zt;function wn(n){const i=zt;return zt=n,i}function kr(n,i=xt.Default){if(void 0===zt)throw new Fe(-203,!1);return null===zt?Jr(n,void 0,i):zt.get(n,i&xt.Optional?null:void 0,i)}function dn(n,i=xt.Default){return(function ki(){return Yn}()||kr)(ne(n),i)}function nr(n,i=xt.Default){return dn(n,sr(i))}function sr(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Ot(n){const i=[];for(let o=0;o<n.length;o++){const u=ne(n[o]);if(Array.isArray(u)){if(0===u.length)throw new Fe(900,!1);let l,h=xt.Default;for(let E=0;E<u.length;E++){const A=u[E],N=an(A);"number"==typeof N?-1===N?l=A.token:h|=N:l=A}i.push(dn(l,h))}else i.push(dn(u))}return i}function Xr(n,i){return n[Kr]=i,n.prototype[Kr]=i,n}function an(n){return n[Kr]}function pe(n){return{toString:n}.toString()}var Se=(()=>((Se=Se||{})[Se.OnPush=0]="OnPush",Se[Se.Default=1]="Default",Se))(),pt=(()=>{return(n=pt||(pt={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",pt;var n})();const qe={},Rt=[],Ie=we({\u0275cmp:we}),Ce=we({\u0275dir:we}),se=we({\u0275pipe:we}),Ae=we({\u0275mod:we}),dt=we({\u0275fac:we}),At=we({__NG_ELEMENT_ID__:we});let rn=0;function Gn(n){return pe(()=>{const i=Wi(n),o={...i,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Se.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||pt.Emulated,id:"c"+rn++,styles:n.styles||Rt,_:null,schemas:n.schemas||null,tView:null};eo(o);const u=n.dependencies;return o.directiveDefs=Ki(u,!1),o.pipeDefs=Ki(u,!0),o})}function ei(n){return Zt(n)||Un(n)}function rt(n){return null!==n}function Ke(n){return pe(()=>({type:n.type,bootstrap:n.bootstrap||Rt,declarations:n.declarations||Rt,imports:n.imports||Rt,exports:n.exports||Rt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Gt(n,i){if(null==n)return qe;const o={};for(const u in n)if(n.hasOwnProperty(u)){let l=n[u],h=l;Array.isArray(l)&&(h=l[1],l=l[0]),o[l]=u,i&&(i[l]=h)}return o}function ln(n){return pe(()=>{const i=Wi(n);return eo(i),i})}function In(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Zt(n){return n[Ie]||null}function Un(n){return n[Ce]||null}function On(n){return n[se]||null}function Pr(n){const i=Zt(n)||Un(n)||On(n);return null!==i&&i.standalone}function Rr(n,i){const o=n[Ae]||null;if(!o&&!0===i)throw new Error(`Type ${Oe(n)} does not have '\u0275mod' property.`);return o}function Wi(n){const i={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||Rt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Gt(n.inputs,i),outputs:Gt(n.outputs)}}function eo(n){n.features?.forEach(i=>i(n))}function Ki(n,i){if(!n)return null;const o=i?On:ei;return()=>("function"==typeof n?n():n).map(u=>o(u)).filter(rt)}const or=0,Vt=1,pn=2,wr=3,Zn=4,ci=5,Ir=6,Ai=7,_r=8,xe=9,Re=10,Me=11,_t=12,Dt=13,cn=14,An=15,gn=16,Wn=17,Mi=18,mi=19,ii=20,yi=21,ar=22,wo=1,Io=2,os=7,qi=8,$s=9,qr=10;function Zr(n){return Array.isArray(n)&&"object"==typeof n[wo]}function ur(n){return Array.isArray(n)&&!0===n[wo]}function Sr(n){return 0!=(4&n.flags)}function ms(n){return n.componentOffset>-1}function Fi(n){return 1==(1&n.flags)}function Br(n){return!!n.template}function Ps(n){return 0!=(256&n[pn])}function zs(n,i){return n.hasOwnProperty(dt)?n[dt]:null}class io{constructor(i,o,u){this.previousValue=i,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function Es(){return Gs}function Gs(n){return n.type.prototype.ngOnChanges&&(n.setInput=Li),ha}function ha(){const n=Os(this),i=n?.current;if(i){const o=n.previous;if(o===qe)n.previous=i;else for(let u in i)o[u]=i[u];n.current=null,this.ngOnChanges(i)}}function Li(n,i,o,u){const l=this.declaredInputs[o],h=Os(n)||function Ua(n,i){return n[so]=i}(n,{previous:qe,current:null}),E=h.current||(h.current={}),A=h.previous,N=A[l];E[l]=new io(N&&N.currentValue,i,A===qe),n[u]=i}Es.ngInherit=!0;const so="__ngSimpleChanges__";function Os(n){return n[so]||null}const Kn=function(n,i,o){};function jr(n){for(;Array.isArray(n);)n=n[or];return n}function as(n,i){return jr(i[n])}function Er(n,i){return jr(i[n.index])}function Zi(n,i){return n.data[i]}function hi(n,i){return n[i]}function oi(n,i){const o=i[n];return Zr(o)?o:o[or]}function Pi(n){return 64==(64&n[pn])}function ti(n,i){return null==i?null:n[i]}function us(n){n[Mi]=0}function Vi(n,i){n[ci]+=i;let o=n,u=n[wr];for(;null!==u&&(1===i&&1===o[ci]||-1===i&&0===o[ci]);)u[ci]+=i,o=u,u=u[wr]}const En={lFrame:Bo(null),bindingsEnabled:!0};function nt(){return En.bindingsEnabled}function it(){return En.lFrame.lView}function mn(){return En.lFrame.tView}function fi(n){return En.lFrame.contextLView=n,n[_r]}function Ds(n){return En.lFrame.contextLView=null,n}function Hr(){let n=To();for(;null!==n&&64===n.type;)n=n.parent;return n}function To(){return En.lFrame.currentTNode}function Cs(n,i){const o=En.lFrame;o.currentTNode=n,o.isParent=i}function Ns(){return En.lFrame.isParent}function ls(){En.lFrame.isParent=!1}function Bn(){const n=En.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}function Ri(){return En.lFrame.bindingIndex}function ds(){return En.lFrame.bindingIndex++}function Ts(n){const i=En.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,o}function So(n,i){const o=En.lFrame;o.bindingIndex=o.bindingRootIndex=n,ai(i)}function ai(n){En.lFrame.currentDirectiveIndex=n}function lo(n){const i=En.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}function bs(){return En.lFrame.currentQueryIndex}function Jo(n){En.lFrame.currentQueryIndex=n}function Xo(n){const i=n[Vt];return 2===i.type?i.declTNode:1===i.type?n[Ir]:null}function Aa(n,i,o){if(o&xt.SkipSelf){let l=i,h=n;for(;!(l=l.parent,null!==l||o&xt.Host||(l=Xo(h),null===l||(h=h[An],10&l.type))););if(null===l)return!1;i=l,n=h}const u=En.lFrame=ea();return u.currentTNode=i,u.lView=n,!0}function ts(n){const i=ea(),o=n[Vt];En.lFrame=i,i.currentTNode=o.firstChild,i.lView=n,i.tView=o,i.contextLView=n,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function ea(){const n=En.lFrame,i=null===n?null:n.child;return null===i?Bo(n):i}function Bo(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function qs(){const n=En.lFrame;return En.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const ta=qs;function Ba(){const n=qs();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ui(){return En.lFrame.selectedIndex}function Fs(n){En.lFrame.selectedIndex=n}function Or(){const n=En.lFrame;return Zi(n.tView,n.selectedIndex)}function Zs(n,i){for(let o=i.directiveStart,u=i.directiveEnd;o<u;o++){const h=n.data[o].type.prototype,{ngAfterContentInit:E,ngAfterContentChecked:A,ngAfterViewInit:N,ngAfterViewChecked:K,ngOnDestroy:X}=h;E&&(n.contentHooks??(n.contentHooks=[])).push(-o,E),A&&((n.contentHooks??(n.contentHooks=[])).push(o,A),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(o,A)),N&&(n.viewHooks??(n.viewHooks=[])).push(-o,N),K&&((n.viewHooks??(n.viewHooks=[])).push(o,K),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(o,K)),null!=X&&(n.destroyHooks??(n.destroyHooks=[])).push(o,X)}}function co(n,i,o){z(n,i,3,o)}function ga(n,i,o,u){(3&n[pn])===o&&z(n,i,o,u)}function P(n,i){let o=n[pn];(3&o)===i&&(o&=2047,o+=1,n[pn]=o)}function z(n,i,o,u){const h=u??-1,E=i.length-1;let A=0;for(let N=void 0!==u?65535&n[Mi]:0;N<E;N++)if("number"==typeof i[N+1]){if(A=i[N],null!=u&&A>=u)break}else i[N]<0&&(n[Mi]+=65536),(A<h||-1==h)&&(F(n,o,i,N),n[Mi]=(4294901760&n[Mi])+N+2),N++}function F(n,i,o,u){const l=o[u]<0,h=o[u+1],A=n[l?-o[u]:o[u]];if(l){if(n[pn]>>11<n[Mi]>>16&&(3&n[pn])===i){n[pn]+=2048,Kn(4,A,h);try{h.call(A)}finally{Kn(5,A,h)}}}else{Kn(4,A,h);try{h.call(A)}finally{Kn(5,A,h)}}}const Y=-1;class fe{constructor(i,o,u){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function jn(n,i,o){let u=0;for(;u<o.length;){const l=o[u];if("number"==typeof l){if(0!==l)break;u++;const h=o[u++],E=o[u++],A=o[u++];n.setAttribute(i,E,A,h)}else{const h=l,E=o[++u];hs(h)?n.setProperty(i,h,E):n.setAttribute(i,h,E),u++}}return u}function Lr(n){return 3===n||4===n||6===n}function hs(n){return 64===n.charCodeAt(0)}function Oi(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let o=-1;for(let u=0;u<i.length;u++){const l=i[u];"number"==typeof l?o=l:0===o||mr(n,o,l,null,-1===o||2===o?i[++u]:null)}}return n}function mr(n,i,o,u,l){let h=0,E=n.length;if(-1===i)E=-1;else for(;h<n.length;){const A=n[h++];if("number"==typeof A){if(A===i){E=-1;break}if(A>i){E=h-1;break}}}for(;h<n.length;){const A=n[h];if("number"==typeof A)break;if(A===o){if(null===u)return void(null!==l&&(n[h+1]=l));if(u===n[h+1])return void(n[h+2]=l)}h++,null!==u&&h++,null!==l&&h++}-1!==E&&(n.splice(E,0,i),h=E+1),n.splice(h++,0,o),null!==u&&n.splice(h++,0,u),null!==l&&n.splice(h++,0,l)}function Vr(n){return n!==Y}function Bi(n){return 32767&n}function Yi(n,i){let o=function ji(n){return n>>16}(n),u=i;for(;o>0;)u=u[An],o--;return u}let Ra=!0;function ma(n){const i=Ra;return Ra=n,i}const iu=255,ya=5;let Oa=0;const Qi={};function na(n,i){const o=mu(n,i);if(-1!==o)return o;const u=i[Vt];u.firstCreatePass&&(n.injectorIndex=i.length,$o(u.data,n),$o(i,null),$o(u.blueprint,null));const l=_i(n,i),h=n.injectorIndex;if(Vr(l)){const E=Bi(l),A=Yi(l,i),N=A[Vt].data;for(let K=0;K<8;K++)i[h+K]=A[E+K]|N[E+K]}return i[h+8]=l,h}function $o(n,i){n.push(0,0,0,0,0,0,0,0,i)}function mu(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function _i(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,u=null,l=i;for(;null!==l;){if(u=pi(l),null===u)return Y;if(o++,l=l[An],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return Y}function xa(n,i,o){!function Lu(n,i,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(At)&&(u=o[At]),null==u&&(u=o[At]=Oa++);const l=u&iu;i.data[n+(l>>ya)]|=1<<l}(n,i,o)}function Vu(n,i,o){if(o&xt.Optional||void 0!==n)return n;Ct()}function ra(n,i,o,u){if(o&xt.Optional&&void 0===u&&(u=null),!(o&(xt.Self|xt.Host))){const l=n[xe],h=Ur(void 0);try{return l?l.get(i,u,o&xt.Optional):Jr(i,u,o&xt.Optional)}finally{Ur(h)}}return Vu(u,0,o)}function yu(n,i,o,u=xt.Default,l){if(null!==n){if(1024&i[pn]){const E=function za(n,i,o,u,l){let h=n,E=i;for(;null!==h&&null!==E&&1024&E[pn]&&!(256&E[pn]);){const A=Na(h,E,o,u|xt.Self,Qi);if(A!==Qi)return A;let N=h.parent;if(!N){const K=E[yi];if(K){const X=K.get(o,Qi,u);if(X!==Qi)return X}N=pi(E),E=E[An]}h=N}return l}(n,i,o,u,Qi);if(E!==Qi)return E}const h=Na(n,i,o,u,Qi);if(h!==Qi)return h}return ra(i,o,u,l)}function Na(n,i,o,u,l){const h=function vu(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(At)?n[At]:void 0;return"number"==typeof i?i>=0?i&iu:ka:i}(o);if("function"==typeof h){if(!Aa(i,n,u))return u&xt.Host?Vu(l,0,u):ra(i,o,u,l);try{const E=h(u);if(null!=E||u&xt.Optional)return E;Ct()}finally{ta()}}else if("number"==typeof h){let E=null,A=mu(n,i),N=Y,K=u&xt.Host?i[gn][Ir]:null;for((-1===A||u&xt.SkipSelf)&&(N=-1===A?_i(n,i):i[A+8],N!==Y&&ia(u,!1)?(E=i[Vt],A=Bi(N),i=Yi(N,i)):A=-1);-1!==A;){const X=i[Vt];if(fs(h,A,X.data)){const de=ui(A,i,o,E,u,K);if(de!==Qi)return de}N=i[A+8],N!==Y&&ia(u,i[Vt].data[A+8]===K)&&fs(h,A,i)?(E=X,A=Bi(N),i=Yi(N,i)):A=-1}}return l}function ui(n,i,o,u,l,h){const E=i[Vt],A=E.data[n+8],X=Ss(A,E,o,null==u?ms(A)&&Ra:u!=E&&0!=(3&A.type),l&xt.Host&&h===A);return null!==X?ni(i,E,X,A):Qi}function Ss(n,i,o,u,l){const h=n.providerIndexes,E=i.data,A=1048575&h,N=n.directiveStart,X=h>>20,Ve=l?A+X:n.directiveEnd;for(let tt=u?A:A+X;tt<Ve;tt++){const Mt=E[tt];if(tt<N&&o===Mt||tt>=N&&Mt.type===o)return tt}if(l){const tt=E[N];if(tt&&Br(tt)&&tt.type===o)return N}return null}function ni(n,i,o,u){let l=n[o];const h=i.data;if(function lt(n){return n instanceof fe}(l)){const E=l;E.resolving&&function be(n,i){const o=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new Fe(-200,`Circular dependency in DI detected for ${n}${o}`)}(function mt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():et(n)}(h[o]));const A=ma(E.canSeeViewProviders);E.resolving=!0;const N=E.injectImpl?Ur(E.injectImpl):null;Aa(n,u,xt.Default);try{l=n[o]=E.factory(void 0,h,n,u),i.firstCreatePass&&o>=u.directiveStart&&function Pa(n,i,o){const{ngOnChanges:u,ngOnInit:l,ngDoCheck:h}=i.type.prototype;if(u){const E=Gs(i);(o.preOrderHooks??(o.preOrderHooks=[])).push(n,E),(o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(n,E)}l&&(o.preOrderHooks??(o.preOrderHooks=[])).push(0-n,l),h&&((o.preOrderHooks??(o.preOrderHooks=[])).push(n,h),(o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(n,h))}(o,h[o],i)}finally{null!==N&&Ur(N),ma(A),E.resolving=!1,ta()}}return l}function fs(n,i,o){return!!(o[i+(n>>ya)]&1<<n)}function ia(n,i){return!(n&xt.Self||n&xt.Host&&i)}class xr{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,u){return yu(this._tNode,this._lView,i,sr(u),o)}}function ka(){return new xr(Hr(),it())}function lr(n){return pe(()=>{const i=n.prototype.constructor,o=i[dt]||va(i),u=Object.prototype;let l=Object.getPrototypeOf(n.prototype).constructor;for(;l&&l!==u;){const h=l[dt]||va(l);if(h&&h!==o)return h;l=Object.getPrototypeOf(l)}return h=>new h})}function va(n){return ke(n)?()=>{const i=va(ne(n));return i&&i()}:zs(n)}function pi(n){const i=n[Vt],o=i.type;return 2===o?i.declTNode:1===o?n[Ir]:null}function _a(n){return function Ei(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const o=n.attrs;if(o){const u=o.length;let l=0;for(;l<u;){const h=o[l];if(Lr(h))break;if(0===h)l+=2;else if("number"==typeof h)for(l++;l<u&&"string"==typeof o[l];)l++;else{if(h===i)return o[l+1];l+=2}}}return null}(Hr(),n)}const Dr="__parameters__";function wi(n,i,o){return pe(()=>{const u=function fo(n){return function(...o){if(n){const u=n(...o);for(const l in u)this[l]=u[l]}}}(i);function l(...h){if(this instanceof l)return u.apply(this,h),this;const E=new l(...h);return A.annotation=E,A;function A(N,K,X){const de=N.hasOwnProperty(Dr)?N[Dr]:Object.defineProperty(N,Dr,{value:[]})[Dr];for(;de.length<=X;)de.push(null);return(de[X]=de[X]||[]).push(E),N}}return o&&(l.prototype=Object.create(o.prototype)),l.prototype.ngMetadataName=n,l.annotationCls=l,l})}class Cr{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Be({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Q(n,i){n.forEach(o=>Array.isArray(o)?Q(o,i):i(o))}function le(n,i,o){i>=n.length?n.push(o):n.splice(i,0,o)}function ye(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function Ne(n,i){const o=[];for(let u=0;u<n;u++)o.push(i);return o}function k(n,i,o){let u=G(n,i);return u>=0?n[1|u]=o:(u=~u,function g(n,i,o,u){let l=n.length;if(l==i)n.push(o,u);else if(1===l)n.push(u,n[0]),n[0]=o;else{for(l--,n.push(n[l-1],n[l]);l>i;)n[l]=n[l-2],l--;n[i]=o,n[i+1]=u}}(n,u,i,o)),u}function H(n,i){const o=G(n,i);if(o>=0)return n[1|o]}function G(n,i){return function Ye(n,i,o){let u=0,l=n.length>>o;for(;l!==u;){const h=u+(l-u>>1),E=n[h<<o];if(i===E)return h<<o;E>i?l=h:u=h+1}return~(l<<o)}(n,i,1)}const Ao=Xr(wi("Optional"),8),Mo=Xr(wi("SkipSelf"),4);var Po=(()=>((Po=Po||{})[Po.Important=1]="Important",Po[Po.DashCase=2]="DashCase",Po))();const Tl=new Map;let Ka=0;const Pe="__ngContext__";function Ue(n,i){Zr(i)?(n[Pe]=i[ii],function bl(n){Tl.set(n[ii],n)}(i)):n[Pe]=i}let Ro;function aa(n,i){return Ro(n,i)}function ps(n){const i=n[wr];return ur(i)?i[wr]:i}function ul(n){return Al(n[Dt])}function li(n){return Al(n[Zn])}function Al(n){for(;null!==n&&!ur(n);)n=n[Zn];return n}function is(n,i,o,u,l){if(null!=u){let h,E=!1;ur(u)?h=u:Zr(u)&&(E=!0,u=u[or]);const A=jr(u);0===n&&null!==o?null==l?Gi(i,o,A):Fn(i,o,A,l||null,!0):1===n&&null!==o?Fn(i,o,A,l||null,!0):2===n?function Kf(n,i,o){const u=Za(n,i);u&&function qa(n,i,o,u){n.removeChild(i,o,u)}(n,u,i,o)}(i,A,E):3===n&&i.destroyNode(A),null!=h&&function pm(n,i,o,u,l){const h=o[os];h!==jr(o)&&is(i,n,u,h,l);for(let A=qr;A<o.length;A++){const N=o[A];Hc(N[Vt],N,n,i,u,h)}}(i,n,h,o,l)}}function Oo(n,i,o){return n.createElement(i,o)}function T(n,i){const o=n[$s],u=o.indexOf(i),l=i[wr];512&i[pn]&&(i[pn]&=-513,Vi(l,-1)),o.splice(u,1)}function Z(n,i){if(n.length<=qr)return;const o=qr+i,u=n[o];if(u){const l=u[Wn];null!==l&&l!==n&&T(l,u),i>0&&(n[o-1][Zn]=u[Zn]);const h=ye(n,qr+i);!function Td(n,i){Hc(n,i,i[Me],2,null,null),i[or]=null,i[Ir]=null}(u[Vt],u);const E=h[mi];null!==E&&E.detachView(h[Vt]),u[wr]=null,u[Zn]=null,u[pn]&=-65}return u}function te(n,i){if(!(128&i[pn])){const o=i[Me];o.destroyNode&&Hc(n,i,o,3,null,null),function I(n){let i=n[Dt];if(!i)return Le(n[Vt],n);for(;i;){let o=null;if(Zr(i))o=i[Dt];else{const u=i[qr];u&&(o=u)}if(!o){for(;i&&!i[Zn]&&i!==n;)Zr(i)&&Le(i[Vt],i),i=i[wr];null===i&&(i=n),Zr(i)&&Le(i[Vt],i),o=i&&i[Zn]}i=o}}(i)}}function Le(n,i){if(!(128&i[pn])){i[pn]&=-65,i[pn]|=128,function Bt(n,i){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let u=0;u<o.length;u+=2){const l=i[o[u]];if(!(l instanceof fe)){const h=o[u+1];if(Array.isArray(h))for(let E=0;E<h.length;E+=2){const A=l[h[E]],N=h[E+1];Kn(4,A,N);try{N.call(A)}finally{Kn(5,A,N)}}else{Kn(4,l,h);try{h.call(l)}finally{Kn(5,l,h)}}}}}(n,i),function ht(n,i){const o=n.cleanup,u=i[Ai];let l=-1;if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const E=o[h+3];E>=0?u[l=E]():u[l=-E].unsubscribe(),h+=2}else{const E=u[l=o[h+1]];o[h].call(E)}if(null!==u){for(let h=l+1;h<u.length;h++)(0,u[h])();i[Ai]=null}}(n,i),1===i[Vt].type&&i[Me].destroy();const o=i[Wn];if(null!==o&&ur(i[wr])){o!==i[wr]&&T(o,i);const u=i[mi];null!==u&&u.detachView(n)}!function ec(n){Tl.delete(n[ii])}(i)}}function qt(n,i,o){return function vn(n,i,o){let u=i;for(;null!==u&&40&u.type;)u=(i=u).parent;if(null===u)return o[or];{const{componentOffset:l}=u;if(l>-1){const{encapsulation:h}=n.data[u.directiveStart+l];if(h===pt.None||h===pt.Emulated)return null}return Er(u,o)}}(n,i.parent,o)}function Fn(n,i,o,u,l){n.insertBefore(i,o,u,l)}function Gi(n,i,o){n.appendChild(i,o)}function Ca(n,i,o,u,l){null!==u?Fn(n,i,o,u,l):Gi(n,i,o)}function Za(n,i){return n.parentNode(i)}function Pl(n,i,o){return nc(n,i,o)}let $u,cl,Sd,Ad,nc=function cu(n,i,o){return 40&n.type?Er(n,o):null};function Rl(n,i,o,u){const l=qt(n,u,i),h=i[Me],A=Pl(u.parent||i[Ir],u,i);if(null!=l)if(Array.isArray(o))for(let N=0;N<o.length;N++)Ca(h,l,o[N],A,!1);else Ca(h,l,o,A,!1);void 0!==$u&&$u(h,u,i,o,l)}function ll(n,i){if(null!==i){const o=i.type;if(3&o)return Er(i,n);if(4&o)return $c(-1,n[i.index]);if(8&o){const u=i.child;if(null!==u)return ll(n,u);{const l=n[i.index];return ur(l)?$c(-1,l):jr(l)}}if(32&o)return aa(i,n)()||jr(n[i.index]);{const u=Hu(n,i);return null!==u?Array.isArray(u)?u[0]:ll(ps(n[gn]),u):ll(n,i.next)}}return null}function Hu(n,i){return null!==i?n[gn][Ir].projection[i.projection]:null}function $c(n,i){const o=qr+n+1;if(o<i.length){const u=i[o],l=u[Vt].firstChild;if(null!==l)return ll(u,l)}return i[os]}function qf(n,i,o,u,l,h,E){for(;null!=o;){const A=u[o.index],N=o.type;if(E&&0===i&&(A&&Ue(jr(A),u),o.flags|=2),32!=(32&o.flags))if(8&N)qf(n,i,o.child,u,l,h,!1),is(i,n,l,A,h);else if(32&N){const K=aa(o,u);let X;for(;X=K();)is(i,n,l,X,h);is(i,n,l,A,h)}else 16&N?xo(n,i,u,o,l,h):is(i,n,l,A,h);o=E?o.projectionNext:o.next}}function Hc(n,i,o,u,l,h){qf(o,u,n.firstChild,i,l,h,!1)}function xo(n,i,o,u,l,h){const E=o[gn],N=E[Ir].projection[u.projection];if(Array.isArray(N))for(let K=0;K<N.length;K++)is(i,n,l,N[K],h);else qf(n,i,N,E[wr],l,h,!0)}function Zf(n,i,o){""===o?n.removeAttribute(i,"class"):n.setAttribute(i,"class",o)}function Yf(n,i,o){const{mergedAttrs:u,classes:l,styles:h}=o;null!==u&&jn(n,i,u),null!==l&&Zf(n,i,l),null!==h&&function Ol(n,i,o){n.setAttribute(i,"style",o)}(n,i,h)}function ic(n){return function Qf(){if(void 0===cl&&(cl=null,dr.trustedTypes))try{cl=dr.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return cl}()?.createHTML(n)||n}function gm(n){Sd=n}function bh(){if(void 0===Ad&&(Ad=null,dr.trustedTypes))try{Ad=dr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Ad}function Xf(n){return bh()?.createHTML(n)||n}function ym(n){return bh()?.createScriptURL(n)||n}class sc{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ct})`}}class vm extends sc{getTypeName(){return"HTML"}}class e_ extends sc{getTypeName(){return"Style"}}class _m extends sc{getTypeName(){return"Script"}}class t_ extends sc{getTypeName(){return"URL"}}class n_ extends sc{getTypeName(){return"ResourceURL"}}function dl(n){return n instanceof sc?n.changingThisBreaksApplicationSecurity:n}function xl(n,i){const o=function oc(n){return n instanceof sc&&n.getTypeName()||null}(n);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see ${ct})`)}return o===i}function Md(n){return new vm(n)}function Sh(n){return new e_(n)}function Ah(n){return new _m(n)}function Em(n){return new t_(n)}function wm(n){return new n_(n)}class Im{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const o=(new window.DOMParser).parseFromString(ic(i),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(i):(o.removeChild(o.firstChild),o)}catch{return null}}}class zc{constructor(i){this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(i){const o=this.inertDocument.createElement("template");return o.innerHTML=ic(i),o}}const ep=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ac(n){return(n=String(n)).match(ep)?n:"unsafe:"+n}function Su(n){const i={};for(const o of n.split(","))i[o]=!0;return i}function Au(...n){const i={};for(const o of n)for(const u in o)o.hasOwnProperty(u)&&(i[u]=!0);return i}const ua=Su("area,br,col,hr,img,wbr"),Mh=Su("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Pd=Su("rp,rt"),uc=Au(ua,Au(Mh,Su("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Au(Pd,Su("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Au(Pd,Mh)),Rh=Su("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Gu=Au(Rh,Su("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Su("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),s_=Su("script,style,template");class La{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let o=i.firstChild,u=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?u=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,u&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let l=this.checkClobberedElement(o,o.nextSibling);if(l){o=l;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(i){const o=i.nodeName.toLowerCase();if(!uc.hasOwnProperty(o))return this.sanitizedSomething=!0,!s_.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const u=i.attributes;for(let l=0;l<u.length;l++){const h=u.item(l),E=h.name,A=E.toLowerCase();if(!Gu.hasOwnProperty(A)){this.sanitizedSomething=!0;continue}let N=h.value;Rh[A]&&(N=ac(N)),this.buf.push(" ",E,'="',tp(N),'"')}return this.buf.push(">"),!0}endElement(i){const o=i.nodeName.toLowerCase();uc.hasOwnProperty(o)&&!ua.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(i){this.buf.push(tp(i))}checkClobberedElement(i,o){if(o&&(i.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return o}}const Tm=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Rd=/([^\#-~ |!])/g;function tp(n){return n.replace(/&/g,"&amp;").replace(Tm,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(Rd,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ya;function np(n,i){let o=null;try{Ya=Ya||function zu(n){const i=new zc(n);return function Dm(){try{return!!(new window.DOMParser).parseFromString(ic(""),"text/html")}catch{return!1}}()?new Im(i):i}(n);let u=i?String(i):"";o=Ya.getInertBodyElement(u);let l=5,h=u;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,u=h,h=o.innerHTML,o=Ya.getInertBodyElement(u)}while(u!==h);return ic((new La).sanitizeChildren(lc(o)||o))}finally{if(o){const u=lc(o)||o;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function lc(n){return"content"in n&&function o_(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Bs=(()=>((Bs=Bs||{})[Bs.NONE=0]="NONE",Bs[Bs.HTML=1]="HTML",Bs[Bs.STYLE=2]="STYLE",Bs[Bs.SCRIPT=3]="SCRIPT",Bs[Bs.URL=4]="URL",Bs[Bs.RESOURCE_URL=5]="RESOURCE_URL",Bs))();function fr(n){const i=Mu();return i?Xf(i.sanitize(Bs.HTML,n)||""):xl(n,"HTML")?Xf(dl(n)):np(function Th(){return void 0!==Sd?Sd:typeof document<"u"?document:void 0}(),et(n))}function Od(n){const i=Mu();return i?i.sanitize(Bs.URL,n)||"":xl(n,"URL")?dl(n):ac(et(n))}function rp(n){const i=Mu();if(i)return ym(i.sanitize(Bs.RESOURCE_URL,n)||"");if(xl(n,"ResourceURL"))return ym(dl(n));throw new Fe(904,!1)}function Am(n,i,o){return function u_(n,i){return"src"===i&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===i&&("base"===n||"link"===n)?rp:Od}(i,o)(n)}function Mu(){const n=it();return n&&n[_t]}const xh=new Cr("ENVIRONMENT_INITIALIZER"),Nl=new Cr("INJECTOR",-1),ip=new Cr("INJECTOR_DEF_TYPES");class cc{get(i,o=Si){if(o===Si){const u=new Error(`NullInjectorError: No provider for ${Oe(i)}!`);throw u.name="NullInjectorError",u}return o}}function Mm(n){return{\u0275providers:n}}function Pm(...n){return{\u0275providers:Gc(0,n),\u0275fromNgModule:!0}}function Gc(n,...i){const o=[],u=new Set;let l;return Q(i,h=>{const E=h;sp(E,o,[],u)&&(l||(l=[]),l.push(E))}),void 0!==l&&Rm(l,o),o}function Rm(n,i){for(let o=0;o<n.length;o++){const{providers:l}=n[o];Wc(l,h=>{i.push(h)})}}function sp(n,i,o,u){if(!(n=ne(n)))return!1;let l=null,h=_n(n);const E=!h&&Zt(n);if(h||E){if(E&&!E.standalone)return!1;l=n}else{const N=n.ngModule;if(h=_n(N),!h)return!1;l=N}const A=u.has(l);if(E){if(A)return!1;if(u.add(l),E.dependencies){const N="function"==typeof E.dependencies?E.dependencies():E.dependencies;for(const K of N)sp(K,i,o,u)}}else{if(!h)return!1;{if(null!=h.imports&&!A){let K;u.add(l);try{Q(h.imports,X=>{sp(X,i,o,u)&&(K||(K=[]),K.push(X))})}finally{}void 0!==K&&Rm(K,i)}if(!A){const K=zs(l)||(()=>new l);i.push({provide:l,useFactory:K,deps:Rt},{provide:ip,useValue:l,multi:!0},{provide:xh,useValue:()=>dn(l),multi:!0})}const N=h.providers;null==N||A||Wc(N,X=>{i.push(X)})}}return l!==n&&void 0!==n.providers}function Wc(n,i){for(let o of n)ce(o)&&(o=o.\u0275providers),Array.isArray(o)?Wc(o,i):i(o)}const Nh=we({provide:String,useValue:we});function kh(n){return null!==n&&"object"==typeof n&&Nh in n}function dc(n){return"function"==typeof n}const kl=new Cr("Set Injector scope."),du={},Nm={};let Fh;function Nd(){return void 0===Fh&&(Fh=new cc),Fh}class hu{}class Lh extends hu{get destroyed(){return this._destroyed}constructor(i,o,u,l){super(),this.parent=o,this.source=u,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Vh(i,E=>this.processProvider(E)),this.records.set(Nl,qc(void 0,this)),l.has("environment")&&this.records.set(hu,qc(void 0,this));const h=this.records.get(kl);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(ip.multi,Rt,xt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const o=wn(this),u=Ur(void 0);try{return i()}finally{wn(o),Ur(u)}}get(i,o=Si,u=xt.Default){this.assertNotDestroyed(),u=sr(u);const l=wn(this),h=Ur(void 0);try{if(!(u&xt.SkipSelf)){let A=this.records.get(i);if(void 0===A){const N=function Fm(n){return"function"==typeof n||"object"==typeof n&&n instanceof Cr}(i)&&Rn(i);A=N&&this.injectableDefInScope(N)?qc(kd(i),du):null,this.records.set(i,A)}if(null!=A)return this.hydrate(i,A)}return(u&xt.Self?Nd():this.parent).get(i,o=u&xt.Optional&&o===Si?null:o)}catch(E){if("NullInjectorError"===E.name){if((E[tr]=E[tr]||[]).unshift(Oe(i)),l)throw E;return function vr(n,i,o,u){const l=n[tr];throw i[kn]&&l.unshift(i[kn]),n.message=function me(n,i,o,u=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==br?n.slice(2):n;let l=Oe(i);if(Array.isArray(i))l=i.map(Oe).join(" -> ");else if("object"==typeof i){let h=[];for(let E in i)if(i.hasOwnProperty(E)){let A=i[E];h.push(E+":"+("string"==typeof A?JSON.stringify(A):Oe(A)))}l=`{${h.join(", ")}}`}return`${o}${u?"("+u+")":""}[${l}]: ${n.replace(gr,"\n  ")}`}("\n"+n.message,l,o,u),n[fn]=l,n[tr]=null,n}(E,i,"R3InjectorError",this.source)}throw E}finally{Ur(h),wn(l)}}resolveInjectorInitializers(){const i=wn(this),o=Ur(void 0);try{const u=this.get(xh.multi,Rt,xt.Self);for(const l of u)l()}finally{wn(i),Ur(o)}}toString(){const i=[],o=this.records;for(const u of o.keys())i.push(Oe(u));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Fe(205,!1)}processProvider(i){let o=dc(i=ne(i))?i:ne(i&&i.provide);const u=function ap(n){return kh(n)?qc(void 0,n.useValue):qc(km(n),du)}(i);if(dc(i)||!0!==i.multi)this.records.get(o);else{let l=this.records.get(o);l||(l=qc(void 0,du,!0),l.factory=()=>Ot(l.multi),this.records.set(o,l)),o=i,l.multi.push(i)}this.records.set(o,u)}hydrate(i,o){return o.value===du&&(o.value=Nm,o.value=o.factory()),"object"==typeof o.value&&o.value&&function Wr(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(i){if(!i.providedIn)return!1;const o=ne(i.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function kd(n){const i=Rn(n),o=null!==i?i.factory:zs(n);if(null!==o)return o;if(n instanceof Cr)throw new Fe(204,!1);if(n instanceof Function)return function op(n){const i=n.length;if(i>0)throw Ne(i,"?"),new Fe(204,!1);const o=function Nn(n){return n&&(n[Mr]||n[bi])||null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new Fe(204,!1)}function km(n,i,o){let u;if(dc(n)){const l=ne(n);return zs(l)||kd(l)}if(kh(n))u=()=>ne(n.useValue);else if(function Kc(n){return!(!n||!n.useFactory)}(n))u=()=>n.useFactory(...Ot(n.deps||[]));else if(function Om(n){return!(!n||!n.useExisting)}(n))u=()=>dn(ne(n.useExisting));else{const l=ne(n&&(n.useClass||n.provide));if(!function Js(n){return!!n.deps}(n))return zs(l)||kd(l);u=()=>new l(...Ot(n.deps))}return u}function qc(n,i,o=!1){return{factory:n,value:i,multi:o?[]:void 0}}function Vh(n,i){for(const o of n)Array.isArray(o)?Vh(o,i):o&&ce(o)?Vh(o.\u0275providers,i):i(o)}class up{}class Fd{}class Um{resolveComponentFactory(i){throw function Lm(n){const i=Error(`No component factory found for ${Oe(n)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=n,i}(i)}}let hc=(()=>{class n{}return n.NULL=new Um,n})();function Ld(){return Wu(Hr(),it())}function Wu(n,i){return new hl(Er(n,i))}let hl=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=Ld,n})();function Uh(n){return n instanceof hl?n.nativeElement:n}class lp{}let Bm=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function jm(){const n=it(),o=oi(Hr().index,n);return(Zr(o)?o:n)[Me]}(),n})(),d_=(()=>{class n{}return n.\u0275prov=Be({token:n,providedIn:"root",factory:()=>null}),n})();class cp{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const dp=new cp("15.2.9"),hp={},fp="ngOriginalError";function pp(n){return n[fp]}class fc{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i);this._console.error("ERROR",i),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&pp(i);for(;o&&pp(o);)o=pp(o);return o||null}}function Pu(n){return n instanceof Function?n():n}function Gm(n,i,o){let u=n.length;for(;;){const l=n.indexOf(i,o);if(-1===l)return l;if(0===l||n.charCodeAt(l-1)<=32){const h=i.length;if(l+h===u||n.charCodeAt(l+h)<=32)return l}o=l+1}}const Yc="ng-template";function yp(n,i,o){let u=0,l=!0;for(;u<n.length;){let h=n[u++];if("string"==typeof h&&l){const E=n[u++];if(o&&"class"===h&&-1!==Gm(E.toLowerCase(),i,0))return!0}else{if(1===h){for(;u<n.length&&"string"==typeof(h=n[u++]);)if(h.toLowerCase()===i)return!0;return!1}"number"==typeof h&&(l=!1)}}return!1}function Wm(n){return 4===n.type&&n.value!==Yc}function Km(n,i,o){return i===(4!==n.type||o?n.value:Yc)}function vp(n,i,o){let u=4;const l=n.attrs||[],h=function v_(n){for(let i=0;i<n.length;i++)if(Lr(n[i]))return i;return n.length}(l);let E=!1;for(let A=0;A<i.length;A++){const N=i[A];if("number"!=typeof N){if(!E)if(4&u){if(u=2|1&u,""!==N&&!Km(n,N,o)||""===N&&1===i.length){if(fu(u))return!1;E=!0}}else{const K=8&u?N:i[++A];if(8&u&&null!==n.attrs){if(!yp(n.attrs,K,o)){if(fu(u))return!1;E=!0}continue}const de=m_(8&u?"class":N,l,Wm(n),o);if(-1===de){if(fu(u))return!1;E=!0;continue}if(""!==K){let Ve;Ve=de>h?"":l[de+1].toLowerCase();const tt=8&u?Ve:null;if(tt&&-1!==Gm(tt,K,0)||2&u&&K!==Ve){if(fu(u))return!1;E=!0}}}}else{if(!E&&!fu(u)&&!fu(N))return!1;if(E&&fu(N))continue;E=!1,u=N|1&u}}return fu(u)||E}function fu(n){return 0==(1&n)}function m_(n,i,o,u){if(null===i)return-1;let l=0;if(u||!o){let h=!1;for(;l<i.length;){const E=i[l];if(E===n)return l;if(3===E||6===E)h=!0;else{if(1===E||2===E){let A=i[++l];for(;"string"==typeof A;)A=i[++l];continue}if(4===E)break;if(0===E){l+=4;continue}}l+=h?1:2}return-1}return function __(n,i){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const u=n[o];if("number"==typeof u)return-1;if(u===i)return o;o++}return-1}(i,n)}function _p(n,i,o=!1){for(let u=0;u<i.length;u++)if(vp(n,i[u],o))return!0;return!1}function Fl(n,i){e:for(let o=0;o<i.length;o++){const u=i[o];if(n.length===u.length){for(let l=0;l<n.length;l++)if(n[l]!==u[l])continue e;return!0}}return!1}function pc(n,i){return n?":not("+i.trim()+")":i}function qm(n){let i=n[0],o=1,u=2,l="",h=!1;for(;o<n.length;){let E=n[o];if("string"==typeof E)if(2&u){const A=n[++o];l+="["+E+(A.length>0?'="'+A+'"':"")+"]"}else 8&u?l+="."+E:4&u&&(l+=" "+E);else""!==l&&!fu(E)&&(i+=pc(h,l),l=""),u=E,h=h||!fu(u);o++}return""!==l&&(i+=pc(h,l)),i}const Ln={};function Ep(n){Ym(mn(),it(),Ui()+n,!1)}function Ym(n,i,o,u){if(!u)if(3==(3&i[pn])){const h=n.preOrderCheckHooks;null!==h&&co(i,h,o)}else{const h=n.preOrderHooks;null!==h&&ga(i,h,0,o)}Fs(o)}function Dp(n,i=null,o=null,u){const l=Cp(n,i,o,u);return l.resolveInjectorInitializers(),l}function Cp(n,i=null,o=null,u,l=new Set){const h=[o||Rt,Pm(n)];return u=u||("object"==typeof n?void 0:Oe(n)),new Lh(h,i||Nd(),u||null,l)}let yc=(()=>{class n{static create(o,u){if(Array.isArray(o))return Dp({name:""},u,o,"");{const l=o.name??"";return Dp({name:l},o.parent,o.providers,l)}}}return n.THROW_IF_NOT_FOUND=Si,n.NULL=new cc,n.\u0275prov=Be({token:n,providedIn:"any",factory:()=>dn(Nl)}),n.__NG_ELEMENT_ID__=-1,n})();function Ku(n,i=xt.Default){const o=it();return null===o?dn(n,i):yu(Hr(),o,ne(n),i)}function Op(){throw new Error("invalid")}function Ko(n,i){const o=n.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const h=o[u+1];if(-1!==h){const E=n.data[h];Jo(o[u]),E.contentQueries(2,i[h],h)}}}function vc(n,i,o,u,l,h,E,A,N,K,X){const de=i.blueprint.slice();return de[or]=l,de[pn]=76|u,(null!==X||n&&1024&n[pn])&&(de[pn]|=1024),us(de),de[wr]=de[An]=n,de[_r]=o,de[Re]=E||n&&n[Re],de[Me]=A||n&&n[Me],de[_t]=N||n&&n[_t]||null,de[xe]=K||n&&n[xe]||null,de[Ir]=h,de[ii]=function Jl(){return Ka++}(),de[yi]=X,de[gn]=2==i.type?n[gn]:de,de}function _c(n,i,o,u,l){let h=n.data[i];if(null===h)h=function qu(n,i,o,u,l){const h=To(),E=Ns(),N=n.data[i]=function C_(n,i,o,u,l,h){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,E?h:h&&h.parent,o,i,u,l);return null===n.firstChild&&(n.firstChild=N),null!==h&&(E?null==h.child&&null!==N.parent&&(h.child=N):null===h.next&&(h.next=N,N.prev=h)),N}(n,i,o,u,l),function Sa(){return En.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=o,h.value=u,h.attrs=l;const E=function bo(){const n=En.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();h.injectorIndex=null===E?-1:E.injectorIndex}return Cs(h,!0),h}function Zu(n,i,o,u){if(0===o)return-1;const l=i.length;for(let h=0;h<o;h++)i.push(u),n.blueprint.push(u),n.data.push(null);return l}function Kh(n,i,o){ts(i);try{const u=n.viewQuery;null!==u&&$p(1,u,o);const l=n.template;null!==l&&ay(n,i,l,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Ko(n,i),n.staticViewQueries&&$p(2,n.viewQuery,o);const h=n.components;null!==h&&function Wh(n,i){for(let o=0;o<i.length;o++)jp(n,i[o])}(i,h)}catch(u){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),u}finally{i[pn]&=-5,Ba()}}function Yu(n,i,o,u){const l=i[pn];if(128!=(128&l)){ts(i);try{us(i),function cs(n){return En.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&ay(n,i,o,2,u);const E=3==(3&l);if(E){const K=n.preOrderCheckHooks;null!==K&&co(i,K,null)}else{const K=n.preOrderHooks;null!==K&&ga(i,K,0,null),P(i,0)}if(function zd(n){for(let i=ul(n);null!==i;i=li(i)){if(!i[Io])continue;const o=i[$s];for(let u=0;u<o.length;u++){const l=o[u];512&l[pn]||Vi(l[wr],1),l[pn]|=512}}}(i),function Bp(n){for(let i=ul(n);null!==i;i=li(i))for(let o=qr;o<i.length;o++){const u=i[o],l=u[Vt];Pi(u)&&Yu(l,u,l.template,u[_r])}}(i),null!==n.contentQueries&&Ko(n,i),E){const K=n.contentCheckHooks;null!==K&&co(i,K)}else{const K=n.contentHooks;null!==K&&ga(i,K,1),P(i,1)}!function sy(n,i){const o=n.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const l=o[u];if(l<0)Fs(~l);else{const h=l,E=o[++u],A=o[++u];So(E,h),A(2,i[h])}}}finally{Fs(-1)}}(n,i);const A=n.components;null!==A&&function oy(n,i){for(let o=0;o<i.length;o++)Jh(n,i[o])}(i,A);const N=n.viewQuery;if(null!==N&&$p(2,N,u),E){const K=n.viewCheckHooks;null!==K&&co(i,K)}else{const K=n.viewHooks;null!==K&&ga(i,K,2),P(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[pn]&=-41,512&i[pn]&&(i[pn]&=-513,Vi(i[wr],-1))}finally{Ba()}}}function ay(n,i,o,u,l){const h=Ui(),E=2&u;try{Fs(-1),E&&i.length>ar&&Ym(n,i,ar,!1),Kn(E?2:0,l),o(u,l)}finally{Fs(h),Kn(E?3:1,l)}}function Ul(n,i,o){if(Sr(i)){const l=i.directiveEnd;for(let h=i.directiveStart;h<l;h++){const E=n.data[h];E.contentQueries&&E.contentQueries(1,o[h],h)}}}function qh(n,i,o){nt()&&(function S_(n,i,o,u){const l=o.directiveStart,h=o.directiveEnd;ms(o)&&function R_(n,i,o){const u=Er(i,n),l=xp(o),h=n[Re],E=Xh(n,vc(n,l,null,o.onPush?32:16,u,i,h,h.createRenderer(u,o),null,null,null));n[i.index]=E}(i,o,n.data[l+o.componentOffset]),n.firstCreatePass||na(o,i),Ue(u,i);const E=o.initialInputs;for(let A=l;A<h;A++){const N=n.data[A],K=ni(i,n,A,o);Ue(K,i),null!==E&&O_(0,A-l,K,N,0,E),Br(N)&&(oi(o.index,i)[_r]=ni(i,n,A,o))}}(n,i,o,Er(o,i)),64==(64&o.flags)&&fy(n,i,o))}function Qu(n,i,o=Er){const u=i.localNames;if(null!==u){let l=i.index+1;for(let h=0;h<u.length;h+=2){const E=u[h+1],A=-1===E?o(i,n):n[E];n[l++]=A}}}function xp(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=Np(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):i}function Np(n,i,o,u,l,h,E,A,N,K){const X=ar+u,de=X+l,Ve=function uy(n,i){const o=[];for(let u=0;u<i;u++)o.push(u<n?null:Ln);return o}(X,de),tt="function"==typeof K?K():K;return Ve[Vt]={type:n,blueprint:Ve,template:o,queries:null,viewQuery:A,declTNode:i,data:Ve.slice().fill(null,X),bindingStartIndex:X,expandoStartIndex:de,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof E?E():E,firstChild:null,schemas:N,consts:tt,incompleteFirstPass:!1}}function kp(n,i,o,u){const l=yy(i);null===o?l.push(u):(l.push(o),n.firstCreatePass&&Hp(n).push(u,l.length-1))}function Hd(n,i,o,u){for(let l in n)if(n.hasOwnProperty(l)){o=null===o?{}:o;const h=n[l];null===u?ly(o,i,l,h):u.hasOwnProperty(l)&&ly(o,i,u[l],h)}return o}function ly(n,i,o,u){n.hasOwnProperty(o)?n[o].push(i,u):n[o]=[i,u]}function Qa(n,i,o,u,l,h,E,A){const N=Er(i,o);let X,K=i.inputs;!A&&null!=K&&(X=K[u])?(Bl(n,o,X,u,l),ms(i)&&function dy(n,i){const o=oi(i,n);16&o[pn]||(o[pn]|=32)}(o,i.index)):3&i.type&&(u=function cy(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(u),l=null!=E?E(l,i.value||"",u):l,h.setProperty(N,u,l))}function Yh(n,i,o,u){if(nt()){const l=null===u?null:{"":-1},h=function No(n,i){const o=n.directiveRegistry;let u=null,l=null;if(o)for(let h=0;h<o.length;h++){const E=o[h];if(_p(i,E.selectors,!1))if(u||(u=[]),Br(E))if(null!==E.findHostDirectiveDefs){const A=[];l=l||new Map,E.findHostDirectiveDefs(E,A,l),u.unshift(...A,E),Vp(n,i,A.length)}else u.unshift(E),Vp(n,i,0);else l=l||new Map,E.findHostDirectiveDefs?.(E,u,l),u.push(E)}return null===u?null:[u,l]}(n,o);let E,A;null===h?E=A=null:[E,A]=h,null!==E&&Fp(n,i,o,E,l,A),l&&function A_(n,i,o){if(i){const u=n.localNames=[];for(let l=0;l<i.length;l+=2){const h=o[i[l+1]];if(null==h)throw new Fe(-301,!1);u.push(i[l],h)}}}(o,u,l)}o.mergedAttrs=Oi(o.mergedAttrs,o.attrs)}function Fp(n,i,o,u,l,h){for(let K=0;K<u.length;K++)xa(na(o,i),n,u[K].type);!function P_(n,i,o){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+o,n.providerIndexes=i}(o,n.data.length,u.length);for(let K=0;K<u.length;K++){const X=u[K];X.providersResolver&&X.providersResolver(X)}let E=!1,A=!1,N=Zu(n,i,u.length,null);for(let K=0;K<u.length;K++){const X=u[K];o.mergedAttrs=Oi(o.mergedAttrs,X.hostAttrs),Up(n,o,i,N,X),M_(N,X,l),null!==X.contentQueries&&(o.flags|=4),(null!==X.hostBindings||null!==X.hostAttrs||0!==X.hostVars)&&(o.flags|=64);const de=X.type.prototype;!E&&(de.ngOnChanges||de.ngOnInit||de.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(o.index),E=!0),!A&&(de.ngOnChanges||de.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(o.index),A=!0),N++}!function T_(n,i,o){const l=i.directiveEnd,h=n.data,E=i.attrs,A=[];let N=null,K=null;for(let X=i.directiveStart;X<l;X++){const de=h[X],Ve=o?o.get(de):null,Mt=Ve?Ve.outputs:null;N=Hd(de.inputs,X,N,Ve?Ve.inputs:null),K=Hd(de.outputs,X,K,Mt);const $t=null===N||null===E||Wm(i)?null:py(N,X,E);A.push($t)}null!==N&&(N.hasOwnProperty("class")&&(i.flags|=8),N.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=A,i.inputs=N,i.outputs=K}(n,o,h)}function fy(n,i,o){const u=o.directiveStart,l=o.directiveEnd,h=o.index,E=function gu(){return En.lFrame.currentDirectiveIndex}();try{Fs(h);for(let A=u;A<l;A++){const N=n.data[A],K=i[A];ai(A),(null!==N.hostBindings||0!==N.hostVars||null!==N.hostAttrs)&&Lp(N,K)}}finally{Fs(-1),ai(E)}}function Lp(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function Vp(n,i,o){i.componentOffset=o,(n.components??(n.components=[])).push(i.index)}function M_(n,i,o){if(o){if(i.exportAs)for(let u=0;u<i.exportAs.length;u++)o[i.exportAs[u]]=n;Br(i)&&(o[""]=n)}}function Up(n,i,o,u,l){n.data[u]=l;const h=l.factory||(l.factory=zs(l.type)),E=new fe(h,Br(l),Ku);n.blueprint[u]=E,o[u]=E,function b_(n,i,o,u,l){const h=l.hostBindings;if(h){let E=n.hostBindingOpCodes;null===E&&(E=n.hostBindingOpCodes=[]);const A=~i.index;(function hy(n){let i=n.length;for(;i>0;){const o=n[--i];if("number"==typeof o&&o<0)return o}return 0})(E)!=A&&E.push(A),E.push(o,u,h)}}(n,i,u,Zu(n,o,l.hostVars,Ln),l)}function Ja(n,i,o,u,l,h){const E=Er(n,i);!function td(n,i,o,u,l,h,E){if(null==h)n.removeAttribute(i,l,o);else{const A=null==E?et(h):E(h,u||"",l);n.setAttribute(i,l,A,o)}}(i[Me],E,h,n.value,o,u,l)}function O_(n,i,o,u,l,h){const E=h[i];if(null!==E){const A=u.setInput;for(let N=0;N<E.length;){const K=E[N++],X=E[N++],de=E[N++];null!==A?u.setInput(o,de,K,X):o[X]=de}}}function py(n,i,o){let u=null,l=0;for(;l<o.length;){const h=o[l];if(0!==h)if(5!==h){if("number"==typeof h)break;if(n.hasOwnProperty(h)){null===u&&(u=[]);const E=n[h];for(let A=0;A<E.length;A+=2)if(E[A]===i){u.push(h,E[A+1],o[l+1]);break}}l+=2}else l+=2;else l+=4}return u}function Qh(n,i,o,u){return[n,!0,!1,i,null,0,u,o,null,null]}function Jh(n,i){const o=oi(i,n);if(Pi(o)){const u=o[Vt];48&o[pn]?Yu(u,o,u.template,o[_r]):o[ci]>0&&Gd(o)}}function Gd(n){for(let u=ul(n);null!==u;u=li(u))for(let l=qr;l<u.length;l++){const h=u[l];if(Pi(h))if(512&h[pn]){const E=h[Vt];Yu(E,h,E.template,h[_r])}else h[ci]>0&&Gd(h)}const o=n[Vt].components;if(null!==o)for(let u=0;u<o.length;u++){const l=oi(o[u],n);Pi(l)&&l[ci]>0&&Gd(l)}}function jp(n,i){const o=oi(i,n),u=o[Vt];(function gy(n,i){for(let o=i.length;o<n.blueprint.length;o++)i.push(n.blueprint[o])})(u,o),Kh(u,o,o[_r])}function Xh(n,i){return n[Dt]?n[cn][Zn]=i:n[Dt]=i,n[cn]=i,i}function Wd(n){for(;n;){n[pn]|=32;const i=ps(n);if(Ps(n)&&!i)return n;n=i}return null}function Kd(n,i,o,u=!0){const l=i[Re];l.begin&&l.begin();try{Yu(n,i,n.template,o)}catch(E){throw u&&wc(i,E),E}finally{l.end&&l.end()}}function $p(n,i,o){Jo(0),i(n,o)}function yy(n){return n[Ai]||(n[Ai]=[])}function Hp(n){return n.cleanup||(n.cleanup=[])}function wc(n,i){const o=n[xe],u=o?o.get(fc,null):null;u&&u.handleError(i)}function Bl(n,i,o,u,l){for(let h=0;h<o.length;){const E=o[h++],A=o[h++],N=i[E],K=n.data[E];null!==K.setInput?K.setInput(N,l,u,A):N[A]=l}}function Ru(n,i,o){const u=as(i,n);!function Cd(n,i,o){n.setValue(i,o)}(n[Me],u,o)}function Ic(n,i,o){let u=o?n.styles:null,l=o?n.classes:null,h=0;if(null!==i)for(let E=0;E<i.length;E++){const A=i[E];"number"==typeof A?h=A:1==h?l=ge(l,A):2==h&&(u=ge(u,A+": "+i[++E]+";"))}o?n.styles=u:n.stylesWithoutHost=u,o?n.classes=l:n.classesWithoutHost=l}function qd(n,i,o,u,l=!1){for(;null!==o;){const h=i[o.index];if(null!==h&&u.push(jr(h)),ur(h))for(let A=qr;A<h.length;A++){const N=h[A],K=N[Vt].firstChild;null!==K&&qd(N[Vt],N,K,u)}const E=o.type;if(8&E)qd(n,i,o.child,u);else if(32&E){const A=aa(o,i);let N;for(;N=A();)u.push(N)}else if(16&E){const A=Hu(i,o);if(Array.isArray(A))u.push(...A);else{const N=ps(i[gn]);qd(N[Vt],N,A,u,!0)}}o=l?o.projectionNext:o.next}return u}class nd{get rootNodes(){const i=this._lView,o=i[Vt];return qd(o,i,o.firstChild,[])}constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[_r]}set context(i){this._lView[_r]=i}get destroyed(){return 128==(128&this._lView[pn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[wr];if(ur(i)){const o=i[qi],u=o?o.indexOf(this):-1;u>-1&&(Z(i,u),ye(o,u))}this._attachedToViewContainer=!1}te(this._lView[Vt],this._lView)}onDestroy(i){kp(this._lView[Vt],this._lView,null,i)}markForCheck(){Wd(this._cdRefInjectingView||this._lView)}detach(){this._lView[pn]&=-65}reattach(){this._lView[pn]|=64}detectChanges(){Kd(this._lView[Vt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Fe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Us(n,i){Hc(n,i,i[Me],2,null,null)}(this._lView[Vt],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Fe(902,!1);this._appRef=i}}class _y extends nd{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;Kd(i[Vt],i,i[_r],!1)}checkNoChanges(){}get context(){return null}}class Ey extends hc{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=Zt(i);return new rd(o,this.ngModule)}}function ef(n){const i=[];for(let o in n)n.hasOwnProperty(o)&&i.push({propName:n[o],templateName:o});return i}class zp{constructor(i,o){this.injector=i,this.parentInjector=o}get(i,o,u){u=sr(u);const l=this.injector.get(i,hp,u);return l!==hp||o===hp?l:this.parentInjector.get(i,o,u)}}class rd extends Fd{get inputs(){return ef(this.componentDef.inputs)}get outputs(){return ef(this.componentDef.outputs)}constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function E_(n){return n.map(qm).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}create(i,o,u,l){let h=(l=l||this.ngModule)instanceof hu?l:l?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const E=h?new zp(i,h):i,A=E.get(lp,null);if(null===A)throw new Fe(407,!1);const N=E.get(d_,null),K=A.createRenderer(null,this.componentDef),X=this.componentDef.selectors[0][0]||"div",de=u?function D_(n,i,o){return n.selectRootElement(i,o===pt.ShadowDom)}(K,u,this.componentDef.encapsulation):Oo(K,X,function N_(n){const i=n.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(X)),Ve=this.componentDef.onPush?288:272,tt=Np(0,null,null,1,0,null,null,null,null,null),Mt=vc(null,tt,null,Ve,null,null,A,K,N,E,null);let $t,on;ts(Mt);try{const Dn=this.componentDef;let qn,Ft=null;Dn.findHostDirectiveDefs?(qn=[],Ft=new Map,Dn.findHostDirectiveDefs(Dn,qn,Ft),qn.push(Dn)):qn=[Dn];const pr=function tf(n,i){const o=n[Vt],u=ar;return n[u]=i,_c(o,u,2,"#host",null)}(Mt,de),Ms=function Zd(n,i,o,u,l,h,E,A){const N=l[Vt];!function nf(n,i,o,u){for(const l of n)i.mergedAttrs=Oi(i.mergedAttrs,l.hostAttrs);null!==i.mergedAttrs&&(Ic(i,i.mergedAttrs,!0),null!==o&&Yf(u,o,i))}(u,n,i,E);const K=h.createRenderer(i,o),X=vc(l,xp(o),null,o.onPush?32:16,l[n.index],n,h,K,A||null,null,null);return N.firstCreatePass&&Vp(N,n,u.length-1),Xh(l,X),l[n.index]=X}(pr,de,Dn,qn,Mt,A,K);on=Zi(tt,ar),de&&function Wp(n,i,o,u){if(u)jn(n,o,["ng-version",dp.full]);else{const{attrs:l,classes:h}=function Zm(n){const i=[],o=[];let u=1,l=2;for(;u<n.length;){let h=n[u];if("string"==typeof h)2===l?""!==h&&i.push(h,n[++u]):8===l&&o.push(h);else{if(!fu(l))break;l=h}u++}return{attrs:i,classes:o}}(i.selectors[0]);l&&jn(n,o,l),h&&h.length>0&&Zf(n,o,h.join(" "))}}(K,Dn,de,u),void 0!==o&&function Kp(n,i,o){const u=n.projection=[];for(let l=0;l<i.length;l++){const h=o[l];u.push(null!=h?Array.from(h):null)}}(on,this.ngContentSelectors,o),$t=function Gp(n,i,o,u,l,h){const E=Hr(),A=l[Vt],N=Er(E,l);Fp(A,l,E,o,null,u);for(let X=0;X<o.length;X++)Ue(ni(l,A,E.directiveStart+X,E),l);fy(A,l,E),N&&Ue(N,l);const K=ni(l,A,E.directiveStart+E.componentOffset,E);if(n[_r]=l[_r]=K,null!==h)for(const X of h)X(K,i);return Ul(A,E,n),K}(Ms,Dn,qn,Ft,Mt,[Dy]),Kh(tt,Mt,null)}finally{Ba()}return new wy(this.componentType,$t,Wu(on,Mt),Mt,on)}}class wy extends up{constructor(i,o,u,l,h){super(),this.location=u,this._rootLView=l,this._tNode=h,this.instance=o,this.hostView=this.changeDetectorRef=new _y(l),this.componentType=i}setInput(i,o){const u=this._tNode.inputs;let l;if(null!==u&&(l=u[i])){const h=this._rootLView;Bl(h[Vt],h,l,i,o),Wd(oi(this._tNode.index,h))}}get injector(){return new xr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function Dy(){const n=Hr();Zs(it()[Vt],n)}function rf(n){let i=function Cy(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const u=[n];for(;i;){let l;if(Br(n))l=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Fe(903,!1);l=i.\u0275dir}if(l){if(o){u.push(l);const E=n;E.inputs=Yd(n.inputs),E.declaredInputs=Yd(n.declaredInputs),E.outputs=Yd(n.outputs);const A=l.hostBindings;A&&la(n,A);const N=l.viewQuery,K=l.contentQueries;if(N&&k_(n,N),K&&F_(n,K),Te(n.inputs,l.inputs),Te(n.declaredInputs,l.declaredInputs),Te(n.outputs,l.outputs),Br(l)&&l.data.animation){const X=n.data;X.animation=(X.animation||[]).concat(l.data.animation)}}const h=l.features;if(h)for(let E=0;E<h.length;E++){const A=h[E];A&&A.ngInherit&&A(n),A===rf&&(o=!1)}}i=Object.getPrototypeOf(i)}!function sf(n){let i=0,o=null;for(let u=n.length-1;u>=0;u--){const l=n[u];l.hostVars=i+=l.hostVars,l.hostAttrs=Oi(l.hostAttrs,o=Oi(o,l.hostAttrs))}}(u)}function Yd(n){return n===qe?{}:n===Rt?[]:n}function k_(n,i){const o=n.viewQuery;n.viewQuery=o?(u,l)=>{i(u,l),o(u,l)}:i}function F_(n,i){const o=n.contentQueries;n.contentQueries=o?(u,l,h)=>{i(u,l,h),o(u,l,h)}:i}function la(n,i){const o=n.hostBindings;n.hostBindings=o?(u,l)=>{i(u,l),o(u,l)}:i}function id(n){return!!Dc(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Dc(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function ba(n,i,o){return n[i]=o}function go(n,i,o){return!Object.is(n[i],o)&&(n[i]=o,!0)}function Ou(n,i,o,u){const l=go(n,i,o);return go(n,i+1,u)||l}function sd(n,i,o,u,l){const h=Ou(n,i,o,u);return go(n,i+2,l)||h}function Jd(n,i,o,u){const l=it();return go(l,ds(),i)&&(mn(),Ja(Or(),l,n,i,o,u)),Jd}function eu(n,i,o,u){return go(n,ds(),o)?i+et(o)+u:Ln}function My(n,i,o,u,l,h,E,A){const N=it(),K=mn(),X=n+ar,de=K.firstCreatePass?function Xp(n,i,o,u,l,h,E,A,N){const K=i.consts,X=_c(i,n,4,E||null,ti(K,A));Yh(i,o,X,ti(K,N)),Zs(i,X);const de=X.tView=Np(2,X,u,l,h,i.directiveRegistry,i.pipeRegistry,null,i.schemas,K);return null!==i.queries&&(i.queries.template(i,X),de.queries=i.queries.embeddedTView(X)),X}(X,K,N,i,o,u,l,h,E):K.data[X];Cs(de,!1);const Ve=N[Me].createComment("");Rl(K,N,Ve,de),Ue(Ve,N),Xh(N,N[X]=Qh(Ve,N,Ve,de)),Fi(de)&&qh(K,N,de),null!=E&&Qu(N,de,A)}function Py(n){return hi(function fa(){return En.lFrame.contextLView}(),ar+n)}function eh(n,i,o){const u=it();return go(u,ds(),i)&&Qa(mn(),Or(),u,n,i,u[Me],o,!1),eh}function tg(n,i,o,u,l){const E=l?"class":"style";Bl(n,o,i.inputs[E],E,u)}function th(n,i,o,u){const l=it(),h=mn(),E=ar+n,A=l[Me],N=h.firstCreatePass?function ng(n,i,o,u,l,h){const E=i.consts,N=_c(i,n,2,u,ti(E,l));return Yh(i,o,N,ti(E,h)),null!==N.attrs&&Ic(N,N.attrs,!1),null!==N.mergedAttrs&&Ic(N,N.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,N),N}(E,h,l,i,o,u):h.data[E],K=l[E]=Oo(A,i,function pa(){return En.lFrame.currentNamespace}()),X=Fi(N);return Cs(N,!0),Yf(A,K,N),32!=(32&N.flags)&&Rl(h,l,K,N),0===function V(){return En.lFrame.elementDepthCount}()&&Ue(K,l),function x(){En.lFrame.elementDepthCount++}(),X&&(qh(h,l,N),Ul(h,N,l)),null!==u&&Qu(l,N),th}function ld(){let n=Hr();Ns()?ls():(n=n.parent,Cs(n,!1));const i=n;!function J(){En.lFrame.elementDepthCount--}();const o=mn();return o.firstCreatePass&&(Zs(o,n),Sr(n)&&o.queries.elementEnd(n)),null!=i.classesWithoutHost&&function rr(n){return 0!=(8&n.flags)}(i)&&tg(o,i,it(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function hr(n){return 0!=(16&n.flags)}(i)&&tg(o,i,it(),i.stylesWithoutHost,!1),ld}function nh(n,i,o,u){return th(n,i,o,u),ld(),nh}function fl(n,i,o){const u=it(),l=mn(),h=n+ar,E=l.firstCreatePass?function rg(n,i,o,u,l){const h=i.consts,E=ti(h,u),A=_c(i,n,8,"ng-container",E);return null!==E&&Ic(A,E,!0),Yh(i,o,A,ti(h,l)),null!==i.queries&&i.queries.elementStart(i,A),A}(h,l,u,i,o):l.data[h];Cs(E,!0);const A=u[h]=u[Me].createComment("");return Rl(l,u,A,E),Ue(A,u),Fi(E)&&(qh(l,u,E),Ul(l,E,u)),null!=o&&Qu(u,E),fl}function xu(){let n=Hr();const i=mn();return Ns()?ls():(n=n.parent,Cs(n,!1)),i.firstCreatePass&&(Zs(i,n),Sr(n)&&i.queries.elementEnd(n)),xu}function rh(n,i,o){return fl(n,i,o),xu(),rh}function Sc(){return it()}function Gl(n){return!!n&&"function"==typeof n.then}function ig(n){return!!n&&"function"==typeof n.subscribe}const Ac=ig;function sg(n,i,o,u){const l=it(),h=mn(),E=Hr();return function df(n,i,o,u,l,h,E){const A=Fi(u),K=n.firstCreatePass&&Hp(n),X=i[_r],de=yy(i);let Ve=!0;if(3&u.type||E){const $t=Er(u,i),on=E?E($t):$t,Dn=de.length,qn=E?pr=>E(jr(pr[u.index])):u.index;let Ft=null;if(!E&&A&&(Ft=function og(n,i,o,u){const l=n.cleanup;if(null!=l)for(let h=0;h<l.length-1;h+=2){const E=l[h];if(E===o&&l[h+1]===u){const A=i[Ai],N=l[h+2];return A.length>N?A[N]:null}"string"==typeof E&&(h+=2)}return null}(n,i,l,u.index)),null!==Ft)(Ft.__ngLastListenerFn__||Ft).__ngNextListenerFn__=h,Ft.__ngLastListenerFn__=h,Ve=!1;else{h=ff(u,i,X,h,!1);const pr=o.listen(on,l,h);de.push(h,pr),K&&K.push(l,qn,Dn,Dn+1)}}else h=ff(u,i,X,h,!1);const tt=u.outputs;let Mt;if(Ve&&null!==tt&&(Mt=tt[l])){const $t=Mt.length;if($t)for(let on=0;on<$t;on+=2){const Ms=i[Mt[on]][Mt[on+1]].subscribe(h),Eo=de.length;de.push(h,Ms),K&&K.push(l,u.index,Eo,-(Eo+1))}}}(h,l,l[Me],E,n,i,u),sg}function hf(n,i,o,u){try{return Kn(6,i,o),!1!==o(u)}catch(l){return wc(n,l),!1}finally{Kn(7,i,o)}}function ff(n,i,o,u,l){return function h(E){if(E===Function)return u;Wd(n.componentOffset>-1?oi(n.index,i):i);let N=hf(i,o,u,E),K=h.__ngNextListenerFn__;for(;K;)N=hf(i,o,K,E)&&N,K=K.__ngNextListenerFn__;return l&&!1===N&&(E.preventDefault(),E.returnValue=!1),N}}function Oy(n=1){return function ja(n){return(En.lFrame.contextLView=function $a(n,i){for(;n>0;)i=i[An],n--;return i}(n,En.lFrame.contextLView))[_r]}(n)}function $_(n,i){let o=null;const u=function y_(n){const i=n.attrs;if(null!=i){const o=i.indexOf(5);if(!(1&o))return i[o+1]}return null}(n);for(let l=0;l<i.length;l++){const h=i[l];if("*"!==h){if(null===u?_p(n,h,!0):Fl(u,h))return l}else o=l}return o}function pf(n){const i=it()[gn][Ir];if(!i.projection){const u=i.projection=Ne(n?n.length:1,null),l=u.slice();let h=i.child;for(;null!==h;){const E=n?$_(h,n):0;null!==E&&(l[E]?l[E].projectionNext=h:u[E]=h,l[E]=h),h=h.next}}}function gf(n,i=0,o){const u=it(),l=mn(),h=_c(l,ar+n,16,null,o||null);null===h.projection&&(h.projection=i),ls(),32!=(32&h.flags)&&function fm(n,i,o){xo(i[Me],0,i,o,qt(n,o,i),Pl(o.parent||i[Ir],o,i))}(l,u,h)}function ag(n,i,o){return ih(n,"",i,"",o),ag}function ih(n,i,o,u,l){const h=it(),E=eu(h,i,o,u);return E!==Ln&&Qa(mn(),Or(),h,n,E,h[Me],l,!1),ih}function mf(n,i){return n<<17|i<<2}function Ju(n){return n>>17&32767}function pg(n){return 2|n}function pl(n){return(131068&n)>>2}function gg(n,i){return-131069&n|i<<2}function yf(n){return 1|n}function Vy(n,i,o,u,l){const h=n[o+1],E=null===i;let A=u?Ju(h):pl(h),N=!1;for(;0!==A&&(!1===N||E);){const X=n[A+1];vg(n[A],i)&&(N=!0,n[A+1]=u?yf(X):pg(X)),A=u?Ju(X):pl(X)}N&&(n[o+1]=u?pg(h):yf(h))}function vg(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&G(n,i)>=0}const mo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function vf(n){return n.substring(mo.key,mo.keyEnd)}function G_(n){return n.substring(mo.value,mo.valueEnd)}function _f(n,i){const o=mo.textEnd;return o===i?-1:(i=mo.keyEnd=function W_(n,i,o){for(;i<o&&n.charCodeAt(i)>32;)i++;return i}(n,mo.key=i,o),Wl(n,i,o))}function Mc(n,i){const o=mo.textEnd;let u=mo.key=Wl(n,i,o);return o===u?-1:(u=mo.keyEnd=function Ig(n,i,o){let u;for(;i<o&&(45===(u=n.charCodeAt(i))||95===u||(-33&u)>=65&&(-33&u)<=90||u>=48&&u<=57);)i++;return i}(n,u,o),u=Xu(n,u,o),u=mo.value=Wl(n,u,o),u=mo.valueEnd=function Dg(n,i,o){let u=-1,l=-1,h=-1,E=i,A=E;for(;E<o;){const N=n.charCodeAt(E++);if(59===N)return A;34===N||39===N?A=E=Uy(n,N,E,o):i===E-4&&85===h&&82===l&&76===u&&40===N?A=E=Uy(n,41,E,o):N>32&&(A=E),h=l,l=u,u=-33&N}return A}(n,u,o),Xu(n,u,o))}function wg(n){mo.key=0,mo.keyEnd=0,mo.value=0,mo.valueEnd=0,mo.textEnd=n.length}function Wl(n,i,o){for(;i<o&&n.charCodeAt(i)<=32;)i++;return i}function Xu(n,i,o,u){return(i=Wl(n,i,o))<o&&i++,i}function Uy(n,i,o,u){let l=-1,h=o;for(;h<u;){const E=n.charCodeAt(h++);if(E==i&&92!==l)return h;l=92==E&&92===l?0:E}throw new Error}function Cg(n,i,o){return nu(n,i,o,!1),Cg}function Tg(n,i){return nu(n,i,null,!0),Tg}function tu(n){Nu(If,K_,n,!1)}function K_(n,i){for(let o=function Eg(n){return wg(n),Mc(n,Wl(n,0,mo.textEnd))}(i);o>=0;o=Mc(i,o))If(n,vf(i),G_(i))}function Ef(n){Nu(Mg,el,n,!0)}function el(n,i){for(let o=function _g(n){return wg(n),_f(n,Wl(n,0,mo.textEnd))}(i);o>=0;o=_f(i,o))k(n,vf(i),!0)}function nu(n,i,o,u){const l=it(),h=mn(),E=Ts(2);h.firstUpdatePass&&bg(h,n,E,u),i!==Ln&&go(l,E,i)&&ah(h,h.data[Ui()],l,l[Me],n,l[E+1]=function Hy(n,i){return null==n||""===n||("string"==typeof i?n+=i:"object"==typeof n&&(n=Oe(dl(n)))),n}(i,o),u,E)}function Nu(n,i,o,u){const l=mn(),h=Ts(2);l.firstUpdatePass&&bg(l,null,h,u);const E=it();if(o!==Ln&&go(E,h,o)){const A=l.data[Ui()];if(Pc(A,u)&&!wf(l,h)){let N=u?A.classesWithoutHost:A.stylesWithoutHost;null!==N&&(o=ge(N,o||"")),tg(l,A,E,o,u)}else!function Y_(n,i,o,u,l,h,E,A){l===Ln&&(l=Rt);let N=0,K=0,X=0<l.length?l[0]:null,de=0<h.length?h[0]:null;for(;null!==X||null!==de;){const Ve=N<l.length?l[N+1]:void 0,tt=K<h.length?h[K+1]:void 0;let $t,Mt=null;X===de?(N+=2,K+=2,Ve!==tt&&(Mt=de,$t=tt)):null===de||null!==X&&X<de?(N+=2,Mt=X):(K+=2,Mt=de,$t=tt),null!==Mt&&ah(n,i,o,u,Mt,$t,E,A),X=N<l.length?l[N]:null,de=K<h.length?h[K]:null}}(l,A,E,E[Me],E[h+1],E[h+1]=function Ag(n,i,o){if(null==o||""===o)return Rt;const u=[],l=dl(o);if(Array.isArray(l))for(let h=0;h<l.length;h++)n(u,l[h],!0);else if("object"==typeof l)for(const h in l)l.hasOwnProperty(h)&&n(u,h,l[h]);else"string"==typeof l&&i(u,l);return u}(n,i,o),u,h)}}function wf(n,i){return i>=n.expandoStartIndex}function bg(n,i,o,u){const l=n.data;if(null===l[o+1]){const h=l[Ui()],E=wf(n,o);Pc(h,u)&&null===i&&!E&&(i=!1),i=function Sg(n,i,o,u){const l=lo(n);let h=u?i.residualClasses:i.residualStyles;if(null===l)0===(u?i.classBindings:i.styleBindings)&&(o=oh(o=sh(null,n,i,o,u),i.attrs,u),h=null);else{const E=i.directiveStylingLast;if(-1===E||n[E]!==l)if(o=sh(l,n,i,o,u),null===h){let N=function jy(n,i,o){const u=o?i.classBindings:i.styleBindings;if(0!==pl(u))return n[Ju(u)]}(n,i,u);void 0!==N&&Array.isArray(N)&&(N=sh(null,n,i,N[1],u),N=oh(N,i.attrs,u),function q_(n,i,o,u){n[Ju(o?i.classBindings:i.styleBindings)]=u}(n,i,u,N))}else h=function Z_(n,i,o){let u;const l=i.directiveEnd;for(let h=1+i.directiveStylingLast;h<l;h++)u=oh(u,n[h].hostAttrs,o);return oh(u,i.attrs,o)}(n,i,u)}return void 0!==h&&(u?i.residualClasses=h:i.residualStyles=h),o}(l,h,i,u),function z_(n,i,o,u,l,h){let E=h?i.classBindings:i.styleBindings,A=Ju(E),N=pl(E);n[u]=o;let X,K=!1;if(Array.isArray(o)?(X=o[1],(null===X||G(o,X)>0)&&(K=!0)):X=o,l)if(0!==N){const Ve=Ju(n[A+1]);n[u+1]=mf(Ve,A),0!==Ve&&(n[Ve+1]=gg(n[Ve+1],u)),n[A+1]=function fg(n,i){return 131071&n|i<<17}(n[A+1],u)}else n[u+1]=mf(A,0),0!==A&&(n[A+1]=gg(n[A+1],u)),A=u;else n[u+1]=mf(N,0),0===A?A=u:n[N+1]=gg(n[N+1],u),N=u;K&&(n[u+1]=pg(n[u+1])),Vy(n,X,u,!0),Vy(n,X,u,!1),function yg(n,i,o,u,l){const h=l?n.residualClasses:n.residualStyles;null!=h&&"string"==typeof i&&G(h,i)>=0&&(o[u+1]=yf(o[u+1]))}(i,X,n,u,h),E=mf(A,N),h?i.classBindings=E:i.styleBindings=E}(l,h,i,o,E,u)}}function sh(n,i,o,u,l){let h=null;const E=o.directiveEnd;let A=o.directiveStylingLast;for(-1===A?A=o.directiveStart:A++;A<E&&(h=i[A],u=oh(u,h.hostAttrs,l),h!==n);)A++;return null!==n&&(o.directiveStylingLast=A),u}function oh(n,i,o){const u=o?1:2;let l=-1;if(null!==i)for(let h=0;h<i.length;h++){const E=i[h];"number"==typeof E?l=E:l===u&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),k(n,E,!!o||i[++h]))}return void 0===n?null:n}function If(n,i,o){k(n,i,dl(o))}function Mg(n,i,o){const u=String(i);""!==u&&!u.includes(" ")&&k(n,u,o)}function ah(n,i,o,u,l,h,E,A){if(!(3&i.type))return;const N=n.data,K=N[A+1],X=function mg(n){return 1==(1&n)}(K)?$y(N,i,o,l,pl(K),E):void 0;uh(X)||(uh(h)||function hg(n){return 2==(2&n)}(K)&&(h=$y(N,null,o,l,A,E)),function Xi(n,i,o,u,l){if(i)l?n.addClass(o,u):n.removeClass(o,u);else{let h=-1===u.indexOf("-")?void 0:Po.DashCase;null==l?n.removeStyle(o,u,h):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),h|=Po.Important),n.setStyle(o,u,l,h))}}(u,E,as(Ui(),o),l,h))}function $y(n,i,o,u,l,h){const E=null===i;let A;for(;l>0;){const N=n[l],K=Array.isArray(N),X=K?N[1]:N,de=null===X;let Ve=o[l+1];Ve===Ln&&(Ve=de?Rt:void 0);let tt=de?H(Ve,u):X===u?Ve:void 0;if(K&&!uh(tt)&&(tt=H(N,u)),uh(tt)&&(A=tt,E))return A;const Mt=n[l+1];l=E?Ju(Mt):pl(Mt)}if(null!==i){let N=h?i.residualClasses:i.residualStyles;null!=N&&(A=H(N,u))}return A}function uh(n){return void 0!==n}function Pc(n,i){return 0!=(n.flags&(i?8:16))}function Pg(n,i=""){const o=it(),u=mn(),l=n+ar,h=u.firstCreatePass?_c(u,l,1,i,null):u.data[l],E=o[l]=function Ci(n,i){return n.createText(i)}(o[Me],i);Rl(u,o,E,h),Cs(h,!1)}function cd(n){return Df("",n,""),cd}function Df(n,i,o){const u=it(),l=eu(u,n,i,o);return l!==Ln&&Ru(u,Ui(),l),Df}function Rg(n,i,o,u,l){const h=it(),E=function Tc(n,i,o,u,l,h){const A=Ou(n,Ri(),o,l);return Ts(2),A?i+et(o)+u+et(l)+h:Ln}(h,n,i,o,u,l);return E!==Ln&&Ru(h,Ui(),E),Rg}function Og(n,i,o,u,l,h,E){const A=it(),N=function od(n,i,o,u,l,h,E,A){const K=sd(n,Ri(),o,l,E);return Ts(3),K?i+et(o)+u+et(l)+h+et(E)+A:Ln}(A,n,i,o,u,l,h,E);return N!==Ln&&Ru(A,Ui(),N),Og}function Ar(n,i,o){const u=it();if(go(u,ds(),i)){const h=mn(),E=Or();Qa(h,E,u,n,i,function vy(n,i,o){return(null===n||Br(n))&&(o=function xs(n){for(;Array.isArray(n);){if("object"==typeof n[wo])return n;n=n[or]}return null}(o[i.index])),o[Me]}(lo(h.data),E,u),o,!0)}return Ar}const Kl=void 0;var dh=["en",[["a","p"],["AM","PM"],Kl],[["AM","PM"],Kl,Kl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Kl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Kl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Kl,"{1} 'at' {0}",Kl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ev(n){const o=Math.floor(Math.abs(n)),u=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let hd={};function yo(n){const i=function nv(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=n0(i);if(o)return o;const u=i.split("-")[0];if(o=n0(u),o)return o;if("en"===u)return dh;throw new Fe(701,!1)}function tv(n){return yo(n)[zn.PluralCase]}function n0(n){return n in hd||(hd[n]=dr.ng&&dr.ng.common&&dr.ng.common.locales&&dr.ng.common.locales[n]),hd[n]}var zn=(()=>((zn=zn||{})[zn.LocaleId=0]="LocaleId",zn[zn.DayPeriodsFormat=1]="DayPeriodsFormat",zn[zn.DayPeriodsStandalone=2]="DayPeriodsStandalone",zn[zn.DaysFormat=3]="DaysFormat",zn[zn.DaysStandalone=4]="DaysStandalone",zn[zn.MonthsFormat=5]="MonthsFormat",zn[zn.MonthsStandalone=6]="MonthsStandalone",zn[zn.Eras=7]="Eras",zn[zn.FirstDayOfWeek=8]="FirstDayOfWeek",zn[zn.WeekendRange=9]="WeekendRange",zn[zn.DateFormat=10]="DateFormat",zn[zn.TimeFormat=11]="TimeFormat",zn[zn.DateTimeFormat=12]="DateTimeFormat",zn[zn.NumberSymbols=13]="NumberSymbols",zn[zn.NumberFormats=14]="NumberFormats",zn[zn.CurrencyCode=15]="CurrencyCode",zn[zn.CurrencySymbol=16]="CurrencySymbol",zn[zn.CurrencyName=17]="CurrencyName",zn[zn.Currencies=18]="Currencies",zn[zn.Directionality=19]="Directionality",zn[zn.PluralCase=20]="PluralCase",zn[zn.ExtraData=21]="ExtraData",zn))();const fd="en-US";let Gg=fd;function vd(n,i,o,u,l){if(n=ne(n),Array.isArray(n))for(let h=0;h<n.length;h++)vd(n[h],i,o,u,l);else{const h=mn(),E=it();let A=dc(n)?n:ne(n.provide),N=km(n);const K=Hr(),X=1048575&K.providerIndexes,de=K.directiveStart,Ve=K.providerIndexes>>20;if(dc(n)||!n.multi){const tt=new fe(N,l,Ku),Mt=_v(A,i,l?X:X+Ve,de);-1===Mt?(xa(na(K,E),h,A),ql(h,n,i.length),i.push(A),K.directiveStart++,K.directiveEnd++,l&&(K.providerIndexes+=1048576),o.push(tt),E.push(tt)):(o[Mt]=tt,E[Mt]=tt)}else{const tt=_v(A,i,X+Ve,de),Mt=_v(A,i,X,X+Ve),on=Mt>=0&&o[Mt];if(l&&!on||!l&&!(tt>=0&&o[tt])){xa(na(K,E),h,A);const Dn=function jE(n,i,o,u,l){const h=new fe(n,o,Ku);return h.multi=[],h.index=i,h.componentProviders=0,vv(h,l,u&&!o),h}(l?Zl:BE,o.length,l,u,N);!l&&on&&(o[Mt].providerFactory=Dn),ql(h,n,i.length,0),i.push(A),K.directiveStart++,K.directiveEnd++,l&&(K.providerIndexes+=1048576),o.push(Dn),E.push(Dn)}else ql(h,n,tt>-1?tt:Mt,vv(o[l?Mt:tt],N,!l&&u));!l&&u&&on&&o[Mt].componentProviders++}}}function ql(n,i,o,u){const l=dc(i),h=function xm(n){return!!n.useClass}(i);if(l||h){const N=(h?ne(i.useClass):i).prototype.ngOnDestroy;if(N){const K=n.destroyHooks||(n.destroyHooks=[]);if(!l&&i.multi){const X=K.indexOf(o);-1===X?K.push(o,[u,N]):K[X+1].push(u,N)}else K.push(o,N)}}}function vv(n,i,o){return o&&n.componentProviders++,n.multi.push(i)-1}function _v(n,i,o,u){for(let l=o;l<u;l++)if(i[l]===n)return l;return-1}function BE(n,i,o,u){return Ev(this.multi,[])}function Zl(n,i,o,u){const l=this.multi;let h;if(this.providerFactory){const E=this.providerFactory.componentProviders,A=ni(o,o[Vt],this.providerFactory.index,u);h=A.slice(0,E),Ev(l,h);for(let N=E;N<A.length;N++)h.push(A[N])}else h=[],Ev(l,h);return h}function Ev(n,i){for(let o=0;o<n.length;o++)i.push((0,n[o])());return i}function wv(n,i=[]){return o=>{o.providersResolver=(u,l)=>function yd(n,i,o){const u=mn();if(u.firstCreatePass){const l=Br(n);vd(o,u.data,u.blueprint,l,!0),vd(i,u.data,u.blueprint,l,!1)}}(u,l?l(n):n,i)}}class yh{}class A0{}function M0(n,i){return new Iv(n,i??null)}class Iv extends yh{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ey(this);const u=Rr(i);this._bootstrapComponents=Pu(u.bootstrap),this._r3Injector=Cp(i,o,[{provide:yh,useValue:this},{provide:hc,useValue:this.componentFactoryResolver}],Oe(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class Dv extends A0{constructor(i){super(),this.moduleType=i}create(i){return new Iv(this.moduleType,i)}}class P0 extends yh{constructor(i,o,u){super(),this.componentFactoryResolver=new Ey(this),this.instance=null;const l=new Lh([...i,{provide:yh,useValue:this},{provide:hc,useValue:this.componentFactoryResolver}],o||Nd(),u,new Set(["environment"]));this.injector=l,l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function Cv(n,i,o=null){return new P0(n,i,o).injector}let vh=(()=>{class n{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const u=Gc(0,o.type),l=u.length>0?Cv([u],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,l)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=Be({token:n,providedIn:"environment",factory:()=>new n(dn(hu))}),n})();function Uf(n){n.getStandaloneInjector=i=>i.get(vh).getOrCreateStandaloneInjector(n)}function F0(n,i,o,u){return tm(it(),Bn(),n,i,o,u)}function _h(n,i){const o=n[i];return o===Ln?void 0:o}function tm(n,i,o,u,l,h){const E=i+o;return go(n,E,l)?ba(n,E+1,h?u.call(h,l):u(l)):_h(n,E+1)}function nm(n,i){const o=mn();let u;const l=n+ar;o.firstCreatePass?(u=function Nv(n,i){if(i)for(let o=i.length-1;o>=0;o--){const u=i[o];if(n===u.name)return u}}(i,o.pipeRegistry),o.data[l]=u,u.onDestroy&&(o.destroyHooks??(o.destroyHooks=[])).push(l,u.onDestroy)):u=o.data[l];const h=u.factory||(u.factory=zs(u.type)),E=Ur(Ku);try{const A=ma(!1),N=h();return ma(A),function eg(n,i,o,u){o>=n.data.length&&(n.data[o]=null,n.blueprint[o]=null),i[o]=u}(o,it(),l,N),N}finally{Ur(E)}}function $f(n,i,o){const u=n+ar,l=it(),h=hi(l,u);return Eh(l,u)?tm(l,Bn(),i,h.transform,o,h):h.transform(o)}function kv(n,i,o,u){const l=n+ar,h=it(),E=hi(h,l);return Eh(h,l)?function Ov(n,i,o,u,l,h,E){const A=i+o;return Ou(n,A,l,h)?ba(n,A+2,E?u.call(E,l,h):u(l,h)):_h(n,A+2)}(h,Bn(),i,E.transform,o,u,E):E.transform(o,u)}function Fv(n,i,o,u,l){const h=n+ar,E=it(),A=hi(E,h);return Eh(E,h)?function jf(n,i,o,u,l,h,E,A){const N=i+o;return sd(n,N,l,h,E)?ba(n,N+3,A?u.call(A,l,h,E):u(l,h,E)):_h(n,N+3)}(E,Bn(),i,A.transform,o,u,l,A):A.transform(o,u,l)}function Eh(n,i){return n[Vt].data[i].pure}function im(n){return i=>{setTimeout(n,void 0,i)}}const yl=class Vv extends f.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,u){let l=i,h=o||(()=>null),E=u;if(i&&"object"==typeof i){const N=i;l=N.next?.bind(N),h=N.error?.bind(N),E=N.complete?.bind(N)}this.__isAsync&&(h=im(h),l&&(l=im(l)),E&&(E=im(E)));const A=super.subscribe({next:l,error:h,complete:E});return i instanceof D.w0&&i.add(A),A}};function rw(){return this._results[Symbol.iterator]()}class sm{get changes(){return this._changes||(this._changes=new yl)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=sm.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=rw)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const u=this;u.dirty=!1;const l=function j(n){return n.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function M(n,i,o){if(n.length!==i.length)return!1;for(let u=0;u<n.length;u++){let l=n[u],h=i[u];if(o&&(l=o(l),h=o(h)),h!==l)return!1}return!0}(u._results,l,o))&&(u._results=l,u.length=l.length,u.last=l[this.length-1],u.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Yl=(()=>{class n{}return n.__NG_ELEMENT_ID__=iw,n})();const Uv=Yl,V0=class extends Uv{constructor(i,o,u){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(i,o){const u=this._declarationTContainer.tView,l=vc(this._declarationLView,u,i,16,null,u.declTNode,null,null,null,null,o||null);l[Wn]=this._declarationLView[this._declarationTContainer.index];const E=this._declarationLView[mi];return null!==E&&(l[mi]=E.createEmbeddedView(u)),Kh(u,l,i),new nd(l)}};function iw(){return _d(Hr(),it())}function _d(n,i){return 4&n.type?new V0(i,n,Wu(n,i)):null}let Hf=(()=>{class n{}return n.__NG_ELEMENT_ID__=U0,n})();function U0(){return j0(Hr(),it())}const B0=Hf,Bv=class extends B0{constructor(i,o,u){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=u}get element(){return Wu(this._hostTNode,this._hostLView)}get injector(){return new xr(this._hostTNode,this._hostLView)}get parentInjector(){const i=_i(this._hostTNode,this._hostLView);if(Vr(i)){const o=Yi(i,this._hostLView),u=Bi(i);return new xr(o[Vt].data[u+8],o)}return new xr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=om(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-qr}createEmbeddedView(i,o,u){let l,h;"number"==typeof u?l=u:null!=u&&(l=u.index,h=u.injector);const E=i.createEmbeddedView(o||{},h);return this.insert(E,l),E}createComponent(i,o,u,l,h){const E=i&&!function v(n){return"function"==typeof n}(i);let A;if(E)A=o;else{const de=o||{};A=de.index,u=de.injector,l=de.projectableNodes,h=de.environmentInjector||de.ngModuleRef}const N=E?i:new rd(Zt(i)),K=u||this.parentInjector;if(!h&&null==N.ngModule){const Ve=(E?K:this.parentInjector).get(hu,null);Ve&&(h=Ve)}const X=N.create(K,l,void 0,h);return this.insert(X.hostView,A),X}insert(i,o){const u=i._lView,l=u[Vt];if(function Do(n){return ur(n[wr])}(u)){const X=this.indexOf(i);if(-1!==X)this.detach(X);else{const de=u[wr],Ve=new Bv(de,de[Ir],de[wr]);Ve.detach(Ve.indexOf(i))}}const h=this._adjustIndex(o),E=this._lContainer;!function d(n,i,o,u){const l=qr+u,h=o.length;u>0&&(o[l-1][Zn]=i),u<h-qr?(i[Zn]=o[l],le(o,qr+u,i)):(o.push(i),i[Zn]=null),i[wr]=o;const E=i[Wn];null!==E&&o!==E&&function y(n,i){const o=n[$s];i[gn]!==i[wr][wr][gn]&&(n[Io]=!0),null===o?n[$s]=[i]:o.push(i)}(E,i);const A=i[mi];null!==A&&A.insertView(n),i[pn]|=64}(l,u,E,h);const A=$c(h,E),N=u[Me],K=Za(N,E[os]);return null!==K&&function hm(n,i,o,u,l,h){u[or]=l,u[Ir]=i,Hc(n,u,o,1,l,h)}(l,E[Ir],N,u,K,A),i.attachToViewContainerRef(),le(am(E),h,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=om(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),u=Z(this._lContainer,o);u&&(ye(am(this._lContainer),o),te(u[Vt],u))}detach(i){const o=this._adjustIndex(i,-1),u=Z(this._lContainer,o);return u&&null!=ye(am(this._lContainer),o)?new nd(u):null}_adjustIndex(i,o=0){return i??this.length+o}};function om(n){return n[qi]}function am(n){return n[qi]||(n[qi]=[])}function j0(n,i){let o;const u=i[n.index];if(ur(u))o=u;else{let l;if(8&n.type)l=jr(u);else{const h=i[Me];l=h.createComment("");const E=Er(n,i);Fn(h,Za(h,E),l,function jc(n,i){return n.nextSibling(i)}(h,E),!1)}i[n.index]=o=Qh(u,i,l,n),Xh(i,o)}return new Bv(o,n,i)}class jv{constructor(i){this.queryList=i,this.matches=null}clone(){return new jv(this.queryList)}setDirty(){this.queryList.setDirty()}}class $v{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const u=null!==i.contentQueries?i.contentQueries[0]:o.length,l=[];for(let h=0;h<u;h++){const E=o.getByIndex(h);l.push(this.queries[E.indexInDeclarationView].clone())}return new $v(l)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==Q0(i,o).matches&&this.queries[o].setDirty()}}class $0{constructor(i,o,u=null){this.predicate=i,this.flags=o,this.read=u}}class um{constructor(i=[]){this.queries=i}elementStart(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let u=0;u<this.length;u++){const l=null!==o?o.length:0,h=this.getByIndex(u).embeddedTView(i,l);h&&(h.indexInDeclarationView=u,null!==o?o.push(h):o=[h])}return null!==o?new um(o):null}template(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class Hv{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new Hv(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=i.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let l=0;l<u.length;l++){const h=u[l];this.matchTNodeWithReadOption(i,o,sw(o,h)),this.matchTNodeWithReadOption(i,o,Ss(o,i,h,!1,!1))}else u===Yl?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,Ss(o,i,u,!1,!1))}matchTNodeWithReadOption(i,o,u){if(null!==u){const l=this.metadata.read;if(null!==l)if(l===hl||l===Hf||l===Yl&&4&o.type)this.addMatch(o.index,-2);else{const h=Ss(o,i,l,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,u)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function sw(n,i){const o=n.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===i)return o[u+1];return null}function aw(n,i,o,u){return-1===o?function ow(n,i){return 11&n.type?Wu(n,i):4&n.type?_d(n,i):null}(i,n):-2===o?function uw(n,i,o){return o===hl?Wu(i,n):o===Yl?_d(i,n):o===Hf?j0(i,n):void 0}(n,i,u):ni(n,n[Vt],o,i)}function H0(n,i,o,u){const l=i[mi].queries[u];if(null===l.matches){const h=n.data,E=o.matches,A=[];for(let N=0;N<E.length;N+=2){const K=E[N];A.push(K<0?null:aw(i,h[K],E[N+1],o.metadata.read))}l.matches=A}return l.matches}function zv(n,i,o,u){const l=n.queries.getByIndex(o),h=l.matches;if(null!==h){const E=H0(n,i,l,o);for(let A=0;A<h.length;A+=2){const N=h[A];if(N>0)u.push(E[A/2]);else{const K=h[A+1],X=i[-N];for(let de=qr;de<X.length;de++){const Ve=X[de];Ve[Wn]===Ve[wr]&&zv(Ve[Vt],Ve,K,u)}if(null!==X[$s]){const de=X[$s];for(let Ve=0;Ve<de.length;Ve++){const tt=de[Ve];zv(tt[Vt],tt,K,u)}}}}}return u}function z0(n){const i=it(),o=mn(),u=bs();Jo(u+1);const l=Q0(o,u);if(n.dirty&&function ao(n){return 4==(4&n[pn])}(i)===(2==(2&l.metadata.flags))){if(null===l.matches)n.reset([]);else{const h=l.crossesNgTemplate?zv(o,i,u,[]):H0(o,i,l,u);n.reset(h,Uh),n.notifyOnChanges()}return!0}return!1}function Gv(n,i,o){const u=mn();u.firstCreatePass&&(Z0(u,new $0(n,i,o),-1),2==(2&i)&&(u.staticViewQueries=!0)),q0(u,it(),i)}function G0(n,i,o,u){const l=mn();if(l.firstCreatePass){const h=Hr();Z0(l,new $0(i,o,u),h.index),function Y0(n,i){const o=n.contentQueries||(n.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,i)}(l,n),2==(2&o)&&(l.staticContentQueries=!0)}q0(l,it(),o)}function W0(){return function K0(n,i){return n[mi].queries[i].queryList}(it(),bs())}function q0(n,i,o){const u=new sm(4==(4&o));kp(n,i,u,u.destroy),null===i[mi]&&(i[mi]=new $v),i[mi].queries.push(new jv(u))}function Z0(n,i,o){null===n.queries&&(n.queries=new um),n.queries.track(new Hv(i,o))}function Q0(n,i){return n.queries.getByIndex(i)}function J0(n,i){return _d(n,i)}function lm(n){return!!Rr(n)}function Ih(...n){}const Iw=new Cr("Application Initializer");let qv=(()=>{class n{constructor(o){this.appInits=o,this.resolve=Ih,this.reject=Ih,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,l)=>{this.resolve=u,this.reject=l})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const h=this.appInits[l]();if(Gl(h))o.push(h);else if(Ac(h)){const E=new Promise((A,N)=>{h.subscribe({complete:A,error:N})});o.push(E)}}Promise.all(o).then(()=>{u()}).catch(l=>{this.reject(l)}),0===o.length&&u(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)(dn(Iw,8))},n.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Dw=new Cr("AppId",{providedIn:"root",factory:function Cw(){return`${aE()}${aE()}${aE()}`}});function aE(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Tw=new Cr("Platform Initializer"),rI=new Cr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),iI=new Cr("AnimationModuleType");let sI=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Zv=new Cr("LocaleId",{providedIn:"root",factory:()=>nr(Zv,xt.Optional|xt.SkipSelf)||function oI(){return typeof $localize<"u"&&$localize.locale||fd}()}),aI=new Cr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class uI{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let lI=(()=>{class n{compileModuleSync(o){return new Dv(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const u=this.compileModuleSync(o),h=Pu(Rr(o).declarations).reduce((E,A)=>{const N=Zt(A);return N&&E.push(new rd(N)),E},[]);return new uI(u,h)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const hI=(()=>Promise.resolve(0))();function uE(n){typeof Zone>"u"?hI.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class rl{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new yl(!1),this.onMicrotaskEmpty=new yl(!1),this.onStable=new yl(!1),this.onError=new yl(!1),typeof Zone>"u")throw new Fe(908,!1);Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!u&&o,l.shouldCoalesceRunChangeDetection=u,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function fI(){let n=dr.requestAnimationFrame,i=dr.cancelAnimationFrame;if(typeof Zone<"u"&&n&&i){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const u=i[Zone.__symbol__("OriginalDelegate")];u&&(i=u)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function mI(n){const i=()=>{!function gI(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(dr,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,cE(n),n.isCheckStableRunning=!0,lE(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),cE(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,l,h,E,A)=>{try{return Aw(n),o.invokeTask(l,h,E,A)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||n.shouldCoalesceRunChangeDetection)&&i(),Mw(n)}},onInvoke:(o,u,l,h,E,A,N)=>{try{return Aw(n),o.invoke(l,h,E,A,N)}finally{n.shouldCoalesceRunChangeDetection&&i(),Mw(n)}},onHasTask:(o,u,l,h)=>{o.hasTask(l,h),u===l&&("microTask"==h.change?(n._hasPendingMicrotasks=h.microTask,cE(n),lE(n)):"macroTask"==h.change&&(n.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,u,l,h)=>(o.handleError(l,h),n.runOutsideAngular(()=>n.onError.emit(h)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!rl.isInAngularZone())throw new Fe(909,!1)}static assertNotInAngularZone(){if(rl.isInAngularZone())throw new Fe(909,!1)}run(i,o,u){return this._inner.run(i,o,u)}runTask(i,o,u,l){const h=this._inner,E=h.scheduleEventTask("NgZoneEvent: "+l,i,pI,Ih,Ih);try{return h.runTask(E,o,u)}finally{h.cancelTask(E)}}runGuarded(i,o,u){return this._inner.runGuarded(i,o,u)}runOutsideAngular(i){return this._outer.run(i)}}const pI={};function lE(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function cE(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Aw(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Mw(n){n._nesting--,lE(n)}class yI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new yl,this.onMicrotaskEmpty=new yl,this.onStable=new yl,this.onError=new yl}run(i,o,u){return i.apply(o,u)}runGuarded(i,o,u){return i.apply(o,u)}runOutsideAngular(i){return i()}runTask(i,o,u,l){return i.apply(o,u)}}const Pw=new Cr(""),Rw=new Cr("");let dE,vI=(()=>{class n{constructor(o,u,l){this._ngZone=o,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,dE||(function _I(n){dE=n}(l),l.addToWindow(u)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{rl.assertNotInAngularZone(),uE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())uE(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,l){let h=-1;u&&u>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(E=>E.timeoutId!==h),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:h,updateCb:l})}whenStable(o,u,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,u,l){return[]}}return n.\u0275fac=function(o){return new(o||n)(dn(rl),dn(Ow),dn(Rw))},n.\u0275prov=Be({token:n,factory:n.\u0275fac}),n})(),Ow=(()=>{class n{constructor(){this._applications=new Map}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return dE?.findTestabilityInTree(this,o,u)??null}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const kc=!1;let Id=null;const xw=new Cr("AllowMultipleToken"),hE=new Cr("PlatformDestroyListeners"),Nw=new Cr("appBootstrapListener");class II{constructor(i,o){this.name=i,this.token=o}}function Fw(n,i,o=[]){const u=`Platform: ${i}`,l=new Cr(u);return(h=[])=>{let E=fE();if(!E||E.injector.get(xw,!1)){const A=[...o,...h,{provide:l,useValue:!0}];n?n(A):function DI(n){if(Id&&!Id.get(xw,!1))throw new Fe(400,!1);Id=n;const i=n.get(Vw);(function kw(n){const i=n.get(Tw,null);i&&i.forEach(o=>o())})(n)}(function Lw(n=[],i){return yc.create({name:i,providers:[{provide:kl,useValue:"platform"},{provide:hE,useValue:new Set([()=>Id=null])},...n]})}(A,u))}return function TI(n){const i=fE();if(!i)throw new Fe(401,!1);return i}()}}function fE(){return Id?.get(Vw)??null}let Vw=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const l=function Bw(n,i){let o;return o="noop"===n?new yI:("zone.js"===n?void 0:n)||new rl(i),o}(u?.ngZone,function Uw(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(u)),h=[{provide:rl,useValue:l}];return l.run(()=>{const E=yc.create({providers:h,parent:this.injector,name:o.moduleType.name}),A=o.create(E),N=A.injector.get(fc,null);if(!N)throw new Fe(402,!1);return l.runOutsideAngular(()=>{const K=l.onError.subscribe({next:X=>{N.handleError(X)}});A.onDestroy(()=>{Qv(this._modules,A),K.unsubscribe()})}),function jw(n,i,o){try{const u=o();return Gl(u)?u.catch(l=>{throw i.runOutsideAngular(()=>n.handleError(l)),l}):u}catch(u){throw i.runOutsideAngular(()=>n.handleError(u)),u}}(N,l,()=>{const K=A.injector.get(qv);return K.runInitializers(),K.donePromise.then(()=>(function o0(n){wt(n,"Expected localeId to be defined"),"string"==typeof n&&(Gg=n.toLowerCase().replace(/_/g,"-"))}(A.injector.get(Zv,fd)||fd),this._moduleDoBootstrap(A),A))})})}bootstrapModule(o,u=[]){const l=$w({},u);return function EI(n,i,o){const u=new Dv(o);return Promise.resolve(u)}(0,0,o).then(h=>this.bootstrapModuleFactory(h,l))}_moduleDoBootstrap(o){const u=o.injector.get(Yv);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(l=>u.bootstrap(l));else{if(!o.instance.ngDoBootstrap)throw new Fe(-403,!1);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Fe(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const o=this._injector.get(hE,null);o&&(o.forEach(u=>u()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(o){return new(o||n)(dn(yc))},n.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function $w(n,i){return Array.isArray(i)?i.reduce($w,n):{...n,...i}}let Yv=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(o,u,l){this._zone=o,this._injector=u,this._exceptionHandler=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new B.y(A=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{A.next(this._stable),A.complete()})}),E=new B.y(A=>{let N;this._zone.runOutsideAngular(()=>{N=this._zone.onStable.subscribe(()=>{rl.assertNotInAngularZone(),uE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,A.next(!0))})})});const K=this._zone.onUnstable.subscribe(()=>{rl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{A.next(!1)}))});return()=>{N.unsubscribe(),K.unsubscribe()}});this.isStable=(0,ue.T)(h,E.pipe((0,he.B)()))}bootstrap(o,u){const l=o instanceof Fd;if(!this._injector.get(qv).done){!l&&Pr(o);throw new Fe(405,kc)}let E;E=l?o:this._injector.get(hc).resolveComponentFactory(o),this.componentTypes.push(E.componentType);const A=function wI(n){return n.isBoundToModule}(E)?void 0:this._injector.get(yh),K=E.create(yc.NULL,[],u||E.selector,A),X=K.location.nativeElement,de=K.injector.get(Pw,null);return de?.registerApplication(X),K.onDestroy(()=>{this.detachView(K.hostView),Qv(this.components,K),de?.unregisterApplication(X)}),this._loadComponent(K),K}tick(){if(this._runningTick)throw new Fe(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;Qv(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const u=this._injector.get(Nw,[]);u.push(...this._bootstrapListeners),u.forEach(l=>l(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>Qv(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new Fe(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(o){return new(o||n)(dn(rl),dn(hu),dn(fc))},n.\u0275prov=Be({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Qv(n,i){const o=n.indexOf(i);o>-1&&n.splice(o,1)}function SI(){return!1}let AI=(()=>{class n{}return n.__NG_ELEMENT_ID__=MI,n})();function MI(n){return function PI(n,i,o){if(ms(n)&&!o){const u=oi(n.index,i);return new nd(u,u)}return 47&n.type?new nd(i[gn],i):null}(Hr(),it(),16==(16&n))}class Kw{constructor(){}supports(i){return id(i)}create(i){return new FI(i)}}const kI=(n,i)=>i;class FI{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||kI}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,u=this._removalsHead,l=0,h=null;for(;o||u;){const E=!u||o&&o.currentIndex<Zw(u,l,h)?o:u,A=Zw(E,l,h),N=E.currentIndex;if(E===u)l--,u=u._nextRemoved;else if(o=o._next,null==E.previousIndex)l++;else{h||(h=[]);const K=A-l,X=N-l;if(K!=X){for(let Ve=0;Ve<K;Ve++){const tt=Ve<h.length?h[Ve]:h[Ve]=0,Mt=tt+Ve;X<=Mt&&Mt<K&&(h[Ve]=tt+1)}h[E.previousIndex]=X-K}}A!==N&&i(E,A,N)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!id(i))throw new Fe(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let l,h,E,o=this._itHead,u=!1;if(Array.isArray(i)){this.length=i.length;for(let A=0;A<this.length;A++)h=i[A],E=this._trackByFn(A,h),null!==o&&Object.is(o.trackById,E)?(u&&(o=this._verifyReinsertion(o,h,E,A)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,E,A),u=!0),o=o._next}else l=0,function B_(n,i){if(Array.isArray(n))for(let o=0;o<n.length;o++)i(n[o]);else{const o=n[Symbol.iterator]();let u;for(;!(u=o.next()).done;)i(u.value)}}(i,A=>{E=this._trackByFn(l,A),null!==o&&Object.is(o.trackById,E)?(u&&(o=this._verifyReinsertion(o,A,E,l)),Object.is(o.item,A)||this._addIdentityChange(o,A)):(o=this._mismatch(o,A,E,l),u=!0),o=o._next,l++}),this.length=l;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,u,l){let h;return null===i?h=this._itTail:(h=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,h,l)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(u,l))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,h,l)):i=this._addAfter(new LI(o,u),h,l),i}_verifyReinsertion(i,o,u,l){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==h?i=this._reinsertAfter(h,i._prev,l):i.currentIndex!=l&&(i.currentIndex=l,this._addToMoves(i,l)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const l=i._prevRemoved,h=i._nextRemoved;return null===l?this._removalsHead=h:l._nextRemoved=h,null===h?this._removalsTail=l:h._prevRemoved=l,this._insertAfter(i,o,u),this._addToMoves(i,u),i}_moveAfter(i,o,u){return this._unlink(i),this._insertAfter(i,o,u),this._addToMoves(i,u),i}_addAfter(i,o,u){return this._insertAfter(i,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,u){const l=null===o?this._itHead:o._next;return i._next=l,i._prev=o,null===l?this._itTail=i:l._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new qw),this._linkedRecords.put(i),i.currentIndex=u,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,u=i._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new qw),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class LI{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class VI{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,i))return u;return null}remove(i){const o=i._prevDup,u=i._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class qw{constructor(){this.map=new Map}put(i){const o=i.trackById;let u=this.map.get(o);u||(u=new VI,this.map.set(o,u)),u.add(i)}get(i,o){const l=this.map.get(i);return l?l.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Zw(n,i,o){const u=n.previousIndex;if(null===u)return u;let l=0;return o&&u<o.length&&(l=o[u]),u+i+l}class Yw{constructor(){}supports(i){return i instanceof Map||Dc(i)}create(){return new UI}}class UI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||Dc(i)))throw new Fe(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(u,l)=>{if(o&&o.key===l)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(l,u);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const u=i._prev;return o._next=i,o._prev=u,i._prev=o,u&&(u._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const l=this._records.get(i);this._maybeAddToChanges(l,o);const h=l._prev,E=l._next;return h&&(h._next=E),E&&(E._prev=h),l._next=null,l._prev=null,l}const u=new BI(i);return this._records.set(i,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(u=>o(i[u],u))}}class BI{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Qw(){return new vE([new Kw])}let vE=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(null!=u){const l=u.factories.slice();o=o.concat(l)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||Qw()),deps:[[n,new Mo,new Ao]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(null!=u)return u;throw new Fe(901,!1)}}return n.\u0275prov=Be({token:n,providedIn:"root",factory:Qw}),n})();function Jw(){return new _E([new Yw])}let _E=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(u){const l=u.factories.slice();o=o.concat(l)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||Jw()),deps:[[n,new Mo,new Ao]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(u)return u;throw new Fe(901,!1)}}return n.\u0275prov=Be({token:n,providedIn:"root",factory:Jw}),n})();const HI=Fw(null,"core",[]);let zI=(()=>{class n{constructor(o){}}return n.\u0275fac=function(o){return new(o||n)(dn(Yv))},n.\u0275mod=Ke({type:n}),n.\u0275inj=Wt({}),n})();function GI(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},4006:(Lt,je,L)=>{L.d(je,{EJ:()=>ro,Fj:()=>ce,JJ:()=>Mn,JL:()=>xt,JU:()=>Oe,Kr:()=>Vo,NI:()=>xe,UX:()=>Co,Wl:()=>re,YN:()=>vs,_Y:()=>ar,a5:()=>_n,cw:()=>pt,kI:()=>be,qu:()=>Do,sg:()=>Br,u:()=>ys,u5:()=>En,wV:()=>wo});var f=L(4650),D=L(6895),B=L(8996),ue=L(4128),he=L(4004);let we=(()=>{class ${constructor(x,J){this._renderer=x,this._elementRef=J,this.onChange=nt=>{},this.onTouched=()=>{}}setProperty(x,J){this._renderer.setProperty(this._elementRef.nativeElement,x,J)}registerOnTouched(x){this.onTouched=x}registerOnChange(x){this.onChange=x}setDisabledState(x){this.setProperty("disabled",x)}}return $.\u0275fac=function(x){return new(x||$)(f.Y36(f.Qsj),f.Y36(f.SBq))},$.\u0275dir=f.lG2({type:$}),$})(),Te=(()=>{class $ extends we{}return $.\u0275fac=function(){let V;return function(J){return(V||(V=f.n5z($)))(J||$)}}(),$.\u0275dir=f.lG2({type:$,features:[f.qOj]}),$})();const Oe=new f.OlP("NgValueAccessor"),ge={provide:Oe,useExisting:(0,f.Gpc)(()=>re),multi:!0};let re=(()=>{class $ extends Te{writeValue(x){this.setProperty("checked",x)}}return $.\u0275fac=function(){let V;return function(J){return(V||(V=f.n5z($)))(J||$)}}(),$.\u0275dir=f.lG2({type:$,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(x,J){1&x&&f.NdJ("change",function(tn){return J.onChange(tn.target.checked)})("blur",function(){return J.onTouched()})},features:[f._Bn([ge]),f.qOj]}),$})();const ie={provide:Oe,useExisting:(0,f.Gpc)(()=>ce),multi:!0},ke=new f.OlP("CompositionEventMode");let ce=(()=>{class $ extends we{constructor(x,J,nt){super(x,J),this._compositionMode=nt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ne(){const $=(0,D.q)()?(0,D.q)().getUserAgent():"";return/android (\d+)/.test($.toLowerCase())}())}writeValue(x){this.setProperty("value",x??"")}_handleInput(x){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(x)}_compositionStart(){this._composing=!0}_compositionEnd(x){this._composing=!1,this._compositionMode&&this.onChange(x)}}return $.\u0275fac=function(x){return new(x||$)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(ke,8))},$.\u0275dir=f.lG2({type:$,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(x,J){1&x&&f.NdJ("input",function(tn){return J._handleInput(tn.target.value)})("blur",function(){return J.onTouched()})("compositionstart",function(){return J._compositionStart()})("compositionend",function(tn){return J._compositionEnd(tn.target.value)})},features:[f._Bn([ie]),f.qOj]}),$})();const We=!1;function ct($){return null==$||("string"==typeof $||Array.isArray($))&&0===$.length}function Fe($){return null!=$&&"number"==typeof $.length}const Ge=new f.OlP("NgValidators"),et=new f.OlP("NgAsyncValidators"),mt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class be{static min(V){return function De($){return V=>{if(ct(V.value)||ct($))return null;const x=parseFloat(V.value);return!isNaN(x)&&x<$?{min:{min:$,actual:V.value}}:null}}(V)}static max(V){return function st($){return V=>{if(ct(V.value)||ct($))return null;const x=parseFloat(V.value);return!isNaN(x)&&x>$?{max:{max:$,actual:V.value}}:null}}(V)}static required(V){return function Ct($){return ct($.value)?{required:!0}:null}(V)}static requiredTrue(V){return function yt($){return!0===$.value?null:{required:!0}}(V)}static email(V){return function $e($){return ct($.value)||mt.test($.value)?null:{email:!0}}(V)}static minLength(V){return function kt($){return V=>ct(V.value)||!Fe(V.value)?null:V.value.length<$?{minlength:{requiredLength:$,actualLength:V.value.length}}:null}(V)}static maxLength(V){return function Qt($){return V=>Fe(V.value)&&V.value.length>$?{maxlength:{requiredLength:$,actualLength:V.value.length}}:null}(V)}static pattern(V){return function Tt($){if(!$)return Cn;let V,x;return"string"==typeof $?(x="","^"!==$.charAt(0)&&(x+="^"),x+=$,"$"!==$.charAt($.length-1)&&(x+="$"),V=new RegExp(x)):(x=$.toString(),V=$),J=>{if(ct(J.value))return null;const nt=J.value;return V.test(nt)?null:{pattern:{requiredPattern:x,actualValue:nt}}}}(V)}static nullValidator(V){return null}static compose(V){return bt(V)}static composeAsync(V){return vt(V)}}function Cn($){return null}function Ut($){return null!=$}function gi($){const V=(0,f.QGY)($)?(0,B.D)($):$;if(We&&!(0,f.CqO)(V)){let x="Expected async validator to return Promise or Observable.";throw"object"==typeof $&&(x+=" Are you using a synchronous validator where an async validator is expected?"),new f.vHH(-1101,x)}return V}function ot($){let V={};return $.forEach(x=>{V=null!=x?{...V,...x}:V}),0===Object.keys(V).length?null:V}function Ze($,V){return V.map(x=>x($))}function ft($){return $.map(V=>function ut($){return!$.validate}(V)?V:x=>V.validate(x))}function bt($){if(!$)return null;const V=$.filter(Ut);return 0==V.length?null:function(x){return ot(Ze(x,V))}}function wt($){return null!=$?bt(ft($)):null}function vt($){if(!$)return null;const V=$.filter(Ut);return 0==V.length?null:function(x){const J=Ze(x,V).map(gi);return(0,ue.D)(J).pipe((0,he.U)(ot))}}function ze($){return null!=$?vt(ft($)):null}function Pt($,V){return null===$?[V]:Array.isArray($)?[...$,V]:[$,V]}function _e($){return $._rawValidators}function Be($){return $._rawAsyncValidators}function at($){return $?Array.isArray($)?$:[$]:[]}function Wt($,V){return Array.isArray($)?$.includes(V):$===V}function Rn($,V){const x=at(V);return at($).forEach(nt=>{Wt(x,nt)||x.push(nt)}),x}function Xn($,V){return at(V).filter(x=>!Wt($,x))}class ir{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(V){this._rawValidators=V||[],this._composedValidatorFn=wt(this._rawValidators)}_setAsyncValidators(V){this._rawAsyncValidators=V||[],this._composedAsyncValidatorFn=ze(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(V){this._onDestroyCallbacks.push(V)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(V=>V()),this._onDestroyCallbacks=[]}reset(V){this.control&&this.control.reset(V)}hasError(V,x){return!!this.control&&this.control.hasError(V,x)}getError(V,x){return this.control?this.control.getError(V,x):null}}class Nn extends ir{get formDirective(){return null}get path(){return null}}class _n extends ir{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Mr{constructor(V){this._cd=V}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Mn=(()=>{class $ extends Mr{constructor(x){super(x)}}return $.\u0275fac=function(x){return new(x||$)(f.Y36(_n,2))},$.\u0275dir=f.lG2({type:$,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(x,J){2&x&&f.ekj("ng-untouched",J.isUntouched)("ng-touched",J.isTouched)("ng-pristine",J.isPristine)("ng-dirty",J.isDirty)("ng-valid",J.isValid)("ng-invalid",J.isInvalid)("ng-pending",J.isPending)},features:[f.qOj]}),$})(),xt=(()=>{class $ extends Mr{constructor(x){super(x)}}return $.\u0275fac=function(x){return new(x||$)(f.Y36(Nn,10))},$.\u0275dir=f.lG2({type:$,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(x,J){2&x&&f.ekj("ng-untouched",J.isUntouched)("ng-touched",J.isTouched)("ng-pristine",J.isPristine)("ng-dirty",J.isDirty)("ng-valid",J.isValid)("ng-invalid",J.isInvalid)("ng-pending",J.isPending)("ng-submitted",J.isSubmitted)},features:[f.qOj]}),$})();function gr($,V){return $?`with name: '${V}'`:`at index: ${V}`}const wn=!1,kr="VALID",dn="INVALID",Vn="PENDING",nr="DISABLED";function sr($){return(vr($)?$.validators:$)||null}function Xr($,V){return(vr(V)?V.asyncValidators:$)||null}function vr($){return null!=$&&!Array.isArray($)&&"object"==typeof $}function me($,V,x){const J=$.controls;if(!(V?Object.keys(J):J).length)throw new f.vHH(1e3,wn?function br($){return`\n    There are no form controls registered with this ${$?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(V):"");if(!J[x])throw new f.vHH(1001,wn?function kn($,V){return`Cannot find form control ${gr($,V)}`}(V,x):"")}function pe($,V,x){$._forEachChild((J,nt)=>{if(void 0===x[nt])throw new f.vHH(1002,wn?function zt($,V){return`Must supply a value for form control ${gr($,V)}`}(V,nt):"")})}class Se{constructor(V,x){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(V),this._assignAsyncValidators(x)}get validator(){return this._composedValidatorFn}set validator(V){this._rawValidators=this._composedValidatorFn=V}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(V){this._rawAsyncValidators=this._composedAsyncValidatorFn=V}get parent(){return this._parent}get valid(){return this.status===kr}get invalid(){return this.status===dn}get pending(){return this.status==Vn}get disabled(){return this.status===nr}get enabled(){return this.status!==nr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(V){this._assignValidators(V)}setAsyncValidators(V){this._assignAsyncValidators(V)}addValidators(V){this.setValidators(Rn(V,this._rawValidators))}addAsyncValidators(V){this.setAsyncValidators(Rn(V,this._rawAsyncValidators))}removeValidators(V){this.setValidators(Xn(V,this._rawValidators))}removeAsyncValidators(V){this.setAsyncValidators(Xn(V,this._rawAsyncValidators))}hasValidator(V){return Wt(this._rawValidators,V)}hasAsyncValidator(V){return Wt(this._rawAsyncValidators,V)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(V={}){this.touched=!0,this._parent&&!V.onlySelf&&this._parent.markAsTouched(V)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(V=>V.markAllAsTouched())}markAsUntouched(V={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(x=>{x.markAsUntouched({onlySelf:!0})}),this._parent&&!V.onlySelf&&this._parent._updateTouched(V)}markAsDirty(V={}){this.pristine=!1,this._parent&&!V.onlySelf&&this._parent.markAsDirty(V)}markAsPristine(V={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(x=>{x.markAsPristine({onlySelf:!0})}),this._parent&&!V.onlySelf&&this._parent._updatePristine(V)}markAsPending(V={}){this.status=Vn,!1!==V.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!V.onlySelf&&this._parent.markAsPending(V)}disable(V={}){const x=this._parentMarkedDirty(V.onlySelf);this.status=nr,this.errors=null,this._forEachChild(J=>{J.disable({...V,onlySelf:!0})}),this._updateValue(),!1!==V.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...V,skipPristineCheck:x}),this._onDisabledChange.forEach(J=>J(!0))}enable(V={}){const x=this._parentMarkedDirty(V.onlySelf);this.status=kr,this._forEachChild(J=>{J.enable({...V,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:V.emitEvent}),this._updateAncestors({...V,skipPristineCheck:x}),this._onDisabledChange.forEach(J=>J(!1))}_updateAncestors(V){this._parent&&!V.onlySelf&&(this._parent.updateValueAndValidity(V),V.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(V){this._parent=V}getRawValue(){return this.value}updateValueAndValidity(V={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===kr||this.status===Vn)&&this._runAsyncValidator(V.emitEvent)),!1!==V.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!V.onlySelf&&this._parent.updateValueAndValidity(V)}_updateTreeValidity(V={emitEvent:!0}){this._forEachChild(x=>x._updateTreeValidity(V)),this.updateValueAndValidity({onlySelf:!0,emitEvent:V.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?nr:kr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(V){if(this.asyncValidator){this.status=Vn,this._hasOwnPendingAsyncValidator=!0;const x=gi(this.asyncValidator(this));this._asyncValidationSubscription=x.subscribe(J=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(J,{emitEvent:V})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(V,x={}){this.errors=V,this._updateControlsErrors(!1!==x.emitEvent)}get(V){let x=V;return null==x||(Array.isArray(x)||(x=x.split(".")),0===x.length)?null:x.reduce((J,nt)=>J&&J._find(nt),this)}getError(V,x){const J=x?this.get(x):this;return J&&J.errors?J.errors[V]:null}hasError(V,x){return!!this.getError(V,x)}get root(){let V=this;for(;V._parent;)V=V._parent;return V}_updateControlsErrors(V){this.status=this._calculateStatus(),V&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(V)}_initObservables(){this.valueChanges=new f.vpe,this.statusChanges=new f.vpe}_calculateStatus(){return this._allControlsDisabled()?nr:this.errors?dn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Vn)?Vn:this._anyControlsHaveStatus(dn)?dn:kr}_anyControlsHaveStatus(V){return this._anyControls(x=>x.status===V)}_anyControlsDirty(){return this._anyControls(V=>V.dirty)}_anyControlsTouched(){return this._anyControls(V=>V.touched)}_updatePristine(V={}){this.pristine=!this._anyControlsDirty(),this._parent&&!V.onlySelf&&this._parent._updatePristine(V)}_updateTouched(V={}){this.touched=this._anyControlsTouched(),this._parent&&!V.onlySelf&&this._parent._updateTouched(V)}_registerOnCollectionChange(V){this._onCollectionChange=V}_setUpdateStrategy(V){vr(V)&&null!=V.updateOn&&(this._updateOn=V.updateOn)}_parentMarkedDirty(V){return!V&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(V){return null}_assignValidators(V){this._rawValidators=Array.isArray(V)?V.slice():V,this._composedValidatorFn=function Ot($){return Array.isArray($)?wt($):$||null}(this._rawValidators)}_assignAsyncValidators(V){this._rawAsyncValidators=Array.isArray(V)?V.slice():V,this._composedAsyncValidatorFn=function an($){return Array.isArray($)?ze($):$||null}(this._rawAsyncValidators)}}class pt extends Se{constructor(V,x,J){super(sr(x),Xr(J,x)),this.controls=V,this._initObservables(),this._setUpdateStrategy(x),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(V,x){return this.controls[V]?this.controls[V]:(this.controls[V]=x,x.setParent(this),x._registerOnCollectionChange(this._onCollectionChange),x)}addControl(V,x,J={}){this.registerControl(V,x),this.updateValueAndValidity({emitEvent:J.emitEvent}),this._onCollectionChange()}removeControl(V,x={}){this.controls[V]&&this.controls[V]._registerOnCollectionChange(()=>{}),delete this.controls[V],this.updateValueAndValidity({emitEvent:x.emitEvent}),this._onCollectionChange()}setControl(V,x,J={}){this.controls[V]&&this.controls[V]._registerOnCollectionChange(()=>{}),delete this.controls[V],x&&this.registerControl(V,x),this.updateValueAndValidity({emitEvent:J.emitEvent}),this._onCollectionChange()}contains(V){return this.controls.hasOwnProperty(V)&&this.controls[V].enabled}setValue(V,x={}){pe(this,!0,V),Object.keys(V).forEach(J=>{me(this,!0,J),this.controls[J].setValue(V[J],{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x)}patchValue(V,x={}){null!=V&&(Object.keys(V).forEach(J=>{const nt=this.controls[J];nt&&nt.patchValue(V[J],{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x))}reset(V={},x={}){this._forEachChild((J,nt)=>{J.reset(V[nt],{onlySelf:!0,emitEvent:x.emitEvent})}),this._updatePristine(x),this._updateTouched(x),this.updateValueAndValidity(x)}getRawValue(){return this._reduceChildren({},(V,x,J)=>(V[J]=x.getRawValue(),V))}_syncPendingControls(){let V=this._reduceChildren(!1,(x,J)=>!!J._syncPendingControls()||x);return V&&this.updateValueAndValidity({onlySelf:!0}),V}_forEachChild(V){Object.keys(this.controls).forEach(x=>{const J=this.controls[x];J&&V(J,x)})}_setUpControls(){this._forEachChild(V=>{V.setParent(this),V._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(V){for(const[x,J]of Object.entries(this.controls))if(this.contains(x)&&V(J))return!0;return!1}_reduceValue(){return this._reduceChildren({},(x,J,nt)=>((J.enabled||this.disabled)&&(x[nt]=J.value),x))}_reduceChildren(V,x){let J=V;return this._forEachChild((nt,tn)=>{J=x(J,nt,tn)}),J}_allControlsDisabled(){for(const V of Object.keys(this.controls))if(this.controls[V].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(V){return this.controls.hasOwnProperty(V)?this.controls[V]:null}}class Ie extends pt{}const se=new f.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Ae}),Ae="always";function At($,V,x=Ae){ei($,V),V.valueAccessor.writeValue($.value),($.disabled||"always"===x)&&V.valueAccessor.setDisabledState?.($.disabled),function Ke($,V){V.valueAccessor.registerOnChange(x=>{$._pendingValue=x,$._pendingChange=!0,$._pendingDirty=!0,"change"===$.updateOn&&Gt($,V)})}($,V),function ln($,V){const x=(J,nt)=>{V.valueAccessor.writeValue(J),nt&&V.viewToModelUpdate(J)};$.registerOnChange(x),V._registerOnDestroy(()=>{$._unregisterOnChange(x)})}($,V),function St($,V){V.valueAccessor.registerOnTouched(()=>{$._pendingTouched=!0,"blur"===$.updateOn&&$._pendingChange&&Gt($,V),"submit"!==$.updateOn&&$.markAsTouched()})}($,V),function Tn($,V){if(V.valueAccessor.setDisabledState){const x=J=>{V.valueAccessor.setDisabledState(J)};$.registerOnDisabledChange(x),V._registerOnDestroy(()=>{$._unregisterOnDisabledChange(x)})}}($,V)}function rn($,V,x=!0){const J=()=>{};V.valueAccessor&&(V.valueAccessor.registerOnChange(J),V.valueAccessor.registerOnTouched(J)),rt($,V),$&&(V._invokeOnDestroyCallbacks(),$._registerOnCollectionChange(()=>{}))}function Gn($,V){$.forEach(x=>{x.registerOnValidatorChange&&x.registerOnValidatorChange(V)})}function ei($,V){const x=_e($);null!==V.validator?$.setValidators(Pt(x,V.validator)):"function"==typeof x&&$.setValidators([x]);const J=Be($);null!==V.asyncValidator?$.setAsyncValidators(Pt(J,V.asyncValidator)):"function"==typeof J&&$.setAsyncValidators([J]);const nt=()=>$.updateValueAndValidity();Gn(V._rawValidators,nt),Gn(V._rawAsyncValidators,nt)}function rt($,V){let x=!1;if(null!==$){if(null!==V.validator){const nt=_e($);if(Array.isArray(nt)&&nt.length>0){const tn=nt.filter($r=>$r!==V.validator);tn.length!==nt.length&&(x=!0,$.setValidators(tn))}}if(null!==V.asyncValidator){const nt=Be($);if(Array.isArray(nt)&&nt.length>0){const tn=nt.filter($r=>$r!==V.asyncValidator);tn.length!==nt.length&&(x=!0,$.setAsyncValidators(tn))}}}const J=()=>{};return Gn(V._rawValidators,J),Gn(V._rawAsyncValidators,J),x}function Gt($,V){$._pendingDirty&&$.markAsDirty(),$.setValue($._pendingValue,{emitModelToViewChange:!1}),V.viewToModelUpdate($._pendingValue),$._pendingChange=!1}function Ai($,V){const x=$.indexOf(V);x>-1&&$.splice(x,1)}function _r($){return"object"==typeof $&&null!==$&&2===Object.keys($).length&&"value"in $&&"disabled"in $}const xe=class extends Se{constructor(V=null,x,J){super(sr(x),Xr(J,x)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(V),this._setUpdateStrategy(x),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),vr(x)&&(x.nonNullable||x.initialValueIsDefault)&&(this.defaultValue=_r(V)?V.value:V)}setValue(V,x={}){this.value=this._pendingValue=V,this._onChange.length&&!1!==x.emitModelToViewChange&&this._onChange.forEach(J=>J(this.value,!1!==x.emitViewToModelChange)),this.updateValueAndValidity(x)}patchValue(V,x={}){this.setValue(V,x)}reset(V=this.defaultValue,x={}){this._applyFormState(V),this.markAsPristine(x),this.markAsUntouched(x),this.setValue(this.value,x),this._pendingChange=!1}_updateValue(){}_anyControls(V){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(V){this._onChange.push(V)}_unregisterOnChange(V){Ai(this._onChange,V)}registerOnDisabledChange(V){this._onDisabledChange.push(V)}_unregisterOnDisabledChange(V){Ai(this._onDisabledChange,V)}_forEachChild(V){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(V){_r(V)?(this.value=this._pendingValue=V.value,V.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=V}};let ar=(()=>{class ${}return $.\u0275fac=function(x){return new(x||$)},$.\u0275dir=f.lG2({type:$,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),$})();const es={provide:Oe,useExisting:(0,f.Gpc)(()=>wo),multi:!0};let wo=(()=>{class $ extends Te{writeValue(x){this.setProperty("value",x??"")}registerOnChange(x){this.onChange=J=>{x(""==J?null:parseFloat(J))}}}return $.\u0275fac=function(){let V;return function(J){return(V||(V=f.n5z($)))(J||$)}}(),$.\u0275dir=f.lG2({type:$,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(x,J){1&x&&f.NdJ("input",function(tn){return J.onChange(tn.target.value)})("blur",function(){return J.onTouched()})},features:[f._Bn([es]),f.qOj]}),$})(),qi=(()=>{class ${}return $.\u0275fac=function(x){return new(x||$)},$.\u0275mod=f.oAB({type:$}),$.\u0275inj=f.cJS({}),$})();const ur=new f.OlP("NgModelWithFormControlWarning"),Fi={provide:Nn,useExisting:(0,f.Gpc)(()=>Br)};let Br=(()=>{class $ extends Nn{constructor(x,J,nt){super(),this.callSetDisabledState=nt,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new f.vpe,this._setValidators(x),this._setAsyncValidators(J)}ngOnChanges(x){this._checkFormPresent(),x.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(rt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(x){const J=this.form.get(x.path);return At(J,x,this.callSetDisabledState),J.updateValueAndValidity({emitEvent:!1}),this.directives.push(x),J}getControl(x){return this.form.get(x.path)}removeControl(x){rn(x.control||null,x,!1),function pn($,V){const x=$.indexOf(V);x>-1&&$.splice(x,1)}(this.directives,x)}addFormGroup(x){this._setUpFormContainer(x)}removeFormGroup(x){this._cleanUpFormContainer(x)}getFormGroup(x){return this.form.get(x.path)}addFormArray(x){this._setUpFormContainer(x)}removeFormArray(x){this._cleanUpFormContainer(x)}getFormArray(x){return this.form.get(x.path)}updateModel(x,J){this.form.get(x.path).setValue(J)}onSubmit(x){return this.submitted=!0,function or($,V){$._syncPendingControls(),V.forEach(x=>{const J=x.control;"submit"===J.updateOn&&J._pendingChange&&(x.viewToModelUpdate(J._pendingValue),J._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(x),"dialog"===x?.target?.method}onReset(){this.resetForm()}resetForm(x){this.form.reset(x),this.submitted=!1}_updateDomValue(){this.directives.forEach(x=>{const J=x.control,nt=this.form.get(x.path);J!==nt&&(rn(J||null,x),($=>$ instanceof xe)(nt)&&(At(nt,x,this.callSetDisabledState),x.control=nt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(x){const J=this.form.get(x.path);(function In($,V){ei($,V)})(J,x),J.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(x){if(this.form){const J=this.form.get(x.path);J&&function Zt($,V){return rt($,V)}(J,x)&&J.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ei(this.form,this),this._oldForm&&rt(this._oldForm,this)}_checkFormPresent(){}}return $.\u0275fac=function(x){return new(x||$)(f.Y36(Ge,10),f.Y36(et,10),f.Y36(se,8))},$.\u0275dir=f.lG2({type:$,selectors:[["","formGroup",""]],hostBindings:function(x,J){1&x&&f.NdJ("submit",function(tn){return J.onSubmit(tn)})("reset",function(){return J.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([Fi]),f.qOj,f.TTD]}),$})();const Fo={provide:_n,useExisting:(0,f.Gpc)(()=>ys)};let ys=(()=>{class $ extends _n{set isDisabled(x){}constructor(x,J,nt,tn,$r){super(),this._ngModelWarningConfig=$r,this._added=!1,this.update=new f.vpe,this._ngModelWarningSent=!1,this._parent=x,this._setValidators(J),this._setAsyncValidators(nt),this.valueAccessor=function Vt($,V){if(!V)return null;let x,J,nt;return Array.isArray(V),V.forEach(tn=>{tn.constructor===ce?x=tn:function Ki($){return Object.getPrototypeOf($.constructor)===Te}(tn)?J=tn:nt=tn}),nt||J||x||null}(0,tn)}ngOnChanges(x){this._added||this._setUpControl(),function eo($,V){if(!$.hasOwnProperty("model"))return!1;const x=$.model;return!!x.isFirstChange()||!Object.is(V,x.currentValue)}(x,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(x){this.viewModel=x,this.update.emit(x)}get path(){return function dt($,V){return[...V.path,$]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return $._ngModelWarningSentOnce=!1,$.\u0275fac=function(x){return new(x||$)(f.Y36(Nn,13),f.Y36(Ge,10),f.Y36(et,10),f.Y36(Oe,10),f.Y36(ur,8))},$.\u0275dir=f.lG2({type:$,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[f._Bn([Fo]),f.qOj,f.TTD]}),$})();const no={provide:Oe,useExisting:(0,f.Gpc)(()=>ro),multi:!0};function Lo($,V){return null==$?`${V}`:(V&&"object"==typeof V&&(V="Object"),`${$}: ${V}`.slice(0,50))}let ro=(()=>{class $ extends Te{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(x){this._compareWith=x}writeValue(x){this.value=x;const nt=Lo(this._getOptionId(x),x);this.setProperty("value",nt)}registerOnChange(x){this.onChange=J=>{this.value=this._getOptionValue(J),x(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(x){for(const J of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(J),x))return J;return null}_getOptionValue(x){const J=function Yo($){return $.split(":")[0]}(x);return this._optionMap.has(J)?this._optionMap.get(J):x}}return $.\u0275fac=function(){let V;return function(J){return(V||(V=f.n5z($)))(J||$)}}(),$.\u0275dir=f.lG2({type:$,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(x,J){1&x&&f.NdJ("change",function(tn){return J.onChange(tn.target.value)})("blur",function(){return J.onTouched()})},inputs:{compareWith:"compareWith"},features:[f._Bn([no]),f.qOj]}),$})(),vs=(()=>{class ${constructor(x,J,nt){this._element=x,this._renderer=J,this._select=nt,this._select&&(this.id=this._select._registerOption())}set ngValue(x){null!=this._select&&(this._select._optionMap.set(this.id,x),this._setElementValue(Lo(this.id,x)),this._select.writeValue(this._select.value))}set value(x){this._setElementValue(x),this._select&&this._select.writeValue(this._select.value)}_setElementValue(x){this._renderer.setProperty(this._element.nativeElement,"value",x)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return $.\u0275fac=function(x){return new(x||$)(f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(ro,9))},$.\u0275dir=f.lG2({type:$,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),$})();const ca={provide:Oe,useExisting:(0,f.Gpc)(()=>Hi),multi:!0};function di($,V){return null==$?`${V}`:("string"==typeof V&&(V=`'${V}'`),V&&"object"==typeof V&&(V="Object"),`${$}: ${V}`.slice(0,50))}let Hi=(()=>{class $ extends Te{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(x){this._compareWith=x}writeValue(x){let J;if(this.value=x,Array.isArray(x)){const nt=x.map(tn=>this._getOptionId(tn));J=(tn,$r)=>{tn._setSelected(nt.indexOf($r.toString())>-1)}}else J=(nt,tn)=>{nt._setSelected(!1)};this._optionMap.forEach(J)}registerOnChange(x){this.onChange=J=>{const nt=[],tn=J.selectedOptions;if(void 0!==tn){const $r=tn;for(let it=0;it<$r.length;it++){const fi=this._getOptionValue($r[it].value);nt.push(fi)}}else{const $r=J.options;for(let it=0;it<$r.length;it++){const mn=$r[it];if(mn.selected){const fi=this._getOptionValue(mn.value);nt.push(fi)}}}this.value=nt,x(nt)}}_registerOption(x){const J=(this._idCounter++).toString();return this._optionMap.set(J,x),J}_getOptionId(x){for(const J of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(J)._value,x))return J;return null}_getOptionValue(x){const J=function Rs($){return $.split(":")[0]}(x);return this._optionMap.has(J)?this._optionMap.get(J)._value:x}}return $.\u0275fac=function(){let V;return function(J){return(V||(V=f.n5z($)))(J||$)}}(),$.\u0275dir=f.lG2({type:$,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(x,J){1&x&&f.NdJ("change",function(tn){return J.onChange(tn.target)})("blur",function(){return J.onTouched()})},inputs:{compareWith:"compareWith"},features:[f._Bn([ca]),f.qOj]}),$})(),Vo=(()=>{class ${constructor(x,J,nt){this._element=x,this._renderer=J,this._select=nt,this._select&&(this.id=this._select._registerOption(this))}set ngValue(x){null!=this._select&&(this._value=x,this._setElementValue(di(this.id,x)),this._select.writeValue(this._select.value))}set value(x){this._select?(this._value=x,this._setElementValue(di(this.id,x)),this._select.writeValue(this._select.value)):this._setElementValue(x)}_setElementValue(x){this._renderer.setProperty(this._element.nativeElement,"value",x)}_setSelected(x){this._renderer.setProperty(this._element.nativeElement,"selected",x)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return $.\u0275fac=function(x){return new(x||$)(f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(Hi,9))},$.\u0275dir=f.lG2({type:$,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),$})(),Zi=(()=>{class ${}return $.\u0275fac=function(x){return new(x||$)},$.\u0275mod=f.oAB({type:$}),$.\u0275inj=f.cJS({imports:[qi]}),$})();class hi extends Se{constructor(V,x,J){super(sr(x),Xr(J,x)),this.controls=V,this._initObservables(),this._setUpdateStrategy(x),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(V){return this.controls[this._adjustIndex(V)]}push(V,x={}){this.controls.push(V),this._registerControl(V),this.updateValueAndValidity({emitEvent:x.emitEvent}),this._onCollectionChange()}insert(V,x,J={}){this.controls.splice(V,0,x),this._registerControl(x),this.updateValueAndValidity({emitEvent:J.emitEvent})}removeAt(V,x={}){let J=this._adjustIndex(V);J<0&&(J=0),this.controls[J]&&this.controls[J]._registerOnCollectionChange(()=>{}),this.controls.splice(J,1),this.updateValueAndValidity({emitEvent:x.emitEvent})}setControl(V,x,J={}){let nt=this._adjustIndex(V);nt<0&&(nt=0),this.controls[nt]&&this.controls[nt]._registerOnCollectionChange(()=>{}),this.controls.splice(nt,1),x&&(this.controls.splice(nt,0,x),this._registerControl(x)),this.updateValueAndValidity({emitEvent:J.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(V,x={}){pe(this,!1,V),V.forEach((J,nt)=>{me(this,!1,nt),this.at(nt).setValue(J,{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x)}patchValue(V,x={}){null!=V&&(V.forEach((J,nt)=>{this.at(nt)&&this.at(nt).patchValue(J,{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x))}reset(V=[],x={}){this._forEachChild((J,nt)=>{J.reset(V[nt],{onlySelf:!0,emitEvent:x.emitEvent})}),this._updatePristine(x),this._updateTouched(x),this.updateValueAndValidity(x)}getRawValue(){return this.controls.map(V=>V.getRawValue())}clear(V={}){this.controls.length<1||(this._forEachChild(x=>x._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:V.emitEvent}))}_adjustIndex(V){return V<0?V+this.length:V}_syncPendingControls(){let V=this.controls.reduce((x,J)=>!!J._syncPendingControls()||x,!1);return V&&this.updateValueAndValidity({onlySelf:!0}),V}_forEachChild(V){this.controls.forEach((x,J)=>{V(x,J)})}_updateValue(){this.value=this.controls.filter(V=>V.enabled||this.disabled).map(V=>V.value)}_anyControls(V){return this.controls.some(x=>x.enabled&&V(x))}_setUpControls(){this._forEachChild(V=>this._registerControl(V))}_allControlsDisabled(){for(const V of this.controls)if(V.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(V){V.setParent(this),V._registerOnCollectionChange(this._onCollectionChange)}_find(V){return this.at(V)??null}}function Pi($){return!!$&&(void 0!==$.asyncValidators||void 0!==$.validators||void 0!==$.updateOn)}let Do=(()=>{class ${constructor(){this.useNonNullable=!1}get nonNullable(){const x=new $;return x.useNonNullable=!0,x}group(x,J=null){const nt=this._reduceControls(x);let tn={};return Pi(J)?tn=J:null!==J&&(tn.validators=J.validator,tn.asyncValidators=J.asyncValidator),new pt(nt,tn)}record(x,J=null){const nt=this._reduceControls(x);return new Ie(nt,J)}control(x,J,nt){let tn={};return this.useNonNullable?(Pi(J)?tn=J:(tn.validators=J,tn.asyncValidators=nt),new xe(x,{...tn,nonNullable:!0})):new xe(x,J,nt)}array(x,J,nt){const tn=x.map($r=>this._createControl($r));return new hi(tn,J,nt)}_reduceControls(x){const J={};return Object.keys(x).forEach(nt=>{J[nt]=this._createControl(x[nt])}),J}_createControl(x){return x instanceof xe||x instanceof Se?x:Array.isArray(x)?this.control(x[0],x.length>1?x[1]:null,x.length>2?x[2]:null):this.control(x)}}return $.\u0275fac=function(x){return new(x||$)},$.\u0275prov=f.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),$})(),En=(()=>{class ${static withConfig(x){return{ngModule:$,providers:[{provide:se,useValue:x.callSetDisabledState??Ae}]}}}return $.\u0275fac=function(x){return new(x||$)},$.\u0275mod=f.oAB({type:$}),$.\u0275inj=f.cJS({imports:[Zi]}),$})(),Co=(()=>{class ${static withConfig(x){return{ngModule:$,providers:[{provide:ur,useValue:x.warnOnNgModelWithFormControl??"always"},{provide:se,useValue:x.callSetDisabledState??Ae}]}}}return $.\u0275fac=function(x){return new(x||$)},$.\u0275mod=f.oAB({type:$}),$.\u0275inj=f.cJS({imports:[Zi]}),$})()},1481:(Lt,je,L)=>{L.d(je,{Dx:()=>Sn,H7:()=>Se,b2:()=>ki,q6:()=>bi,se:()=>Ut});var f=L(6895),D=L(4650);class B extends f.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ue extends B{static makeCurrent(){(0,f.HT)(new ue)}onAndCancel(Ce,se,Ae){return Ce.addEventListener(se,Ae,!1),()=>{Ce.removeEventListener(se,Ae,!1)}}dispatchEvent(Ce,se){Ce.dispatchEvent(se)}remove(Ce){Ce.parentNode&&Ce.parentNode.removeChild(Ce)}createElement(Ce,se){return(se=se||this.getDefaultDocument()).createElement(Ce)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Ce){return Ce.nodeType===Node.ELEMENT_NODE}isShadowRoot(Ce){return Ce instanceof DocumentFragment}getGlobalEventTarget(Ce,se){return"window"===se?window:"document"===se?Ce:"body"===se?Ce.body:null}getBaseHref(Ce){const se=function we(){return he=he||document.querySelector("base"),he?he.getAttribute("href"):null}();return null==se?null:function Oe(Ie){Te=Te||document.createElement("a"),Te.setAttribute("href",Ie);const Ce=Te.pathname;return"/"===Ce.charAt(0)?Ce:`/${Ce}`}(se)}resetBaseElement(){he=null}getUserAgent(){return window.navigator.userAgent}getCookie(Ce){return(0,f.Mx)(document.cookie,Ce)}}let Te,he=null;const ge=new D.OlP("TRANSITION_ID"),ie=[{provide:D.ip1,useFactory:function re(Ie,Ce,se){return()=>{se.get(D.CZH).donePromise.then(()=>{const Ae=(0,f.q)(),dt=Ce.querySelectorAll(`style[ng-transition="${Ie}"]`);for(let At=0;At<dt.length;At++)Ae.remove(dt[At])})}},deps:[ge,f.K0,D.zs3],multi:!0}];let ke=(()=>{class Ie{build(){return new XMLHttpRequest}}return Ie.\u0275fac=function(se){return new(se||Ie)},Ie.\u0275prov=D.Yz7({token:Ie,factory:Ie.\u0275fac}),Ie})();const ce=new D.OlP("EventManagerPlugins");let We=(()=>{class Ie{constructor(se,Ae){this._zone=Ae,this._eventNameToPlugin=new Map,se.forEach(dt=>{dt.manager=this}),this._plugins=se.slice().reverse()}addEventListener(se,Ae,dt){return this._findPluginFor(Ae).addEventListener(se,Ae,dt)}addGlobalEventListener(se,Ae,dt){return this._findPluginFor(Ae).addGlobalEventListener(se,Ae,dt)}getZone(){return this._zone}_findPluginFor(se){const Ae=this._eventNameToPlugin.get(se);if(Ae)return Ae;const dt=this._plugins;for(let At=0;At<dt.length;At++){const rn=dt[At];if(rn.supports(se))return this._eventNameToPlugin.set(se,rn),rn}throw new Error(`No event manager plugin found for event ${se}`)}}return Ie.\u0275fac=function(se){return new(se||Ie)(D.LFG(ce),D.LFG(D.R0b))},Ie.\u0275prov=D.Yz7({token:Ie,factory:Ie.\u0275fac}),Ie})();class ct{constructor(Ce){this._doc=Ce}addGlobalEventListener(Ce,se,Ae){const dt=(0,f.q)().getGlobalEventTarget(this._doc,Ce);if(!dt)throw new Error(`Unsupported event target ${dt} for event ${se}`);return this.addEventListener(dt,se,Ae)}}let Fe=(()=>{class Ie{constructor(){this.usageCount=new Map}addStyles(se){for(const Ae of se)1===this.changeUsageCount(Ae,1)&&this.onStyleAdded(Ae)}removeStyles(se){for(const Ae of se)0===this.changeUsageCount(Ae,-1)&&this.onStyleRemoved(Ae)}onStyleRemoved(se){}onStyleAdded(se){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(se,Ae){const dt=this.usageCount;let At=dt.get(se)??0;return At+=Ae,At>0?dt.set(se,At):dt.delete(se),At}ngOnDestroy(){for(const se of this.getAllStyles())this.onStyleRemoved(se);this.usageCount.clear()}}return Ie.\u0275fac=function(se){return new(se||Ie)},Ie.\u0275prov=D.Yz7({token:Ie,factory:Ie.\u0275fac}),Ie})(),Ge=(()=>{class Ie extends Fe{constructor(se){super(),this.doc=se,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(se){for(const Ae of this.hostNodes)this.addStyleToHost(Ae,se)}onStyleRemoved(se){const Ae=this.styleRef;Ae.get(se)?.forEach(At=>At.remove()),Ae.delete(se)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(se){this.hostNodes.add(se);for(const Ae of this.getAllStyles())this.addStyleToHost(se,Ae)}removeHost(se){this.hostNodes.delete(se)}addStyleToHost(se,Ae){const dt=this.doc.createElement("style");dt.textContent=Ae,se.appendChild(dt);const At=this.styleRef.get(Ae);At?At.push(dt):this.styleRef.set(Ae,[dt])}resetHostNodes(){const se=this.hostNodes;se.clear(),se.add(this.doc.head)}}return Ie.\u0275fac=function(se){return new(se||Ie)(D.LFG(f.K0))},Ie.\u0275prov=D.Yz7({token:Ie,factory:Ie.\u0275fac}),Ie})();const et={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},mt=/%COMP%/g,$e=new D.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Tt(Ie,Ce){return Ce.flat(100).map(se=>se.replace(mt,Ie))}function Cn(Ie){return Ce=>{if("__ngUnwrap__"===Ce)return Ie;!1===Ie(Ce)&&(Ce.preventDefault(),Ce.returnValue=!1)}}let Ut=(()=>{class Ie{constructor(se,Ae,dt,At){this.eventManager=se,this.sharedStylesHost=Ae,this.appId=dt,this.removeStylesOnCompDestory=At,this.rendererByCompId=new Map,this.defaultRenderer=new gi(se)}createRenderer(se,Ae){if(!se||!Ae)return this.defaultRenderer;const dt=this.getOrCreateRenderer(se,Ae);return dt instanceof wt?dt.applyToHost(se):dt instanceof bt&&dt.applyStyles(),dt}getOrCreateRenderer(se,Ae){const dt=this.rendererByCompId;let At=dt.get(Ae.id);if(!At){const rn=this.eventManager,Gn=this.sharedStylesHost,Tn=this.removeStylesOnCompDestory;switch(Ae.encapsulation){case D.ifc.Emulated:At=new wt(rn,Gn,Ae,this.appId,Tn);break;case D.ifc.ShadowDom:return new ft(rn,Gn,se,Ae);default:At=new bt(rn,Gn,Ae,Tn)}At.onDestroy=()=>dt.delete(Ae.id),dt.set(Ae.id,At)}return At}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return Ie.\u0275fac=function(se){return new(se||Ie)(D.LFG(We),D.LFG(Ge),D.LFG(D.AFp),D.LFG($e))},Ie.\u0275prov=D.Yz7({token:Ie,factory:Ie.\u0275fac}),Ie})();class gi{constructor(Ce){this.eventManager=Ce,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Ce,se){return se?document.createElementNS(et[se]||se,Ce):document.createElement(Ce)}createComment(Ce){return document.createComment(Ce)}createText(Ce){return document.createTextNode(Ce)}appendChild(Ce,se){(ut(Ce)?Ce.content:Ce).appendChild(se)}insertBefore(Ce,se,Ae){Ce&&(ut(Ce)?Ce.content:Ce).insertBefore(se,Ae)}removeChild(Ce,se){Ce&&Ce.removeChild(se)}selectRootElement(Ce,se){let Ae="string"==typeof Ce?document.querySelector(Ce):Ce;if(!Ae)throw new Error(`The selector "${Ce}" did not match any elements`);return se||(Ae.textContent=""),Ae}parentNode(Ce){return Ce.parentNode}nextSibling(Ce){return Ce.nextSibling}setAttribute(Ce,se,Ae,dt){if(dt){se=dt+":"+se;const At=et[dt];At?Ce.setAttributeNS(At,se,Ae):Ce.setAttribute(se,Ae)}else Ce.setAttribute(se,Ae)}removeAttribute(Ce,se,Ae){if(Ae){const dt=et[Ae];dt?Ce.removeAttributeNS(dt,se):Ce.removeAttribute(`${Ae}:${se}`)}else Ce.removeAttribute(se)}addClass(Ce,se){Ce.classList.add(se)}removeClass(Ce,se){Ce.classList.remove(se)}setStyle(Ce,se,Ae,dt){dt&(D.JOm.DashCase|D.JOm.Important)?Ce.style.setProperty(se,Ae,dt&D.JOm.Important?"important":""):Ce.style[se]=Ae}removeStyle(Ce,se,Ae){Ae&D.JOm.DashCase?Ce.style.removeProperty(se):Ce.style[se]=""}setProperty(Ce,se,Ae){Ce[se]=Ae}setValue(Ce,se){Ce.nodeValue=se}listen(Ce,se,Ae){return"string"==typeof Ce?this.eventManager.addGlobalEventListener(Ce,se,Cn(Ae)):this.eventManager.addEventListener(Ce,se,Cn(Ae))}}function ut(Ie){return"TEMPLATE"===Ie.tagName&&void 0!==Ie.content}class ft extends gi{constructor(Ce,se,Ae,dt){super(Ce),this.sharedStylesHost=se,this.hostEl=Ae,this.shadowRoot=Ae.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const At=Tt(dt.id,dt.styles);for(const rn of At){const Gn=document.createElement("style");Gn.textContent=rn,this.shadowRoot.appendChild(Gn)}}nodeOrShadowRoot(Ce){return Ce===this.hostEl?this.shadowRoot:Ce}appendChild(Ce,se){return super.appendChild(this.nodeOrShadowRoot(Ce),se)}insertBefore(Ce,se,Ae){return super.insertBefore(this.nodeOrShadowRoot(Ce),se,Ae)}removeChild(Ce,se){return super.removeChild(this.nodeOrShadowRoot(Ce),se)}parentNode(Ce){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Ce)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class bt extends gi{constructor(Ce,se,Ae,dt,At=Ae.id){super(Ce),this.sharedStylesHost=se,this.removeStylesOnCompDestory=dt,this.rendererUsageCount=0,this.styles=Tt(At,Ae.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class wt extends bt{constructor(Ce,se,Ae,dt,At){const rn=dt+"-"+Ae.id;super(Ce,se,Ae,At,rn),this.contentAttr=function kt(Ie){return"_ngcontent-%COMP%".replace(mt,Ie)}(rn),this.hostAttr=function Qt(Ie){return"_nghost-%COMP%".replace(mt,Ie)}(rn)}applyToHost(Ce){this.applyStyles(),this.setAttribute(Ce,this.hostAttr,"")}createElement(Ce,se){const Ae=super.createElement(Ce,se);return super.setAttribute(Ae,this.contentAttr,""),Ae}}let vt=(()=>{class Ie extends ct{constructor(se){super(se)}supports(se){return!0}addEventListener(se,Ae,dt){return se.addEventListener(Ae,dt,!1),()=>this.removeEventListener(se,Ae,dt)}removeEventListener(se,Ae,dt){return se.removeEventListener(Ae,dt)}}return Ie.\u0275fac=function(se){return new(se||Ie)(D.LFG(f.K0))},Ie.\u0275prov=D.Yz7({token:Ie,factory:Ie.\u0275fac}),Ie})();const ze=["alt","control","meta","shift"],Pt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_e={alt:Ie=>Ie.altKey,control:Ie=>Ie.ctrlKey,meta:Ie=>Ie.metaKey,shift:Ie=>Ie.shiftKey};let Be=(()=>{class Ie extends ct{constructor(se){super(se)}supports(se){return null!=Ie.parseEventName(se)}addEventListener(se,Ae,dt){const At=Ie.parseEventName(Ae),rn=Ie.eventCallback(At.fullKey,dt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,f.q)().onAndCancel(se,At.domEventName,rn))}static parseEventName(se){const Ae=se.toLowerCase().split("."),dt=Ae.shift();if(0===Ae.length||"keydown"!==dt&&"keyup"!==dt)return null;const At=Ie._normalizeKey(Ae.pop());let rn="",Gn=Ae.indexOf("code");if(Gn>-1&&(Ae.splice(Gn,1),rn="code."),ze.forEach(ei=>{const rt=Ae.indexOf(ei);rt>-1&&(Ae.splice(rt,1),rn+=ei+".")}),rn+=At,0!=Ae.length||0===At.length)return null;const Tn={};return Tn.domEventName=dt,Tn.fullKey=rn,Tn}static matchEventFullKeyCode(se,Ae){let dt=Pt[se.key]||se.key,At="";return Ae.indexOf("code.")>-1&&(dt=se.code,At="code."),!(null==dt||!dt)&&(dt=dt.toLowerCase()," "===dt?dt="space":"."===dt&&(dt="dot"),ze.forEach(rn=>{rn!==dt&&(0,_e[rn])(se)&&(At+=rn+".")}),At+=dt,At===Ae)}static eventCallback(se,Ae,dt){return At=>{Ie.matchEventFullKeyCode(At,se)&&dt.runGuarded(()=>Ae(At))}}static _normalizeKey(se){return"esc"===se?"escape":se}}return Ie.\u0275fac=function(se){return new(se||Ie)(D.LFG(f.K0))},Ie.\u0275prov=D.Yz7({token:Ie,factory:Ie.\u0275fac}),Ie})();const bi=(0,D.eFA)(D._c5,"browser",[{provide:D.Lbi,useValue:f.bD},{provide:D.g9A,useValue:function Nn(){ue.makeCurrent()},multi:!0},{provide:f.K0,useFactory:function Mr(){return(0,D.RDi)(document),document},deps:[]}]),Mn=new D.OlP(""),xt=[{provide:D.rWj,useClass:class ne{addToWindow(Ce){D.dqk.getAngularTestability=(Ae,dt=!0)=>{const At=Ce.findTestabilityInTree(Ae,dt);if(null==At)throw new Error("Could not find testability for element.");return At},D.dqk.getAllAngularTestabilities=()=>Ce.getAllTestabilities(),D.dqk.getAllAngularRootElements=()=>Ce.getAllRootElements(),D.dqk.frameworkStabilizers||(D.dqk.frameworkStabilizers=[]),D.dqk.frameworkStabilizers.push(Ae=>{const dt=D.dqk.getAllAngularTestabilities();let At=dt.length,rn=!1;const Gn=function(Tn){rn=rn||Tn,At--,0==At&&Ae(rn)};dt.forEach(function(Tn){Tn.whenStable(Gn)})})}findTestabilityInTree(Ce,se,Ae){return null==se?null:Ce.getTestability(se)??(Ae?(0,f.q)().isShadowRoot(se)?this.findTestabilityInTree(Ce,se.host,!0):this.findTestabilityInTree(Ce,se.parentElement,!0):null)}},deps:[]},{provide:D.lri,useClass:D.dDg,deps:[D.R0b,D.eoX,D.rWj]},{provide:D.dDg,useClass:D.dDg,deps:[D.R0b,D.eoX,D.rWj]}],Yn=[{provide:D.zSh,useValue:"root"},{provide:D.qLn,useFactory:function _n(){return new D.qLn},deps:[]},{provide:ce,useClass:vt,multi:!0,deps:[f.K0,D.R0b,D.Lbi]},{provide:ce,useClass:Be,multi:!0,deps:[f.K0]},{provide:Ut,useClass:Ut,deps:[We,Ge,D.AFp,$e]},{provide:D.FYo,useExisting:Ut},{provide:Fe,useExisting:Ge},{provide:Ge,useClass:Ge,deps:[f.K0]},{provide:We,useClass:We,deps:[ce,D.R0b]},{provide:f.JF,useClass:ke,deps:[]},[]];let ki=(()=>{class Ie{constructor(se){}static withServerTransition(se){return{ngModule:Ie,providers:[{provide:D.AFp,useValue:se.appId},{provide:ge,useExisting:D.AFp},ie]}}}return Ie.\u0275fac=function(se){return new(se||Ie)(D.LFG(Mn,12))},Ie.\u0275mod=D.oAB({type:Ie}),Ie.\u0275inj=D.cJS({providers:[...Yn,...xt],imports:[f.ez,D.hGG]}),Ie})(),Sn=(()=>{class Ie{constructor(se){this._doc=se}getTitle(){return this._doc.title}setTitle(se){this._doc.title=se||""}}return Ie.\u0275fac=function(se){return new(se||Ie)(D.LFG(f.K0))},Ie.\u0275prov=D.Yz7({token:Ie,factory:function(se){let Ae=null;return Ae=se?new se:function dr(){return new Sn((0,D.LFG)(f.K0))}(),Ae},providedIn:"root"}),Ie})();typeof window<"u"&&window;let Se=(()=>{class Ie{}return Ie.\u0275fac=function(se){return new(se||Ie)},Ie.\u0275prov=D.Yz7({token:Ie,factory:function(se){let Ae=null;return Ae=se?new(se||Ie):D.LFG(qe),Ae},providedIn:"root"}),Ie})(),qe=(()=>{class Ie extends Se{constructor(se){super(),this._doc=se}sanitize(se,Ae){if(null==Ae)return null;switch(se){case D.q3G.NONE:return Ae;case D.q3G.HTML:return(0,D.qzn)(Ae,"HTML")?(0,D.z3N)(Ae):(0,D.EiD)(this._doc,String(Ae)).toString();case D.q3G.STYLE:return(0,D.qzn)(Ae,"Style")?(0,D.z3N)(Ae):Ae;case D.q3G.SCRIPT:if((0,D.qzn)(Ae,"Script"))return(0,D.z3N)(Ae);throw new Error("unsafe value used in a script context");case D.q3G.URL:return(0,D.qzn)(Ae,"URL")?(0,D.z3N)(Ae):(0,D.mCW)(String(Ae));case D.q3G.RESOURCE_URL:if((0,D.qzn)(Ae,"ResourceURL"))return(0,D.z3N)(Ae);throw new Error(`unsafe value used in a resource URL context (see ${D.JZr})`);default:throw new Error(`Unexpected SecurityContext ${se} (see ${D.JZr})`)}}bypassSecurityTrustHtml(se){return(0,D.JVY)(se)}bypassSecurityTrustStyle(se){return(0,D.L6k)(se)}bypassSecurityTrustScript(se){return(0,D.eBb)(se)}bypassSecurityTrustUrl(se){return(0,D.LAX)(se)}bypassSecurityTrustResourceUrl(se){return(0,D.pB0)(se)}}return Ie.\u0275fac=function(se){return new(se||Ie)(D.LFG(f.K0))},Ie.\u0275prov=D.Yz7({token:Ie,factory:function(se){let Ae=null;return Ae=se?new se:function pt(Ie){return new qe(Ie.get(f.K0))}(D.LFG(D.zs3)),Ae},providedIn:"root"}),Ie})()},155:(Lt,je,L)=>{L.d(je,{F0:()=>Ei,rH:()=>ra,Bz:()=>R,lC:()=>Gs});var f=L(4650),D=L(8996),B=L(9646),ue=L(1135),he=L(6805),we=L(9841),Te=L(7272),Oe=L(9770),ge=L(9635),re=L(9751),ie=L(576);function ne(_,w){const g=(0,ie.m)(_)?_:()=>_,b=k=>k.error(g());return new re.y(w?k=>w.schedule(b,0,k):b)}var ke=L(515),ce=L(727),We=L(4482),ct=L(5403);function Fe(){return(0,We.e)((_,w)=>{let g=null;_._refCount++;const b=(0,ct.x)(w,void 0,void 0,void 0,()=>{if(!_||_._refCount<=0||0<--_._refCount)return void(g=null);const k=_._connection,H=g;g=null,k&&(!H||k===H)&&k.unsubscribe(),w.unsubscribe()});_.subscribe(b),b.closed||(g=_.connect())})}class Ge extends re.y{constructor(w,g){super(),this.source=w,this.subjectFactory=g,this._subject=null,this._refCount=0,this._connection=null,(0,We.A)(w)&&(this.lift=w.lift)}_subscribe(w){return this.getSubject().subscribe(w)}getSubject(){const w=this._subject;return(!w||w.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:w}=this;this._subject=this._connection=null,w?.unsubscribe()}connect(){let w=this._connection;if(!w){w=this._connection=new ce.w0;const g=this.getSubject();w.add(this.source.subscribe((0,ct.x)(g,void 0,()=>{this._teardown(),g.complete()},b=>{this._teardown(),g.error(b)},()=>this._teardown()))),w.closed&&(this._connection=null,w=ce.w0.EMPTY)}return w}refCount(){return Fe()(this)}}var et=L(7579),mt=L(6895),be=L(4004),De=L(3900),st=L(5698),Ct=L(8675),yt=L(9300),$e=L(5577),kt=L(590),Qt=L(4351),Tt=L(8505),Cn=L(8421);function Ut(_){return(0,We.e)((w,g)=>{let H,b=null,k=!1;b=w.subscribe((0,ct.x)(g,void 0,void 0,G=>{H=(0,Cn.Xf)(_(G,Ut(_)(w))),b?(b.unsubscribe(),b=null,H.subscribe(g)):k=!0})),k&&(b.unsubscribe(),b=null,H.subscribe(g))})}function ot(_,w){return(0,We.e)(function gi(_,w,g,b,k){return(H,G)=>{let ae=g,Ye=w,He=0;H.subscribe((0,ct.x)(G,Ee=>{const Je=He++;Ye=ae?_(Ye,Ee,Je):(ae=!0,Ee),b&&G.next(Ye)},k&&(()=>{ae&&G.next(Ye),G.complete()})))}}(_,w,arguments.length>=2,!0))}function Ze(_){return _<=0?()=>ke.E:(0,We.e)((w,g)=>{let b=[];w.subscribe((0,ct.x)(g,k=>{b.push(k),_<b.length&&b.shift()},()=>{for(const k of b)g.next(k);g.complete()},void 0,()=>{b=null}))})}var ut=L(8068),ft=L(6590),bt=L(4671);function wt(_,w){const g=arguments.length>=2;return b=>b.pipe(_?(0,yt.h)((k,H)=>_(k,H,b)):bt.y,Ze(1),g?(0,ft.d)(w):(0,ut.T)(()=>new he.K))}function Pt(_){return(0,We.e)((w,g)=>{try{w.subscribe(g)}finally{g.add(_)}})}var _e=L(8189),Be=L(1481);const at="primary",Wt=Symbol("RouteTitle");class Rn{constructor(w){this.params=w||{}}has(w){return Object.prototype.hasOwnProperty.call(this.params,w)}get(w){if(this.has(w)){const g=this.params[w];return Array.isArray(g)?g[0]:g}return null}getAll(w){if(this.has(w)){const g=this.params[w];return Array.isArray(g)?g:[g]}return[]}get keys(){return Object.keys(this.params)}}function Xn(_){return new Rn(_)}function ir(_,w,g){const b=g.path.split("/");if(b.length>_.length||"full"===g.pathMatch&&(w.hasChildren()||b.length<_.length))return null;const k={};for(let H=0;H<b.length;H++){const G=b[H],ae=_[H];if(G.startsWith(":"))k[G.substring(1)]=ae;else if(G!==ae.path)return null}return{consumed:_.slice(0,b.length),posParams:k}}function _n(_,w){const g=_?Object.keys(_):void 0,b=w?Object.keys(w):void 0;if(!g||!b||g.length!=b.length)return!1;let k;for(let H=0;H<g.length;H++)if(k=g[H],!Mr(_[k],w[k]))return!1;return!0}function Mr(_,w){if(Array.isArray(_)&&Array.isArray(w)){if(_.length!==w.length)return!1;const g=[..._].sort(),b=[...w].sort();return g.every((k,H)=>b[H]===k)}return _===w}function Qr(_){return Array.prototype.concat.apply([],_)}function bi(_){return _.length>0?_[_.length-1]:null}function xt(_,w){for(const g in _)_.hasOwnProperty(g)&&w(_[g],g)}function Yn(_){return(0,f.CqO)(_)?_:(0,f.QGY)(_)?(0,D.D)(Promise.resolve(_)):(0,B.of)(_)}const ki=!1,Ur={exact:function Sn(_,w,g){if(!kn(_.segments,w.segments)||!Kr(_.segments,w.segments,g)||_.numberOfChildren!==w.numberOfChildren)return!1;for(const b in w.children)if(!_.children[b]||!Sn(_.children[b],w.children[b],g))return!1;return!0},subset:hn},Jr={exact:function dr(_,w){return _n(_,w)},subset:function en(_,w){return Object.keys(w).length<=Object.keys(_).length&&Object.keys(w).every(g=>Mr(_[g],w[g]))},ignored:()=>!0};function $i(_,w,g){return Ur[g.paths](_.root,w.root,g.matrixParams)&&Jr[g.queryParams](_.queryParams,w.queryParams)&&!("exact"===g.fragment&&_.fragment!==w.fragment)}function hn(_,w,g){return Si(_,w,w.segments,g)}function Si(_,w,g,b){if(_.segments.length>g.length){const k=_.segments.slice(0,g.length);return!(!kn(k,g)||w.hasChildren()||!Kr(k,g,b))}if(_.segments.length===g.length){if(!kn(_.segments,g)||!Kr(_.segments,g,b))return!1;for(const k in w.children)if(!_.children[k]||!hn(_.children[k],w.children[k],b))return!1;return!0}{const k=g.slice(0,_.segments.length),H=g.slice(_.segments.length);return!!(kn(_.segments,k)&&Kr(_.segments,k,b)&&_.children[at])&&Si(_.children[at],w,H,b)}}function Kr(_,w,g){return w.every((b,k)=>Jr[g](_[k].parameters,b.parameters))}class tr{constructor(w=new fn([],{}),g={},b=null){this.root=w,this.queryParams=g,this.fragment=b}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xn(this.queryParams)),this._queryParamMap}toString(){return dn.serialize(this)}}class fn{constructor(w,g){this.segments=w,this.children=g,this.parent=null,xt(g,(b,k)=>b.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vn(this)}}class gr{constructor(w,g){this.path=w,this.parameters=g}get parameterMap(){return this._parameterMap||(this._parameterMap=Xn(this.parameters)),this._parameterMap}toString(){return pe(this)}}function kn(_,w){return _.length===w.length&&_.every((g,b)=>g.path===w[b].path)}let wn=(()=>{class _{}return _.\u0275fac=function(g){return new(g||_)},_.\u0275prov=f.Yz7({token:_,factory:function(){return new kr},providedIn:"root"}),_})();class kr{parse(w){const g=new dt(w);return new tr(g.parseRootSegment(),g.parseQueryParams(),g.parseFragment())}serialize(w){const g=`/${nr(w.root,!0)}`,b=function pt(_){const w=Object.keys(_).map(g=>{const b=_[g];return Array.isArray(b)?b.map(k=>`${Ot(g)}=${Ot(k)}`).join("&"):`${Ot(g)}=${Ot(b)}`}).filter(g=>!!g);return w.length?`?${w.join("&")}`:""}(w.queryParams);return`${g}${b}${"string"==typeof w.fragment?`#${function Xr(_){return encodeURI(_)}(w.fragment)}`:""}`}}const dn=new kr;function Vn(_){return _.segments.map(w=>pe(w)).join("/")}function nr(_,w){if(!_.hasChildren())return Vn(_);if(w){const g=_.children[at]?nr(_.children[at],!1):"",b=[];return xt(_.children,(k,H)=>{H!==at&&b.push(`${H}:${nr(k,!1)}`)}),b.length>0?`${g}(${b.join("//")})`:g}{const g=function zt(_,w){let g=[];return xt(_.children,(b,k)=>{k===at&&(g=g.concat(w(b,k)))}),xt(_.children,(b,k)=>{k!==at&&(g=g.concat(w(b,k)))}),g}(_,(b,k)=>k===at?[nr(_.children[at],!1)]:[`${k}:${nr(b,!1)}`]);return 1===Object.keys(_.children).length&&null!=_.children[at]?`${Vn(_)}/${g[0]}`:`${Vn(_)}/(${g.join("//")})`}}function sr(_){return encodeURIComponent(_).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ot(_){return sr(_).replace(/%3B/gi,";")}function an(_){return sr(_).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function vr(_){return decodeURIComponent(_)}function me(_){return vr(_.replace(/\+/g,"%20"))}function pe(_){return`${an(_.path)}${function Se(_){return Object.keys(_).map(w=>`;${an(w)}=${an(_[w])}`).join("")}(_.parameters)}`}const qe=/^[^\/()?;=#]+/;function Rt(_){const w=_.match(qe);return w?w[0]:""}const Ie=/^[^=?&#]+/,se=/^[^&#]+/;class dt{constructor(w){this.url=w,this.remaining=w}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new fn([],{}):new fn([],this.parseChildren())}parseQueryParams(){const w={};if(this.consumeOptional("?"))do{this.parseQueryParam(w)}while(this.consumeOptional("&"));return w}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const w=[];for(this.peekStartsWith("(")||w.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),w.push(this.parseSegment());let g={};this.peekStartsWith("/(")&&(this.capture("/"),g=this.parseParens(!0));let b={};return this.peekStartsWith("(")&&(b=this.parseParens(!1)),(w.length>0||Object.keys(g).length>0)&&(b[at]=new fn(w,g)),b}parseSegment(){const w=Rt(this.remaining);if(""===w&&this.peekStartsWith(";"))throw new f.vHH(4009,ki);return this.capture(w),new gr(vr(w),this.parseMatrixParams())}parseMatrixParams(){const w={};for(;this.consumeOptional(";");)this.parseParam(w);return w}parseParam(w){const g=Rt(this.remaining);if(!g)return;this.capture(g);let b="";if(this.consumeOptional("=")){const k=Rt(this.remaining);k&&(b=k,this.capture(b))}w[vr(g)]=vr(b)}parseQueryParam(w){const g=function Ce(_){const w=_.match(Ie);return w?w[0]:""}(this.remaining);if(!g)return;this.capture(g);let b="";if(this.consumeOptional("=")){const G=function Ae(_){const w=_.match(se);return w?w[0]:""}(this.remaining);G&&(b=G,this.capture(b))}const k=me(g),H=me(b);if(w.hasOwnProperty(k)){let G=w[k];Array.isArray(G)||(G=[G],w[k]=G),G.push(H)}else w[k]=H}parseParens(w){const g={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const b=Rt(this.remaining),k=this.remaining[b.length];if("/"!==k&&")"!==k&&";"!==k)throw new f.vHH(4010,ki);let H;b.indexOf(":")>-1?(H=b.slice(0,b.indexOf(":")),this.capture(H),this.capture(":")):w&&(H=at);const G=this.parseChildren();g[H]=1===Object.keys(G).length?G[at]:new fn([],G),this.consumeOptional("//")}return g}peekStartsWith(w){return this.remaining.startsWith(w)}consumeOptional(w){return!!this.peekStartsWith(w)&&(this.remaining=this.remaining.substring(w.length),!0)}capture(w){if(!this.consumeOptional(w))throw new f.vHH(4011,ki)}}function At(_){return _.segments.length>0?new fn([],{[at]:_}):_}function rn(_){const w={};for(const b of Object.keys(_.children)){const H=rn(_.children[b]);(H.segments.length>0||H.hasChildren())&&(w[b]=H)}return function Gn(_){if(1===_.numberOfChildren&&_.children[at]){const w=_.children[at];return new fn(_.segments.concat(w.segments),w.children)}return _}(new fn(_.segments,w))}function Tn(_){return _ instanceof tr}const ei=!1;function Gt(_,w,g,b,k){if(0===g.length)return Zt(w.root,w.root,w.root,b,k);const H=function Pr(_){if("string"==typeof _[0]&&1===_.length&&"/"===_[0])return new On(!0,0,_);let w=0,g=!1;const b=_.reduce((k,H,G)=>{if("object"==typeof H&&null!=H){if(H.outlets){const ae={};return xt(H.outlets,(Ye,He)=>{ae[He]="string"==typeof Ye?Ye.split("/"):Ye}),[...k,{outlets:ae}]}if(H.segmentPath)return[...k,H.segmentPath]}return"string"!=typeof H?[...k,H]:0===G?(H.split("/").forEach((ae,Ye)=>{0==Ye&&"."===ae||(0==Ye&&""===ae?g=!0:".."===ae?w++:""!=ae&&k.push(ae))}),k):[...k,H]},[]);return new On(g,w,b)}(g);return H.toRoot()?Zt(w.root,w.root,new fn([],{}),b,k):function G(Ye){const He=function eo(_,w,g,b){if(_.isAbsolute)return new Rr(w.root,!0,0);if(-1===b)return new Rr(g,g===w.root,0);return function Ki(_,w,g){let b=_,k=w,H=g;for(;H>k;){if(H-=k,b=b.parent,!b)throw new f.vHH(4005,ei&&"Invalid number of '../'");k=b.segments.length}return new Rr(b,!1,k-H)}(g,b+(ln(_.commands[0])?0:1),_.numberOfDoubleDots)}(H,w,_.snapshot?._urlSegment,Ye),Ee=He.processChildren?pn(He.segmentGroup,He.index,H.commands):Vt(He.segmentGroup,He.index,H.commands);return Zt(w.root,He.segmentGroup,Ee,b,k)}(_.snapshot?._lastPathIndex)}function ln(_){return"object"==typeof _&&null!=_&&!_.outlets&&!_.segmentPath}function In(_){return"object"==typeof _&&null!=_&&_.outlets}function Zt(_,w,g,b,k){let G,H={};b&&xt(b,(Ye,He)=>{H[He]=Array.isArray(Ye)?Ye.map(Ee=>`${Ee}`):`${Ye}`}),G=_===w?g:Un(_,w,g);const ae=At(rn(G));return new tr(ae,H,k)}function Un(_,w,g){const b={};return xt(_.children,(k,H)=>{b[H]=k===w?g:Un(k,w,g)}),new fn(_.segments,b)}class On{constructor(w,g,b){if(this.isAbsolute=w,this.numberOfDoubleDots=g,this.commands=b,w&&b.length>0&&ln(b[0]))throw new f.vHH(4003,ei&&"Root segment cannot have matrix parameters");const k=b.find(In);if(k&&k!==bi(b))throw new f.vHH(4004,ei&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Rr{constructor(w,g,b){this.segmentGroup=w,this.processChildren=g,this.index=b}}function Vt(_,w,g){if(_||(_=new fn([],{})),0===_.segments.length&&_.hasChildren())return pn(_,w,g);const b=function wr(_,w,g){let b=0,k=w;const H={match:!1,pathIndex:0,commandIndex:0};for(;k<_.segments.length;){if(b>=g.length)return H;const G=_.segments[k],ae=g[b];if(In(ae))break;const Ye=`${ae}`,He=b<g.length-1?g[b+1]:null;if(k>0&&void 0===Ye)break;if(Ye&&He&&"object"==typeof He&&void 0===He.outlets){if(!Ai(Ye,He,G))return H;b+=2}else{if(!Ai(Ye,{},G))return H;b++}k++}return{match:!0,pathIndex:k,commandIndex:b}}(_,w,g),k=g.slice(b.commandIndex);if(b.match&&b.pathIndex<_.segments.length){const H=new fn(_.segments.slice(0,b.pathIndex),{});return H.children[at]=new fn(_.segments.slice(b.pathIndex),_.children),pn(H,0,k)}return b.match&&0===k.length?new fn(_.segments,{}):b.match&&!_.hasChildren()?Zn(_,w,g):b.match?pn(_,0,k):Zn(_,w,g)}function pn(_,w,g){if(0===g.length)return new fn(_.segments,{});{const b=function or(_){return In(_[0])?_[0].outlets:{[at]:_}}(g),k={};if(!b[at]&&_.children[at]&&1===_.numberOfChildren&&0===_.children[at].segments.length){const H=pn(_.children[at],w,g);return new fn(_.segments,H.children)}return xt(b,(H,G)=>{"string"==typeof H&&(H=[H]),null!==H&&(k[G]=Vt(_.children[G],w,H))}),xt(_.children,(H,G)=>{void 0===b[G]&&(k[G]=H)}),new fn(_.segments,k)}}function Zn(_,w,g){const b=_.segments.slice(0,w);let k=0;for(;k<g.length;){const H=g[k];if(In(H)){const Ye=ci(H.outlets);return new fn(b,Ye)}if(0===k&&ln(g[0])){b.push(new gr(_.segments[w].path,Ir(g[0]))),k++;continue}const G=In(H)?H.outlets[at]:`${H}`,ae=k<g.length-1?g[k+1]:null;G&&ae&&ln(ae)?(b.push(new gr(G,Ir(ae))),k+=2):(b.push(new gr(G,{})),k++)}return new fn(b,{})}function ci(_){const w={};return xt(_,(g,b)=>{"string"==typeof g&&(g=[g]),null!==g&&(w[b]=Zn(new fn([],{}),0,g))}),w}function Ir(_){const w={};return xt(_,(g,b)=>w[b]=`${g}`),w}function Ai(_,w,g){return _==g.path&&_n(w,g.parameters)}const _r="imperative";class xe{constructor(w,g){this.id=w,this.url=g}}class Re extends xe{constructor(w,g,b="imperative",k=null){super(w,g),this.type=0,this.navigationTrigger=b,this.restoredState=k}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Me extends xe{constructor(w,g,b){super(w,g),this.urlAfterRedirects=b,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class _t extends xe{constructor(w,g,b,k){super(w,g),this.reason=b,this.code=k,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Dt extends xe{constructor(w,g,b,k){super(w,g),this.reason=b,this.code=k,this.type=16}}class cn extends xe{constructor(w,g,b,k){super(w,g),this.error=b,this.target=k,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class An extends xe{constructor(w,g,b,k){super(w,g),this.urlAfterRedirects=b,this.state=k,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gn extends xe{constructor(w,g,b,k){super(w,g),this.urlAfterRedirects=b,this.state=k,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wn extends xe{constructor(w,g,b,k,H){super(w,g),this.urlAfterRedirects=b,this.state=k,this.shouldActivate=H,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Mi extends xe{constructor(w,g,b,k){super(w,g),this.urlAfterRedirects=b,this.state=k,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mi extends xe{constructor(w,g,b,k){super(w,g),this.urlAfterRedirects=b,this.state=k,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ii{constructor(w){this.route=w,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class yi{constructor(w){this.route=w,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ar{constructor(w){this.snapshot=w,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class es{constructor(w){this.snapshot=w,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wo{constructor(w){this.snapshot=w,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Io{constructor(w){this.snapshot=w,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class os{constructor(w,g,b){this.routerEvent=w,this.position=g,this.anchor=b,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let qr=(()=>{class _{createUrlTree(g,b,k,H,G,ae){return Gt(g||b.root,k,H,G,ae)}}return _.\u0275fac=function(g){return new(g||_)},_.\u0275prov=f.Yz7({token:_,factory:_.\u0275fac}),_})(),Zr=(()=>{class _{}return _.\u0275fac=function(g){return new(g||_)},_.\u0275prov=f.Yz7({token:_,factory:function(w){return qr.\u0275fac(w)},providedIn:"root"}),_})();class ur{constructor(w){this._root=w}get root(){return this._root.value}parent(w){const g=this.pathFromRoot(w);return g.length>1?g[g.length-2]:null}children(w){const g=Sr(w,this._root);return g?g.children.map(b=>b.value):[]}firstChild(w){const g=Sr(w,this._root);return g&&g.children.length>0?g.children[0].value:null}siblings(w){const g=ms(w,this._root);return g.length<2?[]:g[g.length-2].children.map(k=>k.value).filter(k=>k!==w)}pathFromRoot(w){return ms(w,this._root).map(g=>g.value)}}function Sr(_,w){if(_===w.value)return w;for(const g of w.children){const b=Sr(_,g);if(b)return b}return null}function ms(_,w){if(_===w.value)return[w];for(const g of w.children){const b=ms(_,g);if(b.length)return b.unshift(w),b}return[]}class Fi{constructor(w,g){this.value=w,this.children=g}toString(){return`TreeNode(${this.value})`}}function Br(_){const w={};return _&&_.children.forEach(g=>w[g.value.outlet]=g),w}class Ps extends ur{constructor(w,g){super(w),this.snapshot=g,Lo(this,w)}toString(){return this.snapshot.toString()}}function Hs(_,w){const g=function to(_,w){const G=new ys([],{},{},"",{},at,w,null,_.root,-1,{});return new no("",new Fi(G,[]))}(_,w),b=new ue.X([new gr("",{})]),k=new ue.X({}),H=new ue.X({}),G=new ue.X({}),ae=new ue.X(""),Ye=new si(b,k,G,ae,H,at,w,g.root);return Ye.snapshot=g.root,new Ps(new Fi(Ye,[]),g)}class si{constructor(w,g,b,k,H,G,ae,Ye){this.url=w,this.params=g,this.queryParams=b,this.fragment=k,this.data=H,this.outlet=G,this.component=ae,this.title=this.data?.pipe((0,be.U)(He=>He[Wt]))??(0,B.of)(void 0),this._futureSnapshot=Ye}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,be.U)(w=>Xn(w)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,be.U)(w=>Xn(w)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Zo(_,w="emptyOnly"){const g=_.pathFromRoot;let b=0;if("always"!==w)for(b=g.length-1;b>=1;){const k=g[b],H=g[b-1];if(k.routeConfig&&""===k.routeConfig.path)b--;else{if(H.component)break;b--}}return function Fo(_){return _.reduce((w,g)=>({params:{...w.params,...g.params},data:{...w.data,...g.data},resolve:{...g.data,...w.resolve,...g.routeConfig?.data,...g._resolvedData}}),{params:{},data:{},resolve:{}})}(g.slice(b))}class ys{get title(){return this.data?.[Wt]}constructor(w,g,b,k,H,G,ae,Ye,He,Ee,Je){this.url=w,this.params=g,this.queryParams=b,this.fragment=k,this.data=H,this.outlet=G,this.component=ae,this.routeConfig=Ye,this._urlSegment=He,this._lastPathIndex=Ee,this._resolve=Je}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Xn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(b=>b.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class no extends ur{constructor(w,g){super(g),this.url=w,Lo(this,g)}toString(){return Yo(this._root)}}function Lo(_,w){w.value._routerState=_,w.children.forEach(g=>Lo(_,g))}function Yo(_){const w=_.children.length>0?` { ${_.children.map(Yo).join(", ")} } `:"";return`${_.value}${w}`}function ro(_){if(_.snapshot){const w=_.snapshot,g=_._futureSnapshot;_.snapshot=g,_n(w.queryParams,g.queryParams)||_.queryParams.next(g.queryParams),w.fragment!==g.fragment&&_.fragment.next(g.fragment),_n(w.params,g.params)||_.params.next(g.params),function Nn(_,w){if(_.length!==w.length)return!1;for(let g=0;g<_.length;++g)if(!_n(_[g],w[g]))return!1;return!0}(w.url,g.url)||_.url.next(g.url),_n(w.data,g.data)||_.data.next(g.data)}else _.snapshot=_._futureSnapshot,_.data.next(_._futureSnapshot.data)}function vs(_,w){const g=_n(_.params,w.params)&&function br(_,w){return kn(_,w)&&_.every((g,b)=>_n(g.parameters,w[b].parameters))}(_.url,w.url);return g&&!(!_.parent!=!w.parent)&&(!_.parent||vs(_.parent,w.parent))}function di(_,w,g){if(g&&_.shouldReuseRoute(w.value,g.value.snapshot)){const b=g.value;b._futureSnapshot=w.value;const k=function Rs(_,w,g){return w.children.map(b=>{for(const k of g.children)if(_.shouldReuseRoute(b.value,k.value.snapshot))return di(_,b,k);return di(_,b)})}(_,w,g);return new Fi(b,k)}{if(_.shouldAttach(w.value)){const H=_.retrieve(w.value);if(null!==H){const G=H.route;return G.value._futureSnapshot=w.value,G.children=w.children.map(ae=>di(_,ae)),G}}const b=function da(_){return new si(new ue.X(_.url),new ue.X(_.params),new ue.X(_.queryParams),new ue.X(_.fragment),new ue.X(_.data),_.outlet,_.component,_)}(w.value),k=w.children.map(H=>di(_,H));return new Fi(b,k)}}const Hi="ngNavigationCancelingError";function Vo(_,w){const{redirectTo:g,navigationBehaviorOptions:b}=Tn(w)?{redirectTo:w,navigationBehaviorOptions:void 0}:w,k=Uo(!1,0,w);return k.url=g,k.navigationBehaviorOptions=b,k}function Uo(_,w,g){const b=new Error("NavigationCancelingError: "+(_||""));return b[Hi]=!0,b.cancellationCode=w,g&&(b.url=g),b}function _s(_){return vi(_)&&Tn(_.url)}function vi(_){return _&&_[Hi]}class zs{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new io,this.attachRef=null}}let io=(()=>{class _{constructor(){this.contexts=new Map}onChildOutletCreated(g,b){const k=this.getOrCreateContext(g);k.outlet=b,this.contexts.set(g,k)}onChildOutletDestroyed(g){const b=this.getContext(g);b&&(b.outlet=null,b.attachRef=null)}onOutletDeactivated(){const g=this.contexts;return this.contexts=new Map,g}onOutletReAttached(g){this.contexts=g}getOrCreateContext(g){let b=this.getContext(g);return b||(b=new zs,this.contexts.set(g,b)),b}getContext(g){return this.contexts.get(g)||null}}return _.\u0275fac=function(g){return new(g||_)},_.\u0275prov=f.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();const Es=!1;let Gs=(()=>{class _{constructor(){this.activated=null,this._activatedRoute=null,this.name=at,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.attachEvents=new f.vpe,this.detachEvents=new f.vpe,this.parentContexts=(0,f.f3M)(io),this.location=(0,f.f3M)(f.s_b),this.changeDetector=(0,f.f3M)(f.sBO),this.environmentInjector=(0,f.f3M)(f.lqb)}ngOnChanges(g){if(g.name){const{firstChange:b,previousValue:k}=g.name;if(b)return;this.isTrackedInParentContexts(k)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(k)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(g){return this.parentContexts.getContext(g)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const g=this.parentContexts.getContext(this.name);g?.route&&(g.attachRef?this.attach(g.attachRef,g.route):this.activateWith(g.route,g.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new f.vHH(4012,Es);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new f.vHH(4012,Es);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new f.vHH(4012,Es);this.location.detach();const g=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(g.instance),g}attach(g,b){this.activated=g,this._activatedRoute=b,this.location.insert(g.hostView),this.attachEvents.emit(g.instance)}deactivate(){if(this.activated){const g=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(g)}}activateWith(g,b){if(this.isActivated)throw new f.vHH(4013,Es);this._activatedRoute=g;const k=this.location,G=g.snapshot.component,ae=this.parentContexts.getOrCreateContext(this.name).children,Ye=new ha(g,ae,k.injector);if(b&&function Li(_){return!!_.resolveComponentFactory}(b)){const He=b.resolveComponentFactory(G);this.activated=k.createComponent(He,k.length,Ye)}else this.activated=k.createComponent(G,{index:k.length,injector:Ye,environmentInjector:b??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return _.\u0275fac=function(g){return new(g||_)},_.\u0275dir=f.lG2({type:_,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[f.TTD]}),_})();class ha{constructor(w,g,b){this.route=w,this.childContexts=g,this.parent=b}get(w,g){return w===si?this.route:w===io?this.childContexts:this.parent.get(w,g)}}let so=(()=>{class _{}return _.\u0275fac=function(g){return new(g||_)},_.\u0275cmp=f.Xpm({type:_,selectors:[["ng-component"]],standalone:!0,features:[f.jDz],decls:1,vars:0,template:function(g,b){1&g&&f._UZ(0,"router-outlet")},dependencies:[Gs],encapsulation:2}),_})();function Os(_,w){return _.providers&&!_._injector&&(_._injector=(0,f.MMx)(_.providers,w,`Route: ${_.path}`)),_._injector??w}function as(_){const w=_.children&&_.children.map(as),g=w?{..._,children:w}:{..._};return!g.component&&!g.loadComponent&&(w||g.loadChildren)&&g.outlet&&g.outlet!==at&&(g.component=so),g}function Er(_){return _.outlet||at}function Qo(_,w){const g=_.filter(b=>Er(b)===w);return g.push(..._.filter(b=>Er(b)!==w)),g}function Zi(_){if(!_)return null;if(_.routeConfig?._injector)return _.routeConfig._injector;for(let w=_.parent;w;w=w.parent){const g=w.routeConfig;if(g?._loadedInjector)return g._loadedInjector;if(g?._injector)return g._injector}return null}class oi{constructor(w,g,b,k){this.routeReuseStrategy=w,this.futureState=g,this.currState=b,this.forwardEvent=k}activate(w){const g=this.futureState._root,b=this.currState?this.currState._root:null;this.deactivateChildRoutes(g,b,w),ro(this.futureState.root),this.activateChildRoutes(g,b,w)}deactivateChildRoutes(w,g,b){const k=Br(g);w.children.forEach(H=>{const G=H.value.outlet;this.deactivateRoutes(H,k[G],b),delete k[G]}),xt(k,(H,G)=>{this.deactivateRouteAndItsChildren(H,b)})}deactivateRoutes(w,g,b){const k=w.value,H=g?g.value:null;if(k===H)if(k.component){const G=b.getContext(k.outlet);G&&this.deactivateChildRoutes(w,g,G.children)}else this.deactivateChildRoutes(w,g,b);else H&&this.deactivateRouteAndItsChildren(g,b)}deactivateRouteAndItsChildren(w,g){w.value.component&&this.routeReuseStrategy.shouldDetach(w.value.snapshot)?this.detachAndStoreRouteSubtree(w,g):this.deactivateRouteAndOutlet(w,g)}detachAndStoreRouteSubtree(w,g){const b=g.getContext(w.value.outlet),k=b&&w.value.component?b.children:g,H=Br(w);for(const G of Object.keys(H))this.deactivateRouteAndItsChildren(H[G],k);if(b&&b.outlet){const G=b.outlet.detach(),ae=b.children.onOutletDeactivated();this.routeReuseStrategy.store(w.value.snapshot,{componentRef:G,route:w,contexts:ae})}}deactivateRouteAndOutlet(w,g){const b=g.getContext(w.value.outlet),k=b&&w.value.component?b.children:g,H=Br(w);for(const G of Object.keys(H))this.deactivateRouteAndItsChildren(H[G],k);b&&(b.outlet&&(b.outlet.deactivate(),b.children.onOutletDeactivated()),b.attachRef=null,b.resolver=null,b.route=null)}activateChildRoutes(w,g,b){const k=Br(g);w.children.forEach(H=>{this.activateRoutes(H,k[H.value.outlet],b),this.forwardEvent(new Io(H.value.snapshot))}),w.children.length&&this.forwardEvent(new es(w.value.snapshot))}activateRoutes(w,g,b){const k=w.value,H=g?g.value:null;if(ro(k),k===H)if(k.component){const G=b.getOrCreateContext(k.outlet);this.activateChildRoutes(w,g,G.children)}else this.activateChildRoutes(w,g,b);else if(k.component){const G=b.getOrCreateContext(k.outlet);if(this.routeReuseStrategy.shouldAttach(k.snapshot)){const ae=this.routeReuseStrategy.retrieve(k.snapshot);this.routeReuseStrategy.store(k.snapshot,null),G.children.onOutletReAttached(ae.contexts),G.attachRef=ae.componentRef,G.route=ae.route.value,G.outlet&&G.outlet.attach(ae.componentRef,ae.route.value),ro(ae.route.value),this.activateChildRoutes(w,null,G.children)}else{const ae=Zi(k.snapshot),Ye=ae?.get(f._Vd)??null;G.attachRef=null,G.route=k,G.resolver=Ye,G.injector=ae,G.outlet&&G.outlet.activateWith(k,G.injector),this.activateChildRoutes(w,null,G.children)}}else this.activateChildRoutes(w,null,b)}}class ao{constructor(w){this.path=w,this.route=this.path[this.path.length-1]}}class Pi{constructor(w,g){this.component=w,this.route=g}}function Do(_,w,g){const b=_._root;return Vi(b,w?w._root:null,g,[b.value])}function us(_,w){const g=Symbol(),b=w.get(_,g);return b===g?"function"!=typeof _||(0,f.Z0I)(_)?w.get(_):_:b}function Vi(_,w,g,b,k={canDeactivateChecks:[],canActivateChecks:[]}){const H=Br(w);return _.children.forEach(G=>{(function En(_,w,g,b,k={canDeactivateChecks:[],canActivateChecks:[]}){const H=_.value,G=w?w.value:null,ae=g?g.getContext(_.value.outlet):null;if(G&&H.routeConfig===G.routeConfig){const Ye=function Co(_,w,g){if("function"==typeof g)return g(_,w);switch(g){case"pathParamsChange":return!kn(_.url,w.url);case"pathParamsOrQueryParamsChange":return!kn(_.url,w.url)||!_n(_.queryParams,w.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!vs(_,w)||!_n(_.queryParams,w.queryParams);default:return!vs(_,w)}}(G,H,H.routeConfig.runGuardsAndResolvers);Ye?k.canActivateChecks.push(new ao(b)):(H.data=G.data,H._resolvedData=G._resolvedData),Vi(_,w,H.component?ae?ae.children:null:g,b,k),Ye&&ae&&ae.outlet&&ae.outlet.isActivated&&k.canDeactivateChecks.push(new Pi(ae.outlet.component,G))}else G&&$(w,ae,k),k.canActivateChecks.push(new ao(b)),Vi(_,null,H.component?ae?ae.children:null:g,b,k)})(G,H[G.value.outlet],g,b.concat([G.value]),k),delete H[G.value.outlet]}),xt(H,(G,ae)=>$(G,g.getContext(ae),k)),k}function $(_,w,g){const b=Br(_),k=_.value;xt(b,(H,G)=>{$(H,k.component?w?w.children.getContext(G):null:w,g)}),g.canDeactivateChecks.push(new Pi(k.component&&w&&w.outlet&&w.outlet.isActivated?w.outlet.component:null,k))}function V(_){return"function"==typeof _}function Ds(_){return _ instanceof he.K||"EmptyError"===_?.name}const Hr=Symbol("INITIAL_VALUE");function To(){return(0,De.w)(_=>(0,we.a)(_.map(w=>w.pipe((0,st.q)(1),(0,Ct.O)(Hr)))).pipe((0,be.U)(w=>{for(const g of w)if(!0!==g){if(g===Hr)return Hr;if(!1===g||g instanceof tr)return g}return!0}),(0,yt.h)(w=>w!==Hr),(0,st.q)(1)))}function cs(_){return(0,ge.z)((0,Tt.b)(w=>{if(Tn(w))throw Vo(0,w)}),(0,be.U)(w=>!0===w))}const Ts={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Sa(_,w,g,b,k){const H=Ks(_,w,g);return H.matched?function ds(_,w,g,b){const k=w.canMatch;if(!k||0===k.length)return(0,B.of)(!0);const H=k.map(G=>{const ae=us(G,_);return Yn(function it(_){return _&&V(_.canMatch)}(ae)?ae.canMatch(w,g):_.runInContext(()=>ae(w,g)))});return(0,B.of)(H).pipe(To(),cs())}(b=Os(w,b),w,g).pipe((0,be.U)(G=>!0===G?H:{...Ts})):(0,B.of)(H)}function Ks(_,w,g){if(""===w.path)return"full"===w.pathMatch&&(_.hasChildren()||g.length>0)?{...Ts}:{matched:!0,consumedSegments:[],remainingSegments:g,parameters:{},positionalParamSegments:{}};const k=(w.matcher||ir)(g,_,w);if(!k)return{...Ts};const H={};xt(k.posParams,(ae,Ye)=>{H[Ye]=ae.path});const G=k.consumed.length>0?{...H,...k.consumed[k.consumed.length-1].parameters}:H;return{matched:!0,consumedSegments:k.consumed,remainingSegments:g.slice(k.consumed.length),parameters:G,positionalParamSegments:k.posParams??{}}}function So(_,w,g,b){if(g.length>0&&function lo(_,w,g){return g.some(b=>Jo(_,w,b)&&Er(b)!==at)}(_,g,b)){const H=new fn(w,function ai(_,w,g,b){const k={};k[at]=b,b._sourceSegment=_,b._segmentIndexShift=w.length;for(const H of g)if(""===H.path&&Er(H)!==at){const G=new fn([],{});G._sourceSegment=_,G._segmentIndexShift=w.length,k[Er(H)]=G}return k}(_,w,b,new fn(g,_.children)));return H._sourceSegment=_,H._segmentIndexShift=w.length,{segmentGroup:H,slicedSegments:[]}}if(0===g.length&&function bs(_,w,g){return g.some(b=>Jo(_,w,b))}(_,g,b)){const H=new fn(_.segments,function gu(_,w,g,b,k){const H={};for(const G of b)if(Jo(_,g,G)&&!k[Er(G)]){const ae=new fn([],{});ae._sourceSegment=_,ae._segmentIndexShift=w.length,H[Er(G)]=ae}return{...k,...H}}(_,w,g,b,_.children));return H._sourceSegment=_,H._segmentIndexShift=w.length,{segmentGroup:H,slicedSegments:g}}const k=new fn(_.segments,_.children);return k._sourceSegment=_,k._segmentIndexShift=w.length,{segmentGroup:k,slicedSegments:g}}function Jo(_,w,g){return(!(_.hasChildren()||w.length>0)||"full"!==g.pathMatch)&&""===g.path}function Xo(_,w,g,b){return!!(Er(_)===b||b!==at&&Jo(w,g,_))&&("**"===_.path||Ks(w,_,g).matched)}function Aa(_,w,g){return 0===w.length&&!_.children[g]}const ts=!1;class ea{constructor(w){this.segmentGroup=w||null}}class Bo{constructor(w){this.urlTree=w}}function qs(_){return ne(new ea(_))}function ta(_){return ne(new Bo(_))}class Ui{constructor(w,g,b,k,H){this.injector=w,this.configLoader=g,this.urlSerializer=b,this.urlTree=k,this.config=H,this.allowRedirects=!0}apply(){const w=So(this.urlTree.root,[],[],this.config).segmentGroup,g=new fn(w.segments,w.children);return this.expandSegmentGroup(this.injector,this.config,g,at).pipe((0,be.U)(H=>this.createUrlTree(rn(H),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ut(H=>{if(H instanceof Bo)return this.allowRedirects=!1,this.match(H.urlTree);throw H instanceof ea?this.noMatchError(H):H}))}match(w){return this.expandSegmentGroup(this.injector,this.config,w.root,at).pipe((0,be.U)(k=>this.createUrlTree(rn(k),w.queryParams,w.fragment))).pipe(Ut(k=>{throw k instanceof ea?this.noMatchError(k):k}))}noMatchError(w){return new f.vHH(4002,ts)}createUrlTree(w,g,b){const k=At(w);return new tr(k,g,b)}expandSegmentGroup(w,g,b,k){return 0===b.segments.length&&b.hasChildren()?this.expandChildren(w,g,b).pipe((0,be.U)(H=>new fn([],H))):this.expandSegment(w,b,g,b.segments,k,!0)}expandChildren(w,g,b){const k=[];for(const H of Object.keys(b.children))"primary"===H?k.unshift(H):k.push(H);return(0,D.D)(k).pipe((0,Qt.b)(H=>{const G=b.children[H],ae=Qo(g,H);return this.expandSegmentGroup(w,ae,G,H).pipe((0,be.U)(Ye=>({segment:Ye,outlet:H})))}),ot((H,G)=>(H[G.outlet]=G.segment,H),{}),wt())}expandSegment(w,g,b,k,H,G){return(0,D.D)(b).pipe((0,Qt.b)(ae=>this.expandSegmentAgainstRoute(w,g,b,ae,k,H,G).pipe(Ut(He=>{if(He instanceof ea)return(0,B.of)(null);throw He}))),(0,kt.P)(ae=>!!ae),Ut((ae,Ye)=>{if(Ds(ae))return Aa(g,k,H)?(0,B.of)(new fn([],{})):qs(g);throw ae}))}expandSegmentAgainstRoute(w,g,b,k,H,G,ae){return Xo(k,g,H,G)?void 0===k.redirectTo?this.matchSegmentAgainstRoute(w,g,k,H,G):ae&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(w,g,b,k,H,G):qs(g):qs(g)}expandSegmentAgainstRouteUsingRedirect(w,g,b,k,H,G){return"**"===k.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(w,b,k,G):this.expandRegularSegmentAgainstRouteUsingRedirect(w,g,b,k,H,G)}expandWildCardWithParamsAgainstRouteUsingRedirect(w,g,b,k){const H=this.applyRedirectCommands([],b.redirectTo,{});return b.redirectTo.startsWith("/")?ta(H):this.lineralizeSegments(b,H).pipe((0,$e.z)(G=>{const ae=new fn(G,{});return this.expandSegment(w,ae,g,G,k,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(w,g,b,k,H,G){const{matched:ae,consumedSegments:Ye,remainingSegments:He,positionalParamSegments:Ee}=Ks(g,k,H);if(!ae)return qs(g);const Je=this.applyRedirectCommands(Ye,k.redirectTo,Ee);return k.redirectTo.startsWith("/")?ta(Je):this.lineralizeSegments(k,Je).pipe((0,$e.z)(Pn=>this.expandSegment(w,g,b,Pn.concat(He),G,!1)))}matchSegmentAgainstRoute(w,g,b,k,H){return"**"===b.path?(w=Os(b,w),b.loadChildren?(b._loadedRoutes?(0,B.of)({routes:b._loadedRoutes,injector:b._loadedInjector}):this.configLoader.loadChildren(w,b)).pipe((0,be.U)(ae=>(b._loadedRoutes=ae.routes,b._loadedInjector=ae.injector,new fn(k,{})))):(0,B.of)(new fn(k,{}))):Sa(g,b,k,w).pipe((0,De.w)(({matched:G,consumedSegments:ae,remainingSegments:Ye})=>G?this.getChildConfig(w=b._injector??w,b,k).pipe((0,$e.z)(Ee=>{const Je=Ee.injector??w,Pn=Ee.routes,{segmentGroup:xi,slicedSegments:ri}=So(g,ae,Ye,Pn),zr=new fn(xi.segments,xi.children);if(0===ri.length&&zr.hasChildren())return this.expandChildren(Je,Pn,zr).pipe((0,be.U)(Ia=>new fn(ae,Ia)));if(0===Pn.length&&0===ri.length)return(0,B.of)(new fn(ae,{}));const Gr=Er(b)===H;return this.expandSegment(Je,zr,Pn,ri,Gr?at:H,!0).pipe((0,be.U)(Ao=>new fn(ae.concat(Ao.segments),Ao.children)))})):qs(g)))}getChildConfig(w,g,b){return g.children?(0,B.of)({routes:g.children,injector:w}):g.loadChildren?void 0!==g._loadedRoutes?(0,B.of)({routes:g._loadedRoutes,injector:g._loadedInjector}):function Ri(_,w,g,b){const k=w.canLoad;if(void 0===k||0===k.length)return(0,B.of)(!0);const H=k.map(G=>{const ae=us(G,_);return Yn(function J(_){return _&&V(_.canLoad)}(ae)?ae.canLoad(w,g):_.runInContext(()=>ae(w,g)))});return(0,B.of)(H).pipe(To(),cs())}(w,g,b).pipe((0,$e.z)(k=>k?this.configLoader.loadChildren(w,g).pipe((0,Tt.b)(H=>{g._loadedRoutes=H.routes,g._loadedInjector=H.injector})):function ja(_){return ne(Uo(ts,3))}())):(0,B.of)({routes:[],injector:w})}lineralizeSegments(w,g){let b=[],k=g.root;for(;;){if(b=b.concat(k.segments),0===k.numberOfChildren)return(0,B.of)(b);if(k.numberOfChildren>1||!k.children[at])return w.redirectTo,ne(new f.vHH(4e3,ts));k=k.children[at]}}applyRedirectCommands(w,g,b){return this.applyRedirectCreateUrlTree(g,this.urlSerializer.parse(g),w,b)}applyRedirectCreateUrlTree(w,g,b,k){const H=this.createSegmentGroup(w,g.root,b,k);return new tr(H,this.createQueryParams(g.queryParams,this.urlTree.queryParams),g.fragment)}createQueryParams(w,g){const b={};return xt(w,(k,H)=>{if("string"==typeof k&&k.startsWith(":")){const ae=k.substring(1);b[H]=g[ae]}else b[H]=k}),b}createSegmentGroup(w,g,b,k){const H=this.createSegments(w,g.segments,b,k);let G={};return xt(g.children,(ae,Ye)=>{G[Ye]=this.createSegmentGroup(w,ae,b,k)}),new fn(H,G)}createSegments(w,g,b,k){return g.map(H=>H.path.startsWith(":")?this.findPosParam(w,H,k):this.findOrReturn(H,b))}findPosParam(w,g,b){const k=b[g.path.substring(1)];if(!k)throw new f.vHH(4001,ts);return k}findOrReturn(w,g){let b=0;for(const k of g){if(k.path===w.path)return g.splice(b),k;b++}return w}}class Ma{}class ku{constructor(w,g,b,k,H,G,ae){this.injector=w,this.rootComponentType=g,this.config=b,this.urlTree=k,this.url=H,this.paramsInheritanceStrategy=G,this.urlSerializer=ae}recognize(){const w=So(this.urlTree.root,[],[],this.config.filter(g=>void 0===g.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,w,at).pipe((0,be.U)(g=>{if(null===g)return null;const b=new ys([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},at,this.rootComponentType,null,this.urlTree.root,-1,{}),k=new Fi(b,g),H=new no(this.url,k);return this.inheritParamsAndData(H._root),H}))}inheritParamsAndData(w){const g=w.value,b=Zo(g,this.paramsInheritanceStrategy);g.params=Object.freeze(b.params),g.data=Object.freeze(b.data),w.children.forEach(k=>this.inheritParamsAndData(k))}processSegmentGroup(w,g,b,k){return 0===b.segments.length&&b.hasChildren()?this.processChildren(w,g,b):this.processSegment(w,g,b,b.segments,k)}processChildren(w,g,b){return(0,D.D)(Object.keys(b.children)).pipe((0,Qt.b)(k=>{const H=b.children[k],G=Qo(g,k);return this.processSegmentGroup(w,G,H,k)}),ot((k,H)=>k&&H?(k.push(...H),k):null),function vt(_,w=!1){return(0,We.e)((g,b)=>{let k=0;g.subscribe((0,ct.x)(b,H=>{const G=_(H,k++);(G||w)&&b.next(H),!G&&b.complete()}))})}(k=>null!==k),(0,ft.d)(null),wt(),(0,be.U)(k=>{if(null===k)return null;const H=co(k);return function pa(_){_.sort((w,g)=>w.value.outlet===at?-1:g.value.outlet===at?1:w.value.outlet.localeCompare(g.value.outlet))}(H),H}))}processSegment(w,g,b,k,H){return(0,D.D)(g).pipe((0,Qt.b)(G=>this.processSegmentAgainstRoute(G._injector??w,G,b,k,H)),(0,kt.P)(G=>!!G),Ut(G=>{if(Ds(G))return Aa(b,k,H)?(0,B.of)([]):(0,B.of)(null);throw G}))}processSegmentAgainstRoute(w,g,b,k,H){if(g.redirectTo||!Xo(g,b,k,H))return(0,B.of)(null);let G;if("**"===g.path){const ae=k.length>0?bi(k).parameters:{},Ye=z(b)+k.length,He=new ys(k,ae,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Y(g),Er(g),g.component??g._loadedComponent??null,g,P(b),Ye,fe(g));G=(0,B.of)({snapshot:He,consumedSegments:[],remainingSegments:[]})}else G=Sa(b,g,k,w).pipe((0,be.U)(({matched:ae,consumedSegments:Ye,remainingSegments:He,parameters:Ee})=>{if(!ae)return null;const Je=z(b)+Ye.length;return{snapshot:new ys(Ye,Ee,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Y(g),Er(g),g.component??g._loadedComponent??null,g,P(b),Je,fe(g)),consumedSegments:Ye,remainingSegments:He}}));return G.pipe((0,De.w)(ae=>{if(null===ae)return(0,B.of)(null);const{snapshot:Ye,consumedSegments:He,remainingSegments:Ee}=ae;w=g._injector??w;const Je=g._loadedInjector??w,Pn=function Pa(_){return _.children?_.children:_.loadChildren?_._loadedRoutes:[]}(g),{segmentGroup:xi,slicedSegments:ri}=So(b,He,Ee,Pn.filter(Gr=>void 0===Gr.redirectTo));if(0===ri.length&&xi.hasChildren())return this.processChildren(Je,Pn,xi).pipe((0,be.U)(Gr=>null===Gr?null:[new Fi(Ye,Gr)]));if(0===Pn.length&&0===ri.length)return(0,B.of)([new Fi(Ye,[])]);const zr=Er(g)===H;return this.processSegment(Je,Pn,xi,ri,zr?at:H).pipe((0,be.U)(Gr=>null===Gr?null:[new Fi(Ye,Gr)]))}))}}function Zs(_){const w=_.value.routeConfig;return w&&""===w.path&&void 0===w.redirectTo}function co(_){const w=[],g=new Set;for(const b of _){if(!Zs(b)){w.push(b);continue}const k=w.find(H=>b.value.routeConfig===H.value.routeConfig);void 0!==k?(k.children.push(...b.children),g.add(k)):w.push(b)}for(const b of g){const k=co(b.children);w.push(new Fi(b.value,k))}return w.filter(b=>!g.has(b))}function P(_){let w=_;for(;w._sourceSegment;)w=w._sourceSegment;return w}function z(_){let w=_,g=w._segmentIndexShift??0;for(;w._sourceSegment;)w=w._sourceSegment,g+=w._segmentIndexShift??0;return g-1}function Y(_){return _.data||{}}function fe(_){return _.resolve||{}}function xn(_){return"string"==typeof _.title||null===_.title}function Fr(_){return(0,De.w)(w=>{const g=_(w);return g?(0,D.D)(g).pipe((0,be.U)(()=>w)):(0,B.of)(w)})}const Lr=new f.OlP("ROUTES");let hs=(()=>{class _{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,f.f3M)(f.Sil)}loadComponent(g){if(this.componentLoaders.get(g))return this.componentLoaders.get(g);if(g._loadedComponent)return(0,B.of)(g._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(g);const b=Yn(g.loadComponent()).pipe((0,be.U)(mr),(0,Tt.b)(H=>{this.onLoadEndListener&&this.onLoadEndListener(g),g._loadedComponent=H}),Pt(()=>{this.componentLoaders.delete(g)})),k=new Ge(b,()=>new et.x).pipe(Fe());return this.componentLoaders.set(g,k),k}loadChildren(g,b){if(this.childrenLoaders.get(b))return this.childrenLoaders.get(b);if(b._loadedRoutes)return(0,B.of)({routes:b._loadedRoutes,injector:b._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(b);const H=this.loadModuleFactoryOrRoutes(b.loadChildren).pipe((0,be.U)(ae=>{this.onLoadEndListener&&this.onLoadEndListener(b);let Ye,He,Ee=!1;Array.isArray(ae)?He=ae:(Ye=ae.create(g).injector,He=Qr(Ye.get(Lr,[],f.XFs.Self|f.XFs.Optional)));return{routes:He.map(as),injector:Ye}}),Pt(()=>{this.childrenLoaders.delete(b)})),G=new Ge(H,()=>new et.x).pipe(Fe());return this.childrenLoaders.set(b,G),G}loadModuleFactoryOrRoutes(g){return Yn(g()).pipe((0,be.U)(mr),(0,$e.z)(b=>b instanceof f.YKP||Array.isArray(b)?(0,B.of)(b):(0,D.D)(this.compiler.compileModuleAsync(b))))}}return _.\u0275fac=function(g){return new(g||_)},_.\u0275prov=f.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();function mr(_){return function Oi(_){return _&&"object"==typeof _&&"default"in _}(_)?_.default:_}let Bi=(()=>{class _{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new et.x,this.configLoader=(0,f.f3M)(hs),this.environmentInjector=(0,f.f3M)(f.lqb),this.urlSerializer=(0,f.f3M)(wn),this.rootContexts=(0,f.f3M)(io),this.navigationId=0,this.afterPreactivation=()=>(0,B.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=k=>this.events.next(new yi(k)),this.configLoader.onLoadStartListener=k=>this.events.next(new ii(k))}complete(){this.transitions?.complete()}handleNavigationRequest(g){const b=++this.navigationId;this.transitions?.next({...this.transitions.value,...g,id:b})}setupNavigations(g){return this.transitions=new ue.X({id:0,targetPageId:0,currentUrlTree:g.currentUrlTree,currentRawUrl:g.currentUrlTree,extractedUrl:g.urlHandlingStrategy.extract(g.currentUrlTree),urlAfterRedirects:g.urlHandlingStrategy.extract(g.currentUrlTree),rawUrl:g.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:_r,restoredState:null,currentSnapshot:g.routerState.snapshot,targetSnapshot:null,currentRouterState:g.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,yt.h)(b=>0!==b.id),(0,be.U)(b=>({...b,extractedUrl:g.urlHandlingStrategy.extract(b.rawUrl)})),(0,De.w)(b=>{let k=!1,H=!1;return(0,B.of)(b).pipe((0,Tt.b)(G=>{this.currentNavigation={id:G.id,initialUrl:G.rawUrl,extractedUrl:G.extractedUrl,trigger:G.source,extras:G.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,De.w)(G=>{const ae=g.browserUrlTree.toString(),Ye=!g.navigated||G.extractedUrl.toString()!==ae||ae!==g.currentUrlTree.toString();if(!Ye&&"reload"!==(G.extras.onSameUrlNavigation??g.onSameUrlNavigation)){const Ee="";return this.events.next(new Dt(G.id,g.serializeUrl(b.rawUrl),Ee,0)),g.rawUrlTree=G.rawUrl,G.resolve(null),ke.E}if(g.urlHandlingStrategy.shouldProcessUrl(G.rawUrl))return ji(G.source)&&(g.browserUrlTree=G.extractedUrl),(0,B.of)(G).pipe((0,De.w)(Ee=>{const Je=this.transitions?.getValue();return this.events.next(new Re(Ee.id,this.urlSerializer.serialize(Ee.extractedUrl),Ee.source,Ee.restoredState)),Je!==this.transitions?.getValue()?ke.E:Promise.resolve(Ee)}),function Fs(_,w,g,b){return(0,De.w)(k=>function $a(_,w,g,b,k){return new Ui(_,w,g,b,k).apply()}(_,w,g,k.extractedUrl,b).pipe((0,be.U)(H=>({...k,urlAfterRedirects:H}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,g.config),(0,Tt.b)(Ee=>{this.currentNavigation={...this.currentNavigation,finalUrl:Ee.urlAfterRedirects},b.urlAfterRedirects=Ee.urlAfterRedirects}),function lt(_,w,g,b,k){return(0,$e.z)(H=>function Ha(_,w,g,b,k,H,G="emptyOnly"){return new ku(_,w,g,b,k,G,H).recognize().pipe((0,De.w)(ae=>null===ae?function jo(_){return new re.y(w=>w.error(_))}(new Ma):(0,B.of)(ae)))}(_,w,g,H.urlAfterRedirects,b.serialize(H.urlAfterRedirects),b,k).pipe((0,be.U)(G=>({...H,targetSnapshot:G}))))}(this.environmentInjector,this.rootComponentType,g.config,this.urlSerializer,g.paramsInheritanceStrategy),(0,Tt.b)(Ee=>{if(b.targetSnapshot=Ee.targetSnapshot,"eager"===g.urlUpdateStrategy){if(!Ee.extras.skipLocationChange){const Pn=g.urlHandlingStrategy.merge(Ee.urlAfterRedirects,Ee.rawUrl);g.setBrowserUrl(Pn,Ee)}g.browserUrlTree=Ee.urlAfterRedirects}const Je=new An(Ee.id,this.urlSerializer.serialize(Ee.extractedUrl),this.urlSerializer.serialize(Ee.urlAfterRedirects),Ee.targetSnapshot);this.events.next(Je)}));if(Ye&&g.urlHandlingStrategy.shouldProcessUrl(g.rawUrlTree)){const{id:Ee,extractedUrl:Je,source:Pn,restoredState:xi,extras:ri}=G,zr=new Re(Ee,this.urlSerializer.serialize(Je),Pn,xi);this.events.next(zr);const Gr=Hs(Je,this.rootComponentType).snapshot;return b={...G,targetSnapshot:Gr,urlAfterRedirects:Je,extras:{...ri,skipLocationChange:!1,replaceUrl:!1}},(0,B.of)(b)}{const Ee="";return this.events.next(new Dt(G.id,g.serializeUrl(b.extractedUrl),Ee,1)),g.rawUrlTree=G.rawUrl,G.resolve(null),ke.E}}),(0,Tt.b)(G=>{const ae=new gn(G.id,this.urlSerializer.serialize(G.extractedUrl),this.urlSerializer.serialize(G.urlAfterRedirects),G.targetSnapshot);this.events.next(ae)}),(0,be.U)(G=>b={...G,guards:Do(G.targetSnapshot,G.currentSnapshot,this.rootContexts)}),function bo(_,w){return(0,$e.z)(g=>{const{targetSnapshot:b,currentSnapshot:k,guards:{canActivateChecks:H,canDeactivateChecks:G}}=g;return 0===G.length&&0===H.length?(0,B.of)({...g,guardsResult:!0}):function Cs(_,w,g,b){return(0,D.D)(_).pipe((0,$e.z)(k=>function Bn(_,w,g,b,k){const H=w&&w.routeConfig?w.routeConfig.canDeactivate:null;if(!H||0===H.length)return(0,B.of)(!0);const G=H.map(ae=>{const Ye=Zi(w)??k,He=us(ae,Ye);return Yn(function $r(_){return _&&V(_.canDeactivate)}(He)?He.canDeactivate(_,w,g,b):Ye.runInContext(()=>He(_,w,g,b))).pipe((0,kt.P)())});return(0,B.of)(G).pipe(To())}(k.component,k.route,g,w,b)),(0,kt.P)(k=>!0!==k,!0))}(G,b,k,_).pipe((0,$e.z)(ae=>ae&&function x(_){return"boolean"==typeof _}(ae)?function Ns(_,w,g,b){return(0,D.D)(w).pipe((0,Qt.b)(k=>(0,Te.z)(function fa(_,w){return null!==_&&w&&w(new ar(_)),(0,B.of)(!0)}(k.route.parent,b),function ls(_,w){return null!==_&&w&&w(new wo(_)),(0,B.of)(!0)}(k.route,b),function uo(_,w,g){const b=w[w.length-1],H=w.slice(0,w.length-1).reverse().map(G=>function ti(_){const w=_.routeConfig?_.routeConfig.canActivateChild:null;return w&&0!==w.length?{node:_,guards:w}:null}(G)).filter(G=>null!==G).map(G=>(0,Oe.P)(()=>{const ae=G.guards.map(Ye=>{const He=Zi(G.node)??g,Ee=us(Ye,He);return Yn(function tn(_){return _&&V(_.canActivateChild)}(Ee)?Ee.canActivateChild(b,_):He.runInContext(()=>Ee(b,_))).pipe((0,kt.P)())});return(0,B.of)(ae).pipe(To())}));return(0,B.of)(H).pipe(To())}(_,k.path,g),function ks(_,w,g){const b=w.routeConfig?w.routeConfig.canActivate:null;if(!b||0===b.length)return(0,B.of)(!0);const k=b.map(H=>(0,Oe.P)(()=>{const G=Zi(w)??g,ae=us(H,G);return Yn(function nt(_){return _&&V(_.canActivate)}(ae)?ae.canActivate(w,_):G.runInContext(()=>ae(w,_))).pipe((0,kt.P)())}));return(0,B.of)(k).pipe(To())}(_,k.route,g))),(0,kt.P)(k=>!0!==k,!0))}(b,H,_,w):(0,B.of)(ae)),(0,be.U)(ae=>({...g,guardsResult:ae})))})}(this.environmentInjector,G=>this.events.next(G)),(0,Tt.b)(G=>{if(b.guardsResult=G.guardsResult,Tn(G.guardsResult))throw Vo(0,G.guardsResult);const ae=new Wn(G.id,this.urlSerializer.serialize(G.extractedUrl),this.urlSerializer.serialize(G.urlAfterRedirects),G.targetSnapshot,!!G.guardsResult);this.events.next(ae)}),(0,yt.h)(G=>!!G.guardsResult||(g.restoreHistory(G),this.cancelNavigationTransition(G,"",3),!1)),Fr(G=>{if(G.guards.canActivateChecks.length)return(0,B.of)(G).pipe((0,Tt.b)(ae=>{const Ye=new Mi(ae.id,this.urlSerializer.serialize(ae.extractedUrl),this.urlSerializer.serialize(ae.urlAfterRedirects),ae.targetSnapshot);this.events.next(Ye)}),(0,De.w)(ae=>{let Ye=!1;return(0,B.of)(ae).pipe(function It(_,w){return(0,$e.z)(g=>{const{targetSnapshot:b,guards:{canActivateChecks:k}}=g;if(!k.length)return(0,B.of)(g);let H=0;return(0,D.D)(k).pipe((0,Qt.b)(G=>function nn(_,w,g,b){const k=_.routeConfig,H=_._resolve;return void 0!==k?.title&&!xn(k)&&(H[Wt]=k.title),function er(_,w,g,b){const k=function rr(_){return[...Object.keys(_),...Object.getOwnPropertySymbols(_)]}(_);if(0===k.length)return(0,B.of)({});const H={};return(0,D.D)(k).pipe((0,$e.z)(G=>function hr(_,w,g,b){const k=Zi(w)??b,H=us(_,k);return Yn(H.resolve?H.resolve(w,g):k.runInContext(()=>H(w,g)))}(_[G],w,g,b).pipe((0,kt.P)(),(0,Tt.b)(ae=>{H[G]=ae}))),Ze(1),function ze(_){return(0,be.U)(()=>_)}(H),Ut(G=>Ds(G)?ke.E:ne(G)))}(H,_,w,b).pipe((0,be.U)(G=>(_._resolvedData=G,_.data=Zo(_,g).resolve,k&&xn(k)&&(_.data[Wt]=k.title),null)))}(G.route,b,_,w)),(0,Tt.b)(()=>H++),Ze(1),(0,$e.z)(G=>H===k.length?(0,B.of)(g):ke.E))})}(g.paramsInheritanceStrategy,this.environmentInjector),(0,Tt.b)({next:()=>Ye=!0,complete:()=>{Ye||(g.restoreHistory(ae),this.cancelNavigationTransition(ae,"",2))}}))}),(0,Tt.b)(ae=>{const Ye=new mi(ae.id,this.urlSerializer.serialize(ae.extractedUrl),this.urlSerializer.serialize(ae.urlAfterRedirects),ae.targetSnapshot);this.events.next(Ye)}))}),Fr(G=>{const ae=Ye=>{const He=[];Ye.routeConfig?.loadComponent&&!Ye.routeConfig._loadedComponent&&He.push(this.configLoader.loadComponent(Ye.routeConfig).pipe((0,Tt.b)(Ee=>{Ye.component=Ee}),(0,be.U)(()=>{})));for(const Ee of Ye.children)He.push(...ae(Ee));return He};return(0,we.a)(ae(G.targetSnapshot.root)).pipe((0,ft.d)(),(0,st.q)(1))}),Fr(()=>this.afterPreactivation()),(0,be.U)(G=>{const ae=function ca(_,w,g){const b=di(_,w._root,g?g._root:void 0);return new Ps(b,w)}(g.routeReuseStrategy,G.targetSnapshot,G.currentRouterState);return b={...G,targetRouterState:ae}}),(0,Tt.b)(G=>{g.currentUrlTree=G.urlAfterRedirects,g.rawUrlTree=g.urlHandlingStrategy.merge(G.urlAfterRedirects,G.rawUrl),g.routerState=G.targetRouterState,"deferred"===g.urlUpdateStrategy&&(G.extras.skipLocationChange||g.setBrowserUrl(g.rawUrlTree,G),g.browserUrlTree=G.urlAfterRedirects)}),((_,w,g)=>(0,be.U)(b=>(new oi(w,b.targetRouterState,b.currentRouterState,g).activate(_),b)))(this.rootContexts,g.routeReuseStrategy,G=>this.events.next(G)),(0,st.q)(1),(0,Tt.b)({next:G=>{k=!0,this.lastSuccessfulNavigation=this.currentNavigation,g.navigated=!0,this.events.next(new Me(G.id,this.urlSerializer.serialize(G.extractedUrl),this.urlSerializer.serialize(g.currentUrlTree))),g.titleStrategy?.updateTitle(G.targetRouterState.snapshot),G.resolve(!0)},complete:()=>{k=!0}}),Pt(()=>{k||H||this.cancelNavigationTransition(b,"",1),this.currentNavigation?.id===b.id&&(this.currentNavigation=null)}),Ut(G=>{if(H=!0,vi(G)){_s(G)||(g.navigated=!0,g.restoreHistory(b,!0));const ae=new _t(b.id,this.urlSerializer.serialize(b.extractedUrl),G.message,G.cancellationCode);if(this.events.next(ae),_s(G)){const Ye=g.urlHandlingStrategy.merge(G.url,g.rawUrlTree),He={skipLocationChange:b.extras.skipLocationChange,replaceUrl:"eager"===g.urlUpdateStrategy||ji(b.source)};g.scheduleNavigation(Ye,_r,null,He,{resolve:b.resolve,reject:b.reject,promise:b.promise})}else b.resolve(!1)}else{g.restoreHistory(b,!0);const ae=new cn(b.id,this.urlSerializer.serialize(b.extractedUrl),G,b.targetSnapshot??void 0);this.events.next(ae);try{b.resolve(g.errorHandler(G))}catch(Ye){b.reject(Ye)}}return ke.E}))}))}cancelNavigationTransition(g,b,k){const H=new _t(g.id,this.urlSerializer.serialize(g.extractedUrl),b,k);this.events.next(H),g.resolve(!1)}}return _.\u0275fac=function(g){return new(g||_)},_.\u0275prov=f.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();function ji(_){return _!==_r}let Yi=(()=>{class _{buildTitle(g){let b,k=g.root;for(;void 0!==k;)b=this.getResolvedTitleForRoute(k)??b,k=k.children.find(H=>H.outlet===at);return b}getResolvedTitleForRoute(g){return g.data[Wt]}}return _.\u0275fac=function(g){return new(g||_)},_.\u0275prov=f.Yz7({token:_,factory:function(){return(0,f.f3M)(Ra)},providedIn:"root"}),_})(),Ra=(()=>{class _ extends Yi{constructor(g){super(),this.title=g}updateTitle(g){const b=this.buildTitle(g);void 0!==b&&this.title.setTitle(b)}}return _.\u0275fac=function(g){return new(g||_)(f.LFG(Be.Dx))},_.\u0275prov=f.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})(),ma=(()=>{class _{}return _.\u0275fac=function(g){return new(g||_)},_.\u0275prov=f.Yz7({token:_,factory:function(){return(0,f.f3M)(iu)},providedIn:"root"}),_})();class Fu{shouldDetach(w){return!1}store(w,g){}shouldAttach(w){return!1}retrieve(w){return null}shouldReuseRoute(w,g){return w.routeConfig===g.routeConfig}}let iu=(()=>{class _ extends Fu{}return _.\u0275fac=function(){let w;return function(b){return(w||(w=f.n5z(_)))(b||_)}}(),_.\u0275prov=f.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();const Oa=new f.OlP("",{providedIn:"root",factory:()=>({})});let Qi=(()=>{class _{}return _.\u0275fac=function(g){return new(g||_)},_.\u0275prov=f.Yz7({token:_,factory:function(){return(0,f.f3M)(Lu)},providedIn:"root"}),_})(),Lu=(()=>{class _{shouldProcessUrl(g){return!0}extract(g){return g}merge(g,b){return g}}return _.\u0275fac=function(g){return new(g||_)},_.\u0275prov=f.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();function $o(_){throw _}function mu(_,w,g){return w.parse("/")}const _i={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xa={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ei=(()=>{class _{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,f.f3M)(f.c2e),this.isNgZoneEnabled=!1,this.options=(0,f.f3M)(Oa,{optional:!0})||{},this.errorHandler=this.options.errorHandler||$o,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||mu,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,f.f3M)(Qi),this.routeReuseStrategy=(0,f.f3M)(ma),this.urlCreationStrategy=(0,f.f3M)(Zr),this.titleStrategy=(0,f.f3M)(Yi),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Qr((0,f.f3M)(Lr,{optional:!0})??[]),this.navigationTransitions=(0,f.f3M)(Bi),this.urlSerializer=(0,f.f3M)(wn),this.location=(0,f.f3M)(mt.Ye),this.isNgZoneEnabled=(0,f.f3M)(f.R0b)instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new tr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Hs(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(g=>{this.lastSuccessfulId=g.id,this.currentPageId=this.browserPageId??0},g=>{this.console.warn(`Unhandled Navigation Error: ${g}`)})}resetRootComponentType(g){this.routerState.root.component=g,this.navigationTransitions.rootComponentType=g}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const g=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),_r,g)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(g=>{const b="popstate"===g.type?"popstate":"hashchange";"popstate"===b&&setTimeout(()=>{this.navigateToSyncWithBrowser(g.url,b,g.state)},0)}))}navigateToSyncWithBrowser(g,b,k){const H={replaceUrl:!0},G=k?.navigationId?k:null;if(k){const Ye={...k};delete Ye.navigationId,delete Ye.\u0275routerPageId,0!==Object.keys(Ye).length&&(H.state=Ye)}const ae=this.parseUrl(g);this.scheduleNavigation(ae,b,G,H)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(g){this.config=g.map(as),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(g,b={}){const{relativeTo:k,queryParams:H,fragment:G,queryParamsHandling:ae,preserveFragment:Ye}=b,He=Ye?this.currentUrlTree.fragment:G;let Ee=null;switch(ae){case"merge":Ee={...this.currentUrlTree.queryParams,...H};break;case"preserve":Ee=this.currentUrlTree.queryParams;break;default:Ee=H||null}return null!==Ee&&(Ee=this.removeEmptyProps(Ee)),this.urlCreationStrategy.createUrlTree(k,this.routerState,this.currentUrlTree,g,Ee,He??null)}navigateByUrl(g,b={skipLocationChange:!1}){const k=Tn(g)?g:this.parseUrl(g),H=this.urlHandlingStrategy.merge(k,this.rawUrlTree);return this.scheduleNavigation(H,_r,null,b)}navigate(g,b={skipLocationChange:!1}){return function Vu(_){for(let w=0;w<_.length;w++){const g=_[w];if(null==g)throw new f.vHH(4008,false)}}(g),this.navigateByUrl(this.createUrlTree(g,b),b)}serializeUrl(g){return this.urlSerializer.serialize(g)}parseUrl(g){let b;try{b=this.urlSerializer.parse(g)}catch(k){b=this.malformedUriErrorHandler(k,this.urlSerializer,g)}return b}isActive(g,b){let k;if(k=!0===b?{..._i}:!1===b?{...xa}:b,Tn(g))return $i(this.currentUrlTree,g,k);const H=this.parseUrl(g);return $i(this.currentUrlTree,H,k)}removeEmptyProps(g){return Object.keys(g).reduce((b,k)=>{const H=g[k];return null!=H&&(b[k]=H),b},{})}scheduleNavigation(g,b,k,H,G){if(this.disposed)return Promise.resolve(!1);let ae,Ye,He,Ee;return G?(ae=G.resolve,Ye=G.reject,He=G.promise):He=new Promise((Je,Pn)=>{ae=Je,Ye=Pn}),Ee="computed"===this.canceledNavigationResolution?k&&k.\u0275routerPageId?k.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:Ee,source:b,restoredState:k,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:g,extras:H,resolve:ae,reject:Ye,promise:He,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),He.catch(Je=>Promise.reject(Je))}setBrowserUrl(g,b){const k=this.urlSerializer.serialize(g);if(this.location.isCurrentPathEqualTo(k)||b.extras.replaceUrl){const G={...b.extras.state,...this.generateNgRouterState(b.id,this.browserPageId)};this.location.replaceState(k,"",G)}else{const H={...b.extras.state,...this.generateNgRouterState(b.id,b.targetPageId)};this.location.go(k,"",H)}}restoreHistory(g,b=!1){if("computed"===this.canceledNavigationResolution){const H=this.currentPageId-(this.browserPageId??this.currentPageId);0!==H?this.location.historyGo(H):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===H&&(this.resetState(g),this.browserUrlTree=g.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(b&&this.resetState(g),this.resetUrlToCurrentUrlTree())}resetState(g){this.routerState=g.currentRouterState,this.currentUrlTree=g.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,g.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(g,b){return"computed"===this.canceledNavigationResolution?{navigationId:g,\u0275routerPageId:b}:{navigationId:g}}}return _.\u0275fac=function(g){return new(g||_)},_.\u0275prov=f.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})(),ra=(()=>{class _{constructor(g,b,k,H,G,ae){this.router=g,this.route=b,this.tabIndexAttribute=k,this.renderer=H,this.el=G,this.locationStrategy=ae,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new et.x;const Ye=G.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Ye||"area"===Ye,this.isAnchorElement?this.subscription=g.events.subscribe(He=>{He instanceof Me&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(g){this._preserveFragment=(0,f.D6c)(g)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(g){this._skipLocationChange=(0,f.D6c)(g)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(g){this._replaceUrl=(0,f.D6c)(g)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(g){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",g)}ngOnChanges(g){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(g){null!=g?(this.commands=Array.isArray(g)?g:[g],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(g,b,k,H,G){return!!(null===this.urlTree||this.isAnchorElement&&(0!==g||b||k||H||G||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const g=null===this.href?null:(0,f.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",g)}applyAttributeValue(g,b){const k=this.renderer,H=this.el.nativeElement;null!==b?k.setAttribute(H,g,b):k.removeAttribute(H,g)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return _.\u0275fac=function(g){return new(g||_)(f.Y36(Ei),f.Y36(si),f.$8M("tabindex"),f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(mt.S$))},_.\u0275dir=f.lG2({type:_,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(g,b){1&g&&f.NdJ("click",function(H){return b.onClick(H.button,H.ctrlKey,H.shiftKey,H.altKey,H.metaKey)}),2&g&&f.uIk("target",b.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[f.TTD]}),_})();class ui{}let vu=(()=>{class _{constructor(g,b,k,H,G){this.router=g,this.injector=k,this.preloadingStrategy=H,this.loader=G}setUpPreloading(){this.subscription=this.router.events.pipe((0,yt.h)(g=>g instanceof Me),(0,Qt.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(g,b){const k=[];for(const H of b){H.providers&&!H._injector&&(H._injector=(0,f.MMx)(H.providers,g,`Route: ${H.path}`));const G=H._injector??g,ae=H._loadedInjector??G;(H.loadChildren&&!H._loadedRoutes&&void 0===H.canLoad||H.loadComponent&&!H._loadedComponent)&&k.push(this.preloadConfig(G,H)),(H.children||H._loadedRoutes)&&k.push(this.processRoutes(ae,H.children??H._loadedRoutes))}return(0,D.D)(k).pipe((0,_e.J)())}preloadConfig(g,b){return this.preloadingStrategy.preload(b,()=>{let k;k=b.loadChildren&&void 0===b.canLoad?this.loader.loadChildren(g,b):(0,B.of)(null);const H=k.pipe((0,$e.z)(G=>null===G?(0,B.of)(void 0):(b._loadedRoutes=G.routes,b._loadedInjector=G.injector,this.processRoutes(G.injector??g,G.routes))));if(b.loadComponent&&!b._loadedComponent){const G=this.loader.loadComponent(b);return(0,D.D)([H,G]).pipe((0,_e.J)())}return H})}}return _.\u0275fac=function(g){return new(g||_)(f.LFG(Ei),f.LFG(f.Sil),f.LFG(f.lqb),f.LFG(ui),f.LFG(hs))},_.\u0275prov=f.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();const fs=new f.OlP("");let ia=(()=>{class _{constructor(g,b,k,H,G={}){this.urlSerializer=g,this.transitions=b,this.viewportScroller=k,this.zone=H,this.options=G,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},G.scrollPositionRestoration=G.scrollPositionRestoration||"disabled",G.anchorScrolling=G.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(g=>{g instanceof Re?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=g.navigationTrigger,this.restoredId=g.restoredState?g.restoredState.navigationId:0):g instanceof Me&&(this.lastId=g.id,this.scheduleScrollEvent(g,this.urlSerializer.parse(g.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(g=>{g instanceof os&&(g.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(g.position):g.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(g.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(g,b){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new os(g,"popstate"===this.lastSource?this.store[this.restoredId]:null,b))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return _.\u0275fac=function(g){f.$Z()},_.\u0275prov=f.Yz7({token:_,factory:_.\u0275fac}),_})();var xr=(()=>((xr=xr||{})[xr.COMPLETE=0]="COMPLETE",xr[xr.FAILED=1]="FAILED",xr[xr.REDIRECTING=2]="REDIRECTING",xr))();const lr=!1;function pi(_,w){return{\u0275kind:_,\u0275providers:w}}const _a=new f.OlP("",{providedIn:"root",factory:()=>!1});function Ga(){const _=(0,f.f3M)(f.zs3);return w=>{const g=_.get(f.z2F);if(w!==g.components[0])return;const b=_.get(Ei),k=_.get(fo);1===_.get(wi)&&b.initialNavigation(),_.get(wa,null,f.XFs.Optional)?.setUpPreloading(),_.get(fs,null,f.XFs.Optional)?.init(),b.resetRootComponentType(g.componentTypes[0]),k.closed||(k.next(),k.complete(),k.unsubscribe())}}const fo=new f.OlP(lr?"bootstrap done indicator":"",{factory:()=>new et.x}),wi=new f.OlP(lr?"initial navigation":"",{providedIn:"root",factory:()=>1});function Cr(){let _=[];return _=lr?[{provide:f.Xts,multi:!0,useFactory:()=>{const w=(0,f.f3M)(Ei);return()=>w.events.subscribe(g=>{console.group?.(`Router Event: ${g.constructor.name}`),console.log(function qi(_){if(!("type"in _))return`Unknown Router Event: ${_.constructor.name}`;switch(_.type){case 14:return`ActivationEnd(path: '${_.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${_.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${_.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${_.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${_.id}, url: '${_.url}', urlAfterRedirects: '${_.urlAfterRedirects}', state: ${_.state}, shouldActivate: ${_.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${_.id}, url: '${_.url}', urlAfterRedirects: '${_.urlAfterRedirects}', state: ${_.state})`;case 2:return`NavigationCancel(id: ${_.id}, url: '${_.url}')`;case 16:return`NavigationSkipped(id: ${_.id}, url: '${_.url}')`;case 1:return`NavigationEnd(id: ${_.id}, url: '${_.url}', urlAfterRedirects: '${_.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${_.id}, url: '${_.url}', error: ${_.error})`;case 0:return`NavigationStart(id: ${_.id}, url: '${_.url}')`;case 6:return`ResolveEnd(id: ${_.id}, url: '${_.url}', urlAfterRedirects: '${_.urlAfterRedirects}', state: ${_.state})`;case 5:return`ResolveStart(id: ${_.id}, url: '${_.url}', urlAfterRedirects: '${_.urlAfterRedirects}', state: ${_.state})`;case 10:return`RouteConfigLoadEnd(path: ${_.route.path})`;case 9:return`RouteConfigLoadStart(path: ${_.route.path})`;case 4:return`RoutesRecognized(id: ${_.id}, url: '${_.url}', urlAfterRedirects: '${_.urlAfterRedirects}', state: ${_.state})`;case 15:return`Scroll(anchor: '${_.anchor}', position: '${_.position?`${_.position[0]}, ${_.position[1]}`:null}')`}}(g)),console.log(g),console.groupEnd?.()})}}]:[],pi(1,_)}const wa=new f.OlP(lr?"router preloader":"");function su(_){return pi(0,[{provide:wa,useExisting:vu},{provide:ui,useExisting:_}])}const Eu=!1,sa=new f.OlP(Eu?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),wl=[mt.Ye,{provide:wn,useClass:kr},Ei,io,{provide:si,useFactory:function za(_){return _.routerState.root},deps:[Ei]},hs,Eu?{provide:_a,useValue:!0}:[]];function wu(){return new f.PXZ("Router",Ei)}let R=(()=>{class _{constructor(g){}static forRoot(g,b){return{ngModule:_,providers:[wl,Eu&&b?.enableTracing?Cr().\u0275providers:[],{provide:Lr,multi:!0,useValue:g},{provide:sa,useFactory:j,deps:[[Ei,new f.FiY,new f.tp0]]},{provide:Oa,useValue:b||{}},b?.useHash?{provide:mt.S$,useClass:mt.Do}:{provide:mt.S$,useClass:mt.b0},{provide:fs,useFactory:()=>{const _=(0,f.f3M)(mt.EM),w=(0,f.f3M)(f.R0b),g=(0,f.f3M)(Oa),b=(0,f.f3M)(Bi),k=(0,f.f3M)(wn);return g.scrollOffset&&_.setOffset(g.scrollOffset),new ia(k,b,_,w,g)}},b?.preloadingStrategy?su(b.preloadingStrategy).\u0275providers:[],{provide:f.PXZ,multi:!0,useFactory:wu},b?.initialNavigation?Q(b):[],[{provide:le,useFactory:Ga},{provide:f.tb,multi:!0,useExisting:le}]]}}static forChild(g){return{ngModule:_,providers:[{provide:Lr,multi:!0,useValue:g}]}}}return _.\u0275fac=function(g){return new(g||_)(f.LFG(sa,8))},_.\u0275mod=f.oAB({type:_}),_.\u0275inj=f.cJS({imports:[so]}),_})();function j(_){if(Eu&&_)throw new f.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Q(_){return["disabled"===_.initialNavigation?pi(3,[{provide:f.ip1,multi:!0,useFactory:()=>{const w=(0,f.f3M)(Ei);return()=>{w.setUpLocationChangeListener()}}},{provide:wi,useValue:2}]).\u0275providers:[],"enabledBlocking"===_.initialNavigation?pi(2,[{provide:wi,useValue:0},{provide:f.ip1,multi:!0,deps:[f.zs3],useFactory:w=>{const g=w.get(mt.V_,Promise.resolve());return()=>g.then(()=>new Promise(b=>{const k=w.get(Ei),H=w.get(fo);(function ka(_,w){_.events.pipe((0,yt.h)(g=>g instanceof Me||g instanceof _t||g instanceof cn||g instanceof Dt),(0,be.U)(g=>g instanceof Me||g instanceof Dt?xr.COMPLETE:g instanceof _t&&(0===g.code||1===g.code)?xr.REDIRECTING:xr.FAILED),(0,yt.h)(g=>g!==xr.REDIRECTING),(0,st.q)(1)).subscribe(()=>{w()})})(k,()=>{b(!0)}),w.get(Bi).afterPreactivation=()=>(b(!0),H.closed?(0,B.of)(void 0):H),k.initialNavigation()}))}}]).\u0275providers:[]]}const le=new f.OlP(Eu?"Router Initializer":"")},3942:(Lt,je,L)=>{L.d(je,{Z:()=>We});var f=L(2090),D=L(4859),B=L(6881),ue=L(1877);class he{constructor(Fe,Ge){this._delegate=Fe,this.firebase=Ge,(0,B._addComponent)(Fe,new D.wA("app-compat",()=>this,"PUBLIC")),this.container=Fe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Fe){this._delegate.automaticDataCollectionEnabled=Fe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Fe=>{this._delegate.checkDestroyed(),Fe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,B.deleteApp)(this._delegate)))}_getService(Fe,Ge=B._DEFAULT_ENTRY_NAME){var et;this._delegate.checkDestroyed();const mt=this._delegate.container.getProvider(Fe);return!mt.isInitialized()&&"EXPLICIT"===(null===(et=mt.getComponent())||void 0===et?void 0:et.instantiationMode)&&mt.initialize(),mt.getImmediate({identifier:Ge})}_removeServiceInstance(Fe,Ge=B._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Fe).clearInstance(Ge)}_addComponent(Fe){(0,B._addComponent)(this._delegate,Fe)}_addOrOverwriteComponent(Fe){(0,B._addOrOverwriteComponent)(this._delegate,Fe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Te=new f.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),re=function ge(){const ct=function Oe(ct){const Fe={},Ge={__esModule:!0,initializeApp:function be(yt,$e={}){const kt=B.initializeApp(yt,$e);if((0,f.r3)(Fe,kt.name))return Fe[kt.name];const Qt=new ct(kt,Ge);return Fe[kt.name]=Qt,Qt},app:mt,registerVersion:B.registerVersion,setLogLevel:B.setLogLevel,onLog:B.onLog,apps:null,SDK_VERSION:B.SDK_VERSION,INTERNAL:{registerComponent:function st(yt){const $e=yt.name,kt=$e.replace("-compat","");if(B._registerComponent(yt)&&"PUBLIC"===yt.type){const Qt=(Tt=mt())=>{if("function"!=typeof Tt[kt])throw Te.create("invalid-app-argument",{appName:$e});return Tt[kt]()};void 0!==yt.serviceProps&&(0,f.ZB)(Qt,yt.serviceProps),Ge[kt]=Qt,ct.prototype[kt]=function(...Tt){return this._getService.bind(this,$e).apply(this,yt.multipleInstances?Tt:[])}}return"PUBLIC"===yt.type?Ge[kt]:null},removeApp:function et(yt){delete Fe[yt]},useAsService:function Ct(yt,$e){return"serverAuth"===$e?null:$e},modularAPIs:B}};function mt(yt){if(!(0,f.r3)(Fe,yt=yt||B._DEFAULT_ENTRY_NAME))throw Te.create("no-app",{appName:yt});return Fe[yt]}return Ge.default=Ge,Object.defineProperty(Ge,"apps",{get:function De(){return Object.keys(Fe).map(yt=>Fe[yt])}}),mt.App=ct,Ge}(he);return ct.INTERNAL=Object.assign(Object.assign({},ct.INTERNAL),{createFirebaseNamespace:ge,extendNamespace:function Fe(Ge){(0,f.ZB)(ct,Ge)},createSubscribe:f.ne,ErrorFactory:f.LL,deepExtend:f.ZB}),ct}(),ie=new ue.Yd("@firebase/app-compat");if((0,f.jU)()&&void 0!==self.firebase){ie.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ct=self.firebase.SDK_VERSION;ct&&ct.indexOf("LITE")>=0&&ie.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const We=re;!function ce(ct){(0,B.registerVersion)("@firebase/app-compat","0.2.11",ct)}()},6881:(Lt,je,L)=>{L.r(je),L.d(je,{FirebaseError:()=>ue.ZR,SDK_VERSION:()=>zt,_DEFAULT_ENTRY_NAME:()=>Jr,_addComponent:()=>en,_addOrOverwriteComponent:()=>hn,_apps:()=>dr,_clearComponents:()=>fn,_components:()=>Sn,_getProvider:()=>Kr,_registerComponent:()=>Si,_removeServiceInstance:()=>tr,deleteApp:()=>Vn,getApp:()=>kr,getApps:()=>dn,initializeApp:()=>wn,onLog:()=>Ot,registerVersion:()=>sr,setLogLevel:()=>Xr});var f=L(5861),D=L(4859),B=L(1877),ue=L(2090);const he=(rt,Ke)=>Ke.some(St=>rt instanceof St);let we,Te;const re=new WeakMap,ie=new WeakMap,ne=new WeakMap,ke=new WeakMap,ce=new WeakMap;let Fe={get(rt,Ke,St){if(rt instanceof IDBTransaction){if("done"===Ke)return ie.get(rt);if("objectStoreNames"===Ke)return rt.objectStoreNames||ne.get(rt);if("store"===Ke)return St.objectStoreNames[1]?void 0:St.objectStore(St.objectStoreNames[0])}return be(rt[Ke])},set:(rt,Ke,St)=>(rt[Ke]=St,!0),has:(rt,Ke)=>rt instanceof IDBTransaction&&("done"===Ke||"store"===Ke)||Ke in rt};function mt(rt){return"function"==typeof rt?function et(rt){return rt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ge(){return Te||(Te=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(rt)?function(...Ke){return rt.apply(De(this),Ke),be(re.get(this))}:function(...Ke){return be(rt.apply(De(this),Ke))}:function(Ke,...St){const Gt=rt.call(De(this),Ke,...St);return ne.set(Gt,Ke.sort?Ke.sort():[Ke]),be(Gt)}}(rt):(rt instanceof IDBTransaction&&function ct(rt){if(ie.has(rt))return;const Ke=new Promise((St,Gt)=>{const ln=()=>{rt.removeEventListener("complete",In),rt.removeEventListener("error",Zt),rt.removeEventListener("abort",Zt)},In=()=>{St(),ln()},Zt=()=>{Gt(rt.error||new DOMException("AbortError","AbortError")),ln()};rt.addEventListener("complete",In),rt.addEventListener("error",Zt),rt.addEventListener("abort",Zt)});ie.set(rt,Ke)}(rt),he(rt,function Oe(){return we||(we=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(rt,Fe):rt)}function be(rt){if(rt instanceof IDBRequest)return function We(rt){const Ke=new Promise((St,Gt)=>{const ln=()=>{rt.removeEventListener("success",In),rt.removeEventListener("error",Zt)},In=()=>{St(be(rt.result)),ln()},Zt=()=>{Gt(rt.error),ln()};rt.addEventListener("success",In),rt.addEventListener("error",Zt)});return Ke.then(St=>{St instanceof IDBCursor&&re.set(St,rt)}).catch(()=>{}),ce.set(Ke,rt),Ke}(rt);if(ke.has(rt))return ke.get(rt);const Ke=mt(rt);return Ke!==rt&&(ke.set(rt,Ke),ce.set(Ke,rt)),Ke}const De=rt=>ce.get(rt),yt=["get","getKey","getAll","getAllKeys","count"],$e=["put","add","delete","clear"],kt=new Map;function Qt(rt,Ke){if(!(rt instanceof IDBDatabase)||Ke in rt||"string"!=typeof Ke)return;if(kt.get(Ke))return kt.get(Ke);const St=Ke.replace(/FromIndex$/,""),Gt=Ke!==St,ln=$e.includes(St);if(!(St in(Gt?IDBIndex:IDBObjectStore).prototype)||!ln&&!yt.includes(St))return;const In=function(){var Zt=(0,f.Z)(function*(Un,...On){const Pr=this.transaction(Un,ln?"readwrite":"readonly");let Rr=Pr.store;return Gt&&(Rr=Rr.index(On.shift())),(yield Promise.all([Rr[St](...On),ln&&Pr.done]))[0]});return function(On){return Zt.apply(this,arguments)}}();return kt.set(Ke,In),In}!function Ge(rt){Fe=rt(Fe)}(rt=>({...rt,get:(Ke,St,Gt)=>Qt(Ke,St)||rt.get(Ke,St,Gt),has:(Ke,St)=>!!Qt(Ke,St)||rt.has(Ke,St)}));class Tt{constructor(Ke){this.container=Ke}getPlatformInfoString(){return this.container.getProviders().map(St=>{if(function Cn(rt){return"VERSION"===rt.getComponent()?.type}(St)){const Gt=St.getImmediate();return`${Gt.library}/${Gt.version}`}return null}).filter(St=>St).join(" ")}}const Ut="@firebase/app",ot=new B.Yd("@firebase/app"),Jr="[DEFAULT]",$i={[Ut]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},dr=new Map,Sn=new Map;function en(rt,Ke){try{rt.container.addComponent(Ke)}catch(St){ot.debug(`Component ${Ke.name} failed to register with FirebaseApp ${rt.name}`,St)}}function hn(rt,Ke){rt.container.addOrOverwriteComponent(Ke)}function Si(rt){const Ke=rt.name;if(Sn.has(Ke))return ot.debug(`There were multiple attempts to register component ${Ke}.`),!1;Sn.set(Ke,rt);for(const St of dr.values())en(St,rt);return!0}function Kr(rt,Ke){const St=rt.container.getProvider("heartbeat").getImmediate({optional:!0});return St&&St.triggerHeartbeat(),rt.container.getProvider(Ke)}function tr(rt,Ke,St=Jr){Kr(rt,Ke).clearInstance(St)}function fn(){Sn.clear()}const br=new ue.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class kn{constructor(Ke,St,Gt){this._isDeleted=!1,this._options=Object.assign({},Ke),this._config=Object.assign({},St),this._name=St.name,this._automaticDataCollectionEnabled=St.automaticDataCollectionEnabled,this._container=Gt,this.container.addComponent(new D.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ke){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ke}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ke){this._isDeleted=Ke}checkDestroyed(){if(this.isDeleted)throw br.create("app-deleted",{appName:this._name})}}const zt="9.22.1";function wn(rt,Ke={}){let St=rt;"object"!=typeof Ke&&(Ke={name:Ke});const Gt=Object.assign({name:Jr,automaticDataCollectionEnabled:!1},Ke),ln=Gt.name;if("string"!=typeof ln||!ln)throw br.create("bad-app-name",{appName:String(ln)});if(St||(St=(0,ue.aH)()),!St)throw br.create("no-options");const In=dr.get(ln);if(In){if((0,ue.vZ)(St,In.options)&&(0,ue.vZ)(Gt,In.config))return In;throw br.create("duplicate-app",{appName:ln})}const Zt=new D.H0(ln);for(const On of Sn.values())Zt.addComponent(On);const Un=new kn(St,Gt,Zt);return dr.set(ln,Un),Un}function kr(rt=Jr){const Ke=dr.get(rt);if(!Ke&&rt===Jr&&(0,ue.aH)())return wn();if(!Ke)throw br.create("no-app",{appName:rt});return Ke}function dn(){return Array.from(dr.values())}function Vn(rt){return nr.apply(this,arguments)}function nr(){return(nr=(0,f.Z)(function*(rt){const Ke=rt.name;dr.has(Ke)&&(dr.delete(Ke),yield Promise.all(rt.container.getProviders().map(St=>St.delete())),rt.isDeleted=!0)})).apply(this,arguments)}function sr(rt,Ke,St){var Gt;let ln=null!==(Gt=$i[rt])&&void 0!==Gt?Gt:rt;St&&(ln+=`-${St}`);const In=ln.match(/\s|\//),Zt=Ke.match(/\s|\//);if(In||Zt){const Un=[`Unable to register library "${ln}" with version "${Ke}":`];return In&&Un.push(`library name "${ln}" contains illegal characters (whitespace or "/")`),In&&Zt&&Un.push("and"),Zt&&Un.push(`version name "${Ke}" contains illegal characters (whitespace or "/")`),void ot.warn(Un.join(" "))}Si(new D.wA(`${ln}-version`,()=>({library:ln,version:Ke}),"VERSION"))}function Ot(rt,Ke){if(null!==rt&&"function"!=typeof rt)throw br.create("invalid-log-argument");(0,B.Am)(rt,Ke)}function Xr(rt){(0,B.Ub)(rt)}const an="firebase-heartbeat-database",vr=1,me="firebase-heartbeat-store";let pe=null;function Se(){return pe||(pe=function st(rt,Ke,{blocked:St,upgrade:Gt,blocking:ln,terminated:In}={}){const Zt=indexedDB.open(rt,Ke),Un=be(Zt);return Gt&&Zt.addEventListener("upgradeneeded",On=>{Gt(be(Zt.result),On.oldVersion,On.newVersion,be(Zt.transaction),On)}),St&&Zt.addEventListener("blocked",On=>St(On.oldVersion,On.newVersion,On)),Un.then(On=>{In&&On.addEventListener("close",()=>In()),ln&&On.addEventListener("versionchange",Pr=>ln(Pr.oldVersion,Pr.newVersion,Pr))}).catch(()=>{}),Un}(an,vr,{upgrade:(rt,Ke)=>{0===Ke&&rt.createObjectStore(me)}}).catch(rt=>{throw br.create("idb-open",{originalErrorMessage:rt.message})})),pe}function qe(){return(qe=(0,f.Z)(function*(rt){try{return yield(yield Se()).transaction(me).objectStore(me).get(Ce(rt))}catch(Ke){if(Ke instanceof ue.ZR)ot.warn(Ke.message);else{const St=br.create("idb-get",{originalErrorMessage:Ke?.message});ot.warn(St.message)}}})).apply(this,arguments)}function Rt(rt,Ke){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,f.Z)(function*(rt,Ke){try{const Gt=(yield Se()).transaction(me,"readwrite");yield Gt.objectStore(me).put(Ke,Ce(rt)),yield Gt.done}catch(St){if(St instanceof ue.ZR)ot.warn(St.message);else{const Gt=br.create("idb-set",{originalErrorMessage:St?.message});ot.warn(Gt.message)}}})).apply(this,arguments)}function Ce(rt){return`${rt.name}!${rt.options.appId}`}class dt{constructor(Ke){this.container=Ke,this._heartbeatsCache=null;const St=this.container.getProvider("app").getImmediate();this._storage=new Gn(St),this._heartbeatsCachePromise=this._storage.read().then(Gt=>(this._heartbeatsCache=Gt,Gt))}triggerHeartbeat(){var Ke=this;return(0,f.Z)(function*(){const Gt=Ke.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ln=At();if(null===Ke._heartbeatsCache&&(Ke._heartbeatsCache=yield Ke._heartbeatsCachePromise),Ke._heartbeatsCache.lastSentHeartbeatDate!==ln&&!Ke._heartbeatsCache.heartbeats.some(In=>In.date===ln))return Ke._heartbeatsCache.heartbeats.push({date:ln,agent:Gt}),Ke._heartbeatsCache.heartbeats=Ke._heartbeatsCache.heartbeats.filter(In=>{const Zt=new Date(In.date).valueOf();return Date.now()-Zt<=2592e6}),Ke._storage.overwrite(Ke._heartbeatsCache)})()}getHeartbeatsHeader(){var Ke=this;return(0,f.Z)(function*(){if(null===Ke._heartbeatsCache&&(yield Ke._heartbeatsCachePromise),null===Ke._heartbeatsCache||0===Ke._heartbeatsCache.heartbeats.length)return"";const St=At(),{heartbeatsToSend:Gt,unsentEntries:ln}=function rn(rt,Ke=1024){const St=[];let Gt=rt.slice();for(const ln of rt){const In=St.find(Zt=>Zt.agent===ln.agent);if(In){if(In.dates.push(ln.date),Tn(St)>Ke){In.dates.pop();break}}else if(St.push({agent:ln.agent,dates:[ln.date]}),Tn(St)>Ke){St.pop();break}Gt=Gt.slice(1)}return{heartbeatsToSend:St,unsentEntries:Gt}}(Ke._heartbeatsCache.heartbeats),In=(0,ue.L)(JSON.stringify({version:2,heartbeats:Gt}));return Ke._heartbeatsCache.lastSentHeartbeatDate=St,ln.length>0?(Ke._heartbeatsCache.heartbeats=ln,yield Ke._storage.overwrite(Ke._heartbeatsCache)):(Ke._heartbeatsCache.heartbeats=[],Ke._storage.overwrite(Ke._heartbeatsCache)),In})()}}function At(){return(new Date).toISOString().substring(0,10)}class Gn{constructor(Ke){this.app=Ke,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,f.Z)(function*(){return!!(0,ue.hl)()&&(0,ue.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ke=this;return(0,f.Z)(function*(){return(yield Ke._canUseIndexedDBPromise)&&(yield function pt(rt){return qe.apply(this,arguments)}(Ke.app))||{heartbeats:[]}})()}overwrite(Ke){var St=this;return(0,f.Z)(function*(){var Gt;if(yield St._canUseIndexedDBPromise){const In=yield St.read();return Rt(St.app,{lastSentHeartbeatDate:null!==(Gt=Ke.lastSentHeartbeatDate)&&void 0!==Gt?Gt:In.lastSentHeartbeatDate,heartbeats:Ke.heartbeats})}})()}add(Ke){var St=this;return(0,f.Z)(function*(){var Gt;if(yield St._canUseIndexedDBPromise){const In=yield St.read();return Rt(St.app,{lastSentHeartbeatDate:null!==(Gt=Ke.lastSentHeartbeatDate)&&void 0!==Gt?Gt:In.lastSentHeartbeatDate,heartbeats:[...In.heartbeats,...Ke.heartbeats]})}})()}}function Tn(rt){return(0,ue.L)(JSON.stringify({version:2,heartbeats:rt})).length}!function ei(rt){Si(new D.wA("platform-logger",Ke=>new Tt(Ke),"PRIVATE")),Si(new D.wA("heartbeat",Ke=>new dt(Ke),"PRIVATE")),sr(Ut,"0.9.11",rt),sr(Ut,"0.9.11","esm2017"),sr("fire-js","")}("")},4859:(Lt,je,L)=>{L.d(je,{H0:()=>Oe,wA:()=>B});var f=L(5861),D=L(2090);class B{constructor(re,ie,ne){this.name=re,this.instanceFactory=ie,this.type=ne,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(re){return this.instantiationMode=re,this}setMultipleInstances(re){return this.multipleInstances=re,this}setServiceProps(re){return this.serviceProps=re,this}setInstanceCreatedCallback(re){return this.onInstanceCreated=re,this}}const ue="[DEFAULT]";class he{constructor(re,ie){this.name=re,this.container=ie,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(re){const ie=this.normalizeInstanceIdentifier(re);if(!this.instancesDeferred.has(ie)){const ne=new D.BH;if(this.instancesDeferred.set(ie,ne),this.isInitialized(ie)||this.shouldAutoInitialize())try{const ke=this.getOrInitializeService({instanceIdentifier:ie});ke&&ne.resolve(ke)}catch{}}return this.instancesDeferred.get(ie).promise}getImmediate(re){var ie;const ne=this.normalizeInstanceIdentifier(re?.identifier),ke=null!==(ie=re?.optional)&&void 0!==ie&&ie;if(!this.isInitialized(ne)&&!this.shouldAutoInitialize()){if(ke)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ne})}catch(ce){if(ke)return null;throw ce}}getComponent(){return this.component}setComponent(re){if(re.name!==this.name)throw Error(`Mismatching Component ${re.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=re,this.shouldAutoInitialize()){if(function Te(ge){return"EAGER"===ge.instantiationMode}(re))try{this.getOrInitializeService({instanceIdentifier:ue})}catch{}for(const[ie,ne]of this.instancesDeferred.entries()){const ke=this.normalizeInstanceIdentifier(ie);try{const ce=this.getOrInitializeService({instanceIdentifier:ke});ne.resolve(ce)}catch{}}}}clearInstance(re=ue){this.instancesDeferred.delete(re),this.instancesOptions.delete(re),this.instances.delete(re)}delete(){var re=this;return(0,f.Z)(function*(){const ie=Array.from(re.instances.values());yield Promise.all([...ie.filter(ne=>"INTERNAL"in ne).map(ne=>ne.INTERNAL.delete()),...ie.filter(ne=>"_delete"in ne).map(ne=>ne._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(re=ue){return this.instances.has(re)}getOptions(re=ue){return this.instancesOptions.get(re)||{}}initialize(re={}){const{options:ie={}}=re,ne=this.normalizeInstanceIdentifier(re.instanceIdentifier);if(this.isInitialized(ne))throw Error(`${this.name}(${ne}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ke=this.getOrInitializeService({instanceIdentifier:ne,options:ie});for(const[ce,We]of this.instancesDeferred.entries())ne===this.normalizeInstanceIdentifier(ce)&&We.resolve(ke);return ke}onInit(re,ie){var ne;const ke=this.normalizeInstanceIdentifier(ie),ce=null!==(ne=this.onInitCallbacks.get(ke))&&void 0!==ne?ne:new Set;ce.add(re),this.onInitCallbacks.set(ke,ce);const We=this.instances.get(ke);return We&&re(We,ke),()=>{ce.delete(re)}}invokeOnInitCallbacks(re,ie){const ne=this.onInitCallbacks.get(ie);if(ne)for(const ke of ne)try{ke(re,ie)}catch{}}getOrInitializeService({instanceIdentifier:re,options:ie={}}){let ne=this.instances.get(re);if(!ne&&this.component&&(ne=this.component.instanceFactory(this.container,{instanceIdentifier:(ge=re,ge===ue?void 0:ge),options:ie}),this.instances.set(re,ne),this.instancesOptions.set(re,ie),this.invokeOnInitCallbacks(ne,re),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,re,ne)}catch{}var ge;return ne||null}normalizeInstanceIdentifier(re=ue){return this.component?this.component.multipleInstances?re:ue:re}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Oe{constructor(re){this.name=re,this.providers=new Map}addComponent(re){const ie=this.getProvider(re.name);if(ie.isComponentSet())throw new Error(`Component ${re.name} has already been registered with ${this.name}`);ie.setComponent(re)}addOrOverwriteComponent(re){this.getProvider(re.name).isComponentSet()&&this.providers.delete(re.name),this.addComponent(re)}getProvider(re){if(this.providers.has(re))return this.providers.get(re);const ie=new he(re,this);return this.providers.set(re,ie),ie}getProviders(){return Array.from(this.providers.values())}}},1877:(Lt,je,L)=>{L.d(je,{Am:()=>ge,Ub:()=>Oe,Yd:()=>Te,in:()=>D});const f=[];var D=(()=>{return(re=D||(D={}))[re.DEBUG=0]="DEBUG",re[re.VERBOSE=1]="VERBOSE",re[re.INFO=2]="INFO",re[re.WARN=3]="WARN",re[re.ERROR=4]="ERROR",re[re.SILENT=5]="SILENT",D;var re})();const B={debug:D.DEBUG,verbose:D.VERBOSE,info:D.INFO,warn:D.WARN,error:D.ERROR,silent:D.SILENT},ue=D.INFO,he={[D.DEBUG]:"log",[D.VERBOSE]:"log",[D.INFO]:"info",[D.WARN]:"warn",[D.ERROR]:"error"},we=(re,ie,...ne)=>{if(ie<re.logLevel)return;const ke=(new Date).toISOString(),ce=he[ie];if(!ce)throw new Error(`Attempted to log a message with an invalid logType (value: ${ie})`);console[ce](`[${ke}]  ${re.name}:`,...ne)};class Te{constructor(ie){this.name=ie,this._logLevel=ue,this._logHandler=we,this._userLogHandler=null,f.push(this)}get logLevel(){return this._logLevel}set logLevel(ie){if(!(ie in D))throw new TypeError(`Invalid value "${ie}" assigned to \`logLevel\``);this._logLevel=ie}setLogLevel(ie){this._logLevel="string"==typeof ie?B[ie]:ie}get logHandler(){return this._logHandler}set logHandler(ie){if("function"!=typeof ie)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ie}get userLogHandler(){return this._userLogHandler}set userLogHandler(ie){this._userLogHandler=ie}debug(...ie){this._userLogHandler&&this._userLogHandler(this,D.DEBUG,...ie),this._logHandler(this,D.DEBUG,...ie)}log(...ie){this._userLogHandler&&this._userLogHandler(this,D.VERBOSE,...ie),this._logHandler(this,D.VERBOSE,...ie)}info(...ie){this._userLogHandler&&this._userLogHandler(this,D.INFO,...ie),this._logHandler(this,D.INFO,...ie)}warn(...ie){this._userLogHandler&&this._userLogHandler(this,D.WARN,...ie),this._logHandler(this,D.WARN,...ie)}error(...ie){this._userLogHandler&&this._userLogHandler(this,D.ERROR,...ie),this._logHandler(this,D.ERROR,...ie)}}function Oe(re){f.forEach(ie=>{ie.setLogLevel(re)})}function ge(re,ie){for(const ne of f){let ke=null;ie&&ie.level&&(ke=B[ie.level]),ne.userLogHandler=null===re?null:(ce,We,...ct)=>{const Fe=ct.map(Ge=>{if(null==Ge)return null;if("string"==typeof Ge)return Ge;if("number"==typeof Ge||"boolean"==typeof Ge)return Ge.toString();if(Ge instanceof Error)return Ge.message;try{return JSON.stringify(Ge)}catch{return null}}).filter(Ge=>Ge).join(" ");We>=(ke??ce.logLevel)&&re({level:D[We].toLowerCase(),message:Fe,args:ct,type:ce.name})}}}},259:(Lt,je,L)=>{L.d(je,{C6:()=>f.getApps,KN:()=>f.registerVersion,Mq:()=>f.getApp,ZF:()=>f.initializeApp});var f=L(6881);(0,f.registerVersion)("firebase","9.22.1","app")},4322:(Lt,je,L)=>{L.d(je,{v0:()=>f.o,w$:()=>f.ae});var f=L(1389);L(2090),L(6881),L(1877),L(4859)},9260:(Lt,je,L)=>{L.d(je,{Z:()=>f.Z});var f=L(3942);f.Z.registerVersion("firebase","9.22.1","app-compat")},8242:(Lt,je,L)=>{L.d(je,{e7:()=>ie,to:()=>ge});var f=L(4650),D=L(4006),B=L(6895);const ue=["captchaWrapperElem"];let he=(()=>{class ne{constructor(ce){this.zone=ce,this.scriptElemId="ngx-catpcha-script",this.windowGrecaptcha="grecaptcha",this.windowGrecaptchaEnterprise="enterprise",this.windowOnLoadCallbackProperty="ngx_captcha_onload_callback",this.windowOnLoadEnterpriseCallbackProperty="ngx_captcha_onload_enterprise_callback",this.globalDomain="recaptcha.net",this.defaultDomain="google.com",this.enterpriseApi="enterprise.js",this.defaultApi="api.js"}registerCaptchaScript(ce,We,ct,Fe){if(this.grecaptchaScriptLoaded(ce.useEnterprise))return void this.zone.run(ce.useEnterprise?()=>{ct(window[this.windowGrecaptcha][this.windowGrecaptchaEnterprise])}:()=>{ct(window[this.windowGrecaptcha])});ce.useEnterprise?window[this.getCallbackName(!0)]=()=>this.zone.run(ct.bind(this,window[this.windowGrecaptcha][this.windowGrecaptchaEnterprise])):window[this.getCallbackName(!1)]=()=>this.zone.run(ct.bind(this,window[this.windowGrecaptcha]));const Ge=document.createElement("script");Ge.id=this.scriptElemId,Ge.innerHTML="",Ge.src=this.getCaptchaScriptUrl(ce,We,Fe),Ge.async=!0,Ge.defer=!0,document.getElementsByTagName("head")[0].appendChild(Ge)}cleanup(){const ce=document.getElementById(this.scriptElemId);ce&&ce.remove(),window[this.getCallbackName()]=void 0,window[this.windowGrecaptcha]=void 0}grecaptchaScriptLoaded(ce){return!!(window[this.getCallbackName(ce)]&&window[this.windowGrecaptcha]&&(ce&&window[this.windowGrecaptcha][this.windowGrecaptchaEnterprise]||window[this.windowGrecaptcha].execute))}getCallbackName(ce){return ce?this.windowOnLoadEnterpriseCallbackProperty:this.windowOnLoadCallbackProperty}getLanguageParam(ce){return ce?`&hl=${ce}`:""}getCaptchaScriptUrl(ce,We,ct){return`https://www.${ce.useGlobalDomain?this.globalDomain:this.defaultDomain}/recaptcha/${ce.useEnterprise?this.enterpriseApi:this.defaultApi}?onload=${this.getCallbackName(ce.useEnterprise)}&render=${We}${this.getLanguageParam(ct)}`}}return ne.\u0275fac=function(ce){return new(ce||ne)(f.LFG(f.R0b))},ne.\u0275prov=f.Yz7({token:ne,factory:ne.\u0275fac,providedIn:"root"}),ne})(),we=(()=>{class ne{constructor(ce,We,ct,Fe){this.renderer=ce,this.zone=We,this.injector=ct,this.scriptService=Fe,this.captchaElemPrefix="ngx_captcha_id_",this.setupCaptcha=!0,this.useGlobalDomain=!1,this.useEnterprise=!1,this.type="image",this.tabIndex=0,this.success=new f.vpe,this.load=new f.vpe,this.reset=new f.vpe,this.ready=new f.vpe,this.error=new f.vpe,this.expire=new f.vpe,this.setupAfterLoad=!1,this.resetCaptchaAfterSuccess=!1,this.onChange=Ge=>{},this.onTouched=Ge=>{},this.isLoaded=!1}ngAfterViewInit(){this.control=this.injector.get(D.a5,void 0,f.XFs.Optional)?.control}ngAfterViewChecked(){this.setupCaptcha&&(this.setupCaptcha=!1,this.setupComponent())}ngOnChanges(ce){ce&&ce.hl&&!ce.hl.firstChange&&ce.hl.currentValue!==ce.hl.previousValue&&this.scriptService.cleanup(),ce&&ce.useGlobalDomain&&!ce.useGlobalDomain.firstChange&&ce.useGlobalDomain.currentValue!==ce.useGlobalDomain.previousValue&&this.scriptService.cleanup(),this.setupCaptcha=!0}getResponse(){return this.reCaptchaApi.getResponse(this.captchaId)}getCaptchaId(){return this.captchaId}resetCaptcha(){this.zone.run(()=>{this.reCaptchaApi.reset(),this.onChange(void 0),this.onTouched(void 0),this.reset.next()})}getCurrentResponse(){return this.currentResponse}reloadCaptcha(){this.setupComponent()}ensureCaptchaElem(ce){const We=document.getElementById(ce);if(!We)throw Error(`Captcha element with id '${ce}' was not found`);this.captchaElem=We}renderReCaptcha(){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.captchaId=this.reCaptchaApi.render(this.captchaElemId,this.getCaptchaProperties()),this.ready.next()},0)})}handleCallback(ce){this.currentResponse=ce,this.success.next(ce),this.zone.run(()=>{this.onChange(ce),this.onTouched(ce)}),this.resetCaptchaAfterSuccess&&this.resetCaptcha()}getPseudoUniqueNumber(){return(new Date).getUTCMilliseconds()+Math.floor(9999*Math.random())}setupComponent(){this.captchaSpecificSetup(),this.createAndSetCaptchaElem(),this.scriptService.registerCaptchaScript({useGlobalDomain:this.useGlobalDomain,useEnterprise:this.useEnterprise},"explicit",ce=>{this.onloadCallback(ce)},this.hl)}onloadCallback(ce){if(this.reCaptchaApi=ce,!this.reCaptchaApi)throw Error("ReCaptcha Api was not initialized correctly");this.isLoaded=!0,this.load.next(),this.renderReCaptcha(),this.setupAfterLoad&&(this.setupAfterLoad=!1,this.setupComponent())}generateNewElemId(){return this.captchaElemPrefix+this.getPseudoUniqueNumber()}createAndSetCaptchaElem(){if(this.captchaElemId=this.generateNewElemId(),!this.captchaElemId)throw Error("Captcha elem Id is not set");if(!this.captchaWrapperElem)throw Error("Captcha DOM element is not initialized");this.captchaWrapperElem.nativeElement.innerHTML="";const ce=this.renderer.createElement("div");ce.id=this.captchaElemId,this.renderer.appendChild(this.captchaWrapperElem.nativeElement,ce),setTimeout(()=>{this.captchaElemId&&this.ensureCaptchaElem(this.captchaElemId)},0)}writeValue(ce){}registerOnChange(ce){this.onChange=ce}registerOnTouched(ce){this.onTouched=ce}handleErrorCallback(){this.zone.run(()=>{this.onChange(void 0),this.onTouched(void 0)}),this.error.next()}handleExpireCallback(){this.expire.next(),this.resetCaptcha()}}return ne.\u0275fac=function(ce){return new(ce||ne)(f.Y36(f.Qsj),f.Y36(f.R0b),f.Y36(f.zs3),f.Y36(he))},ne.\u0275dir=f.lG2({type:ne,inputs:{siteKey:"siteKey",useGlobalDomain:"useGlobalDomain",useEnterprise:"useEnterprise",type:"type",hl:"hl",tabIndex:"tabIndex"},outputs:{success:"success",load:"load",reset:"reset",ready:"ready",error:"error",expire:"expire"},features:[f.TTD]}),ne})();var Te=(()=>{return(ne=Te||(Te={}))[ne.InvisibleReCaptcha=0]="InvisibleReCaptcha",ne[ne.ReCaptcha2=1]="ReCaptcha2",Te;var ne})();let ge=(()=>{class ne extends we{constructor(ce,We,ct,Fe){super(ce,We,ct,Fe),this.renderer=ce,this.zone=We,this.injector=ct,this.scriptService=Fe,this.windowOnErrorCallbackProperty="ngx_captcha_error_callback",this.windowOnExpireCallbackProperty="ngx_captcha_expire_callback",this.theme="light",this.size="normal",this.recaptchaType=Te.ReCaptcha2}ngOnChanges(ce){super.ngOnChanges(ce)}ngOnDestroy(){window[this.windowOnErrorCallbackProperty]={},window[this.windowOnExpireCallbackProperty]={}}captchaSpecificSetup(){this.registerCallbacks()}getCaptchaProperties(){return{sitekey:this.siteKey,callback:ce=>this.zone.run(()=>this.handleCallback(ce)),"expired-callback":()=>this.zone.run(()=>this.handleExpireCallback()),"error-callback":()=>this.zone.run(()=>this.handleErrorCallback()),theme:this.theme,type:this.type,size:this.size,tabindex:this.tabIndex}}registerCallbacks(){window[this.windowOnErrorCallbackProperty]=super.handleErrorCallback.bind(this),window[this.windowOnExpireCallbackProperty]=super.handleExpireCallback.bind(this)}}return ne.\u0275fac=function(ce){return new(ce||ne)(f.Y36(f.Qsj),f.Y36(f.R0b),f.Y36(f.zs3),f.Y36(he))},ne.\u0275cmp=f.Xpm({type:ne,selectors:[["ngx-recaptcha2"]],viewQuery:function(ce,We){if(1&ce&&f.Gf(ue,5),2&ce){let ct;f.iGM(ct=f.CRH())&&(We.captchaWrapperElem=ct.first)}},inputs:{theme:"theme",size:"size"},features:[f._Bn([{provide:D.JU,useExisting:(0,f.Gpc)(()=>ne),multi:!0}]),f.qOj,f.TTD],decls:2,vars:0,consts:[["captchaWrapperElem",""]],template:function(ce,We){1&ce&&f._UZ(0,"div",null,0)},encapsulation:2}),ne})(),re=(()=>{class ne{constructor(ce,We){this.scriptService=ce,this.zone=We}execute(ce,We,ct,Fe,Ge){this.executeAsPromise(ce,We,Fe).then(ct).catch(et=>Ge?Ge(et):console.error(et))}executeAsPromise(ce,We,ct){return new Promise((Fe,Ge)=>{this.scriptService.registerCaptchaScript(ct||{},ce,be=>{this.zone.runOutsideAngular(()=>{try{be.execute(ce,{action:We}).then(De=>this.zone.run(()=>Fe(De)))}catch(De){Ge(De)}})})})}}return ne.\u0275fac=function(ce){return new(ce||ne)(f.LFG(he),f.LFG(f.R0b))},ne.\u0275prov=f.Yz7({token:ne,factory:ne.\u0275fac,providedIn:"root"}),ne})(),ie=(()=>{class ne{}return ne.\u0275fac=function(ce){return new(ce||ne)},ne.\u0275mod=f.oAB({type:ne}),ne.\u0275inj=f.cJS({providers:[he,re],imports:[B.ez]}),ne})()},3648:(Lt,je,L)=>{L.d(je,{Rh:()=>ut,_W:()=>Ut});var f=L(6656),D=L(4650),B=L(7340),ue=L(6895),he=L(7579),we=L(1481);const Te=["toast-component",""];function Oe(ze,Pt){if(1&ze){const _e=D.EpF();D.TgZ(0,"button",5),D.NdJ("click",function(){D.CHM(_e);const at=D.oxw();return D.KtG(at.remove())}),D.TgZ(1,"span",6),D._uU(2,"\xd7"),D.qZA()()}}function ge(ze,Pt){if(1&ze&&(D.ynx(0),D._uU(1),D.BQk()),2&ze){const _e=D.oxw(2);D.xp6(1),D.hij("[",_e.duplicatesCount+1,"]")}}function re(ze,Pt){if(1&ze&&(D.TgZ(0,"div"),D._uU(1),D.YNc(2,ge,2,1,"ng-container",4),D.qZA()),2&ze){const _e=D.oxw();D.Tol(_e.options.titleClass),D.uIk("aria-label",_e.title),D.xp6(1),D.hij(" ",_e.title," "),D.xp6(1),D.Q6J("ngIf",_e.duplicatesCount)}}function ie(ze,Pt){if(1&ze&&D._UZ(0,"div",7),2&ze){const _e=D.oxw();D.Tol(_e.options.messageClass),D.Q6J("innerHTML",_e.message,D.oJD)}}function ne(ze,Pt){if(1&ze&&(D.TgZ(0,"div",8),D._uU(1),D.qZA()),2&ze){const _e=D.oxw();D.Tol(_e.options.messageClass),D.uIk("aria-label",_e.message),D.xp6(1),D.hij(" ",_e.message," ")}}function ke(ze,Pt){if(1&ze&&(D.TgZ(0,"div"),D._UZ(1,"div",9),D.qZA()),2&ze){const _e=D.oxw();D.xp6(1),D.Udp("width",_e.width+"%")}}class be{constructor(Pt,_e){(0,f.Z)(this,"_attachedHost",void 0),(0,f.Z)(this,"component",void 0),(0,f.Z)(this,"viewContainerRef",void 0),(0,f.Z)(this,"injector",void 0),this.component=Pt,this.injector=_e}attach(Pt,_e){return this._attachedHost=Pt,Pt.attach(this,_e)}detach(){const Pt=this._attachedHost;if(Pt)return this._attachedHost=void 0,Pt.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(Pt){this._attachedHost=Pt}}class De{constructor(){(0,f.Z)(this,"_attachedPortal",void 0),(0,f.Z)(this,"_disposeFn",void 0)}attach(Pt,_e){return this._attachedPortal=Pt,this.attachComponentPortal(Pt,_e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(Pt){this._disposeFn=Pt}}class st{constructor(Pt){(0,f.Z)(this,"_overlayRef",void 0),(0,f.Z)(this,"componentInstance",void 0),(0,f.Z)(this,"duplicatesCount",0),(0,f.Z)(this,"_afterClosed",new he.x),(0,f.Z)(this,"_activate",new he.x),(0,f.Z)(this,"_manualClose",new he.x),(0,f.Z)(this,"_resetTimeout",new he.x),(0,f.Z)(this,"_countDuplicate",new he.x),this._overlayRef=Pt}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(Pt,_e){Pt&&this._resetTimeout.next(),_e&&this._countDuplicate.next(++this.duplicatesCount)}}class Ct{constructor(Pt,_e,Be,at,Wt,Rn){(0,f.Z)(this,"toastId",void 0),(0,f.Z)(this,"config",void 0),(0,f.Z)(this,"message",void 0),(0,f.Z)(this,"title",void 0),(0,f.Z)(this,"toastType",void 0),(0,f.Z)(this,"toastRef",void 0),(0,f.Z)(this,"_onTap",new he.x),(0,f.Z)(this,"_onAction",new he.x),this.toastId=Pt,this.config=_e,this.message=Be,this.title=at,this.toastType=Wt,this.toastRef=Rn,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(Pt){this._onAction.next(Pt)}onAction(){return this._onAction.asObservable()}}const $e=new D.OlP("ToastConfig");class kt extends De{constructor(Pt,_e,Be){super(),(0,f.Z)(this,"_hostDomElement",void 0),(0,f.Z)(this,"_componentFactoryResolver",void 0),(0,f.Z)(this,"_appRef",void 0),this._hostDomElement=Pt,this._componentFactoryResolver=_e,this._appRef=Be}attachComponentPortal(Pt,_e){const Be=this._componentFactoryResolver.resolveComponentFactory(Pt.component);let at;return at=Be.create(Pt.injector),this._appRef.attachView(at.hostView),this.setDisposeFn(()=>{this._appRef.detachView(at.hostView),at.destroy()}),_e?this._hostDomElement.insertBefore(this._getComponentRootNode(at),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(at)),at}_getComponentRootNode(Pt){return Pt.hostView.rootNodes[0]}}let Qt=(()=>{class ze{constructor(){(0,f.Z)(this,"_document",(0,D.f3M)(ue.K0)),(0,f.Z)(this,"_containerElement",void 0)}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const _e=this._document.createElement("div");_e.classList.add("overlay-container"),_e.setAttribute("aria-live","polite"),this._document.body.appendChild(_e),this._containerElement=_e}}return(0,f.Z)(ze,"\u0275fac",function(_e){return new(_e||ze)}),(0,f.Z)(ze,"\u0275prov",D.Yz7({token:ze,factory:ze.\u0275fac,providedIn:"root"})),ze})();class Tt{constructor(Pt){(0,f.Z)(this,"_portalHost",void 0),this._portalHost=Pt}attach(Pt,_e=!0){return this._portalHost.attach(Pt,_e)}detach(){return this._portalHost.detach()}}let Cn=(()=>{class ze{constructor(){(0,f.Z)(this,"_overlayContainer",(0,D.f3M)(Qt)),(0,f.Z)(this,"_componentFactoryResolver",(0,D.f3M)(D._Vd)),(0,f.Z)(this,"_appRef",(0,D.f3M)(D.z2F)),(0,f.Z)(this,"_document",(0,D.f3M)(ue.K0)),(0,f.Z)(this,"_paneElements",new Map)}create(_e,Be){return this._createOverlayRef(this.getPaneElement(_e,Be))}getPaneElement(_e="",Be){return this._paneElements.get(Be)||this._paneElements.set(Be,{}),this._paneElements.get(Be)[_e]||(this._paneElements.get(Be)[_e]=this._createPaneElement(_e,Be)),this._paneElements.get(Be)[_e]}_createPaneElement(_e,Be){const at=this._document.createElement("div");return at.id="toast-container",at.classList.add(_e),at.classList.add("toast-container"),Be?Be.getContainerElement().appendChild(at):this._overlayContainer.getContainerElement().appendChild(at),at}_createPortalHost(_e){return new kt(_e,this._componentFactoryResolver,this._appRef)}_createOverlayRef(_e){return new Tt(this._createPortalHost(_e))}}return(0,f.Z)(ze,"\u0275fac",function(_e){return new(_e||ze)}),(0,f.Z)(ze,"\u0275prov",D.Yz7({token:ze,factory:ze.\u0275fac,providedIn:"root"})),ze})(),Ut=(()=>{class ze{constructor(_e,Be,at,Wt,Rn){(0,f.Z)(this,"overlay",void 0),(0,f.Z)(this,"_injector",void 0),(0,f.Z)(this,"sanitizer",void 0),(0,f.Z)(this,"ngZone",void 0),(0,f.Z)(this,"toastrConfig",void 0),(0,f.Z)(this,"currentlyActive",0),(0,f.Z)(this,"toasts",[]),(0,f.Z)(this,"overlayContainer",void 0),(0,f.Z)(this,"previousToastMessage",void 0),(0,f.Z)(this,"index",0),this.overlay=Be,this._injector=at,this.sanitizer=Wt,this.ngZone=Rn,this.toastrConfig={..._e.default,..._e.config},_e.config.iconClasses&&(this.toastrConfig.iconClasses={..._e.default.iconClasses,..._e.config.iconClasses})}show(_e,Be,at={},Wt=""){return this._preBuildNotification(Wt,_e,Be,this.applyConfig(at))}success(_e,Be,at={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",_e,Be,this.applyConfig(at))}error(_e,Be,at={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",_e,Be,this.applyConfig(at))}info(_e,Be,at={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",_e,Be,this.applyConfig(at))}warning(_e,Be,at={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",_e,Be,this.applyConfig(at))}clear(_e){for(const Be of this.toasts)if(void 0!==_e){if(Be.toastId===_e)return void Be.toastRef.manualClose()}else Be.toastRef.manualClose()}remove(_e){const Be=this._findToast(_e);if(!Be||(Be.activeToast.toastRef.close(),this.toasts.splice(Be.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const at=this.toasts[this.currentlyActive].toastRef;at.isInactive()||(this.currentlyActive=this.currentlyActive+1,at.activate())}return!0}findDuplicate(_e="",Be="",at,Wt){const{includeTitleDuplicates:Rn}=this.toastrConfig;for(const Xn of this.toasts)if((!Rn||Rn&&Xn.title===_e)&&Xn.message===Be)return Xn.toastRef.onDuplicate(at,Wt),Xn;return null}applyConfig(_e={}){return{...this.toastrConfig,..._e}}_findToast(_e){for(let Be=0;Be<this.toasts.length;Be++)if(this.toasts[Be].toastId===_e)return{index:Be,activeToast:this.toasts[Be]};return null}_preBuildNotification(_e,Be,at,Wt){return Wt.onActivateTick?this.ngZone.run(()=>this._buildNotification(_e,Be,at,Wt)):this._buildNotification(_e,Be,at,Wt)}_buildNotification(_e,Be,at,Wt){if(!Wt.toastComponent)throw new Error("toastComponent required");const Rn=this.findDuplicate(at,Be,this.toastrConfig.resetTimeoutOnDuplicate&&Wt.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&at||Be)&&this.toastrConfig.preventDuplicates&&null!==Rn)return Rn;this.previousToastMessage=Be;let Xn=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(Xn=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const ir=this.overlay.create(Wt.positionClass,this.overlayContainer);this.index=this.index+1;let Nn=Be;Be&&Wt.enableHtml&&(Nn=this.sanitizer.sanitize(D.q3G.HTML,Be));const _n=new st(ir),Mr=new Ct(this.index,Wt,Nn,at,_e,_n),bi=D.zs3.create({providers:[{provide:Ct,useValue:Mr}],parent:this._injector}),Mn=new be(Wt.toastComponent,bi),xt=ir.attach(Mn,Wt.newestOnTop);_n.componentInstance=xt.instance;const Yn={toastId:this.index,title:at||"",message:Be||"",toastRef:_n,onShown:_n.afterActivate(),onHidden:_n.afterClosed(),onTap:Mr.onTap(),onAction:Mr.onAction(),portal:xt};return Xn||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{Yn.toastRef.activate()})),this.toasts.push(Yn),Yn}}return(0,f.Z)(ze,"\u0275fac",function(_e){return new(_e||ze)(D.LFG($e),D.LFG(Cn),D.LFG(D.zs3),D.LFG(we.H7),D.LFG(D.R0b))}),(0,f.Z)(ze,"\u0275prov",D.Yz7({token:ze,factory:ze.\u0275fac,providedIn:"root"})),ze})();const ot={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class ze{get displayStyle(){if("inactive"===this.state.value)return"none"}constructor(_e,Be,at){(0,f.Z)(this,"toastrService",void 0),(0,f.Z)(this,"toastPackage",void 0),(0,f.Z)(this,"ngZone",void 0),(0,f.Z)(this,"message",void 0),(0,f.Z)(this,"title",void 0),(0,f.Z)(this,"options",void 0),(0,f.Z)(this,"duplicatesCount",void 0),(0,f.Z)(this,"originalTimeout",void 0),(0,f.Z)(this,"width",-1),(0,f.Z)(this,"toastClasses",""),(0,f.Z)(this,"state",void 0),(0,f.Z)(this,"timeout",void 0),(0,f.Z)(this,"intervalId",void 0),(0,f.Z)(this,"hideTime",void 0),(0,f.Z)(this,"sub",void 0),(0,f.Z)(this,"sub1",void 0),(0,f.Z)(this,"sub2",void 0),(0,f.Z)(this,"sub3",void 0),this.toastrService=_e,this.toastPackage=Be,this.ngZone=at,this.message=Be.message,this.title=Be.title,this.options=Be.config,this.originalTimeout=Be.config.timeOut,this.toastClasses=`${Be.toastType} ${Be.config.toastClass}`,this.sub=Be.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=Be.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=Be.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=Be.toastRef.countDuplicate().subscribe(Wt=>{this.duplicatesCount=Wt}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const _e=(new Date).getTime();this.width=(this.hideTime-_e)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(_e,Be){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(_e),Be)):this.timeout=setTimeout(()=>_e(),Be)}outsideInterval(_e,Be){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(_e),Be)):this.intervalId=setInterval(()=>_e(),Be)}runInsideAngular(_e){this.ngZone?this.ngZone.run(()=>_e()):_e()}}return(0,f.Z)(ze,"\u0275fac",function(_e){return new(_e||ze)(D.Y36(Ut),D.Y36(Ct),D.Y36(D.R0b))}),(0,f.Z)(ze,"\u0275cmp",D.Xpm({type:ze,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(_e,Be){1&_e&&D.NdJ("click",function(){return Be.tapToast()})("mouseenter",function(){return Be.stickAround()})("mouseleave",function(){return Be.delayedHideToast()}),2&_e&&(D.d8E("@flyInOut",Be.state),D.Tol(Be.toastClasses),D.Udp("display",Be.displayStyle))},standalone:!0,features:[D.jDz],attrs:Te,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(_e,Be){1&_e&&(D.YNc(0,Oe,3,0,"button",0),D.YNc(1,re,3,5,"div",1),D.YNc(2,ie,1,3,"div",2),D.YNc(3,ne,2,4,"div",3),D.YNc(4,ke,2,2,"div",4)),2&_e&&(D.Q6J("ngIf",Be.options.closeButton),D.xp6(1),D.Q6J("ngIf",Be.title),D.xp6(1),D.Q6J("ngIf",Be.message&&Be.options.enableHtml),D.xp6(1),D.Q6J("ngIf",Be.message&&!Be.options.enableHtml),D.xp6(1),D.Q6J("ngIf",Be.options.progressBar))},dependencies:[ue.O5],encapsulation:2,data:{animation:[(0,B.X$)("flyInOut",[(0,B.SB)("inactive",(0,B.oB)({opacity:0})),(0,B.SB)("active",(0,B.oB)({opacity:1})),(0,B.SB)("removed",(0,B.oB)({opacity:0})),(0,B.eR)("inactive => active",(0,B.jt)("{{ easeTime }}ms {{ easing }}")),(0,B.eR)("active => removed",(0,B.jt)("{{ easeTime }}ms {{ easing }}"))])]}})),ze})()},Ze=(ze={})=>(0,D.MR2)([{provide:$e,useValue:{default:ot,config:ze}}]);let ut=(()=>{class ze{static forRoot(_e={}){return{ngModule:ze,providers:[Ze(_e)]}}}return(0,f.Z)(ze,"\u0275fac",function(_e){return new(_e||ze)}),(0,f.Z)(ze,"\u0275mod",D.oAB({type:ze})),(0,f.Z)(ze,"\u0275inj",D.cJS({})),ze})()},5861:(Lt,je,L)=>{function f(B,ue,he,we,Te,Oe,ge){try{var re=B[Oe](ge),ie=re.value}catch(ne){return void he(ne)}re.done?ue(ie):Promise.resolve(ie).then(we,Te)}function D(B){return function(){var ue=this,he=arguments;return new Promise(function(we,Te){var Oe=B.apply(ue,he);function ge(ie){f(Oe,we,Te,ge,re,"next",ie)}function re(ie){f(Oe,we,Te,ge,re,"throw",ie)}ge(void 0)})}}L.d(je,{Z:()=>D})},6656:(Lt,je,L)=>{L.d(je,{Z:()=>ue});var f=L(1002);function ue(he,we,Te){return(we=function B(he){var we=function D(he,we){if("object"!==(0,f.Z)(he)||null===he)return he;var Te=he[Symbol.toPrimitive];if(void 0!==Te){var Oe=Te.call(he,we||"default");if("object"!==(0,f.Z)(Oe))return Oe;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===we?String:Number)(he)}(he,"string");return"symbol"===(0,f.Z)(we)?we:String(we)}(we))in he?Object.defineProperty(he,we,{value:Te,enumerable:!0,configurable:!0,writable:!0}):he[we]=Te,he}},1002:(Lt,je,L)=>{function f(D){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(B){return typeof B}:function(B){return B&&"function"==typeof Symbol&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B})(D)}L.d(je,{Z:()=>f})}},Lt=>{Lt(Lt.s=3269)}]);