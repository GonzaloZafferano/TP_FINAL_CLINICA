"use strict";(self.webpackChunkTP_CLINICA=self.webpackChunkTP_CLINICA||[]).push([[737],{6737:(st,k,m)=>{m.r(k),m.d(k,{MisTurnosModule:()=>lt});var h=m(6895),A=m(6378),g=m(5861),N=m(3474),C=m(7340),e=m(4650),Z=m(1209),E=m(1363),y=m(5113),w=m(9724),q=m(605);let U=(()=>{class n{constructor(t){this.swalService=t,this.onEncuestaCompletada=new e.vpe,this.onEncuestaCancelada=new e.vpe,this.atencion=1,this.sistemas=1,this.volver=1,this.recomendar=1}atencionSeleccionada(t){this.atencion=t}sistemaSeleccionado(t){this.sistemas=t}volverSeleccionado(t){this.volver=t}recomendarSeleccionado(t){this.recomendar=t}guardar(t){t.value&&""!=t.value.trim()?(this.turno.realizoEncuesta=!0,this.turno.datosEncuesta={volver:this.volver,recomendar:this.recomendar,atencion:this.atencion,sistema:this.sistemas,comentarios:t.value},this.onEncuestaCompletada.emit(this.turno)):this.swalService.info("Debe ingresar un comentario.")}cancelar(){this.onEncuestaCancelada.emit()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(w.J))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-encuesta"]],inputs:{turno:"turno"},outputs:{onEncuestaCompletada:"onEncuestaCompletada",onEncuestaCancelada:"onEncuestaCancelada"},decls:89,vars:0,consts:[[1,"loader-fondo"],[1,"row","w-25"],[1,"col-12","mx-auto","mt-4"],[1,"card"],[1,"card-header"],[1,"text-center"],[1,"card-body"],[1,"row","m-2"],[1,"col","col-12"],[1,"form-check"],["id","valor1","checked","","type","radio","name","puntuacion","value","1",1,"form-check-input",3,"click"],["for","valor1",1,"form-check-label","label"],["id","valor2","type","radio","name","puntuacion","value","2",1,"form-check-input",3,"click"],["for","valor2",1,"form-check-label","label"],["id","valor3","type","radio","name","puntuacion","value","3",1,"form-check-input",3,"click"],["for","valor3",1,"form-check-label","label"],["id","valor4","type","radio","name","puntuacion","value","4",1,"form-check-input",3,"click"],["for","valor4",1,"form-check-label","label"],["id","valor5","type","radio","name","puntuacion","value","5",1,"form-check-input",3,"click"],["for","valor5",1,"form-check-label","label"],["for","",1,"text-center"],["id","sis1","checked","","type","radio","name","sistema","value","1",1,"form-check-input",3,"click"],["for","sis1",1,"form-check-label","label"],["id","sis2","type","radio","name","sistema","value","2",1,"form-check-input",3,"click"],["for","sis2",1,"form-check-label","label"],["id","sis3","type","radio","name","sistema","value","3",1,"form-check-input",3,"click"],["for","sis3",1,"form-check-label","label"],["id","sis4","type","radio","name","sistema","value","4",1,"form-check-input",3,"click"],["for","sis4",1,"form-check-label","label"],["id","sis5","type","radio","name","sistema","value","5",1,"form-check-input",3,"click"],["for","sis5",1,"form-check-label","label"],["type","radio","id","NO","name","volveria","value","NO","checked","",1,"form-check-input",3,"click"],["for","volveriaNO","id","NO",1,"form-check-label","label"],["type","radio","id","SI","name","volveria","value","SI",1,"form-check-input",3,"click"],["for","volveriaSI","id","SI",1,"form-check-label","label"],[1,"text-center","posicion"],["type","radio","id","recomendacionNO","name","recomendacion","checked","","value","NO",1,"form-check-input",3,"click"],["for","recomendacionNO",1,"form-check-label","label"],["type","radio","id","recomendacionSI","name","recomendacion","value","SI",1,"form-check-input",3,"click"],["for","recomendacionSI",1,"form-check-label","label"],[1,"m-2"],[1,"form-control","no-resize"],["input",""],[1,"d-flex","justify-content-between","m-3"],["type","button",1,"btn","btn-danger","fw-bold","fs-4",3,"click"],["type","button",1,"btn","btn-success","fw-bold","fs-4",3,"click"]],template:function(t,o){if(1&t){const i=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),e._uU(6,"Encuesta sobre su Turno"),e.qZA()(),e.TgZ(7,"div",6)(8,"div",7)(9,"div",8)(10,"label",5),e._uU(11,"Puntuaci\xf3n de la atenci\xf3n"),e.qZA(),e.TgZ(12,"div",9)(13,"input",10),e.NdJ("click",function(){return o.atencionSeleccionada(1)}),e.qZA(),e.TgZ(14,"label",11),e._uU(15,"Muy Mala"),e.qZA()(),e.TgZ(16,"div",9)(17,"input",12),e.NdJ("click",function(){return o.atencionSeleccionada(2)}),e.qZA(),e.TgZ(18,"label",13),e._uU(19,"Mala"),e.qZA()(),e.TgZ(20,"input",14),e.NdJ("click",function(){return o.atencionSeleccionada(3)}),e.qZA(),e.TgZ(21,"label",15),e._uU(22,"Regular"),e.qZA(),e.TgZ(23,"div",9)(24,"input",16),e.NdJ("click",function(){return o.atencionSeleccionada(4)}),e.qZA(),e.TgZ(25,"label",17),e._uU(26,"Buena"),e.qZA()(),e.TgZ(27,"div",9)(28,"input",18),e.NdJ("click",function(){return o.atencionSeleccionada(5)}),e.qZA(),e.TgZ(29,"label",19),e._uU(30,"Excelente"),e.qZA()()()(),e.TgZ(31,"div",7)(32,"div",8)(33,"label",20),e._uU(34,"Puntuaci\xf3n del sistema de turnos"),e.qZA(),e.TgZ(35,"div",9)(36,"input",21),e.NdJ("click",function(){return o.sistemaSeleccionado(1)}),e.qZA(),e.TgZ(37,"label",22),e._uU(38,"Muy Mala"),e.qZA()(),e.TgZ(39,"div",9)(40,"input",23),e.NdJ("click",function(){return o.sistemaSeleccionado(2)}),e.qZA(),e.TgZ(41,"label",24),e._uU(42,"Mala"),e.qZA()(),e.TgZ(43,"div",9)(44,"input",25),e.NdJ("click",function(){return o.sistemaSeleccionado(3)}),e.qZA(),e.TgZ(45,"label",26),e._uU(46,"Regular"),e.qZA()(),e.TgZ(47,"div",9)(48,"input",27),e.NdJ("click",function(){return o.sistemaSeleccionado(4)}),e.qZA(),e.TgZ(49,"label",28),e._uU(50,"Buena"),e.qZA()(),e.TgZ(51,"div",9)(52,"input",29),e.NdJ("click",function(){return o.sistemaSeleccionado(5)}),e.qZA(),e.TgZ(53,"label",30),e._uU(54,"Excelente"),e.qZA()()()(),e.TgZ(55,"div",7)(56,"div",8)(57,"label",5),e._uU(58,"\xbfVolver\xeda?"),e.qZA(),e.TgZ(59,"div",9)(60,"input",31),e.NdJ("click",function(){return o.volverSeleccionado(1)}),e.qZA(),e.TgZ(61,"label",32),e._uU(62,"No"),e.qZA()(),e.TgZ(63,"div",9)(64,"input",33),e.NdJ("click",function(){return o.volverSeleccionado(2)}),e.qZA(),e.TgZ(65,"label",34),e._uU(66,"Si"),e.qZA()()()(),e.TgZ(67,"div",7)(68,"div",8)(69,"label",35),e._uU(70,"\xbfNos recomendar\xeda?"),e.qZA(),e.TgZ(71,"div",9)(72,"input",36),e.NdJ("click",function(){return o.recomendarSeleccionado(1)}),e.qZA(),e.TgZ(73,"label",37),e._uU(74,"No"),e.qZA()(),e.TgZ(75,"div",9)(76,"input",38),e.NdJ("click",function(){return o.recomendarSeleccionado(2)}),e.qZA(),e.TgZ(77,"label",39),e._uU(78,"Si"),e.qZA()()()(),e.TgZ(79,"div",40)(80,"label",5),e._uU(81,"Comentarios / opiniones / mejoras"),e.qZA(),e._UZ(82,"textarea",41,42),e.qZA(),e.TgZ(84,"div",43)(85,"button",44),e.NdJ("click",function(){return o.cancelar()}),e._uU(86,"Cancelar"),e.qZA(),e.TgZ(87,"button",45),e.NdJ("click",function(){e.CHM(i);const s=e.MAs(83);return e.KtG(o.guardar(s))}),e._uU(88,"Enviar"),e.qZA()()()()()()()}},styles:[".loader-fondo[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#000000e1;display:flex;justify-content:center;align-items:center}.texto[_ngcontent-%COMP%]{color:#fff;font-size:3rem;margin:20px}.loader[_ngcontent-%COMP%]{border:6px solid #f3f3f3;border-top:6px solid #3498db;border-radius:50%;width:60px;height:60px;animation:spin 2s linear infinite}.no-resize[_ngcontent-%COMP%]{resize:none}.label[_ngcontent-%COMP%]{padding-left:5px}"]}),n})(),O=(()=>{class n{constructor(){this.OnCerrar=new e.vpe}cerrar(){this.OnCerrar.emit()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-detalle-hc"]],inputs:{dato:"dato"},outputs:{OnCerrar:"OnCerrar"},decls:10,vars:1,consts:[[1,"loader-fondo"],[1,"row","w-50","bg-light",2,"border-radius","30px"],[1,"col","col-12","d-flex","justify-content-center",2,"flex-direction","column"],[1,"text-center","text-dark","my-3"],[1,"d-flex","justify-content-center"],[1,"btn","btn-primary","fs-3","fw-bold","m-1",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),e._uU(4,"Detalles del Control"),e.qZA(),e.TgZ(5,"h3",3),e._uU(6),e.qZA()(),e.TgZ(7,"div",4)(8,"button",5),e.NdJ("click",function(){return o.cerrar()}),e._uU(9,"Cerrar"),e.qZA()()()()),2&t&&(e.xp6(6),e.Oqu(o.dato))},styles:[".loader-fondo[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#1c3fa8bf;display:flex;justify-content:center;align-items:center}"]}),n})();var M=m(116),I=m(2150);function J(n,a){1&n&&(e.TgZ(0,"div",23)(1,"span",24),e._uU(2,"Cargando..."),e.qZA(),e._UZ(3,"div",25),e.qZA())}function D(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"button",39),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).$implicit,r=e.oxw(2);return e.KtG(r.mostrarDetalle(i))}),e._UZ(2,"i",40),e.qZA()()}}function Q(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",41),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).$implicit,r=e.oxw(2);return e.KtG(r.mostrarDetalle(i))}),e._UZ(1,"i",42),e.qZA(),e.TgZ(2,"textarea",43),e._uU(3),e.qZA()}if(2&n){const t=e.oxw(2).$implicit;e.xp6(3),e.Oqu(t.comentarioMedico)}}function Y(n,a){if(1&n&&(e.ynx(0),e.YNc(1,D,3,0,"div",32),e.YNc(2,Q,4,1,"ng-template",null,38,e.W1O),e.BQk()),2&n){const t=e.MAs(3),o=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",!o.mostrarDetalle)("ngIfElse",t)}}function F(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div")(2,"button",44),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,r=e.oxw(2);return e.KtG(r.verDetalles(i))}),e._uU(3,"Detalles"),e.qZA()(),e.BQk()}}function j(n,a){1&n&&(e.TgZ(0,"div",45)(1,"h3",15),e._uU(2,"Sin Controles"),e.qZA()())}const P=function(n){return{deshabilitado:n}};function V(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",46)(2,"p",47),e._uU(3),e.qZA(),e.TgZ(4,"div",48)(5,"button",49),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(),r=i.$implicit,s=i.index,u=e.oxw(2);return e.KtG(u.calificarOK(r,s))}),e._UZ(6,"i",50)(7,"i",51),e.qZA(),e.TgZ(8,"button",49),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(),r=i.$implicit,s=i.index,u=e.oxw(2);return e.KtG(u.calificarNOOK(r,s))}),e._UZ(9,"i",52)(10,"i",53),e.qZA()()(),e.BQk()}if(2&n){const t=e.oxw().$implicit;e.xp6(3),e.Oqu(t.calificado?"Calificado":"Calificar Atenci\xf3n"),e.xp6(2),e.Q6J("disabled",t.calificado)("ngClass",e.VKq(9,P,t.calificado)),e.xp6(1),e.Q6J("hidden",!t.calificacionOK),e.xp6(1),e.Q6J("hidden",t.calificacionOK),e.xp6(1),e.Q6J("disabled",t.calificado)("ngClass",e.VKq(11,P,t.calificado)),e.xp6(1),e.Q6J("hidden",!t.calificacionNOOK),e.xp6(1),e.Q6J("hidden",t.calificacionNOOK)}}function $(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",54)(2,"button",55),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(),r=i.$implicit,s=i.index,u=e.oxw(2);return e.KtG(u.cancelar(r,s))}),e._uU(3,"Cancelar "),e.qZA()(),e.BQk()}}function B(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"button",39),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(3).$implicit,r=e.oxw(2);return e.KtG(r.mostrarComentario(i))}),e._UZ(2,"i",40),e.qZA()()}}function z(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",41),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(3).$implicit,r=e.oxw(2);return e.KtG(r.mostrarComentario(i))}),e._UZ(1,"i",42),e.qZA(),e.TgZ(2,"textarea",43),e._uU(3),e.qZA()}if(2&n){const t=e.oxw(3).$implicit;e.xp6(3),e.Oqu(t.comentarioPaciente)}}function L(n,a){if(1&n&&(e.ynx(0),e.YNc(1,B,3,0,"div",32),e.YNc(2,z,4,1,"ng-template",null,56,e.W1O),e.BQk()),2&n){const t=e.MAs(3),o=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",!o.mostrarComentario)("ngIfElse",t)}}function K(n,a){if(1&n&&(e.ynx(0),e.YNc(1,L,4,2,"ng-container",20),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.comentarioPaciente&&""!=t.comentarioPaciente)}}function G(n,a){if(1&n&&(e.ynx(0),e._UZ(1,"textarea",57),e.BQk()),2&n){const t=e.oxw(2).index;e.xp6(1),e.Q6J("id","comentarioPaciente"+t)}}function R(n,a){if(1&n&&e.YNc(0,G,2,1,"ng-container",20),2&n){const t=e.oxw().$implicit;e.Q6J("ngIf","Solicitado"==t.estadoTurno||"Realizado"==t.estadoTurno||"Aceptado"==t.estadoTurno)}}function W(n,a){1&n&&(e.ynx(0),e.TgZ(1,"label",59),e._uU(2,"Encuesta Completada"),e.qZA(),e.BQk())}function X(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",58),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,r=e.oxw(2);return e.KtG(r.abrirEncuesta(i))}),e._uU(2,"Encuesta"),e.qZA(),e.YNc(3,W,3,0,"ng-container",20),e.BQk()}if(2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("hidden",t.realizoEncuesta),e.xp6(2),e.Q6J("ngIf",t.realizoEncuesta)}}function ee(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",27),e.NdJ("click",function(){const r=e.CHM(t).$implicit,s=e.oxw(2);return e.KtG(s.seleccionDeFila(r))}),e.TgZ(1,"div",14),e._uU(2),e.qZA(),e.TgZ(3,"div",28)(4,"p"),e._uU(5),e.qZA()(),e.TgZ(6,"div",28)(7,"p"),e._uU(8),e.qZA()(),e.TgZ(9,"div",29)(10,"p"),e._uU(11),e.ALo(12,"turnos"),e.qZA()(),e.TgZ(13,"div",30),e.YNc(14,Y,4,2,"ng-container",20),e.qZA(),e.TgZ(15,"div",31),e.YNc(16,F,4,0,"ng-container",32),e.YNc(17,j,3,0,"ng-template",null,33,e.W1O),e.qZA(),e.TgZ(19,"div",34)(20,"p",35),e._uU(21),e.qZA()(),e.TgZ(22,"div",36),e.YNc(23,V,11,13,"ng-container",20),e.YNc(24,$,4,0,"ng-container",20),e.qZA(),e.TgZ(25,"div",30),e.YNc(26,K,2,1,"ng-container",32),e.YNc(27,R,1,1,"ng-template",null,37,e.W1O),e.qZA(),e.TgZ(29,"div",34),e.YNc(30,X,4,2,"ng-container",20),e.qZA()()}if(2&n){const t=a.$implicit,o=e.MAs(18),i=e.MAs(28),r=e.oxw(2);e.ekj("fila-seleccionada",null!=r.filaSeleccionada&&t.id===r.filaSeleccionada.id),e.xp6(2),e.hij(" ",t.id," "),e.xp6(3),e.hij(" ",t.especialidad," "),e.xp6(3),e.hij(" ",t.nombreEspecialista," "),e.xp6(3),e.hij(" ",e.Dn7(12,15,t,!1,!1)," "),e.xp6(3),e.Q6J("ngIf",t.comentarioMedico&&""!=t.comentarioMedico),e.xp6(2),e.Q6J("ngIf",t.datos)("ngIfElse",o),e.xp6(5),e.hij(" ",t.estadoTurno," "),e.xp6(2),e.Q6J("ngIf","Realizado"==t.estadoTurno),e.xp6(1),e.Q6J("ngIf","Realizado"!=t.estadoTurno&&"Rechazado"!=t.estadoTurno&&"Cancelado"!=t.estadoTurno),e.xp6(2),e.Q6J("ngIf",t.calificado||"Cancelado"==t.estadoTurno)("ngIfElse",i),e.xp6(4),e.Q6J("ngIf","Realizado"==t.estadoTurno&&t.comentarioMedico&&""!=t.comentarioMedico)}}function te(n,a){if(1&n&&(e.YNc(0,ee,31,19,"div",26),e.ALo(1,"sortBySeconds")),2&n){const t=e.oxw();e.Q6J("ngForOf",e.lcZ(1,1,t.listado))}}function ne(n,a){1&n&&e._UZ(0,"app-loader")}function oe(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"app-encuesta",60),e.NdJ("onEncuestaCompletada",function(i){e.CHM(t);const r=e.oxw();return e.KtG(r.guardarEncuesta(i))})("onEncuestaCancelada",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.encuestaCancelada())}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("turno",t.turnoParaEncuesta)}}function ie(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"app-detalle-hc",61),e.NdJ("OnCerrar",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.cerrarDetalles())}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("dato",t.datoDetalle)}}let S=(()=>{class n{constructor(t,o,i){var r=this;this.horariosService=t,this.usuarioService=o,this.swalService=i,this.spinner=!1,this.cargando=!1,this.completarEncuesta=!1,this.filaSeleccionada=null,this.listado=null,this.limpiarAutocomplete=!1,this.mostrarDetalles=!1,this.tituloBuscador="Busque por  (especialista) Nombre | Apellido | Dni | (especialidad) | Nombre",this.buscarEspecialistaOEspecialidad=function(){var s=(0,g.Z)(function*(u){r.eliminarSuscripcion(),u=(u=u.trim()).toLowerCase();let f=yield r.horariosService.traerListaFiltradaPor_UN_Campo("idPaciente",r.usuarioActual.id),p=f.filter(c=>!!(c.medico.nombre.toLowerCase().includes(u)||c.medico.apellido.toLowerCase().includes(u)||c.medico.dni.toString().includes(u))&&(c.filtro=0,!0)).map(c=>({texto:`Especialista: ${c.medico.apellido} ${c.medico.nombre} - ${c.medico.dni}`,valor:c.medico.id,filtro:c.filtro}));p=p.filter((c,T,b)=>T===b.findIndex(x=>x.valor===c.valor));let l=f.filter(c=>!!c.especialidad.toLowerCase().includes(u)&&(c.filtro=1,!0)).map(c=>({texto:`Especialidad: ${c.especialidad}`,valor:c.idEspecialidad,filtro:c.filtro}));return l=l.filter((c,T,b)=>T===b.findIndex(x=>x.valor===c.valor)),l.concat(...p)});return function(u){return s.apply(this,arguments)}}(),this.transformarTexto=s=>s.texto}seleccionDeFila(t){this.filaSeleccionada=t}ngOnDestoy(){this.eliminarSuscripcion()}eliminarSuscripcion(){this.suscripcion&&this.suscripcion.unsubscribe()}ngOnInit(){var t=this;return(0,g.Z)(function*(){t.usuarioActual=yield t.usuarioService.obtenerUsuarioActual(),t.datosTurnoPipe=new E.I})()}cargarDatos(t){this.spinner=!0,this.eliminarSuscripcion(),this.suscripcion=t.filtro?this.horariosService.traerListaFiltradaPor_DOS_CamposObservable("idPaciente",this.usuarioActual.id,"idEspecialidad",t.valor).subscribe(o=>{this.listado=o,this.spinner=!1}):this.horariosService.traerListaFiltradaPor_DOS_CamposObservable("idPaciente",this.usuarioActual.id,"idMedico",t.valor).subscribe(o=>{this.listado=o,this.spinner=!1})}mostrarDetalle(t){t.mostrarDetalle=!t.mostrarDetalle}mostrarComentario(t){t.mostrarComentario=!t.mostrarComentario}abrirEncuesta(t){this.turnoParaEncuesta=t,this.completarEncuesta=!0}calificarOK(t,o){if(!t.calificado){let i=document.getElementById("comentarioPaciente"+o);""!=i.value?.trim()?(this.cargando=!0,t.calificacionOK=!t.calificacionOK,t.calificacionNOOK=!1,t.calificado=!0,t.comentarioPaciente="Calificacion: Buena. \nComentario: "+i.value.trim(),delete t.mostrarDetalle,delete t.mostrarComentario,this.horariosService.modificarItem(t).then(r=>{this.swalService.exito("Atenci\xf3n calificada!","Aviso."),this.cargando=!1})):this.swalService.warning("Debe ingresar un comentario para calificar la atencion.","Aviso.")}}calificarNOOK(t,o){if(!t.calificado){let i=document.getElementById("comentarioPaciente"+o);""!=i.value?.trim()?(this.cargando=!0,t.calificacionNOOK=!t.calificacionNOOK,t.calificacionOK=!1,t.calificado=!0,t.comentarioPaciente="Calificacion: Mala. \nComentario: "+i.value.trim(),delete t.mostrarDetalle,delete t.mostrarComentario,this.horariosService.modificarItem(t).then(r=>{this.swalService.exito("Atenci\xf3n calificada!","Aviso."),this.cargando=!1})):this.swalService.warning("Debe ingresar un comentario para calificar la atencion.","Aviso.")}}cancelar(t,o){let i=document.getElementById("comentarioPaciente"+o);""!=i.value?.trim()?(this.cargando=!0,t.estadoTurno="Cancelado",t.comentarioPaciente=i.value.trim(),delete t.mostrarDetalle,delete t.mostrarComentario,this.horariosService.modificarItem(t).then(r=>{this.swalService.exito("Turno cancelado!","Aviso."),this.cargando=!1})):this.swalService.warning("Debe ingresar un comentario para cancelar el turno.","Aviso.")}limpiar(){this.listado=null,this.limpiarAutocomplete=!this.limpiarAutocomplete;const t=document.getElementById("inputTexto");t.disabled=!1,t.value=""}guardarEncuesta(t){this.cargando=!0,this.completarEncuesta=!1,this.turnoParaEncuesta=null,this.horariosService.modificarItem(t).finally(()=>{this.cargando=!1})}encuestaCancelada(){this.completarEncuesta=!1,this.turnoParaEncuesta=null}limpiarDatos(){this.listado=null,this.filaSeleccionada=null}obtenerItemSeleccionado(t){this.cargarDatos(t)}buscar2(t){var o=this;return(0,g.Z)(function*(){let i=t.value;if(i=i.trim(),i=i.toLowerCase(),""!=i){o.cargando=!0;let r=o.usuarioActual.id,f=(yield o.horariosService.obtenerListaDeItems()).filter(p=>"Libre"!=p.estadoTurno&&p.idPaciente==r).filter(p=>{if(p.nombreEspecialista.toLowerCase().includes(i)||p.medico&&p.medico?.dni.toLowerCase().includes(i)||p.especialidad.toLowerCase().includes(i)||p.comentarioMedico.toLowerCase().includes(i)||p.comentarioPaciente.toLowerCase().includes(i)||p.estadoTurno.toLowerCase().includes(i)||p.fechaString.includes(i))return!0;let l=p.datos;if(l){if(l.altura&&l.altura.toString().includes(i)||l.presion1&&l.presion1.toString().includes(i)||l.presion2&&l.presion2.toString().includes(i)||l.peso&&l.peso.toString().includes(i)||l.temperatura&&l.temperatura.toString().includes(i))return!0;for(let _ in l)if("medico"!=_&&"altura"!=_&&"especialidad"!=_&&"fechaHC"!=_&&"hayDatos"!=_&&"presion1"!=_&&"presion2"!=_&&"peso"!=_&&"temperatura"!=_&&l[_]&&l[_].toString().toLowerCase().includes(i))return!0}return!1});o.listado=f,o.cargando=!1}})()}verDetalles(t){if(t&&t.datos){let o=this.datosTurnoPipe.transform(t.datos);this.datoDetalle=o,this.mostrarDetalles=!0}}keyDown(t,o){var i=this;return(0,g.Z)(function*(){("Enter"===t.key||13===t.keyCode)&&(yield i.buscar2(o))})()}cerrarDetalles(){this.mostrarDetalles=!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(y.p),e.Y36(Z.i),e.Y36(w.J))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-turnos-paciente"]],decls:53,vars:5,consts:[[1,"container-fluid","m-0","p-0"],[1,"d-flex","bg-dark","p-2","justify-content-between"],[1,"fw-bold","fs-4","text-light"],[1,"btn","btn-warning","fw-bold","fs-4","p-2",3,"click"],[1,"row","mx-auto","w-50"],[1,"col","border","p-2","w-50","bg-dark","text-light"],[1,"mb-3"],["for","inputTexto",1,"form-label"],[1,"d-flex","justify-content-around"],["type","text","autocomplete","off","name","inputTexto","id","inputTexto",1,"form-control",3,"keydown"],["inputTexto",""],["id","btnBuscar",1,"btn","btn-primary","m-1",3,"click"],[1,"bi","bi-search","fw-bold"],[1,"row","w-100","mx-auto","bg-dark","text-light","text-center"],[1,"col","col","border","d-none"],[1,"custom-font-headers"],[1,"col","col-12","col-xl-1","border"],[1,"col","col-12","col-xl-2","border"],["class","d-flex justify-content-center",4,"ngIf","ngIfElse"],["lista",""],[4,"ngIf"],[3,"turno","onEncuestaCompletada","onEncuestaCancelada",4,"ngIf"],[3,"dato","OnCerrar",4,"ngIf"],[1,"d-flex","justify-content-center"],[1,"m-3","fs-3","fw-bold"],[1,"spinner-border","text-danger",2,"align-self","center","scale","1.2"],["class","row w-100 mx-auto custom-pointer bg-light","style","min-height: 100px;",3,"fila-seleccionada","click",4,"ngFor","ngForOf"],[1,"row","w-100","mx-auto","custom-pointer","bg-light",2,"min-height","100px",3,"click"],[1,"col","col-12","col-xl-1","border","custom-font-data","columna"],[1,"col","col-12","col-xl-2","border","custom-font-data","columna"],[1,"col","col-12","col-xl-2","border","custom-font-data","columna","justify-content-center"],[1,"col","col-12","col-xl-1","border","d-flex",2,"align-items","center !important"],[4,"ngIf","ngIfElse"],["noHc",""],[1,"col","col-12","col-xl-1","border","custom-font-data","columna","justify-content-center"],[1,"text-center"],[1,"col","col-12","col-xl-1","border","custom-font-data","text-right","columna"],["mostrarInput",""],["mostrar",""],[1,"btn","btn-warning",3,"click"],[1,"bi","bi-eye-fill","scale"],[1,"btn","btn-warning","m-1",3,"click"],[1,"bi","bi-eye-slash-fill","scale"],["disabled","","readonly","",1,"form-control","w-100","deshabilitado","resize"],[1,"btn","btn-success","fs-3","fw-bold","m-1",3,"click"],[1,"d-flex",2,"align-items","center"],[1,"d-flex","fs-6",2,"flex-direction","column"],[2,"font-size","15px","text-align","center"],[1,"d-flex","justify-content-around","p-0","m-0","w-100"],[1,"btn","btn-warning","m-1",3,"disabled","ngClass","click"],[1,"bi","bi-hand-thumbs-up-fill","scale",3,"hidden"],[1,"bi","bi-hand-thumbs-up","scale",3,"hidden"],[1,"bi","bi-hand-thumbs-down-fill","scale",3,"hidden"],[1,"bi","bi-hand-thumbs-down","scale",3,"hidden"],[1,"d-flex","justify-content-center","w-100"],[1,"btn","btn-danger","fw-bold","fs-4","m-1",3,"click"],["mostrarComentarios",""],[1,"w-100","resize","form-control",3,"id"],[1,"btn","btn-primary","fw-bold","fs-4","m-1",3,"hidden","click"],[1,"form-label","text-center"],[3,"turno","onEncuestaCompletada","onEncuestaCancelada"],[3,"dato","OnCerrar"]],template:function(t,o){if(1&t){const i=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3,"Mis Turnos"),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return o.limpiar()}),e._uU(5,"Limpiar"),e.qZA()(),e.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"label",7),e._uU(10,"Buscar por Especialista | Especialidad | Datos del turno"),e.qZA(),e.TgZ(11,"div",8)(12,"input",9,10),e.NdJ("keydown",function(s){e.CHM(i);const u=e.MAs(13);return e.KtG(o.keyDown(s,u))}),e.qZA(),e.TgZ(14,"button",11),e.NdJ("click",function(){e.CHM(i);const s=e.MAs(13);return e.KtG(o.buscar2(s))}),e._UZ(15,"i",12),e.qZA()()()()(),e.TgZ(16,"div",13)(17,"div",14)(18,"h3",15),e._uU(19,"Id"),e.qZA()(),e.TgZ(20,"div",16)(21,"h3",15),e._uU(22,"Especialidad"),e.qZA()(),e.TgZ(23,"div",16)(24,"h3",15),e._uU(25,"Especialista"),e.qZA()(),e.TgZ(26,"div",17)(27,"h3",15),e._uU(28,"Fecha y hora Turno"),e.qZA()(),e.TgZ(29,"div",17)(30,"h3",15),e._uU(31,"Rese\xf1as"),e.qZA()(),e.TgZ(32,"div",16)(33,"h3",15),e._uU(34,"Controles"),e.qZA()(),e.TgZ(35,"div",16)(36,"h3",15),e._uU(37,"Estado"),e.qZA()(),e.TgZ(38,"div",16)(39,"h3",15),e._uU(40,"Accion"),e.qZA()(),e.TgZ(41,"div",17)(42,"h3",15),e._uU(43,"Mis comentarios"),e.qZA()(),e.TgZ(44,"div",16)(45,"h3",15),e._uU(46,"Encuesta"),e.qZA()()(),e.YNc(47,J,4,0,"div",18),e.YNc(48,te,2,3,"ng-template",null,19,e.W1O),e.qZA(),e.YNc(50,ne,1,0,"app-loader",20),e.YNc(51,oe,1,1,"app-encuesta",21),e.YNc(52,ie,1,1,"app-detalle-hc",22)}if(2&t){const i=e.MAs(49);e.xp6(47),e.Q6J("ngIf",o.spinner)("ngIfElse",i),e.xp6(3),e.Q6J("ngIf",o.cargando),e.xp6(1),e.Q6J("ngIf",o.completarEncuesta),e.xp6(1),e.Q6J("ngIf",o.mostrarDetalles)}},dependencies:[h.mk,h.sg,h.O5,q.R,U,O,M._,I.o],styles:[".custom-font-headers[_ngcontent-%COMP%]{font-size:1.4em!important;font-weight:700!important}.custom-font-data[_ngcontent-%COMP%]{font-size:1.03em!important;word-wrap:break-word;font-weight:700}.fila-seleccionada[_ngcontent-%COMP%]{background-color:#009331!important;color:#fff!important;font-weight:700!important;.nueva-especialidad {color: black !important;}}.custom-font[_ngcontent-%COMP%]{font-size:3em!important;font-weight:700!important}.custom-pointer[_ngcontent-%COMP%]{cursor:pointer}img[_ngcontent-%COMP%]{height:100px}.imagen-usuario[_ngcontent-%COMP%]{border-radius:100px;width:100px}.textarea[_ngcontent-%COMP%]{resize:none;height:100%}.nueva-especialidad[_ngcontent-%COMP%]{color:red;font-weight:bolder;font-size:1.03em}.columna[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center!important}p[_ngcontent-%COMP%]{margin:0}.deshabilitado[_ngcontent-%COMP%]{background-color:var(--bs-secondary-bg)!important}.resize[_ngcontent-%COMP%]{resize:none}.scale[_ngcontent-%COMP%]{font-size:24px}"]}),n})();var d=m(4006),v=m(5708),ae=m(1588),re=m(7556),ce=m(6069),le=m(6581),se=m(8906),ue=m(4465);function pe(n,a){if(1&n&&(e.TgZ(0,"small",43),e._uU(1),e.qZA()),2&n){const t=a.$implicit,o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.altura?null:o.altura.getError(t).mensaje," ")}}function _e(n,a){if(1&n&&(e.ynx(0),e.YNc(1,pe,2,1,"small",42),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.obtenerErrores(null==t.altura?null:t.altura.errors))}}function me(n,a){if(1&n&&(e.TgZ(0,"small",43),e._uU(1),e.qZA()),2&n){const t=a.$implicit,o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.peso?null:o.peso.getError(t).mensaje," ")}}function de(n,a){if(1&n&&(e.ynx(0),e.YNc(1,me,2,1,"small",42),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.obtenerErrores(null==t.peso?null:t.peso.errors))}}function fe(n,a){if(1&n&&(e.TgZ(0,"small",43),e._uU(1),e.qZA()),2&n){const t=a.$implicit,o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.temperatura?null:o.temperatura.getError(t).mensaje," ")}}function ge(n,a){if(1&n&&(e.ynx(0),e.YNc(1,fe,2,1,"small",42),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.obtenerErrores(null==t.temperatura?null:t.temperatura.errors))}}function he(n,a){if(1&n&&(e.TgZ(0,"small",43),e._uU(1),e.qZA()),2&n){const t=a.$implicit,o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.presion1?null:o.presion1.getError(t).mensaje," ")}}function Ce(n,a){if(1&n&&(e.ynx(0),e.YNc(1,he,2,1,"small",42),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.obtenerErrores(null==t.presion1?null:t.presion1.errors))}}function ve(n,a){if(1&n&&(e.TgZ(0,"small",43),e._uU(1),e.qZA()),2&n){const t=a.$implicit,o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.presion2?null:o.presion2.getError(t).mensaje," ")}}function Te(n,a){if(1&n&&(e.ynx(0),e.YNc(1,ve,2,1,"small",42),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.obtenerErrores(null==t.presion2?null:t.presion2.errors))}}function be(n,a){if(1&n&&(e.TgZ(0,"small",43),e._uU(1),e.qZA()),2&n){const t=a.$implicit,o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.opcionalNombre1?null:o.opcionalNombre1.getError(t).mensaje," ")}}function xe(n,a){if(1&n&&(e.ynx(0),e.YNc(1,be,2,1,"small",42),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.obtenerErrores(null==t.opcionalNombre1?null:t.opcionalNombre1.errors))}}function Ze(n,a){if(1&n&&(e.TgZ(0,"small",43),e._uU(1),e.qZA()),2&n){const t=a.$implicit,o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.opcionalValor1?null:o.opcionalValor1.getError(t).mensaje," ")}}function we(n,a){if(1&n&&(e.ynx(0),e.YNc(1,Ze,2,1,"small",42),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.obtenerErrores(null==t.opcionalValor1?null:t.opcionalValor1.errors))}}function Ae(n,a){if(1&n&&(e.TgZ(0,"small",43),e._uU(1),e.qZA()),2&n){const t=a.$implicit,o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.opcionalNombre2?null:o.opcionalNombre2.getError(t).mensaje," ")}}function Ne(n,a){if(1&n&&(e.ynx(0),e.YNc(1,Ae,2,1,"small",42),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.obtenerErrores(null==t.opcionalNombre2?null:t.opcionalNombre2.errors))}}function ke(n,a){if(1&n&&(e.TgZ(0,"small",43),e._uU(1),e.qZA()),2&n){const t=a.$implicit,o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.opcionalValor2?null:o.opcionalValor2.getError(t).mensaje," ")}}function Ee(n,a){if(1&n&&(e.ynx(0),e.YNc(1,ke,2,1,"small",42),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.obtenerErrores(null==t.opcionalValor2?null:t.opcionalValor2.errors))}}function ye(n,a){if(1&n&&(e.TgZ(0,"small",43),e._uU(1),e.qZA()),2&n){const t=a.$implicit,o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.opcionalNombre3?null:o.opcionalNombre3.getError(t).mensaje," ")}}function qe(n,a){if(1&n&&(e.ynx(0),e.YNc(1,ye,2,1,"small",42),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.obtenerErrores(null==t.opcionalNombre3?null:t.opcionalNombre3.errors))}}function Ue(n,a){if(1&n&&(e.TgZ(0,"small",43),e._uU(1),e.qZA()),2&n){const t=a.$implicit,o=e.oxw(2);e.xp6(1),e.hij(" ",null==o.opcionalValor3?null:o.opcionalValor3.getError(t).mensaje," ")}}function Oe(n,a){if(1&n&&(e.ynx(0),e.YNc(1,Ue,2,1,"small",42),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.obtenerErrores(null==t.opcionalValor3?null:t.opcionalValor3.errors))}}let Me=(()=>{class n{get altura(){return this.form?.get("altura")}set altura(t){this.form?.get("altura")?.patchValue(t)}get peso(){return this.form?.get("peso")}set peso(t){this.form?.get("peso")?.patchValue(t)}get temperatura(){return this.form?.get("temperatura")}set temperatura(t){this.form?.get("temperatura")?.patchValue(t)}get dni(){return this.form?.get("dni")}set dni(t){this.form?.get("dni")?.patchValue(t)}get presion1(){return this.form?.get("presion1")}set presion1(t){this.form?.get("presion1")?.patchValue(t)}get presion2(){return this.form?.get("presion2")}set presion2(t){this.form?.get("presion2")?.patchValue(t)}get opcionalNombre1(){return this.form?.get("opcionalNombre1")}set opcionalNombre1(t){this.form?.get("opcionalNombre1")?.patchValue(t)}get opcionalNombre2(){return this.form?.get("opcionalNombre2")}set opcionalNombre2(t){this.form?.get("opcionalNombre2")?.patchValue(t)}get opcionalNombre3(){return this.form?.get("opcionalNombre3")}set opcionalNombre3(t){this.form?.get("opcionalNombre3")?.patchValue(t)}get opcionalValor1(){return this.form?.get("opcionalValor1")}set opcionalValor1(t){this.form?.get("opcionalValor1")?.patchValue(t)}get opcionalValor2(){return this.form?.get("opcionalValor2")}set opcionalValor2(t){this.form?.get("opcionalValor2")?.patchValue(t)}get opcionalValor3(){return this.form?.get("opcionalValor3")}set opcionalValor3(t){this.form?.get("opcionalValor3")?.patchValue(t)}constructor(t,o,i,r,s,u,f,p,l){this.router=t,this.authService=o,this.formato=i,this.usuarioService=r,this.formBuilder=s,this.swalService=u,this.hcService=f,this.firestorageService=p,this.toastService=l,this.cargando=!1,this.onHCCompleta=new e.vpe,this.onHCCancelada=new e.vpe,this.esNueva=!1}ngOnInit(){var t=this;return(0,g.Z)(function*(){t.form=new d.cw({altura:new d.NI("",{validators:[(0,v._s)(.2,2.5)]}),peso:new d.NI("",{validators:[(0,v._s)(1,300)]}),temperatura:new d.NI("",{validators:[(0,v._s)(30,45)]}),presion1:new d.NI("",{validators:[(0,v._s)(50,140,null,!0)]}),presion2:new d.NI("",{validators:[(0,v._s)(40,90,null,!0)]}),opcionalNombre1:new d.NI(""),opcionalNombre2:new d.NI(""),opcionalNombre3:new d.NI(""),opcionalValor1:new d.NI(""),opcionalValor2:new d.NI(""),opcionalValor3:new d.NI("")},[(0,v.ef)(1,20,null,!0,!1),(0,v.fl)(1,20,null,!0,!1),(0,v.Lg)(1,20,null,!0,!1)]),t.usuarioActual=t.usuarioService.usuarioAuth;let o=yield t.hcService.traerListaFiltradaPor_UN_Campo("pacienteId",t.paciente.id);o.length>0?(t.HC=o[0],t.altura=t.HC.altura,t.peso=t.HC.peso,t.presion1=t.HC.presion1,t.presion2=t.HC.presion2,t.temperatura=t.HC.temperatura):(t.esNueva=!0,t.HC={},t.HC.datos=[],t.HC.id=(0,ae.Z)(),t.HC.usuario=t.paciente)})()}obtenerErrores(t){return this.cargando?[]:Object.keys(t)}cargarHC(){if(this.formEsValido()){this.HC.altura=this.altura.value,this.HC.peso=this.peso.value,this.HC.temperatura=this.temperatura.value,this.HC.presion1=this.presion1.value,this.HC.presion2=this.presion2.value;let t=!1,o={};o.fechaHC=(new Date).getTime(),""!=this.opcionalNombre1.value&&(o[this.opcionalNombre1.value]=this.opcionalValor1.value,t=!0),""!=this.opcionalNombre2.value&&(o[this.opcionalNombre2.value]=this.opcionalValor2.value,t=!0),""!=this.opcionalNombre3.value&&(o[this.opcionalNombre3.value]=this.opcionalValor3.value,t=!0),o.altura=this.altura.value,o.peso=this.peso.value,o.temperatura=this.temperatura.value,o.presion1=this.presion1.value,o.presion2=this.presion2.value,o.medico=this.usuarioActual,o.especialidad=this.paciente?.especialidad,o.hayDatos=t,this.HC.datos.push(o),this.esNueva?(this.paciente.tieneHC=!0,this.paciente.HCId=this.HC.id,this.HC.pacienteId=this.paciente.id,this.HC.paciente=this.paciente,this.hcService.cargarItemConIdAsignado(this.HC).finally(()=>{this.onHCCompleta.emit({paciente:this.paciente,datos:o,cargo:t})})):this.hcService.modificarItem(this.HC).finally(()=>{this.onHCCompleta.emit({paciente:this.paciente,datos:o,cargo:t})})}else this.toastService.error("Hay campos con errores. <br>Por favor corrijalos y vuelva a intentar","Aviso.")}formEsValido(){for(const t in this.form.controls)if(this.form.controls.hasOwnProperty(t)&&this.form.controls[t]?.errors)return!1;return!0}limpiarFormulario(){this.form.reset();for(const t in this.form.controls)this.form.controls.hasOwnProperty(t)&&this.form.controls[t].setValue("")}cancelaHC(){this.onHCCancelada.emit()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(A.F0),e.Y36(re.e),e.Y36(ce.y),e.Y36(Z.i),e.Y36(d.qu),e.Y36(w.J),e.Y36(le.T),e.Y36(se.X),e.Y36(ue.k))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-cargar-historia"]],inputs:{paciente:"paciente"},outputs:{onHCCompleta:"onHCCompleta",onHCCancelada:"onHCCancelada"},decls:83,vars:12,consts:[[1,"loader-fondo"],[1,"container"],[1,"row","w-100","d-flex","justify-content-center","ml-0"],[1,"col","col-12","justify-content-center","col-lg-12"],[1,"card","p-4","mt-4","centrar","bg-dark","text-light","fw-bold"],[3,"formGroup"],[1,"display","justify-content-between","w-100"],[1,"width","p-3"],["for","altura",1,"form-label"],["type","number","id","altura","formControlName","altura",1,"form-control"],[4,"ngIf"],["for","peso",1,"form-label"],["type","number","id","peso","formControlName","peso",1,"form-control"],["for","temperatura",1,"form-label"],["type","number","id","temperatura","formControlName","temperatura",1,"form-control"],["for","presion1",1,"form-label"],[1,"row"],[1,"col","col-5"],["type","number","id","presion1","formControlName","presion1",1,"form-control"],[1,"col","col-1","d-flex","justify-content-center"],[1,"form-label","fs-3"],["type","number","id","presion2","formControlName","presion2",1,"form-control"],[1,"col","col-1"],[1,"form-label"],[1,"d-flex","justify-content-center","m-3"],[1,"form-label","text-center"],[1,"col"],["for","opcionalNombre1",1,"form-label"],["type","text","id","opcionalNombre1","formControlName","opcionalNombre1",1,"form-control"],["for","opcionalValor1",1,"form-label"],["type","text","id","opcionalValor1","formControlName","opcionalValor1",1,"form-control"],["for","opcionalNombre2",1,"form-label"],["type","text","id","opcionalNombre2","formControlName","opcionalNombre2",1,"form-control"],["for","opcionalValor2",1,"form-label"],["type","text","id","opcionalValor2","formControlName","opcionalValor2",1,"form-control"],["for","opcionalNombre3",1,"form-label"],["type","text","id","opcionalNombre3","formControlName","opcionalNombre3",1,"form-control"],["for","opcionalValor3",1,"form-label"],["type","text","id","opcionalValor3","formControlName","opcionalValor3",1,"form-control"],[1,"d-flex","justify-content-between"],["type","button",1,"btn","btn-secondary","mt-2","fw-bold",3,"click"],["type","button",1,"btn","btn-primary","mt-2","fw-bold",3,"click"],["class","d-block error",4,"ngFor","ngForOf"],[1,"d-block","error"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"form",5)(6,"fieldset")(7,"legend"),e._uU(8," Complete los siguientes datos registrar en la Historia Cl\xednica "),e.qZA(),e.TgZ(9,"div",6)(10,"div",7)(11,"div")(12,"label",8),e._uU(13,"Altura"),e.qZA(),e._UZ(14,"input",9),e.YNc(15,_e,2,1,"ng-container",10),e.qZA(),e.TgZ(16,"div")(17,"label",11),e._uU(18,"Peso"),e.qZA(),e._UZ(19,"input",12),e.YNc(20,de,2,1,"ng-container",10),e.qZA(),e.TgZ(21,"div")(22,"label",13),e._uU(23,"Temperatura"),e.qZA(),e._UZ(24,"input",14),e.YNc(25,ge,2,1,"ng-container",10),e.qZA(),e.TgZ(26,"label",15),e._uU(27,"Presi\xf3n"),e.qZA(),e.TgZ(28,"div",16)(29,"div",17),e._UZ(30,"input",18),e.YNc(31,Ce,2,1,"ng-container",10),e.qZA(),e.TgZ(32,"div",19)(33,"label",20),e._uU(34,"/"),e.qZA()(),e.TgZ(35,"div",17),e._UZ(36,"input",21),e.YNc(37,Te,2,1,"ng-container",10),e.qZA(),e.TgZ(38,"div",22)(39,"label",23),e._uU(40,"mmHg"),e.qZA()()(),e.TgZ(41,"div",24)(42,"h4",25),e._uU(43,"Datos Opcionales"),e.qZA()(),e.TgZ(44,"div")(45,"div",16)(46,"div",26)(47,"label",27),e._uU(48,"Nombre del dato"),e.qZA(),e._UZ(49,"input",28),e.YNc(50,xe,2,1,"ng-container",10),e.qZA(),e.TgZ(51,"div",26)(52,"label",29),e._uU(53,"Valor del dato"),e.qZA(),e._UZ(54,"input",30),e.YNc(55,we,2,1,"ng-container",10),e.qZA()(),e.TgZ(56,"div",16)(57,"div",26)(58,"label",31),e._uU(59,"Nombre del dato"),e.qZA(),e._UZ(60,"input",32),e.YNc(61,Ne,2,1,"ng-container",10),e.qZA(),e.TgZ(62,"div",26)(63,"label",33),e._uU(64,"Valor del dato"),e.qZA(),e._UZ(65,"input",34),e.YNc(66,Ee,2,1,"ng-container",10),e.qZA()(),e.TgZ(67,"div",16)(68,"div",26)(69,"label",35),e._uU(70,"Nombre del dato"),e.qZA(),e._UZ(71,"input",36),e.YNc(72,qe,2,1,"ng-container",10),e.qZA(),e.TgZ(73,"div",26)(74,"label",37),e._uU(75,"Valor del dato"),e.qZA(),e._UZ(76,"input",38),e.YNc(77,Oe,2,1,"ng-container",10),e.qZA()()()()(),e.TgZ(78,"div",39)(79,"button",40),e.NdJ("click",function(){return o.cancelaHC()}),e._uU(80," Cancelar "),e.qZA(),e.TgZ(81,"button",41),e.NdJ("click",function(){return o.cargarHC()}),e._uU(82," Guardar "),e.qZA()()()()()()()()()),2&t&&(e.xp6(5),e.Q6J("formGroup",o.form),e.xp6(10),e.Q6J("ngIf",null==o.altura?null:o.altura.errors),e.xp6(5),e.Q6J("ngIf",null==o.peso?null:o.peso.errors),e.xp6(5),e.Q6J("ngIf",null==o.temperatura?null:o.temperatura.errors),e.xp6(6),e.Q6J("ngIf",null==o.presion1?null:o.presion1.errors),e.xp6(6),e.Q6J("ngIf",null==o.presion2?null:o.presion2.errors),e.xp6(13),e.Q6J("ngIf",null==o.opcionalNombre1?null:o.opcionalNombre1.errors),e.xp6(5),e.Q6J("ngIf",null==o.opcionalValor1?null:o.opcionalValor1.errors),e.xp6(6),e.Q6J("ngIf",null==o.opcionalNombre2?null:o.opcionalNombre2.errors),e.xp6(5),e.Q6J("ngIf",null==o.opcionalValor2?null:o.opcionalValor2.errors),e.xp6(6),e.Q6J("ngIf",null==o.opcionalNombre3?null:o.opcionalNombre3.errors),e.xp6(5),e.Q6J("ngIf",null==o.opcionalValor3?null:o.opcionalValor3.errors))},dependencies:[h.sg,h.O5,d._Y,d.Fj,d.wV,d.JJ,d.JL,d.sg,d.u],styles:[".error[_ngcontent-%COMP%]{color:red}.loader-fondo[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#000000e1;display:flex;justify-content:center;align-items:center}"]}),n})();const Ie=["inputTexto"];function Pe(n,a){1&n&&(e.TgZ(0,"div",23)(1,"span",24),e._uU(2,"Cargando..."),e.qZA(),e._UZ(3,"div",25),e.qZA())}function Se(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"button",41),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).$implicit,r=e.oxw(2);return e.KtG(r.mostrarComentario(i))}),e._UZ(2,"i",42),e.qZA()()}}function He(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",43),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).$implicit,r=e.oxw(2);return e.KtG(r.mostrarComentario(i))}),e._UZ(1,"i",44),e.qZA(),e.TgZ(2,"textarea",45),e._uU(3),e.qZA()}if(2&n){const t=e.oxw(2).$implicit;e.xp6(3),e.Oqu(t.comentarioPaciente)}}function Je(n,a){if(1&n&&(e.ynx(0),e.YNc(1,Se,3,0,"div",33),e.YNc(2,He,4,1,"ng-template",null,40,e.W1O),e.BQk()),2&n){const t=e.MAs(3),o=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",!o.mostrarComentario)("ngIfElse",t)}}function De(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",52),e.NdJ("click",function(){e.CHM(t),e.oxw();const i=e.MAs(3),r=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.rechazar(r,i))}),e._uU(1,"Rechazar "),e.qZA()}}function Qe(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",53),e.NdJ("click",function(){e.CHM(t),e.oxw();const i=e.MAs(3),r=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.cancelar(r,i))}),e._uU(1,"Cancelar "),e.qZA()}}function Ye(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"div",46),e._UZ(2,"textarea",47,48),e.qZA(),e.TgZ(4,"div",49),e.YNc(5,De,2,0,"button",50),e.YNc(6,Qe,2,0,"button",51),e.qZA(),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(5),e.Q6J("ngIf","Solicitado"==t.estadoTurno),e.xp6(1),e.Q6J("ngIf","Solicitado"==t.estadoTurno)}}function Fe(n,a){if(1&n&&(e.ynx(0),e._UZ(1,"textarea",55),e.BQk()),2&n){const t=e.oxw(2).index;e.xp6(1),e.Q6J("id","realizado"+t)}}function je(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"button",41),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(4).$implicit,r=e.oxw(2);return e.KtG(r.mostrarDetalle(i))}),e._UZ(2,"i",42),e.qZA()()}}function Ve(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",43),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(4).$implicit,r=e.oxw(2);return e.KtG(r.mostrarDetalle(i))}),e._UZ(1,"i",44),e.qZA(),e.TgZ(2,"textarea",45),e._uU(3),e.qZA()}if(2&n){const t=e.oxw(4).$implicit;e.xp6(3),e.Oqu(t.comentarioMedico)}}function $e(n,a){if(1&n&&(e.ynx(0),e.YNc(1,je,3,0,"div",33),e.YNc(2,Ve,4,1,"ng-template",null,56,e.W1O),e.BQk()),2&n){const t=e.MAs(3),o=e.oxw(3).$implicit;e.xp6(1),e.Q6J("ngIf",!o.mostrarDetalle)("ngIfElse",t)}}function Be(n,a){if(1&n&&e.YNc(0,$e,4,2,"ng-container",20),2&n){const t=e.oxw(2).$implicit;e.Q6J("ngIf",t.comentarioMedico&&""!=t.comentarioMedico)}}function ze(n,a){if(1&n&&(e.YNc(0,Fe,2,1,"ng-container",33),e.YNc(1,Be,1,1,"ng-template",null,54,e.W1O)),2&n){const t=e.MAs(2),o=e.oxw().$implicit;e.Q6J("ngIf","Aceptado"==o.estadoTurno)("ngIfElse",t)}}function Le(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div")(2,"button",57),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,r=e.oxw(2);return e.KtG(r.verDetalles(i))}),e._uU(3,"Detalles"),e.qZA()(),e.BQk()}}function Ke(n,a){1&n&&(e.TgZ(0,"div",58)(1,"h3",15),e._uU(2,"Sin Controles"),e.qZA()())}function Ge(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",57),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,r=e.oxw(2);return e.KtG(r.aceptar(i))}),e._uU(1,"Aceptar "),e.qZA()}}function Re(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",57),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(),r=i.$implicit,s=i.index,u=e.oxw(2);return e.KtG(u.realizado(r,s))}),e._uU(1,"Finalizar "),e.qZA()}}function We(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",27),e.NdJ("click",function(){const r=e.CHM(t).$implicit,s=e.oxw(2);return e.KtG(s.seleccionDeFila(r))}),e.TgZ(1,"div",14),e._uU(2),e.qZA(),e.TgZ(3,"div",28)(4,"p"),e._uU(5),e.qZA()(),e.TgZ(6,"div",28)(7,"p"),e._uU(8),e.qZA()(),e.TgZ(9,"div",29)(10,"p"),e._uU(11),e.ALo(12,"turnos"),e.qZA()(),e.TgZ(13,"div",30),e.YNc(14,Je,4,2,"ng-container",20),e.qZA(),e.TgZ(15,"div",31)(16,"p",32),e._uU(17),e.qZA()(),e.TgZ(18,"div",30),e.YNc(19,Ye,7,2,"ng-container",33),e.YNc(20,ze,3,2,"ng-template",null,34,e.W1O),e.qZA(),e.TgZ(22,"div",35),e.YNc(23,Le,4,0,"ng-container",33),e.YNc(24,Ke,3,0,"ng-template",null,36,e.W1O),e.qZA(),e.TgZ(26,"div",37)(27,"div",38),e.YNc(28,Ge,2,0,"button",39),e.YNc(29,Re,2,0,"button",39),e.qZA()()()}if(2&n){const t=a.$implicit,o=e.MAs(21),i=e.MAs(25),r=e.oxw(2);e.ekj("fila-seleccionada",null!=r.filaSeleccionada&&t.id===r.filaSeleccionada.id),e.xp6(2),e.hij(" ",t.id," "),e.xp6(3),e.hij(" ",t.especialidad," "),e.xp6(3),e.hij(" ",t.nombrePaciente," "),e.xp6(3),e.hij(" ",e.Dn7(12,14,t,!1,!1)," "),e.xp6(3),e.Q6J("ngIf",t.comentarioPaciente&&""!=t.comentarioPaciente),e.xp6(3),e.hij(" ",t.estadoTurno," "),e.xp6(2),e.Q6J("ngIf","Solicitado"==t.estadoTurno)("ngIfElse",o),e.xp6(4),e.Q6J("ngIf",t.datos)("ngIfElse",i),e.xp6(5),e.Q6J("ngIf","Solicitado"==t.estadoTurno),e.xp6(1),e.Q6J("ngIf","Aceptado"==t.estadoTurno)}}function Xe(n,a){if(1&n&&(e.YNc(0,We,30,18,"div",26),e.ALo(1,"sortBySeconds")),2&n){const t=e.oxw();e.Q6J("ngForOf",e.lcZ(1,1,t.listado))}}function et(n,a){1&n&&e._UZ(0,"app-loader")}function tt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"app-cargar-historia",59),e.NdJ("onHCCancelada",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.cancelaHC())})("onHCCompleta",function(i){e.CHM(t);const r=e.oxw();return e.KtG(r.hcCargada(i))}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("paciente",t.pacienteHc)}}function nt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"app-detalle-hc",60),e.NdJ("OnCerrar",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.cerrarDetalles())}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("dato",t.datoDetalle)}}let H=(()=>{class n{constructor(t,o,i){var r=this;this.horariosService=t,this.usuarioService=o,this.swalService=i,this.spinner=!1,this.cargandoHC=!1,this.cargando=!1,this.filaSeleccionada=null,this.listado=null,this.mostrarDetalles=!1,this.limpiarAutocomplete=!1,this.tituloBuscador="Busque por  (paciente) Nombre | Apellido | Dni | (especialidad) | Nombre",this.buscarPacienteOEspecialidad=function(){var s=(0,g.Z)(function*(u){r.eliminarSuscripcion(),u=(u=u.trim()).toLowerCase();let f=yield r.horariosService.traerListaFiltradaPor_DOS_Campos_IGUALDAD_DESIGUALDAD("idMedico",r.usuarioActual.id,"estadoTurno","Libre"),p=f.filter(c=>!!(c.paciente.nombre.toLowerCase().includes(u)||c.paciente.apellido.toLowerCase().includes(u)||c.paciente.dni.toString().includes(u))&&(c.filtro=0,!0)).map(c=>({texto:`Paciente: ${c.paciente.apellido} ${c.paciente.nombre} - ${c.paciente.dni}`,valor:c.paciente.id,filtro:c.filtro}));p=p.filter((c,T,b)=>T===b.findIndex(x=>x.valor===c.valor));let l=f.filter(c=>!!c.especialidad.toLowerCase().includes(u)&&(c.filtro=1,!0)).map(c=>({texto:`Especialidad: ${c.especialidad}`,valor:c.idEspecialidad,filtro:c.filtro}));return l=l.filter((c,T,b)=>T===b.findIndex(x=>x.valor===c.valor)),l.concat(...p)});return function(u){return s.apply(this,arguments)}}(),this.transformarTexto=s=>s.texto}seleccionDeFila(t){this.filaSeleccionada=t}ngOnDestoy(){this.eliminarSuscripcion()}eliminarSuscripcion(){this.suscripcion&&this.suscripcion.unsubscribe()}ngOnInit(){var t=this;return(0,g.Z)(function*(){t.usuarioActual=yield t.usuarioService.obtenerUsuarioActual(),t.datosTurnoPipe=new E.I})()}cargarDatos(t){this.spinner=!0,this.eliminarSuscripcion(),this.suscripcion=t.filtro?this.horariosService.traerListaFiltradaPor_TRES_Campos_I_I_D_Observable("idMedico",this.usuarioActual.id,"idEspecialidad",t.valor,"estadoTurno","Libre").subscribe(o=>{this.listado=o,this.spinner=!1}):this.horariosService.traerListaFiltradaPor_DOS_CamposObservable("idMedico",this.usuarioActual.id,"idPaciente",t.valor).subscribe(o=>{this.listado=o,this.spinner=!1})}mostrarDetalle(t){t.mostrarDetalle=!t.mostrarDetalle}mostrarComentario(t){t.mostrarComentario=!t.mostrarComentario}cancelar(t,o){""!=o?.value?.trim()?(this.cargando=!0,t.estadoTurno="Cancelado",t.comentarioMedico=o?.value.trim(),delete t.mostrarComentario,delete t.mostrarDetalle,this.horariosService.modificarItem(t).then(i=>{this.swalService.exito("Turno cancelado!","Aviso."),this.cargando=!1})):this.swalService.warning("Debe ingresar un comentario para CANCELAR el turno.","Aviso.")}aceptar(t){this.cargando=!0,t.estadoTurno="Aceptado",delete t.mostrarDetalle,delete t.mostrarComentario,this.horariosService.modificarItem(t).then(o=>{this.swalService.exito("Turno Aceptado!","Aviso.")}).finally(()=>this.cargando=!1)}realizado(t,o){const i=document.getElementById("realizado"+o);i.value&&""!=i.value?(this.item=t,this.indice=o,this.inputActual=i,t.paciente.especialidad=t.especialidad,this.pacienteHc=t.paciente,this.cargandoHC=!0):this.swalService.warning("Debe ingresar una rese\xf1a/comentario y diagn\xf3stico realizado.","Aviso.")}finalizarTurno(t){this.cargandoHC=!1,this.cargando=!0,this.item.estadoTurno="Realizado",this.item.comentarioMedico=this.inputActual.value,this.item.fechaFinalizacion=(new Date).getTime(),delete this.item.mostrarDetalle,delete this.item.mostrarComentario,this.item.datos=t.datos,this.horariosService.modificarItem(this.item).then(o=>{delete this.pacienteHc.especialidad,this.pacienteHc.tieneHC=!0,this.usuarioService.modificarUsuario(this.pacienteHc).finally(()=>{this.swalService.exito("Turno Finalizado!","Aviso."),this.cargando=!1})}).finally(()=>{})}hcCargada(t){this.finalizarTurno(t)}cancelaHC(){this.cargandoHC=!1}keyDown(t,o){var i=this;return(0,g.Z)(function*(){("Enter"===t.key||13===t.keyCode)&&(yield i.buscar2(o))})()}cerrarDetalles(){this.mostrarDetalles=!1}rechazar(t,o){""!=o?.value?.trim()?(this.cargando=!0,t.estadoTurno="Rechazado",t.comentarioMedico=o?.value.trim(),delete t.mostrarDetalle,delete t.mostrarComentario,this.horariosService.modificarItem(t).then(i=>{this.swalService.exito("Turno Rechazado!","Aviso."),this.cargando=!1})):this.swalService.warning("Debe ingresar un comentario para RECHAZAR el turno.","Aviso.")}limpiar(){this.listado=null,this.limpiarAutocomplete=!this.limpiarAutocomplete;const t=document.getElementById("inputTexto");t.disabled=!1,t.value=""}limpiarDatos(){this.listado=null,this.filaSeleccionada=null}obtenerItemSeleccionado(t){this.cargarDatos(t)}buscar2(t){var o=this;return(0,g.Z)(function*(){let i=t.value;if(i=i.trim(),i=i.toLowerCase(),""!=i){o.cargando=!0;let r=o.usuarioActual.id,f=(yield o.horariosService.obtenerListaDeItems()).filter(p=>"Libre"!=p.estadoTurno&&p.idMedico==r).filter(p=>{if(p.especialidad.toLowerCase().includes(i)||p.nombrePaciente.toLowerCase().includes(i)||p.paciente&&p.paciente?.dni.toLowerCase().includes(i)||p.comentarioMedico.toLowerCase().includes(i)||p.comentarioPaciente.toLowerCase().includes(i)||p.estadoTurno.toLowerCase().includes(i)||p.fechaString.includes(i))return!0;let l=p.datos;if(l){if(l.altura&&l.altura.toString().includes(i)||l.presion1&&l.presion1.toString().includes(i)||l.presion2&&l.presion2.toString().includes(i)||l.peso&&l.peso.toString().includes(i)||l.temperatura&&l.temperatura.toString().includes(i))return!0;for(let _ in l)if("medico"!=_&&"altura"!=_&&"especialidad"!=_&&"fechaHC"!=_&&"hayDatos"!=_&&"presion1"!=_&&"presion2"!=_&&"peso"!=_&&"temperatura"!=_&&l[_]&&l[_].toString().toLowerCase().includes(i))return!0}return!1});o.listado=f,o.cargando=!1}})()}verDetalles(t){if(t&&t.datos){let o=this.datosTurnoPipe.transform(t.datos);this.datoDetalle=o,this.mostrarDetalles=!0}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(y.p),e.Y36(Z.i),e.Y36(w.J))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-turnos-especialista"]],viewQuery:function(t,o){if(1&t&&e.Gf(Ie,5),2&t){let i;e.iGM(i=e.CRH())&&(o.inputTexto=i.first)}},decls:50,vars:5,consts:[[1,"container-fluid","m-0","p-0"],[1,"d-flex","bg-dark","p-2","justify-content-between"],[1,"fw-bold","fs-4","text-light"],[1,"btn","btn-warning","fw-bold","fs-4","p-2",3,"click"],[1,"row","w-50","mx-auto"],[1,"col","border","p-2","w-50","bg-dark","text-light"],[1,"mb-3"],["for","inputTexto",1,"form-label"],[1,"d-flex","justify-content-around"],["type","text","autocomplete","off","name","inputTexto","id","inputTexto",1,"form-control",3,"keydown"],["inputTexto",""],["id","btnBuscar",1,"btn","btn-primary","m-1",3,"click"],[1,"bi","bi-search","fw-bold"],[1,"row","w-100","bg-dark","mx-auto","text-light","text-center"],[1,"col","col","border","d-none"],[1,"custom-font-headers"],[1,"col","col-12","col-xl-1","border"],[1,"col","col-12","col-xl-2","border"],["class","d-flex justify-content-center",4,"ngIf","ngIfElse"],["lista",""],[4,"ngIf"],[3,"paciente","onHCCancelada","onHCCompleta",4,"ngIf"],[3,"dato","OnCerrar",4,"ngIf"],[1,"d-flex","justify-content-center"],[1,"m-3","fs-3","fw-bold"],[1,"spinner-border","text-danger",2,"align-self","center","scale","1.2"],["class","row w-100 mx-auto bg-light custom-pointer","style","min-height: 100px;",3,"fila-seleccionada","click",4,"ngFor","ngForOf"],[1,"row","w-100","mx-auto","bg-light","custom-pointer",2,"min-height","100px",3,"click"],[1,"col","col-12","col-xl-1","border","custom-font-data","columna"],[1,"col","col-12","col-xl-2","border","custom-font-data","columna"],[1,"col","col-12","col-xl-2","border","custom-font-data","columna","justify-content-center"],[1,"col","col-12","col-xl-1","border","custom-font-data","columna","justify-content-center"],[1,"text-center"],[4,"ngIf","ngIfElse"],["verResena",""],[1,"col","col-12","col-xl-1","border","d-flex",2,"align-items","center !important"],["noHc",""],[1,"col","col-12","col-xl-2","border","custom-font-data","text-right","columna"],[1,"d-flex","justify-content-center","w-100"],["class","btn btn-success fs-3 fw-bold m-1",3,"click",4,"ngIf"],["mostrarComentarios",""],[1,"btn","btn-warning",3,"click"],[1,"bi","bi-eye-fill","scale"],[1,"btn","btn-warning","m-1",3,"click"],[1,"bi","bi-eye-slash-fill","scale"],["disabled","","readonly","",1,"form-control","w-100","deshabilitado","resize"],[1,"",2,"width","70%"],[1,"form-control","w-100","resize"],["resena",""],[1,"",2,"width","30%"],["class","btn btn-danger fs-6 fw-bold m-1",3,"click",4,"ngIf"],["class","btn btn-warning fs-6 fw-bold m-1",3,"click",4,"ngIf"],[1,"btn","btn-danger","fs-6","fw-bold","m-1",3,"click"],[1,"btn","btn-warning","fs-6","fw-bold","m-1",3,"click"],["visor",""],[1,"form-control","w-100","resize",3,"id"],["mostrar",""],[1,"btn","btn-success","fs-3","fw-bold","m-1",3,"click"],[1,"d-flex",2,"align-items","center"],[3,"paciente","onHCCancelada","onHCCompleta"],[3,"dato","OnCerrar"]],template:function(t,o){if(1&t){const i=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3,"Mis Turnos"),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return o.limpiar()}),e._uU(5,"Limpiar"),e.qZA()(),e.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"label",7),e._uU(10,"Buscar por Paciente | Especialidad | Datos del turno"),e.qZA(),e.TgZ(11,"div",8)(12,"input",9,10),e.NdJ("keydown",function(s){e.CHM(i);const u=e.MAs(13);return e.KtG(o.keyDown(s,u))}),e.qZA(),e.TgZ(14,"button",11),e.NdJ("click",function(){e.CHM(i);const s=e.MAs(13);return e.KtG(o.buscar2(s))}),e._UZ(15,"i",12),e.qZA()()()()(),e.TgZ(16,"div",13)(17,"div",14)(18,"h3",15),e._uU(19,"Id"),e.qZA()(),e.TgZ(20,"div",16)(21,"h3",15),e._uU(22,"Especialidad"),e.qZA()(),e.TgZ(23,"div",16)(24,"h3",15),e._uU(25,"Paciente"),e.qZA()(),e.TgZ(26,"div",17)(27,"h3",15),e._uU(28,"Fecha Turno"),e.qZA()(),e.TgZ(29,"div",17)(30,"h3",15),e._uU(31,"Comentarios Paciente"),e.qZA()(),e.TgZ(32,"div",16)(33,"h3",15),e._uU(34,"Estado"),e.qZA()(),e.TgZ(35,"div",17)(36,"h3",15),e._uU(37,"Rese\xf1as"),e.qZA()(),e.TgZ(38,"div",16)(39,"h3",15),e._uU(40,"Controles"),e.qZA()(),e.TgZ(41,"div",17)(42,"h3",15),e._uU(43,"Accion"),e.qZA()()(),e.YNc(44,Pe,4,0,"div",18),e.YNc(45,Xe,2,3,"ng-template",null,19,e.W1O),e.qZA(),e.YNc(47,et,1,0,"app-loader",20),e.YNc(48,tt,1,1,"app-cargar-historia",21),e.YNc(49,nt,1,1,"app-detalle-hc",22)}if(2&t){const i=e.MAs(46);e.xp6(44),e.Q6J("ngIf",o.spinner)("ngIfElse",i),e.xp6(3),e.Q6J("ngIf",o.cargando),e.xp6(1),e.Q6J("ngIf",o.cargandoHC),e.xp6(1),e.Q6J("ngIf",o.mostrarDetalles)}},dependencies:[h.sg,h.O5,q.R,Me,O,M._,I.o],styles:[".custom-font-headers[_ngcontent-%COMP%]{font-size:1.4em!important;font-weight:700!important}.custom-font-data[_ngcontent-%COMP%]{font-size:1.03em!important;word-wrap:break-word;font-weight:700}.fila-seleccionada[_ngcontent-%COMP%]{background-color:#009331!important;color:#fff!important;font-weight:700!important;.nueva-especialidad {color: black !important;}}.custom-font[_ngcontent-%COMP%]{font-size:3em!important;font-weight:700!important}.custom-pointer[_ngcontent-%COMP%]{cursor:pointer}img[_ngcontent-%COMP%]{height:100px}.imagen-usuario[_ngcontent-%COMP%]{border-radius:100px;width:100px}.textarea[_ngcontent-%COMP%]{resize:none;height:100%}.nueva-especialidad[_ngcontent-%COMP%]{color:red;font-weight:bolder;font-size:1.03em}.columna[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center!important}p[_ngcontent-%COMP%]{margin:0}.deshabilitado[_ngcontent-%COMP%]{background-color:var(--bs-secondary-bg)!important}.resize[_ngcontent-%COMP%]{resize:none}.scale[_ngcontent-%COMP%]{font-size:24px}.contenedor-resultados[_ngcontent-%COMP%]{background-color:#fff;position:absolute;min-width:400px}.resultado[_ngcontent-%COMP%]{cursor:pointer;border:1px solid rgba(0,0,0,.491);display:flex;align-items:center;padding:5px;color:#000}.resultado[_ngcontent-%COMP%]:hover{background-color:#009331!important;color:#fff!important;font-weight:700!important}.p-resultado[_ngcontent-%COMP%]{margin:0!important}"]}),n})();function ot(n,a){1&n&&e._UZ(0,"app-turnos-paciente")}function it(n,a){1&n&&e._UZ(0,"app-turnos-especialista")}const at=[{path:"",component:(()=>{class n{constructor(t){this.usuarioService=t}ngOnInit(){var t=this;return(0,g.Z)(function*(){t.usuarioActual=yield t.usuarioService.obtenerUsuarioActual()})()}esPaciente(){return this.usuarioActual?.perfil==N.L.paciente}esEspecialista(){return this.usuarioActual?.perfil==N.L.especialista}esEsAdmin(){return this.usuarioActual?.perfil==N.L.administrador}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Z.i))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-mis-turnos"]],decls:3,vars:3,consts:[[1,"p-0","m-0"],[4,"ngIf"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,ot,1,0,"app-turnos-paciente",1),e.YNc(2,it,1,0,"app-turnos-especialista",1),e.qZA()),2&t&&(e.Q6J("@fadeAnimation",void 0),e.xp6(1),e.Q6J("ngIf",o.esPaciente()),e.xp6(1),e.Q6J("ngIf",o.esEspecialista()))},dependencies:[h.O5,S,H],data:{animation:[(0,C.X$)("fadeAnimation",[(0,C.eR)(":enter",[(0,C.oB)({opacity:0}),(0,C.jt)("1500ms",(0,C.oB)({opacity:1}))]),(0,C.eR)(":leave",[(0,C.jt)("1500ms",(0,C.oB)({opacity:0}))])])]}}),n})()},{path:"turnos-paciente",component:S},{path:"turnos-especialista",component:H},{path:"encuesta",component:U}];let rt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[A.Bz.forChild(at),A.Bz]}),n})();var ct=m(4466);let lt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[h.ez,rt,ct.m,d.u5,d.UX]}),n})()}}]);