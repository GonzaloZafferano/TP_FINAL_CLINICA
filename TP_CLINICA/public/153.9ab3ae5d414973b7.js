"use strict";(self.webpackChunkTP_CLINICA=self.webpackChunkTP_CLINICA||[]).push([[153],{4153:($,_,a)=>{a.r(_),a.d(_,{UsuariosModule:()=>K});var u=a(6895),d=a(6378),p=a(5861),v=a(3474),t=a(4650),f=a(1209),l=a(4500),g=a(6069),Z=a(7556);let m=(()=>{class i{transform(e){return e==l.j.espera?"En espera":e==l.j.habilitado?"Habilitado":"Rechazado"}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275pipe=t.Yjl({name:"estados",type:i,pure:!0}),i})();var U=a(6613);function E(i,n){if(1&i&&(t.TgZ(0,"div",2)(1,"span",3),t._uU(2,"Cargando..."),t.qZA(),t._UZ(3,"div",4),t.qZA()),2&i){const e=t.oxw();t.Akn(e.anchoSpinner)}}function C(i,n){1&i&&(t.TgZ(0,"h3",19),t._uU(1,"No se puede habilitar/deshabilitar a si mismo."),t.qZA())}function T(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",7)(1,"div",8)(2,"h3",9),t._uU(3," Detalles Usuario "),t.qZA()(),t.TgZ(4,"div",5),t._UZ(5,"img",10),t.qZA(),t.TgZ(6,"div",11)(7,"div",5)(8,"div")(9,"div",12)(10,"h5",13),t._uU(11),t.qZA()(),t.TgZ(12,"div",12)(13,"h5",13),t._uU(14),t.qZA()(),t.TgZ(15,"div",12)(16,"h5",13),t._uU(17),t.qZA()(),t.TgZ(18,"div",12)(19,"h5",13),t._uU(20),t.ALo(21,"estados"),t.qZA()(),t.TgZ(22,"div",12)(23,"h5",13),t._uU(24),t.ALo(25,"tipoUsuario"),t.qZA()()()(),t.TgZ(26,"div",14)(27,"div"),t.YNc(28,C,2,0,"h3",15),t.qZA(),t.TgZ(29,"div",16)(30,"button",17),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.deshabilitar(s.usuario))}),t._uU(31,"Deshabilitar"),t.qZA(),t.TgZ(32,"button",18),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.habilitar(s.usuario))}),t._uU(33,"Habilitar"),t.qZA()()()()()}if(2&i){const e=t.oxw(2);t.xp6(5),t.Q6J("src",e.obtenerUrlImagen(e.usuario),t.LSH),t.xp6(6),t.AsE("Nombre: ",null==e.usuario?null:e.usuario.nombre," ",null==e.usuario?null:e.usuario.apellido,""),t.xp6(3),t.hij("Edad: ",null==e.usuario?null:e.usuario.edad," a\xf1os"),t.xp6(3),t.hij("Dni: ",null==e.usuario?null:e.usuario.dni,""),t.xp6(3),t.hij("Estado: ",t.lcZ(21,10,null==e.usuario?null:e.usuario.habilitado),""),t.xp6(4),t.hij("Perfil: ",t.lcZ(25,12,null==e.usuario?null:e.usuario.perfil),""),t.xp6(4),t.Q6J("ngIf",e.esUsuarioActual(e.usuario)),t.xp6(2),t.Q6J("disabled",!e.estaHabilitado(e.usuario)||e.esUsuarioActual(e.usuario)),t.xp6(2),t.Q6J("disabled",e.estaHabilitado(e.usuario)||e.esUsuarioActual(e.usuario))}}function w(i,n){if(1&i&&(t.TgZ(0,"div",5),t.YNc(1,T,34,14,"div",6),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.usuario)}}let M=(()=>{class i{constructor(e,o,s){this.formateo=e,this.authService=o,this.usuarioService=s,this.spinner=!1}obtenerUrlImagen(e){return e.perfil!=v.L.usuario?e.imagen:e.imagen1}esUsuarioActual(e){return!this.usuarioService.getUsuarioActualBasico||this.usuarioService.getUsuarioActualBasico.id==e.id}estaHabilitado(e){return e.habilitado==l.j.habilitado}deshabilitar(e){this.estaHabilitado(e)&&(e.habilitado=l.j.rechazado,this.usuarioService.modificarUsuario(e))}habilitar(e){this.estaHabilitado(e)||(e.habilitado=l.j.habilitado,this.usuarioService.modificarUsuario(e))}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(g.y),t.Y36(Z.e),t.Y36(f.i))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-usuarios-detalles"]],inputs:{spinner:"spinner",anchoSpinner:"anchoSpinner",usuario:"usuario"},decls:4,vars:2,consts:[["class","d-flex justify-content-around",3,"style",4,"ngIf","ngIfElse"],["detalleUsuario",""],[1,"d-flex","justify-content-around"],[1,"fs-3","fw-bold"],[1,"spinner-border","text-danger","text-center",2,"align-self","center","scale","1.2"],[1,"d-flex","justify-content-center"],["style","height: 100% !important;","class","card ancho",4,"ngIf"],[1,"card","ancho",2,"height","100% !important"],[1,"card-header","bg-dark","text-light"],[1,"card-title"],["alt","imagen usuario",1,"card-img-top","imagen-usuario",3,"src"],[1,"card-body"],[1,"d-flex"],[1,""],[1,"d-flex",2,"align-items","center","flex-direction","column"],["class","texto text-center fw-bold text-danger",4,"ngIf"],[1,"d-flex","justify-content-around","w-100"],[1,"btn","btn-danger","p-2","m-2","fs-4","fw-bold",3,"disabled","click"],[1,"btn","btn-success","p-2","m-2","fs-4","fw-bold",3,"disabled","click"],[1,"texto","text-center","fw-bold","text-danger"]],template:function(e,o){if(1&e&&(t.ynx(0),t.YNc(1,E,4,2,"div",0),t.YNc(2,w,2,1,"ng-template",null,1,t.W1O),t.BQk()),2&e){const s=t.MAs(3);t.xp6(1),t.Q6J("ngIf",o.spinner)("ngIfElse",s)}},dependencies:[u.O5,m,U.q],styles:[".imagen-usuario[_ngcontent-%COMP%]{border-radius:100px;width:200px;height:200px}.texto[_ngcontent-%COMP%]{word-wrap:break-word}.ancho[_ngcontent-%COMP%]{width:90%}@media (min-width: 600px){.ancho[_ngcontent-%COMP%]{width:50%}}"]}),i})(),x=(()=>{class i{constructor(e){this.formato=e}transform(e){if(e){new Date(1e3*e.seconds);let s=e.toDate();return this.formato.fechaToString(s,!1,!1)}return""}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(g.y,16))},i.\u0275pipe=t.Yjl({name:"fechaString",type:i,pure:!0}),i})();function O(i,n){1&i&&(t.TgZ(0,"div",2)(1,"span",12),t._uU(2,"Cargando..."),t.qZA(),t._UZ(3,"div",13),t.qZA())}function S(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",15),t.NdJ("click",function(){const r=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.seleccionDeFila(r))}),t.TgZ(1,"div",6),t._uU(2),t.qZA(),t.TgZ(3,"div",16)(4,"p"),t._uU(5),t.qZA()(),t.TgZ(6,"div",16)(7,"p"),t._uU(8),t.qZA()(),t.TgZ(9,"div",16)(10,"p"),t._uU(11),t.qZA()(),t.TgZ(12,"div",16)(13,"p"),t._uU(14),t.qZA()(),t.TgZ(15,"div",17)(16,"p"),t._uU(17),t.ALo(18,"tipoUsuario"),t.qZA()(),t.TgZ(19,"div",18)(20,"p"),t._uU(21),t.qZA()(),t.TgZ(22,"div",19)(23,"p"),t._uU(24),t.ALo(25,"fechaString"),t.qZA()(),t.TgZ(26,"div",20)(27,"div",2),t._UZ(28,"img",21),t.qZA()(),t.TgZ(29,"div",19)(30,"p"),t._uU(31),t.ALo(32,"estados"),t.qZA()()()}if(2&i){const e=n.$implicit,o=t.oxw(2);t.ekj("fila-seleccionada",null!=o.filaSeleccionada&&e.id===o.filaSeleccionada.id),t.xp6(2),t.hij(" ",e.id," "),t.xp6(3),t.hij(" ",e.nombre," "),t.xp6(3),t.hij(" ",e.apellido," "),t.xp6(3),t.hij(" ",e.edad," "),t.xp6(3),t.hij(" ",e.dni," "),t.xp6(3),t.hij(" ",t.lcZ(18,12,e.perfil)," "),t.xp6(4),t.hij(" ",e.correo," "),t.xp6(3),t.hij(" ",t.lcZ(25,14,e.fechaRegistro)," "),t.xp6(4),t.Q6J("src",o.obtenerUrlImagen(e),t.LSH),t.xp6(3),t.hij(" ",t.lcZ(32,16,e.habilitado)," ")}}function q(i,n){if(1&i&&t.YNc(0,S,33,18,"div",14),2&i){const e=t.oxw();t.Q6J("ngForOf",e.listado)}}let j=(()=>{class i{constructor(e){this.usuarioService=e,this.listado=[],this.spinner=!1}ngOnInit(){this.obtenerUsuarios()}ngOnDestroy(){this.suscripcion&&this.suscripcion.unsubscribe(),this.suscripcionEnEspera&&this.suscripcionEnEspera.unsubscribe()}obtenerUsuarios(){var e=this;return(0,p.Z)(function*(){e.spinner=!0,e.suscripcion&&e.suscripcion.unsubscribe(),e.suscripcion=e.usuarioService.obtenerListadoDeUsuariosObservable().subscribe(o=>{e.spinner=!0,e.listado=o,e.spinner=!1})})()}seleccionDeFila(e){this.filaSeleccionada=e}obtenerUrlImagen(e){return e.perfil!=v.L.usuario?e.imagen:e.imagen1}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(f.i))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-listado-usuarios"]],decls:40,vars:3,consts:[[1,"container-fluid"],[1,"text-center","custom-font"],[1,"d-flex","justify-content-center"],[1,"w-75"],[3,"usuario"],[1,"row","bg-dark","text-light","text-center"],[1,"col","col","border","d-none"],[1,"custom-font-headers"],[1,"col","col-12","col-xl-1","border"],[1,"col","col-12","col-xl-2","border"],["class","d-flex justify-content-center",4,"ngIf","ngIfElse"],["lista",""],[1,"m-3","fs-3","fw-bold"],[1,"spinner-border","text-danger",2,"align-self","center","scale","1.2"],["class","row custom-pointer",3,"fila-seleccionada","click",4,"ngFor","ngForOf"],[1,"row","custom-pointer",3,"click"],[1,"col","col-12","col-xl-1","border","custom-font-data","columna"],[1,"col","col-12","col-xl-2","border","custom-font-data","columna"],[1,"col","col-12","col-xl-2","border","custom-font-data","text-right","columna"],[1,"col","col-12","col-xl-1","border","custom-font-data","text-right","columna"],[1,"col","col-12","col-xl-2","border","custom-font-data","text-right","justify-content-center","columna"],["alt","imagen usuario",1,"imagen-usuario",3,"src"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0)(1,"h3",1),t._uU(2,"Listado de Usuarios"),t.qZA(),t.TgZ(3,"div",2)(4,"div",3),t._UZ(5,"app-usuarios-detalles",4),t.qZA()(),t.TgZ(6,"div",5)(7,"div",6)(8,"h3",7),t._uU(9,"Id"),t.qZA()(),t.TgZ(10,"div",8)(11,"h3",7),t._uU(12,"Nombre"),t.qZA()(),t.TgZ(13,"div",8)(14,"h3",7),t._uU(15,"Apellido"),t.qZA()(),t.TgZ(16,"div",8)(17,"h3",7),t._uU(18,"Edad"),t.qZA()(),t.TgZ(19,"div",8)(20,"h3",7),t._uU(21,"Dni"),t.qZA()(),t.TgZ(22,"div",9)(23,"h3",7),t._uU(24,"Tipo Usuario"),t.qZA()(),t.TgZ(25,"div",9)(26,"h3",7),t._uU(27,"Correo"),t.qZA()(),t.TgZ(28,"div",8)(29,"h3",7),t._uU(30,"Registro"),t.qZA()(),t.TgZ(31,"div",9)(32,"h3",7),t._uU(33,"Imagen"),t.qZA()(),t.TgZ(34,"div",8)(35,"h3",7),t._uU(36,"Estado"),t.qZA()()(),t.YNc(37,O,4,0,"div",10),t.YNc(38,q,1,1,"ng-template",null,11,t.W1O),t.qZA()),2&e){const s=t.MAs(39);t.xp6(5),t.Q6J("usuario",o.filaSeleccionada),t.xp6(32),t.Q6J("ngIf",o.spinner)("ngIfElse",s)}},dependencies:[u.sg,u.O5,M,m,x,U.q],styles:[".custom-font-headers[_ngcontent-%COMP%]{font-size:1.4em!important;font-weight:700!important}.custom-font-data[_ngcontent-%COMP%]{font-size:1.03em!important;word-wrap:break-word;font-weight:700}.fila-seleccionada[_ngcontent-%COMP%]{background-color:#009331!important;color:#fff!important;font-weight:700!important;.nueva-especialidad {color: black !important;}}.custom-font[_ngcontent-%COMP%]{font-size:3em!important;font-weight:700!important}.custom-pointer[_ngcontent-%COMP%]{cursor:pointer}img[_ngcontent-%COMP%]{height:100px}.imagen-usuario[_ngcontent-%COMP%]{border-radius:100px;width:100px}.textarea[_ngcontent-%COMP%]{resize:none;height:100%}.nueva-especialidad[_ngcontent-%COMP%]{color:red;font-weight:bolder;font-size:1.03em}.columna[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center!important}"]}),i})();var y=a(1588),b=a(9215),P=a(2668),A=a(4465);let L=(()=>{class i{transform(e){let o="",s="",r="";if(e.especialidades.length>0){o="Especialidades declaradas: ";for(let c of e.especialidades)s+=""!=s?"/"+c.nombre:c.nombre}return o=o+" "+(""!=s?s:" - "),""!=e.otroEspecialidad&&(r+="Especialidad NUEVA: "+e.otroEspecialidad),[o,r]}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275pipe=t.Yjl({name:"especialidades",type:i,pure:!0}),i})();function I(i,n){1&i&&(t.TgZ(0,"div",9)(1,"span",10),t._uU(2,"Cargando..."),t.qZA(),t._UZ(3,"div",11),t.qZA())}const F=function(i){return{"nueva-especialidad":i}};function k(i,n){if(1&i&&(t.TgZ(0,"p",22),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.Q6J("ngClass",t.VKq(2,F,0!=n.index)),t.xp6(1),t.Oqu(e)}}function Y(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",13),t.NdJ("click",function(){const r=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.seleccionDeFila(r))}),t.TgZ(1,"div",3),t._uU(2),t.qZA(),t.TgZ(3,"div",14),t._uU(4),t.qZA(),t.TgZ(5,"div",14),t._uU(6),t.qZA(),t.TgZ(7,"div",14),t._uU(8),t.qZA(),t.TgZ(9,"div",14),t._uU(10),t.qZA(),t.TgZ(11,"div",15),t.YNc(12,k,2,4,"p",16),t.ALo(13,"especialidades"),t.qZA(),t.TgZ(14,"div",15),t._uU(15),t.qZA(),t.TgZ(16,"div",17),t._uU(17),t.ALo(18,"fechaString"),t.qZA(),t.TgZ(19,"div",17),t._uU(20),t.ALo(21,"estados"),t.qZA(),t.TgZ(22,"div",17),t._UZ(23,"textarea",18,19),t.qZA(),t.TgZ(25,"div",17)(26,"button",20),t.NdJ("click",function(){const r=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.aceptar(r))}),t._uU(27,"Habilitar"),t.qZA(),t.TgZ(28,"button",21),t.NdJ("click",function(){const r=t.CHM(e).$implicit,c=t.MAs(24),h=t.oxw(2);return t.KtG(h.rechazar(r,c))}),t._uU(29,"Rechazar"),t.qZA()()()}if(2&i){const e=n.$implicit,o=t.oxw(2);t.ekj("fila-seleccionada",null!=o.filaSeleccionada&&e.id===o.filaSeleccionada.id),t.xp6(2),t.hij(" ",e.id," "),t.xp6(2),t.hij(" ",e.nombre," "),t.xp6(2),t.hij(" ",e.apellido," "),t.xp6(2),t.hij(" ",e.edad," "),t.xp6(2),t.hij(" ",e.dni," "),t.xp6(2),t.Q6J("ngForOf",t.lcZ(13,11,e)),t.xp6(3),t.hij(" ",e.correo," "),t.xp6(2),t.hij(" ",t.lcZ(18,13,e.fechaRegistro)," "),t.xp6(3),t.hij(" ",t.lcZ(21,15,e.habilitado)," ")}}function D(i,n){if(1&i&&t.YNc(0,Y,30,17,"div",12),2&i){const e=t.oxw();t.Q6J("ngForOf",e.listado)}}let N=(()=>{class i{constructor(e,o,s,r){this.solicitudService=e,this.especialidadService=o,this.formatoService=s,this.toastService=r,this.listado=[],this.spinner=!1}ngOnInit(){this.obtenerUsuarios()}ngOnDestroy(){this.suscripcion&&this.suscripcion.unsubscribe()}obtenerUsuarios(){var e=this;return(0,p.Z)(function*(){e.spinner=!0,e.suscripcion&&e.suscripcion.unsubscribe(),e.suscripcion=e.solicitudService.traerListaDeSolicitudesFiltradaConObservable("habilitado",l.j.espera).subscribe(o=>{e.spinner=!0,e.listado=o,e.spinner=!1})})()}seleccionDeFila(e){this.filaSeleccionada=e}aceptar(e){if(e.habilitado=l.j.habilitado,""!=e.otroEspecialidad){let o={id:(0,y.Z)(),nombre:this.formatoService.eliminarEspaciosYPasarAMin_May(e.otroEspecialidad)};this.especialidadService.cargarEspecialidadConIdAsignado(o),e.especialidades.push(o)}this.solicitudService.modificarSolicitud(e)}rechazar(e,o){o&&""!=o.value.trim()?(e.mensajeEstado=o.value,e.habilitado=l.j.rechazado,this.solicitudService.modificarSolicitud(e)):this.toastService.error("Debe detallar el motivo de rechazo.","Aviso.")}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(b.M),t.Y36(P.T),t.Y36(g.y),t.Y36(A.k))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-lista-usuarios-en-espera"]],decls:40,vars:2,consts:[[1,"container-fluid"],[1,"text-center","custom-font"],[1,"row","bg-dark","text-light","text-center"],[1,"col-sm","border","d-none"],[1,"custom-font-headers"],[1,"col","col-12","col-xl-1","border"],[1,"col","col-12","col-xl-2","border"],["class","d-flex justify-content-center",4,"ngIf","ngIfElse"],["lista",""],[1,"d-flex","justify-content-center"],[1,"m-3","fs-3","fw-bold"],[1,"spinner-border","text-danger",2,"align-self","center","scale","1.2"],["class","row custom-pointer",3,"fila-seleccionada","click",4,"ngFor","ngForOf"],[1,"row","custom-pointer",3,"click"],[1,"col","col-12","col-xl-1","border","custom-font-data"],[1,"col","col-12","col-xl-2","border","custom-font-data","text-right"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"col","col-12","col-xl-1","border","custom-font-data","text-right"],["type","text",1,"form-control","textarea"],["mensajeRechazo",""],[1,"btn","btn-success","fw-bold","fs-4","w-100",3,"click"],[1,"btn","btn-danger","fw-bold","fs-4","w-100",3,"click"],[3,"ngClass"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0)(1,"h3",1),t._uU(2,"Listado de Usuarios en espera de habilitaci\xf3n"),t.qZA(),t.TgZ(3,"div",2)(4,"div",3)(5,"h3",4),t._uU(6,"Id"),t.qZA()(),t.TgZ(7,"div",5)(8,"h3",4),t._uU(9,"Nombre"),t.qZA()(),t.TgZ(10,"div",5)(11,"h3",4),t._uU(12,"Apellido"),t.qZA()(),t.TgZ(13,"div",5)(14,"h3",4),t._uU(15,"Edad"),t.qZA()(),t.TgZ(16,"div",5)(17,"h3",4),t._uU(18,"Dni"),t.qZA()(),t.TgZ(19,"div",6)(20,"h3",4),t._uU(21,"Especialidades"),t.qZA()(),t.TgZ(22,"div",6)(23,"h3",4),t._uU(24,"Correo"),t.qZA()(),t.TgZ(25,"div",5)(26,"h3",4),t._uU(27,"Registro"),t.qZA()(),t.TgZ(28,"div",5)(29,"h3",4),t._uU(30,"Estado"),t.qZA()(),t.TgZ(31,"div",5)(32,"h3",4),t._uU(33,"Motivo rechazo"),t.qZA()(),t.TgZ(34,"div",5)(35,"h3",4),t._uU(36,"Habilitar"),t.qZA()()(),t.YNc(37,I,4,0,"div",7),t.YNc(38,D,1,1,"ng-template",null,8,t.W1O),t.qZA()),2&e){const s=t.MAs(39);t.xp6(37),t.Q6J("ngIf",o.spinner)("ngIfElse",s)}},dependencies:[u.mk,u.sg,u.O5,m,L,x],styles:[".custom-font-headers[_ngcontent-%COMP%]{font-size:1.4em!important;font-weight:700!important}.custom-font-data[_ngcontent-%COMP%]{font-size:1.03em!important;word-wrap:break-word;font-weight:700}.fila-seleccionada[_ngcontent-%COMP%]{background-color:#009331!important;color:#fff!important;font-weight:700!important;.nueva-especialidad {color: black !important;}}.custom-font[_ngcontent-%COMP%]{font-size:3em!important;font-weight:700!important}.custom-pointer[_ngcontent-%COMP%]{cursor:pointer}img[_ngcontent-%COMP%]{height:100px}.textarea[_ngcontent-%COMP%]{resize:none;height:100%}.nueva-especialidad[_ngcontent-%COMP%]{color:red;font-weight:bolder;font-size:1.03em}"]}),i})();var J=a(7675),z=a(6290);function H(i,n){1&i&&(t.TgZ(0,"div",7),t._UZ(1,"div",8),t.qZA())}function Q(i,n){if(1&i&&(t.TgZ(0,"h3",9),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.AsE("Administrador: ",null==e.usuario?null:e.usuario.nombre," ",null==e.usuario?null:e.usuario.apellido,"")}}const B=[{path:"",component:(()=>{class i{constructor(e,o,s,r,c,h){this.solicitudService=e,this.localStorage=o,this.usuarioService=s,this.toastService=r,this.authService=c,this.router=h,this.ocultarBotonUsuarios=!1,this.ocultarBotonUsuariosEnEspera=!1,this.listado=[],this.usuariosEnEspera=-1,this.spinner=!1,this.cargando=!0}ngOnInit(){var e=this;return(0,p.Z)(function*(){e.obtenerUsuarioActual(),e.ocultarBotones(),e.obtenerUsuariosEnEspera()})()}obtenerUsuarioActual(){var e=this;return(0,p.Z)(function*(){e.cargando=!0,e.usuario=yield e.usuarioService.obtenerUsuarioActual(),e.cargando=!1})()}ngOnDestroy(){this.suscripcionEnEspera&&this.suscripcionEnEspera.unsubscribe()}cerrarSesion(){this.usuarioService.cerrarSesionUsuario()}getUsuarioEnEspera(){return this.solicitudService.usuariosEnEspera}ocultarBotones(e=""){let o="";o=""!=e?e:this.router.url,this.ocultarBotonUsuarios="/usuarios"==o||o.includes("/registro"),this.ocultarBotonUsuariosEnEspera=o.includes("/usuarios/usuarios-en-espera")}obtenerUsuariosEnEspera(){var e=this;return(0,p.Z)(function*(){e.spinner=!0,e.suscripcionEnEspera&&e.suscripcionEnEspera.unsubscribe(),e.suscripcionEnEspera=e.solicitudService.traerListaDeSolicitudesFiltradaConObservable("habilitado",l.j.espera).subscribe(o=>{-1==e.usuariosEnEspera&&(e.usuariosEnEspera=o.length),e.usuariosEnEspera<o.length&&e.toastService.informacion("Un nuevo usuario solicita habilitaci\xf3n","Aviso.",3e3),e.usuariosEnEspera=o.length,e.solicitudService.usuariosEnEspera=o.length})})()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(b.M),t.Y36(J.g),t.Y36(f.i),t.Y36(A.k),t.Y36(Z.e),t.Y36(d.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-usuarios"]],decls:12,vars:5,consts:[[1,"container-fluid","p-0","m-0"],[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],["class","d-flex justify-content-start","style","align-items: center; height: 100% !important;",4,"ngIf","ngIfElse"],["user",""],[1,"container-fluid","justify-content-end"],["routerLink","usuarios-en-espera",1,"btn","btn-warning","p-2","m-2","fs-4","fw-bold",3,"hidden","click"],["routerLink","./",1,"btn","btn-primary","fs-4","fw-bold","p-2","m-2",3,"hidden","click"],[1,"d-flex","justify-content-start",2,"align-items","center","height","100% !important"],[1,"spinner-border","text-light",2,"align-self","center","scale","1"],[1,"fs-3","fw-bold","text-light","w-50"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0),t._UZ(1,"app-header"),t.TgZ(2,"nav",1),t.YNc(3,H,2,0,"div",2),t.YNc(4,Q,2,2,"ng-template",null,3,t.W1O),t.TgZ(6,"div",4)(7,"button",5),t.NdJ("click",function(){return o.ocultarBotones("/usuarios/usuarios-en-espera")}),t._uU(8),t.qZA(),t.TgZ(9,"button",6),t.NdJ("click",function(){return o.ocultarBotones("/usuarios")}),t._uU(10,"Usuarios"),t.qZA()()(),t._UZ(11,"router-outlet"),t.qZA()),2&e){const s=t.MAs(5);t.xp6(3),t.Q6J("ngIf",!o.usuario||o.cargando)("ngIfElse",s),t.xp6(4),t.Q6J("hidden",o.ocultarBotonUsuariosEnEspera),t.xp6(1),t.hij("Usuarios en espera (",-1==o.getUsuarioEnEspera()?"0":o.getUsuarioEnEspera(),")"),t.xp6(1),t.Q6J("hidden",o.ocultarBotonUsuarios)}},dependencies:[u.O5,d.lC,d.rH,z.G],styles:[".custom-font-headers[_ngcontent-%COMP%]{font-size:2em!important;font-weight:700!important}.custom-font-data[_ngcontent-%COMP%]{font-size:1.03em!important;word-wrap:break-word;font-weight:700}.fila-seleccionada[_ngcontent-%COMP%]{background-color:#009331!important;color:#fff!important;font-weight:700!important;.nueva-especialidad {color: black !important;}}.custom-font[_ngcontent-%COMP%]{font-size:3em!important;font-weight:700!important}.custom-pointer[_ngcontent-%COMP%]{cursor:pointer}img[_ngcontent-%COMP%]{height:100px}.imagen-usuario[_ngcontent-%COMP%]{border-radius:100px;width:100px}.textarea[_ngcontent-%COMP%]{resize:none;height:100%}.nueva-especialidad[_ngcontent-%COMP%]{color:red;font-weight:bolder;font-size:1.03em}.columna[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center!important}"]}),i})(),children:[{path:"",component:j},{path:"usuarios-en-espera",component:N},{path:"registro",loadChildren:()=>Promise.all([a.e(890),a.e(594)]).then(a.bind(a,9594)).then(i=>i.RegistroModule)}]}];let R=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[d.Bz.forChild(B),d.Bz]}),i})();var G=a(4466);let K=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[u.ez,R,G.m]}),i})()}}]);