"use strict";(self.webpackChunkTP_CLINICA=self.webpackChunkTP_CLINICA||[]).push([[809],{8809:(G,T,s)=>{s.r(T),s.d(T,{TurnosModule:()=>z});var d=s(6895),v=s(6378),x=s(5861),t=s(4650),C=s(5113),b=s(1209),Z=s(9724),A=s(605),w=s(2189),O=s(116),M=s(2150);function y(e,r){1&e&&(t.TgZ(0,"div",16)(1,"span",17),t._uU(2,"Cargando..."),t.qZA(),t._UZ(3,"div",18),t.qZA())}function I(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"div")(1,"button",30),t.NdJ("click",function(){t.CHM(n);const i=t.oxw(2).$implicit,c=t.oxw(2);return t.KtG(c.mostrarDetalle(i))}),t._UZ(2,"i",31),t.qZA()()}}function S(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"button",32),t.NdJ("click",function(){t.CHM(n);const i=t.oxw(2).$implicit,c=t.oxw(2);return t.KtG(c.mostrarDetalle(i))}),t._UZ(1,"i",33),t.qZA(),t.TgZ(2,"textarea",34),t._uU(3),t.qZA()}if(2&e){const n=t.oxw(2).$implicit;t.xp6(3),t.Oqu(n.comentarioMedico)}}function U(e,r){if(1&e&&(t.ynx(0),t.YNc(1,I,3,0,"div",27),t.YNc(2,S,4,1,"ng-template",null,29,t.W1O),t.BQk()),2&e){const n=t.MAs(3),o=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",!o.mostrarDetalle)("ngIfElse",n)}}function E(e,r){1&e&&(t.ynx(0),t._UZ(1,"div",35),t.BQk())}function P(e,r){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"div",36)(2,"button",37),t.NdJ("click",function(){t.CHM(n);const i=t.oxw(),c=i.$implicit,_=i.index,l=t.oxw(2);return t.KtG(l.cancelar(c,_))}),t._uU(3,"Cancelar "),t.qZA()(),t.BQk()}}function N(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"div")(1,"button",30),t.NdJ("click",function(){t.CHM(n);const i=t.oxw(3).$implicit,c=t.oxw(2);return t.KtG(c.mostrarComentario(i))}),t._UZ(2,"i",31),t.qZA()()}}function D(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"button",32),t.NdJ("click",function(){t.CHM(n);const i=t.oxw(3).$implicit,c=t.oxw(2);return t.KtG(c.mostrarComentario(i))}),t._UZ(1,"i",33),t.qZA(),t.TgZ(2,"textarea",34),t._uU(3),t.qZA()}if(2&e){const n=t.oxw(3).$implicit;t.xp6(3),t.Oqu(n.comentarioPaciente)}}function k(e,r){if(1&e&&(t.ynx(0),t.YNc(1,N,3,0,"div",27),t.YNc(2,D,4,1,"ng-template",null,38,t.W1O),t.BQk()),2&e){const n=t.MAs(3),o=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngIf",!o.mostrarComentario)("ngIfElse",n)}}function J(e,r){if(1&e&&(t.ynx(0),t.YNc(1,k,4,2,"ng-container",15),t.BQk()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",n.comentarioPaciente&&""!=n.comentarioPaciente)}}function q(e,r){if(1&e&&(t.ynx(0),t._UZ(1,"textarea",39),t.BQk()),2&e){const n=t.oxw(2).index;t.xp6(1),t.Q6J("id","comentarioPaciente"+n)}}function L(e,r){if(1&e&&t.YNc(0,q,2,1,"ng-container",15),2&e){const n=t.oxw().$implicit;t.Q6J("ngIf","Solicitado"==n.estadoTurno)}}function B(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"div",20),t.NdJ("click",function(){const c=t.CHM(n).$implicit,_=t.oxw(2);return t.KtG(_.seleccionDeFila(c))}),t.TgZ(1,"div",9),t._uU(2),t.qZA(),t.TgZ(3,"div",21)(4,"p"),t._uU(5),t.qZA()(),t.TgZ(6,"div",22)(7,"p"),t._uU(8),t.qZA()(),t.TgZ(9,"div",22)(10,"p"),t._uU(11),t.qZA()(),t.TgZ(12,"div",21)(13,"p"),t._uU(14),t.ALo(15,"turnos"),t.qZA()(),t.TgZ(16,"div",23),t.YNc(17,U,4,2,"ng-container",15),t.qZA(),t.TgZ(18,"div",24)(19,"p",25),t._uU(20),t.qZA()(),t.TgZ(21,"div",26),t.YNc(22,E,2,0,"ng-container",15),t.YNc(23,P,4,0,"ng-container",15),t.qZA(),t.TgZ(24,"div",23),t.YNc(25,J,2,1,"ng-container",27),t.YNc(26,L,1,1,"ng-template",null,28,t.W1O),t.qZA()()}if(2&e){const n=r.$implicit,o=t.MAs(27),i=t.oxw(2);t.ekj("fila-seleccionada",null!=i.filaSeleccionada&&n.id===i.filaSeleccionada.id),t.xp6(2),t.hij(" ",n.id," "),t.xp6(3),t.hij(" ",n.especialidad," "),t.xp6(3),t.hij(" ",n.nombreEspecialista," "),t.xp6(3),t.hij(" ",n.nombrePaciente," "),t.xp6(3),t.hij(" ",t.Dn7(15,13,n,!1,!1)," "),t.xp6(3),t.Q6J("ngIf",n.comentarioMedico&&""!=n.comentarioMedico),t.xp6(3),t.hij(" ",n.estadoTurno," "),t.xp6(2),t.Q6J("ngIf","Realizado"==n.estadoTurno),t.xp6(1),t.Q6J("ngIf","Solicitado"==n.estadoTurno),t.xp6(2),t.Q6J("ngIf",n.calificado||"Cancelado"==n.estadoTurno)("ngIfElse",o)}}function Y(e,r){if(1&e&&(t.YNc(0,B,28,17,"div",19),t.ALo(1,"sortBySeconds")),2&e){const n=t.oxw();t.Q6J("ngForOf",t.lcZ(1,1,n.listado))}}function F(e,r){1&e&&t._UZ(0,"app-loader")}const Q=[{path:"",component:(()=>{class e{constructor(n,o,i){var c=this;this.horariosService=n,this.usuarioService=o,this.swalService=i,this.spinner=!1,this.cargando=!1,this.filaSeleccionada=null,this.listado=null,this.limpiarAutocomplete=!1,this.tituloBuscador="Busque por  (especialista) Nombre | Apellido | Dni | (especialidad) | Nombre",this.buscarEspecialistaOEspecialidad=function(){var _=(0,x.Z)(function*(l){c.eliminarSuscripcion(),l=(l=l.trim()).toLowerCase();let h=yield c.horariosService.traerListaFiltradaPor_UN_Campo_DESIGUALDAD("estadoTurno","Libre"),u=h.filter(a=>!!(a.medico.nombre.toLowerCase().includes(l)||a.medico.apellido.toLowerCase().includes(l)||a.medico.dni.toString().includes(l))&&(a.filtro=0,!0)).map(a=>({texto:`Especialista: ${a.medico.apellido} ${a.medico.nombre} - ${a.medico.dni}`,valor:a.medico.id,filtro:a.filtro}));u=u.filter((a,p,f)=>p===f.findIndex(g=>g.valor===a.valor));let m=h.filter(a=>!!a.especialidad.toLowerCase().includes(l)&&(a.filtro=1,!0)).map(a=>({texto:`Especialidad: ${a.especialidad}`,valor:a.idEspecialidad,filtro:a.filtro}));return m=m.filter((a,p,f)=>p===f.findIndex(g=>g.valor===a.valor)),m.concat(...u)});return function(l){return _.apply(this,arguments)}}(),this.transformarTexto=_=>_.texto}seleccionDeFila(n){this.filaSeleccionada=n}ngOnDestoy(){this.eliminarSuscripcion()}eliminarSuscripcion(){this.suscripcion&&this.suscripcion.unsubscribe()}ngOnInit(){var n=this;return(0,x.Z)(function*(){n.usuarioActual=yield n.usuarioService.obtenerUsuarioActual()})()}cargarDatos(n){this.spinner=!0,this.eliminarSuscripcion(),this.suscripcion=n.filtro?this.horariosService.traerListaFiltradaPor_DOS_Campos_D_I_Observable("estadoTurno","Libre","idEspecialidad",n.valor).subscribe(o=>{this.listado=o,this.spinner=!1}):this.horariosService.traerListaFiltradaPor_DOS_Campos_D_I_Observable("estadoTurno","Libre","idMedico",n.valor).subscribe(o=>{this.listado=o,this.spinner=!1})}mostrarDetalle(n){n.mostrarDetalle=!n.mostrarDetalle}mostrarComentario(n){n.mostrarComentario=!n.mostrarComentario}cancelar(n,o){let i=document.getElementById("comentarioPaciente"+o);""!=i.value?.trim()?(this.cargando=!0,n.estadoTurno="Cancelado",n.comentarioMedico="Administrador: "+i.value.trim(),delete n.mostrarDetalle,delete n.mostrarComentario,this.horariosService.modificarItem(n).then(c=>{this.swalService.exito("Turno cancelado!","Aviso."),this.cargando=!1})):this.swalService.warning("Debe ingresar un comentario para cancelar el turno.","Aviso.")}limpiar(){this.listado=null,this.limpiarAutocomplete=!this.limpiarAutocomplete}limpiarDatos(){this.listado=null,this.filaSeleccionada=null}obtenerItemSeleccionado(n){this.cargarDatos(n)}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(C.p),t.Y36(b.i),t.Y36(Z.J))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-turnos"]],decls:42,vars:7,consts:[[1,"container-fluid","entrada","p-0","m-0"],[1,"bg-dark","d-flex","justify-content-between"],[1,"fw-bold","fs-4","text-light","p-2"],[1,"d-flex","bg-dark","justify-content-between","p-2"],[1,"btn","btn-warning","fw-bold","fs-4","p-2",3,"click"],[1,"row","w-50","mx-auto"],[1,"col","border","p-2","w-50","bg-dark","text-light"],[3,"funcionBuscador","titulo","funcionPipe","limpiarDesdeExterior","OnLimpiarBuscador","OnSeleccionElemento"],[1,"row","w-100","mx-auto","bg-dark","text-light","text-center"],[1,"col","col","border","d-none"],[1,"custom-font-headers"],[1,"col","col-12","col-xl-2","border"],[1,"col","col-12","col-xl-1","border"],["class","d-flex justify-content-center",4,"ngIf","ngIfElse"],["lista",""],[4,"ngIf"],[1,"d-flex","justify-content-center"],[1,"m-3","fs-3","fw-bold"],[1,"spinner-border","text-danger",2,"align-self","center","scale","1.2"],["class","row w-100 mx-auto custom-pointer bg-light","style","min-height: 100px;",3,"fila-seleccionada","click",4,"ngFor","ngForOf"],[1,"row","w-100","mx-auto","custom-pointer","bg-light",2,"min-height","100px",3,"click"],[1,"col","col-12","col-xl-2","border","custom-font-data","columna"],[1,"col","col-12","col-xl-1","border","custom-font-data","columna"],[1,"col","col-12","col-xl-2","border","custom-font-data","columna","justify-content-center"],[1,"col","col-12","col-xl-1","border","custom-font-data","columna","justify-content-center"],[1,"text-center"],[1,"col","col-12","col-xl-1","border","custom-font-data","text-right","columna"],[4,"ngIf","ngIfElse"],["mostrarInput",""],["mostrar",""],[1,"btn","btn-warning",3,"click"],[1,"bi","bi-eye-fill","scale"],[1,"btn","btn-warning","m-1",3,"click"],[1,"bi","bi-eye-slash-fill","scale"],["disabled","","readonly","",1,"form-control","w-100","deshabilitado","resize"],[1,"d-flex","fs-6",2,"flex-direction","column"],[1,"d-flex","justify-content-center","w-100"],[1,"btn","btn-danger","fw-bold","fs-4","m-1",3,"click"],["mostrarComentarios",""],[1,"w-100","resize","form-control",3,"id"]],template:function(n,o){if(1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3,"TURNOS DE LA CL\xcdNICA"),t.qZA(),t.TgZ(4,"div",3)(5,"button",4),t.NdJ("click",function(){return o.limpiar()}),t._uU(6,"Limpiar"),t.qZA()()(),t.TgZ(7,"div",5)(8,"div",6)(9,"app-buscador",7),t.NdJ("OnLimpiarBuscador",function(){return o.limpiarDatos()})("OnSeleccionElemento",function(c){return o.obtenerItemSeleccionado(c)}),t.qZA()()(),t.TgZ(10,"div",8)(11,"div",9)(12,"h3",10),t._uU(13,"Id"),t.qZA()(),t.TgZ(14,"div",11)(15,"h3",10),t._uU(16,"Especialidad"),t.qZA()(),t.TgZ(17,"div",12)(18,"h3",10),t._uU(19,"Especialista"),t.qZA()(),t.TgZ(20,"div",12)(21,"h3",10),t._uU(22,"Paciente"),t.qZA()(),t.TgZ(23,"div",11)(24,"h3",10),t._uU(25,"Fecha y hora Turno"),t.qZA()(),t.TgZ(26,"div",11)(27,"h3",10),t._uU(28,"Rese\xf1as"),t.qZA()(),t.TgZ(29,"div",12)(30,"h3",10),t._uU(31,"Estado"),t.qZA()(),t.TgZ(32,"div",12)(33,"h3",10),t._uU(34,"Accion"),t.qZA()(),t.TgZ(35,"div",11)(36,"h3",10),t._uU(37,"Comentarios"),t.qZA()()(),t.YNc(38,y,4,0,"div",13),t.YNc(39,Y,2,3,"ng-template",null,14,t.W1O),t.qZA(),t.YNc(41,F,1,0,"app-loader",15)),2&n){const i=t.MAs(40);t.xp6(9),t.Q6J("funcionBuscador",o.buscarEspecialistaOEspecialidad)("titulo",o.tituloBuscador)("funcionPipe",o.transformarTexto)("limpiarDesdeExterior",o.limpiarAutocomplete),t.xp6(29),t.Q6J("ngIf",o.spinner)("ngIfElse",i),t.xp6(3),t.Q6J("ngIf",o.cargando)}},dependencies:[d.sg,d.O5,A.R,w.a,O._,M.o],styles:[".custom-font-headers[_ngcontent-%COMP%]{font-size:1.4em!important;font-weight:700!important}.custom-font-data[_ngcontent-%COMP%]{font-size:1.03em!important;word-wrap:break-word;font-weight:700}.fila-seleccionada[_ngcontent-%COMP%]{background-color:#009331!important;color:#fff!important;font-weight:700!important;.nueva-especialidad {color: black !important;}}.custom-font[_ngcontent-%COMP%]{font-size:3em!important;font-weight:700!important}.custom-pointer[_ngcontent-%COMP%]{cursor:pointer}img[_ngcontent-%COMP%]{height:100px}.imagen-usuario[_ngcontent-%COMP%]{border-radius:100px;width:100px}.textarea[_ngcontent-%COMP%]{resize:none;height:100%}.nueva-especialidad[_ngcontent-%COMP%]{color:red;font-weight:bolder;font-size:1.03em}.columna[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center!important}p[_ngcontent-%COMP%]{margin:0}.deshabilitado[_ngcontent-%COMP%]{background-color:var(--bs-secondary-bg)!important}.resize[_ngcontent-%COMP%]{resize:none}.scale[_ngcontent-%COMP%]{font-size:24px}.entrada[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slide-in-bottom .5s cubic-bezier(.25,.46,.45,.94) both}@keyframes _ngcontent-%COMP%_slide-in-bottom{0%{transform:translateY(1000px);opacity:0}to{transform:translateY(0);opacity:1}}"]}),e})()}];let $=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[v.Bz.forChild(Q),v.Bz]}),e})();var j=s(4466);let z=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[d.ez,$,j.m]}),e})()}}]);